/*! For license information please see main.89198a2f.js.LICENSE.txt */
(()=>{var e={43:(e,n,r)=>{"use strict";e.exports=r(202)},153:(e,n,r)=>{"use strict";var o=r(43),t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,r){var o,a={},c=null,d=null;for(o in void 0!==r&&(c=""+r),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,o)&&!l.hasOwnProperty(o)&&(a[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps)void 0===a[o]&&(a[o]=n[o]);return{$$typeof:t,type:e,key:c,ref:d,props:a,_owner:s.current}}n.Fragment=a,n.jsx=c,n.jsxs=c},159:(e,n,r)=>{e.exports=function e(n,r,o){function t(i,s){if(!r[i]){if(!n[i]){if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[i]={exports:{}};n[i][0].call(c.exports,function(e){return t(n[i][1][e]||e)},c,c.exports,e,n,r,o)}return r[i].exports}for(var a=void 0,i=0;i<o.length;i++)t(o[i]);return t}({1:[function(e,n,r){"use strict";var o=e("./utils"),t=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var n,r,t,i,s,l,c,d=[],u=0,p=e.length,h=p,g="string"!==o.getTypeOf(e);u<e.length;)h=p-u,t=g?(n=e[u++],r=u<p?e[u++]:0,u<p?e[u++]:0):(n=e.charCodeAt(u++),r=u<p?e.charCodeAt(u++):0,u<p?e.charCodeAt(u++):0),i=n>>2,s=(3&n)<<4|r>>4,l=1<h?(15&r)<<2|t>>6:64,c=2<h?63&t:64,d.push(a.charAt(i)+a.charAt(s)+a.charAt(l)+a.charAt(c));return d.join("")},r.decode=function(e){var n,r,o,i,s,l,c=0,d=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var p,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=t.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)n=a.indexOf(e.charAt(c++))<<2|(i=a.indexOf(e.charAt(c++)))>>4,r=(15&i)<<4|(s=a.indexOf(e.charAt(c++)))>>2,o=(3&s)<<6|(l=a.indexOf(e.charAt(c++))),p[d++]=n,64!==s&&(p[d++]=r),64!==l&&(p[d++]=o);return p}},{"./support":30,"./utils":32}],2:[function(e,n,r){"use strict";var o=e("./external"),t=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),i=e("./stream/DataLengthProbe");function s(e,n,r,o,t){this.compressedSize=e,this.uncompressedSize=n,this.crc32=r,this.compression=o,this.compressedContent=t}s.prototype={getContentWorker:function(){var e=new t(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),n=this;return e.on("end",function(){if(this.streamInfo.data_length!==n.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new t(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,n,r){return e.pipe(new a).pipe(new i("uncompressedSize")).pipe(n.compressWorker(r)).pipe(new i("compressedSize")).withStreamInfo("compression",n)},n.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,n,r){"use strict";var o=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,n,r){"use strict";var o=e("./utils"),t=function(){for(var e,n=[],r=0;r<256;r++){e=r;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;n[r]=e}return n}();n.exports=function(e,n){return void 0!==e&&e.length?"string"!==o.getTypeOf(e)?function(e,n,r,o){var a=t,i=o+r;e^=-1;for(var s=o;s<i;s++)e=e>>>8^a[255&(e^n[s])];return-1^e}(0|n,e,e.length,0):function(e,n,r,o){var a=t,i=o+r;e^=-1;for(var s=o;s<i;s++)e=e>>>8^a[255&(e^n.charCodeAt(s))];return-1^e}(0|n,e,e.length,0):0}},{"./utils":32}],5:[function(e,n,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,n,r){"use strict";var o=null;o="undefined"!=typeof Promise?Promise:e("lie"),n.exports={Promise:o}},{lie:37}],7:[function(e,n,r){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,t=e("pako"),a=e("./utils"),i=e("./stream/GenericWorker"),s=o?"uint8array":"array";function l(e,n){i.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=n,this.meta={}}r.magic="\b\0",a.inherits(l,i),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){i.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new t[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(n){e.push({data:n,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,n,r){"use strict";function o(e,n){var r,o="";for(r=0;r<n;r++)o+=String.fromCharCode(255&e),e>>>=8;return o}function t(e,n,r,t,i,d){var u,p,h=e.file,g=e.compression,f=d!==s.utf8encode,x=a.transformTo("string",d(h.name)),m=a.transformTo("string",s.utf8encode(h.name)),v=h.comment,b=a.transformTo("string",d(v)),y=a.transformTo("string",s.utf8encode(v)),w=m.length!==h.name.length,j=y.length!==v.length,k="",S="",_="",C=h.dir,E=h.date,z={crc32:0,compressedSize:0,uncompressedSize:0};n&&!r||(z.crc32=e.crc32,z.compressedSize=e.compressedSize,z.uncompressedSize=e.uncompressedSize);var P=0;n&&(P|=8),f||!w&&!j||(P|=2048);var T=0,I=0;C&&(T|=16),"UNIX"===i?(I=798,T|=function(e,n){var r=e;return e||(r=n?16893:33204),(65535&r)<<16}(h.unixPermissions,C)):(I=20,T|=function(e){return 63&(e||0)}(h.dosPermissions)),u=E.getUTCHours(),u<<=6,u|=E.getUTCMinutes(),u<<=5,u|=E.getUTCSeconds()/2,p=E.getUTCFullYear()-1980,p<<=4,p|=E.getUTCMonth()+1,p<<=5,p|=E.getUTCDate(),w&&(S=o(1,1)+o(l(x),4)+m,k+="up"+o(S.length,2)+S),j&&(_=o(1,1)+o(l(b),4)+y,k+="uc"+o(_.length,2)+_);var L="";return L+="\n\0",L+=o(P,2),L+=g.magic,L+=o(u,2),L+=o(p,2),L+=o(z.crc32,4),L+=o(z.compressedSize,4),L+=o(z.uncompressedSize,4),L+=o(x.length,2),L+=o(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+L+x+k,dirRecord:c.CENTRAL_FILE_HEADER+o(I,2)+L+o(b.length,2)+"\0\0\0\0"+o(T,4)+o(t,4)+x+k+b}}var a=e("../utils"),i=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),c=e("../signature");function d(e,n,r,o){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=n,this.zipPlatform=r,this.encodeFileName=o,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,i),d.prototype.push=function(e){var n=e.meta.percent||0,r=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(n+100*(r-o-1))/r:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var n=this.streamFiles&&!e.file.dir;if(n){var r=t(e,n,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var n=this.streamFiles&&!e.file.dir,r=t(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),n)this.push({data:function(e){return c.DATA_DESCRIPTOR+o(e.crc32,4)+o(e.compressedSize,4)+o(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,n=0;n<this.dirRecords.length;n++)this.push({data:this.dirRecords[n],meta:{percent:100}});var r=this.bytesWritten-e,t=function(e,n,r,t,i){var s=a.transformTo("string",i(t));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(e,2)+o(e,2)+o(n,4)+o(r,4)+o(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:t,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var n=this;return e.on("data",function(e){n.processChunk(e)}),e.on("end",function(){n.closedSource(n.previous.streamInfo),n._sources.length?n.prepareNextSource():n.end()}),e.on("error",function(e){n.error(e)}),this},d.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var n=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<n.length;r++)try{n[r].error(e)}catch(e){}return!0},d.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,n=0;n<e.length;n++)e[n].lock()},n.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,n,r){"use strict";var o=e("../compressions"),t=e("./ZipFileWorker");r.generateWorker=function(e,n,r){var a=new t(n.streamFiles,r,n.platform,n.encodeFileName),i=0;try{e.forEach(function(e,r){i++;var t=function(e,n){var r=e||n,t=o[r];if(!t)throw new Error(r+" is not a valid compression method !");return t}(r.options.compression,n.compression),s=r.options.compressionOptions||n.compressionOptions||{},l=r.dir,c=r.date;r._compressWorker(t,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(a)}),a.entriesCount=i}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,n,r){"use strict";function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new o;for(var n in this)"function"!=typeof this[n]&&(e[n]=this[n]);return e}}(o.prototype=e("./object")).loadAsync=e("./load"),o.support=e("./support"),o.defaults=e("./defaults"),o.version="3.10.1",o.loadAsync=function(e,n){return(new o).loadAsync(e,n)},o.external=e("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,n,r){"use strict";var o=e("./utils"),t=e("./external"),a=e("./utf8"),i=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new t.Promise(function(n,r){var o=e.decompressed.getContentWorker().pipe(new s);o.on("error",function(e){r(e)}).on("end",function(){o.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}n.exports=function(e,n){var r=this;return n=o.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?t.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",e,!0,n.optimizedBinaryString,n.base64).then(function(e){var r=new i(n);return r.load(e),r}).then(function(e){var r=[t.Promise.resolve(e)],o=e.files;if(n.checkCRC32)for(var a=0;a<o.length;a++)r.push(c(o[a]));return t.Promise.all(r)}).then(function(e){for(var t=e.shift(),a=t.files,i=0;i<a.length;i++){var s=a[i],l=s.fileNameStr,c=o.resolve(s.fileNameStr);r.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:n.createFolders}),s.dir||(r.file(c).unsafeOriginalName=l)}return t.zipComment.length&&(r.comment=t.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,n,r){"use strict";var o=e("../utils"),t=e("../stream/GenericWorker");function a(e,n){t.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(n)}o.inherits(a,t),a.prototype._bindStream=function(e){var n=this;(this._stream=e).pause(),e.on("data",function(e){n.push({data:e,meta:{percent:0}})}).on("error",function(e){n.isPaused?this.generatedError=e:n.error(e)}).on("end",function(){n.isPaused?n._upstreamEnded=!0:n.end()})},a.prototype.pause=function(){return!!t.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,n,r){"use strict";var o=e("readable-stream").Readable;function t(e,n,r){o.call(this,n),this._helper=e;var t=this;e.on("data",function(e,n){t.push(e)||t._helper.pause(),r&&r(n)}).on("error",function(e){t.emit("error",e)}).on("end",function(){t.push(null)})}e("../utils").inherits(t,o),t.prototype._read=function(){this._helper.resume()},n.exports=t},{"../utils":32,"readable-stream":16}],14:[function(e,n,r){"use strict";n.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,n);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,n)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var n=new Buffer(e);return n.fill(0),n},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,n,r){"use strict";function o(e,n,r){var o,t=a.getTypeOf(n),s=a.extend(r||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=f(e)),s.createFolders&&(o=g(e))&&x.call(this,o,!0);var u="string"===t&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!u),(n instanceof c&&0===n.uncompressedSize||s.dir||!n||0===n.length)&&(s.base64=!1,s.binary=!0,n="",s.compression="STORE",t="string");var m=null;m=n instanceof c||n instanceof i?n:p.isNode&&p.isStream(n)?new h(e,n):a.prepareContent(e,n,s.binary,s.optimizedBinaryString,s.base64);var v=new d(e,m,s);this.files[e]=v}var t=e("./utf8"),a=e("./utils"),i=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),d=e("./zipObject"),u=e("./generate"),p=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),g=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var n=e.lastIndexOf("/");return 0<n?e.substring(0,n):""},f=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},x=function(e,n){return n=void 0!==n?n:l.createFolders,e=f(e),this.files[e]||o.call(this,e,null,{dir:!0,createFolders:n}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var n,r,o;for(n in this.files)o=this.files[n],(r=n.slice(this.root.length,n.length))&&n.slice(0,this.root.length)===this.root&&e(r,o)},filter:function(e){var n=[];return this.forEach(function(r,o){e(r,o)&&n.push(o)}),n},file:function(e,n,r){if(1!==arguments.length)return e=this.root+e,o.call(this,e,n,r),this;if(m(e)){var t=e;return this.filter(function(e,n){return!n.dir&&t.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(m(e))return this.filter(function(n,r){return r.dir&&e.test(n)});var n=this.root+e,r=x.call(this,n),o=this.clone();return o.root=r.name,o},remove:function(e){e=this.root+e;var n=this.files[e];if(n||("/"!==e.slice(-1)&&(e+="/"),n=this.files[e]),n&&!n.dir)delete this.files[e];else for(var r=this.filter(function(n,r){return r.name.slice(0,e.length)===e}),o=0;o<r.length;o++)delete this.files[r[o].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var n,r={};try{if((r=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:t.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");a.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var o=r.comment||this.comment||"";n=u.generateWorker(this,r,o)}catch(e){(n=new i("error")).error(e)}return new s(n,r.type||"string",r.mimeType)},generateAsync:function(e,n){return this.generateInternalStream(e).accumulate(n)},generateNodeStream:function(e,n){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(n)}};n.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,n,r){"use strict";n.exports=e("stream")},{stream:void 0}],17:[function(e,n,r){"use strict";var o=e("./DataReader");function t(e){o.call(this,e);for(var n=0;n<this.data.length;n++)e[n]=255&e[n]}e("../utils").inherits(t,o),t.prototype.byteAt=function(e){return this.data[this.zero+e]},t.prototype.lastIndexOfSignature=function(e){for(var n=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2),t=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===n&&this.data[a+1]===r&&this.data[a+2]===o&&this.data[a+3]===t)return a-this.zero;return-1},t.prototype.readAndCheckSignature=function(e){var n=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2),t=e.charCodeAt(3),a=this.readData(4);return n===a[0]&&r===a[1]&&o===a[2]&&t===a[3]},t.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var n=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,n},n.exports=t},{"../utils":32,"./DataReader":18}],18:[function(e,n,r){"use strict";var o=e("../utils");function t(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}t.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var n,r=0;for(this.checkOffset(e),n=this.index+e-1;n>=this.index;n--)r=(r<<8)+this.byteAt(n);return this.index+=e,r},readString:function(e){return o.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},n.exports=t},{"../utils":32}],19:[function(e,n,r){"use strict";var o=e("./Uint8ArrayReader");function t(e){o.call(this,e)}e("../utils").inherits(t,o),t.prototype.readData=function(e){this.checkOffset(e);var n=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,n},n.exports=t},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,n,r){"use strict";var o=e("./DataReader");function t(e){o.call(this,e)}e("../utils").inherits(t,o),t.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},t.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},t.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},t.prototype.readData=function(e){this.checkOffset(e);var n=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,n},n.exports=t},{"../utils":32,"./DataReader":18}],21:[function(e,n,r){"use strict";var o=e("./ArrayReader");function t(e){o.call(this,e)}e("../utils").inherits(t,o),t.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var n=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,n},n.exports=t},{"../utils":32,"./ArrayReader":17}],22:[function(e,n,r){"use strict";var o=e("../utils"),t=e("../support"),a=e("./ArrayReader"),i=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");n.exports=function(e){var n=o.getTypeOf(e);return o.checkSupport(n),"string"!==n||t.uint8array?"nodebuffer"===n?new s(e):t.uint8array?new l(o.transformTo("uint8array",e)):new a(o.transformTo("array",e)):new i(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,n,r){"use strict";r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,n,r){"use strict";var o=e("./GenericWorker"),t=e("../utils");function a(e){o.call(this,"ConvertWorker to "+e),this.destType=e}t.inherits(a,o),a.prototype.processChunk=function(e){this.push({data:t.transformTo(this.destType,e.data),meta:e.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,n,r){"use strict";var o=e("./GenericWorker"),t=e("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,o),a.prototype.processChunk=function(e){this.streamInfo.crc32=t(e.data,this.streamInfo.crc32||0),this.push(e)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,n,r){"use strict";var o=e("../utils"),t=e("./GenericWorker");function a(e){t.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}o.inherits(a,t),a.prototype.processChunk=function(e){if(e){var n=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=n+e.data.length}t.prototype.processChunk.call(this,e)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,n,r){"use strict";var o=e("../utils"),t=e("./GenericWorker");function a(e){t.call(this,"DataWorker");var n=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){n.dataIsReady=!0,n.data=e,n.max=e&&e.length||0,n.type=o.getTypeOf(e),n.isPaused||n._tickAndRepeat()},function(e){n.error(e)})}o.inherits(a,t),a.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!t.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,n=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,n);break;case"uint8array":e=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":e=this.data.slice(this.index,n)}return this.index=n,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,n,r){"use strict";function o(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,n){return this._listeners[e].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,n){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,n)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var n=this;return e.on("data",function(e){n.processChunk(e)}),e.on("end",function(){n.end()}),e.on("error",function(e){n.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,n){return this.extraStreamInfo[e]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},n.exports=o},{}],29:[function(e,n,r){"use strict";var o=e("../utils"),t=e("./ConvertWorker"),a=e("./GenericWorker"),i=e("../base64"),s=e("../support"),l=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,n){return new l.Promise(function(r,t){var a=[],s=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",function(e,r){a.push(e),n&&n(r)}).on("error",function(e){a=[],t(e)}).on("end",function(){try{var e=function(e,n,r){switch(e){case"blob":return o.newBlob(o.transformTo("arraybuffer",n),r);case"base64":return i.encode(n);default:return o.transformTo(e,n)}}(l,function(e,n){var r,o=0,t=null,a=0;for(r=0;r<n.length;r++)a+=n[r].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(t=new Uint8Array(a),r=0;r<n.length;r++)t.set(n[r],o),o+=n[r].length;return t;case"nodebuffer":return Buffer.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),c);r(e)}catch(e){t(e)}a=[]}).resume()})}function u(e,n,r){var i=n;switch(n){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=n,this._mimeType=r,o.checkSupport(i),this._worker=e.pipe(new t(i)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return d(this,e)},on:function(e,n){var r=this;return"data"===e?this._worker.on(e,function(e){n.call(r,e.data,e.meta)}):this._worker.on(e,function(){o.delay(n,arguments,r)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},n.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var o=new ArrayBuffer(0);try{r.blob=0===new Blob([o],{type:"application/zip"}).size}catch(e){try{var t=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);t.append(o),r.blob=0===t.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,n,r){"use strict";for(var o=e("./utils"),t=e("./support"),a=e("./nodejsUtils"),i=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){i.call(this,"utf-8 decode"),this.leftOver=null}function d(){i.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return t.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var n,r,o,a,i,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(o=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(o-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(n=t.uint8array?new Uint8Array(l):new Array(l),a=i=0;i<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(o=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(o-56320),a++),r<128?n[i++]=r:(r<2048?n[i++]=192|r>>>6:(r<65536?n[i++]=224|r>>>12:(n[i++]=240|r>>>18,n[i++]=128|r>>>12&63),n[i++]=128|r>>>6&63),n[i++]=128|63&r);return n}(e)},r.utf8decode=function(e){return t.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):function(e){var n,r,t,a,i=e.length,l=new Array(2*i);for(n=r=0;n<i;)if((t=e[n++])<128)l[r++]=t;else if(4<(a=s[t]))l[r++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;1<a&&n<i;)t=t<<6|63&e[n++],a--;1<a?l[r++]=65533:t<65536?l[r++]=t:(t-=65536,l[r++]=55296|t>>10&1023,l[r++]=56320|1023&t)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),o.applyFromCharCode(l)}(e=o.transformTo(t.uint8array?"uint8array":"array",e))},o.inherits(c,i),c.prototype.processChunk=function(e){var n=o.transformTo(t.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(t.uint8array){var a=n;(n=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),n.set(a,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var i=function(e,n){var r;for((n=n||e.length)>e.length&&(n=e.length),r=n-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?n:r+s[e[r]]>n?r:n}(n),l=n;i!==n.length&&(t.uint8array?(l=n.subarray(0,i),this.leftOver=n.subarray(i,n.length)):(l=n.slice(0,i),this.leftOver=n.slice(i,n.length))),this.push({data:r.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,o.inherits(d,i),d.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,n,r){"use strict";var o=e("./support"),t=e("./base64"),a=e("./nodejsUtils"),i=e("./external");function s(e){return e}function l(e,n){for(var r=0;r<e.length;++r)n[r]=255&e.charCodeAt(r);return n}e("setimmediate"),r.newBlob=function(n,o){r.checkSupport("blob");try{return new Blob([n],{type:o})}catch(e){try{var t=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return t.append(n),t.getBlob(o)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,n,r){var o=[],t=0,a=e.length;if(a<=r)return String.fromCharCode.apply(null,e);for(;t<a;)"array"===n||"nodebuffer"===n?o.push(String.fromCharCode.apply(null,e.slice(t,Math.min(t+r,a)))):o.push(String.fromCharCode.apply(null,e.subarray(t,Math.min(t+r,a)))),t+=r;return o.join("")},stringifyByChar:function(e){for(var n="",r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var n=65536,o=r.getTypeOf(e),t=!0;if("uint8array"===o?t=c.applyCanBeUsed.uint8array:"nodebuffer"===o&&(t=c.applyCanBeUsed.nodebuffer),t)for(;1<n;)try{return c.stringifyByChunk(e,o,n)}catch(e){n=Math.floor(n/2)}return c.stringifyByChar(e)}function u(e,n){for(var r=0;r<e.length;r++)n[r]=e[r];return n}r.applyFromCharCode=d;var p={};p.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},p.array={string:d,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return u(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:s},r.transformTo=function(e,n){if(n=n||"",!e)return n;r.checkSupport(e);var o=r.getTypeOf(n);return p[o][e](n)},r.resolve=function(e){for(var n=e.split("/"),r=[],o=0;o<n.length;o++){var t=n[o];"."===t||""===t&&0!==o&&o!==n.length-1||(".."===t?r.pop():r.push(t))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":o.nodebuffer&&a.isBuffer(e)?"nodebuffer":o.uint8array&&e instanceof Uint8Array?"uint8array":o.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var n,r,o="";for(r=0;r<(e||"").length;r++)o+="\\x"+((n=e.charCodeAt(r))<16?"0":"")+n.toString(16).toUpperCase();return o},r.delay=function(e,n,r){setImmediate(function(){e.apply(r||null,n||[])})},r.inherits=function(e,n){function r(){}r.prototype=n.prototype,e.prototype=new r},r.extend=function(){var e,n,r={};for(e=0;e<arguments.length;e++)for(n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&void 0===r[n]&&(r[n]=arguments[e][n]);return r},r.prepareContent=function(e,n,a,s,c){return i.Promise.resolve(n).then(function(e){return o.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new i.Promise(function(n,r){var o=new FileReader;o.onload=function(e){n(e.target.result)},o.onerror=function(e){r(e.target.error)},o.readAsArrayBuffer(e)}):e}).then(function(n){var d=r.getTypeOf(n);return d?("arraybuffer"===d?n=r.transformTo("uint8array",n):"string"===d&&(c?n=t.decode(n):a&&!0!==s&&(n=function(e){return l(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(n))),n):i.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,n,r){"use strict";var o=e("./reader/readerFor"),t=e("./utils"),a=e("./signature"),i=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var n=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+t.pretty(n)+", expected "+t.pretty(e)+")")}},isSignature:function(e,n){var r=this.reader.index;this.reader.setIndex(e);var o=this.reader.readString(4)===n;return this.reader.setIndex(r),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),n=s.uint8array?"uint8array":"array",r=t.transformTo(n,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,n,r,o=this.zip64EndOfCentralSize-44;0<o;)e=this.reader.readInt(2),n=this.reader.readInt(4),r=this.reader.readData(n),this.zip64ExtensibleData[e]={id:e,length:n,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,n;for(e=0;e<this.files.length;e++)n=this.files[e],this.reader.setIndex(n.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),n.readLocalPart(this.reader),n.handleUTF8(),n.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var n=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===t.MAX_VALUE_16BITS||this.diskWithCentralDirStart===t.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===t.MAX_VALUE_16BITS||this.centralDirRecords===t.MAX_VALUE_16BITS||this.centralDirSize===t.MAX_VALUE_32BITS||this.centralDirOffset===t.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var o=n-r;if(0<o)this.isSignature(n,a.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(e){this.reader=o(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,n,r){"use strict";var o=e("./reader/readerFor"),t=e("./utils"),a=e("./compressedObject"),i=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function d(e,n){this.options=e,this.loadOptions=n}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var n,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(n=function(e){for(var n in l)if(Object.prototype.hasOwnProperty.call(l,n)&&l[n].magic===e)return l[n];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+t.pretty(this.compressionMethod)+" unknown (inner file : "+t.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,n,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var n=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(n),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=o(this.extraFields[1].value);this.uncompressedSize===t.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===t.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===t.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===t.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var n,r,o,t=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<t;)n=e.readInt(2),r=e.readInt(2),o=e.readData(r),this.extraFields[n]={id:n,length:r,value:o};e.setIndex(t)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var n=this.findExtraFieldUnicodePath();if(null!==n)this.fileNameStr=n;else{var r=t.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var o=this.findExtraFieldUnicodeComment();if(null!==o)this.fileCommentStr=o;else{var a=t.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var n=o(e.value);return 1!==n.readInt(1)||i(this.fileName)!==n.readInt(4)?null:s.utf8decode(n.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var n=o(e.value);return 1!==n.readInt(1)||i(this.fileComment)!==n.readInt(4)?null:s.utf8decode(n.readData(e.length-5))}return null}},n.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,n,r){"use strict";function o(e,n,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=n,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var t=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),i=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");o.prototype={internalStream:function(e){var n=null,r="string";try{if(!e)throw new Error("No output type specified.");var o="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),n=this._decompressWorker();var a=!this._dataBinary;a&&!o&&(n=n.pipe(new i.Utf8EncodeWorker)),!a&&o&&(n=n.pipe(new i.Utf8DecodeWorker))}catch(e){(n=new l("error")).error(e)}return new t(n,r,"")},async:function(e,n){return this.internalStream(e).accumulate(n)},nodeStream:function(e,n){return this.internalStream(e||"nodebuffer").toNodejsStream(n)},_compressWorker:function(e,n){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new i.Utf8EncodeWorker)),s.createWorkerFrom(r,e,n)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)o.prototype[c[u]]=d;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,n,o){(function(e){"use strict";var r,o,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var a=0,i=new t(d),s=e.document.createTextNode("");i.observe(s,{characterData:!0}),r=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){d(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,r=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,n;o=!0;for(var r=c.length;r;){for(n=c,c=[],e=-1;++e<r;)n[e]();r=c.length}o=!1}n.exports=function(e){1!==c.push(e)||o||r()}}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,n,r){"use strict";var o=e("immediate");function t(){}var a={},i=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==t&&h(this,e)}function d(e,n,r){this.promise=e,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,n,r){o(function(){var o;try{o=n(r)}catch(o){return a.reject(e,o)}o===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,o)})}function p(e){var n=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof n)return function(){n.apply(e,arguments)}}function h(e,n){var r=!1;function o(n){r||(r=!0,a.reject(e,n))}function t(n){r||(r=!0,a.resolve(e,n))}var i=g(function(){n(t,o)});"error"===i.status&&o(i.value)}function g(e,n){var r={};try{r.value=e(n),r.status="success"}catch(e){r.status="error",r.value=e}return r}(n.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var n=this.constructor;return this.then(function(r){return n.resolve(e()).then(function(){return r})},function(r){return n.resolve(e()).then(function(){throw r})})},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,n){if("function"!=typeof e&&this.state===s||"function"!=typeof n&&this.state===i)return this;var r=new this.constructor(t);return this.state!==l?u(r,this.state===s?e:n,this.outcome):this.queue.push(new d(r,e,n)),r},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},a.resolve=function(e,n){var r=g(p,n);if("error"===r.status)return a.reject(e,r.value);var o=r.value;if(o)h(e,o);else{e.state=s,e.outcome=n;for(var t=-1,i=e.queue.length;++t<i;)e.queue[t].callFulfilled(n)}return e},a.reject=function(e,n){e.state=i,e.outcome=n;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(n);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(t),e)},c.reject=function(e){var n=new this(t);return a.reject(n,e)},c.all=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var i=new Array(r),s=0,l=-1,c=new this(t);++l<r;)d(e[l],l);return c;function d(e,t){n.resolve(e).then(function(e){i[t]=e,++s!==r||o||(o=!0,a.resolve(c,i))},function(e){o||(o=!0,a.reject(c,e))})}},c.race=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var i,s=-1,l=new this(t);++s<r;)i=e[s],n.resolve(i).then(function(e){o||(o=!0,a.resolve(l,e))},function(e){o||(o=!0,a.reject(l,e))});return l}},{immediate:36}],38:[function(e,n,r){"use strict";var o={};(0,e("./lib/utils/common").assign)(o,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,n,r){"use strict";var o=e("./zlib/deflate"),t=e("./utils/common"),a=e("./utils/strings"),i=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,c=0,d=-1,u=0,p=8;function h(e){if(!(this instanceof h))return new h(e);this.options=t.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var n=this.options;n.raw&&0<n.windowBits?n.windowBits=-n.windowBits:n.gzip&&0<n.windowBits&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=o.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(r!==c)throw new Error(i[r]);if(n.header&&o.deflateSetHeader(this.strm,n.header),n.dictionary){var g;if(g="string"==typeof n.dictionary?a.string2buf(n.dictionary):"[object ArrayBuffer]"===l.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(r=o.deflateSetDictionary(this.strm,g))!==c)throw new Error(i[r]);this._dict_set=!0}}function g(e,n){var r=new h(n);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}h.prototype.push=function(e,n){var r,i,s=this.strm,d=this.options.chunkSize;if(this.ended)return!1;i=n===~~n?n:!0===n?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new t.Buf8(d),s.next_out=0,s.avail_out=d),1!==(r=o.deflate(s,i))&&r!==c)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(a.buf2binstring(t.shrinkBuf(s.output,s.next_out))):this.onData(t.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===i?(r=o.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c):2!==i||(this.onEnd(c),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=h,r.deflate=g,r.deflateRaw=function(e,n){return(n=n||{}).raw=!0,g(e,n)},r.gzip=function(e,n){return(n=n||{}).gzip=!0,g(e,n)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,n,r){"use strict";var o=e("./zlib/inflate"),t=e("./utils/common"),a=e("./utils/strings"),i=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},e||{});var n=this.options;n.raw&&0<=n.windowBits&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),!(0<=n.windowBits&&n.windowBits<16)||e&&e.windowBits||(n.windowBits+=32),15<n.windowBits&&n.windowBits<48&&0==(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=o.inflateInit2(this.strm,n.windowBits);if(r!==i.Z_OK)throw new Error(s[r]);this.header=new c,o.inflateGetHeader(this.strm,this.header)}function p(e,n){var r=new u(n);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}u.prototype.push=function(e,n){var r,s,l,c,u,p,h=this.strm,g=this.options.chunkSize,f=this.options.dictionary,x=!1;if(this.ended)return!1;s=n===~~n?n:!0===n?i.Z_FINISH:i.Z_NO_FLUSH,"string"==typeof e?h.input=a.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new t.Buf8(g),h.next_out=0,h.avail_out=g),(r=o.inflate(h,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&f&&(p="string"==typeof f?a.string2buf(f):"[object ArrayBuffer]"===d.call(f)?new Uint8Array(f):f,r=o.inflateSetDictionary(this.strm,p)),r===i.Z_BUF_ERROR&&!0===x&&(r=i.Z_OK,x=!1),r!==i.Z_STREAM_END&&r!==i.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==i.Z_STREAM_END&&(0!==h.avail_in||s!==i.Z_FINISH&&s!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(h.output,h.next_out),c=h.next_out-l,u=a.buf2string(h.output,l),h.next_out=c,h.avail_out=g-c,c&&t.arraySet(h.output,h.output,l,c,0),this.onData(u)):this.onData(t.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(x=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==i.Z_STREAM_END);return r===i.Z_STREAM_END&&(s=i.Z_FINISH),s===i.Z_FINISH?(r=o.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===i.Z_OK):s!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(h.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===i.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=u,r.inflate=p,r.inflateRaw=function(e,n){return(n=n||{}).raw=!0,p(e,n)},r.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,n,r){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}}return e},r.shrinkBuf=function(e,n){return e.length===n?e:e.subarray?e.subarray(0,n):(e.length=n,e)};var t={arraySet:function(e,n,r,o,t){if(n.subarray&&e.subarray)e.set(n.subarray(r,r+o),t);else for(var a=0;a<o;a++)e[t+a]=n[r+a]},flattenChunks:function(e){var n,r,o,t,a,i;for(n=o=0,r=e.length;n<r;n++)o+=e[n].length;for(i=new Uint8Array(o),n=t=0,r=e.length;n<r;n++)a=e[n],i.set(a,t),t+=a.length;return i}},a={arraySet:function(e,n,r,o,t){for(var a=0;a<o;a++)e[t+a]=n[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,t)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(o)},{}],42:[function(e,n,r){"use strict";var o=e("./common"),t=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var i=new o.Buf8(256),s=0;s<256;s++)i[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,n){if(n<65537&&(e.subarray&&a||!e.subarray&&t))return String.fromCharCode.apply(null,o.shrinkBuf(e,n));for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[i]);return r}i[254]=i[254]=1,r.string2buf=function(e){var n,r,t,a,i,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(t=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(t-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(n=new o.Buf8(l),a=i=0;i<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(t=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(t-56320),a++),r<128?n[i++]=r:(r<2048?n[i++]=192|r>>>6:(r<65536?n[i++]=224|r>>>12:(n[i++]=240|r>>>18,n[i++]=128|r>>>12&63),n[i++]=128|r>>>6&63),n[i++]=128|63&r);return n},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var n=new o.Buf8(e.length),r=0,t=n.length;r<t;r++)n[r]=e.charCodeAt(r);return n},r.buf2string=function(e,n){var r,o,t,a,s=n||e.length,c=new Array(2*s);for(r=o=0;r<s;)if((t=e[r++])<128)c[o++]=t;else if(4<(a=i[t]))c[o++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;1<a&&r<s;)t=t<<6|63&e[r++],a--;1<a?c[o++]=65533:t<65536?c[o++]=t:(t-=65536,c[o++]=55296|t>>10&1023,c[o++]=56320|1023&t)}return l(c,o)},r.utf8border=function(e,n){var r;for((n=n||e.length)>e.length&&(n=e.length),r=n-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?n:r+i[e[r]]>n?r:n}},{"./common":41}],43:[function(e,n,r){"use strict";n.exports=function(e,n,r,o){for(var t=65535&e,a=e>>>16&65535,i=0;0!==r;){for(r-=i=2e3<r?2e3:r;a=a+(t=t+n[o++]|0)|0,--i;);t%=65521,a%=65521}return t|a<<16}},{}],44:[function(e,n,r){"use strict";n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,n,r){"use strict";var o=function(){for(var e,n=[],r=0;r<256;r++){e=r;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;n[r]=e}return n}();n.exports=function(e,n,r,t){var a=o,i=t+r;e^=-1;for(var s=t;s<i;s++)e=e>>>8^a[255&(e^n[s])];return-1^e}},{}],46:[function(e,n,r){"use strict";var o,t=e("../utils/common"),a=e("./trees"),i=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=0,d=4,u=0,p=-2,h=-1,g=4,f=2,x=8,m=9,v=286,b=30,y=19,w=2*v+1,j=15,k=3,S=258,_=S+k+1,C=42,E=113,z=1,P=2,T=3,I=4;function L(e,n){return e.msg=l[n],n}function A(e){return(e<<1)-(4<e?9:0)}function D(e){for(var n=e.length;0<=--n;)e[n]=0}function O(e){var n=e.state,r=n.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(t.arraySet(e.output,n.pending_buf,n.pending_out,r,e.next_out),e.next_out+=r,n.pending_out+=r,e.total_out+=r,e.avail_out-=r,n.pending-=r,0===n.pending&&(n.pending_out=0))}function N(e,n){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,O(e.strm)}function R(e,n){e.pending_buf[e.pending++]=n}function F(e,n){e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=255&n}function M(e,n){var r,o,t=e.max_chain_length,a=e.strstart,i=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-_?e.strstart-(e.w_size-_):0,c=e.window,d=e.w_mask,u=e.prev,p=e.strstart+S,h=c[a+i-1],g=c[a+i];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=n)+i]===g&&c[r+i-1]===h&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<p);if(o=S-(p-a),a=p-S,i<o){if(e.match_start=n,s<=(i=o))break;h=c[a+i-1],g=c[a+i]}}}while((n=u[n&d])>l&&0!=--t);return i<=e.lookahead?i:e.lookahead}function H(e){var n,r,o,a,l,c,d,u,p,h,g=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-_)){for(t.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,n=r=e.hash_size;o=e.head[--n],e.head[n]=g<=o?o-g:0,--r;);for(n=r=g;o=e.prev[--n],e.prev[n]=g<=o?o-g:0,--r;);a+=g}if(0===e.strm.avail_in)break;if(c=e.strm,d=e.window,u=e.strstart+e.lookahead,h=void 0,(p=a)<(h=c.avail_in)&&(h=p),r=0===h?0:(c.avail_in-=h,t.arraySet(d,c.input,c.next_in,h,u),1===c.state.wrap?c.adler=i(c.adler,d,h,u):2===c.state.wrap&&(c.adler=s(c.adler,d,h,u)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<_&&0!==e.strm.avail_in)}function B(e,n){for(var r,o;;){if(e.lookahead<_){if(H(e),e.lookahead<_&&n===c)return z;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-_&&(e.match_length=M(e,r)),e.match_length>=k)if(o=a._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else o=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(o&&(N(e,!1),0===e.strm.avail_out))return z}return e.insert=e.strstart<k-1?e.strstart:k-1,n===d?(N(e,!0),0===e.strm.avail_out?T:I):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?z:P}function W(e,n){for(var r,o,t;;){if(e.lookahead<_){if(H(e),e.lookahead<_&&n===c)return z;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-_&&(e.match_length=M(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(t=e.strstart+e.lookahead-k,o=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=t&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,o&&(N(e,!1),0===e.strm.avail_out))return z}else if(e.match_available){if((o=a._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return z}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(o=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,n===d?(N(e,!0),0===e.strm.avail_out?T:I):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?z:P}function V(e,n,r,o,t){this.good_length=e,this.max_lazy=n,this.nice_length=r,this.max_chain=o,this.func=t}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(2*w),this.dyn_dtree=new t.Buf16(2*(2*b+1)),this.bl_tree=new t.Buf16(2*(2*y+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(j+1),this.heap=new t.Buf16(2*v+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*v+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var n;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=f,(n=e.state).pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?C:E,e.adler=2===n.wrap?0:1,n.last_flush=c,a._tr_init(n),u):L(e,p)}function G(e){var n=q(e);return n===u&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=o[e.level].max_lazy,e.good_match=o[e.level].good_length,e.nice_match=o[e.level].nice_length,e.max_chain_length=o[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),n}function Y(e,n,r,o,a,i){if(!e)return p;var s=1;if(n===h&&(n=6),o<0?(s=0,o=-o):15<o&&(s=2,o-=16),a<1||m<a||r!==x||o<8||15<o||n<0||9<n||i<0||g<i)return L(e,p);8===o&&(o=9);var l=new U;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=o,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new t.Buf8(2*l.w_size),l.head=new t.Buf16(l.hash_size),l.prev=new t.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new t.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=n,l.strategy=i,l.method=r,G(e)}o=[new V(0,0,0,0,function(e,n){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(H(e),0===e.lookahead&&n===c)return z;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var o=e.block_start+r;if((0===e.strstart||e.strstart>=o)&&(e.lookahead=e.strstart-o,e.strstart=o,N(e,!1),0===e.strm.avail_out))return z;if(e.strstart-e.block_start>=e.w_size-_&&(N(e,!1),0===e.strm.avail_out))return z}return e.insert=0,n===d?(N(e,!0),0===e.strm.avail_out?T:I):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),z)}),new V(4,4,8,4,B),new V(4,5,16,8,B),new V(4,6,32,32,B),new V(4,4,16,16,W),new V(8,16,32,32,W),new V(8,16,128,128,W),new V(8,32,128,256,W),new V(32,128,258,1024,W),new V(32,258,258,4096,W)],r.deflateInit=function(e,n){return Y(e,n,x,15,8,0)},r.deflateInit2=Y,r.deflateReset=G,r.deflateResetKeep=q,r.deflateSetHeader=function(e,n){return e&&e.state?2!==e.state.wrap?p:(e.state.gzhead=n,u):p},r.deflate=function(e,n){var r,t,i,l;if(!e||!e.state||5<n||n<0)return e?L(e,p):p;if(t=e.state,!e.output||!e.input&&0!==e.avail_in||666===t.status&&n!==d)return L(e,0===e.avail_out?-5:p);if(t.strm=e,r=t.last_flush,t.last_flush=n,t.status===C)if(2===t.wrap)e.adler=0,R(t,31),R(t,139),R(t,8),t.gzhead?(R(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),R(t,255&t.gzhead.time),R(t,t.gzhead.time>>8&255),R(t,t.gzhead.time>>16&255),R(t,t.gzhead.time>>24&255),R(t,9===t.level?2:2<=t.strategy||t.level<2?4:0),R(t,255&t.gzhead.os),t.gzhead.extra&&t.gzhead.extra.length&&(R(t,255&t.gzhead.extra.length),R(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=s(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=69):(R(t,0),R(t,0),R(t,0),R(t,0),R(t,0),R(t,9===t.level?2:2<=t.strategy||t.level<2?4:0),R(t,3),t.status=E);else{var h=x+(t.w_bits-8<<4)<<8;h|=(2<=t.strategy||t.level<2?0:t.level<6?1:6===t.level?2:3)<<6,0!==t.strstart&&(h|=32),h+=31-h%31,t.status=E,F(t,h),0!==t.strstart&&(F(t,e.adler>>>16),F(t,65535&e.adler)),e.adler=1}if(69===t.status)if(t.gzhead.extra){for(i=t.pending;t.gzindex<(65535&t.gzhead.extra.length)&&(t.pending!==t.pending_buf_size||(t.gzhead.hcrc&&t.pending>i&&(e.adler=s(e.adler,t.pending_buf,t.pending-i,i)),O(e),i=t.pending,t.pending!==t.pending_buf_size));)R(t,255&t.gzhead.extra[t.gzindex]),t.gzindex++;t.gzhead.hcrc&&t.pending>i&&(e.adler=s(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex===t.gzhead.extra.length&&(t.gzindex=0,t.status=73)}else t.status=73;if(73===t.status)if(t.gzhead.name){i=t.pending;do{if(t.pending===t.pending_buf_size&&(t.gzhead.hcrc&&t.pending>i&&(e.adler=s(e.adler,t.pending_buf,t.pending-i,i)),O(e),i=t.pending,t.pending===t.pending_buf_size)){l=1;break}l=t.gzindex<t.gzhead.name.length?255&t.gzhead.name.charCodeAt(t.gzindex++):0,R(t,l)}while(0!==l);t.gzhead.hcrc&&t.pending>i&&(e.adler=s(e.adler,t.pending_buf,t.pending-i,i)),0===l&&(t.gzindex=0,t.status=91)}else t.status=91;if(91===t.status)if(t.gzhead.comment){i=t.pending;do{if(t.pending===t.pending_buf_size&&(t.gzhead.hcrc&&t.pending>i&&(e.adler=s(e.adler,t.pending_buf,t.pending-i,i)),O(e),i=t.pending,t.pending===t.pending_buf_size)){l=1;break}l=t.gzindex<t.gzhead.comment.length?255&t.gzhead.comment.charCodeAt(t.gzindex++):0,R(t,l)}while(0!==l);t.gzhead.hcrc&&t.pending>i&&(e.adler=s(e.adler,t.pending_buf,t.pending-i,i)),0===l&&(t.status=103)}else t.status=103;if(103===t.status&&(t.gzhead.hcrc?(t.pending+2>t.pending_buf_size&&O(e),t.pending+2<=t.pending_buf_size&&(R(t,255&e.adler),R(t,e.adler>>8&255),e.adler=0,t.status=E)):t.status=E),0!==t.pending){if(O(e),0===e.avail_out)return t.last_flush=-1,u}else if(0===e.avail_in&&A(n)<=A(r)&&n!==d)return L(e,-5);if(666===t.status&&0!==e.avail_in)return L(e,-5);if(0!==e.avail_in||0!==t.lookahead||n!==c&&666!==t.status){var g=2===t.strategy?function(e,n){for(var r;;){if(0===e.lookahead&&(H(e),0===e.lookahead)){if(n===c)return z;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return z}return e.insert=0,n===d?(N(e,!0),0===e.strm.avail_out?T:I):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?z:P}(t,n):3===t.strategy?function(e,n){for(var r,o,t,i,s=e.window;;){if(e.lookahead<=S){if(H(e),e.lookahead<=S&&n===c)return z;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(o=s[t=e.strstart-1])===s[++t]&&o===s[++t]&&o===s[++t]){i=e.strstart+S;do{}while(o===s[++t]&&o===s[++t]&&o===s[++t]&&o===s[++t]&&o===s[++t]&&o===s[++t]&&o===s[++t]&&o===s[++t]&&t<i);e.match_length=S-(i-t),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(r=a._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return z}return e.insert=0,n===d?(N(e,!0),0===e.strm.avail_out?T:I):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?z:P}(t,n):o[t.level].func(t,n);if(g!==T&&g!==I||(t.status=666),g===z||g===T)return 0===e.avail_out&&(t.last_flush=-1),u;if(g===P&&(1===n?a._tr_align(t):5!==n&&(a._tr_stored_block(t,0,0,!1),3===n&&(D(t.head),0===t.lookahead&&(t.strstart=0,t.block_start=0,t.insert=0))),O(e),0===e.avail_out))return t.last_flush=-1,u}return n!==d?u:t.wrap<=0?1:(2===t.wrap?(R(t,255&e.adler),R(t,e.adler>>8&255),R(t,e.adler>>16&255),R(t,e.adler>>24&255),R(t,255&e.total_in),R(t,e.total_in>>8&255),R(t,e.total_in>>16&255),R(t,e.total_in>>24&255)):(F(t,e.adler>>>16),F(t,65535&e.adler)),O(e),0<t.wrap&&(t.wrap=-t.wrap),0!==t.pending?u:1)},r.deflateEnd=function(e){var n;return e&&e.state?(n=e.state.status)!==C&&69!==n&&73!==n&&91!==n&&103!==n&&n!==E&&666!==n?L(e,p):(e.state=null,n===E?L(e,-3):u):p},r.deflateSetDictionary=function(e,n){var r,o,a,s,l,c,d,h,g=n.length;if(!e||!e.state)return p;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==C||r.lookahead)return p;for(1===s&&(e.adler=i(e.adler,n,g,0)),r.wrap=0,g>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new t.Buf8(r.w_size),t.arraySet(h,n,g-r.w_size,r.w_size,0),n=h,g=r.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=g,e.next_in=0,e.input=n,H(r);r.lookahead>=k;){for(o=r.strstart,a=r.lookahead-(k-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[o+k-1])&r.hash_mask,r.prev[o&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=o,o++,--a;);r.strstart=o,r.lookahead=k-1,H(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=k-1,r.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,r.wrap=s,u},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,n,r){"use strict";n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,n,r){"use strict";n.exports=function(e,n){var r,o,t,a,i,s,l,c,d,u,p,h,g,f,x,m,v,b,y,w,j,k,S,_,C;r=e.state,o=e.next_in,_=e.input,t=o+(e.avail_in-5),a=e.next_out,C=e.output,i=a-(n-e.avail_out),s=a+(e.avail_out-257),l=r.dmax,c=r.wsize,d=r.whave,u=r.wnext,p=r.window,h=r.hold,g=r.bits,f=r.lencode,x=r.distcode,m=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{g<15&&(h+=_[o++]<<g,g+=8,h+=_[o++]<<g,g+=8),b=f[h&m];n:for(;;){if(h>>>=y=b>>>24,g-=y,0===(y=b>>>16&255))C[a++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=f[(65535&b)+(h&(1<<y)-1)];continue n}if(32&y){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&b,(y&=15)&&(g<y&&(h+=_[o++]<<g,g+=8),w+=h&(1<<y)-1,h>>>=y,g-=y),g<15&&(h+=_[o++]<<g,g+=8,h+=_[o++]<<g,g+=8),b=x[h&v];r:for(;;){if(h>>>=y=b>>>24,g-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=x[(65535&b)+(h&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(j=65535&b,g<(y&=15)&&(h+=_[o++]<<g,(g+=8)<y&&(h+=_[o++]<<g,g+=8)),l<(j+=h&(1<<y)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=y,g-=y,(y=a-i)<j){if(d<(y=j-y)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=p,(k=0)===u){if(k+=c-y,y<w){for(w-=y;C[a++]=p[k++],--y;);k=a-j,S=C}}else if(u<y){if(k+=c+u-y,(y-=u)<w){for(w-=y;C[a++]=p[k++],--y;);if(k=0,u<w){for(w-=y=u;C[a++]=p[k++],--y;);k=a-j,S=C}}}else if(k+=u-y,y<w){for(w-=y;C[a++]=p[k++],--y;);k=a-j,S=C}for(;2<w;)C[a++]=S[k++],C[a++]=S[k++],C[a++]=S[k++],w-=3;w&&(C[a++]=S[k++],1<w&&(C[a++]=S[k++]))}else{for(k=a-j;C[a++]=C[k++],C[a++]=C[k++],C[a++]=C[k++],2<(w-=3););w&&(C[a++]=C[k++],1<w&&(C[a++]=C[k++]))}break}}break}}while(o<t&&a<s);o-=w=g>>3,h&=(1<<(g-=w<<3))-1,e.next_in=o,e.next_out=a,e.avail_in=o<t?t-o+5:5-(o-t),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=h,r.bits=g}},{}],49:[function(e,n,r){"use strict";var o=e("../utils/common"),t=e("./adler32"),a=e("./crc32"),i=e("./inffast"),s=e("./inftrees"),l=1,c=2,d=0,u=-2,p=1,h=852,g=592;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(e){var n;return e&&e.state?(n=e.state,e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=1&n.wrap),n.mode=p,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new o.Buf32(h),n.distcode=n.distdyn=new o.Buf32(g),n.sane=1,n.back=-1,d):u}function v(e){var n;return e&&e.state?((n=e.state).wsize=0,n.whave=0,n.wnext=0,m(e)):u}function b(e,n){var r,o;return e&&e.state?(o=e.state,n<0?(r=0,n=-n):(r=1+(n>>4),n<48&&(n&=15)),n&&(n<8||15<n)?u:(null!==o.window&&o.wbits!==n&&(o.window=null),o.wrap=r,o.wbits=n,v(e))):u}function y(e,n){var r,o;return e?(o=new x,(e.state=o).window=null,(r=b(e,n))!==d&&(e.state=null),r):u}var w,j,k=!0;function S(e){if(k){var n;for(w=new o.Buf32(512),j=new o.Buf32(32),n=0;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(s(l,e.lens,0,288,w,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;s(c,e.lens,0,32,j,0,e.work,{bits:5}),k=!1}e.lencode=w,e.lenbits=9,e.distcode=j,e.distbits=5}function _(e,n,r,t){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new o.Buf8(i.wsize)),t>=i.wsize?(o.arraySet(i.window,n,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(t<(a=i.wsize-i.wnext)&&(a=t),o.arraySet(i.window,n,r-t,a,i.wnext),(t-=a)?(o.arraySet(i.window,n,r-t,t,0),i.wnext=t,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}r.inflateReset=v,r.inflateReset2=b,r.inflateResetKeep=m,r.inflateInit=function(e){return y(e,15)},r.inflateInit2=y,r.inflate=function(e,n){var r,h,g,x,m,v,b,y,w,j,k,C,E,z,P,T,I,L,A,D,O,N,R,F,M=0,H=new o.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;12===(r=e.state).mode&&(r.mode=13),m=e.next_out,g=e.output,b=e.avail_out,x=e.next_in,h=e.input,v=e.avail_in,y=r.hold,w=r.bits,j=v,k=b,N=d;e:for(;;)switch(r.mode){case p:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(2&r.wrap&&35615===y){H[r.check=0]=255&y,H[1]=y>>>8&255,r.check=a(r.check,H,2,0),w=y=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&y)){e.msg="unknown compression method",r.mode=30;break}if(w-=4,O=8+(15&(y>>>=4)),0===r.wbits)r.wbits=O;else if(O>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<O,e.adler=r.check=1,r.mode=512&y?10:12,w=y=0;break;case 2:for(;w<16;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(r.flags=y,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=y>>8&1),512&r.flags&&(H[0]=255&y,H[1]=y>>>8&255,r.check=a(r.check,H,2,0)),w=y=0,r.mode=3;case 3:for(;w<32;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}r.head&&(r.head.time=y),512&r.flags&&(H[0]=255&y,H[1]=y>>>8&255,H[2]=y>>>16&255,H[3]=y>>>24&255,r.check=a(r.check,H,4,0)),w=y=0,r.mode=4;case 4:for(;w<16;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}r.head&&(r.head.xflags=255&y,r.head.os=y>>8),512&r.flags&&(H[0]=255&y,H[1]=y>>>8&255,r.check=a(r.check,H,2,0)),w=y=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}r.length=y,r.head&&(r.head.extra_len=y),512&r.flags&&(H[0]=255&y,H[1]=y>>>8&255,r.check=a(r.check,H,2,0)),w=y=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(v<(C=r.length)&&(C=v),C&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),o.arraySet(r.head.extra,h,x,C,O)),512&r.flags&&(r.check=a(r.check,h,C,x)),v-=C,x+=C,r.length-=C),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===v)break e;for(C=0;O=h[x+C++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O)),O&&C<v;);if(512&r.flags&&(r.check=a(r.check,h,C,x)),v-=C,x+=C,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===v)break e;for(C=0;O=h[x+C++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O)),O&&C<v;);if(512&r.flags&&(r.check=a(r.check,h,C,x)),v-=C,x+=C,O)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(y!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}w=y=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;w<32;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}e.adler=r.check=f(y),w=y=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=m,e.avail_out=b,e.next_in=x,e.avail_in=v,r.hold=y,r.bits=w,2;e.adler=r.check=1,r.mode=12;case 12:if(5===n||6===n)break e;case 13:if(r.last){y>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}switch(r.last=1&y,w-=1,3&(y>>>=1)){case 0:r.mode=14;break;case 1:if(S(r),r.mode=20,6!==n)break;y>>>=2,w-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}y>>>=2,w-=2;break;case 14:for(y>>>=7&w,w-=7&w;w<32;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&y,w=y=0,r.mode=15,6===n)break e;case 15:r.mode=16;case 16:if(C=r.length){if(v<C&&(C=v),b<C&&(C=b),0===C)break e;o.arraySet(g,h,x,C,m),v-=C,x+=C,b-=C,m+=C,r.length-=C;break}r.mode=12;break;case 17:for(;w<14;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(r.nlen=257+(31&y),y>>>=5,w-=5,r.ndist=1+(31&y),y>>>=5,w-=5,r.ncode=4+(15&y),y>>>=4,w-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}r.lens[B[r.have++]]=7&y,y>>>=3,w-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},N=s(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,N){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;T=(M=r.lencode[y&(1<<r.lenbits)-1])>>>16&255,I=65535&M,!((P=M>>>24)<=w);){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(I<16)y>>>=P,w-=P,r.lens[r.have++]=I;else{if(16===I){for(F=P+2;w<F;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(y>>>=P,w-=P,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}O=r.lens[r.have-1],C=3+(3&y),y>>>=2,w-=2}else if(17===I){for(F=P+3;w<F;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}w-=P,O=0,C=3+(7&(y>>>=P)),y>>>=3,w-=3}else{for(F=P+7;w<F;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}w-=P,O=0,C=11+(127&(y>>>=P)),y>>>=7,w-=7}if(r.have+C>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;C--;)r.lens[r.have++]=O}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},N=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,N){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},N=s(c,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,N){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===n)break e;case 20:r.mode=21;case 21:if(6<=v&&258<=b){e.next_out=m,e.avail_out=b,e.next_in=x,e.avail_in=v,r.hold=y,r.bits=w,i(e,k),m=e.next_out,g=e.output,b=e.avail_out,x=e.next_in,h=e.input,v=e.avail_in,y=r.hold,w=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;T=(M=r.lencode[y&(1<<r.lenbits)-1])>>>16&255,I=65535&M,!((P=M>>>24)<=w);){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(T&&0==(240&T)){for(L=P,A=T,D=I;T=(M=r.lencode[D+((y&(1<<L+A)-1)>>L)])>>>16&255,I=65535&M,!(L+(P=M>>>24)<=w);){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}y>>>=L,w-=L,r.back+=L}if(y>>>=P,w-=P,r.back+=P,r.length=I,0===T){r.mode=26;break}if(32&T){r.back=-1,r.mode=12;break}if(64&T){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&T,r.mode=22;case 22:if(r.extra){for(F=r.extra;w<F;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}r.length+=y&(1<<r.extra)-1,y>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;T=(M=r.distcode[y&(1<<r.distbits)-1])>>>16&255,I=65535&M,!((P=M>>>24)<=w);){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(0==(240&T)){for(L=P,A=T,D=I;T=(M=r.distcode[D+((y&(1<<L+A)-1)>>L)])>>>16&255,I=65535&M,!(L+(P=M>>>24)<=w);){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}y>>>=L,w-=L,r.back+=L}if(y>>>=P,w-=P,r.back+=P,64&T){e.msg="invalid distance code",r.mode=30;break}r.offset=I,r.extra=15&T,r.mode=24;case 24:if(r.extra){for(F=r.extra;w<F;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}r.offset+=y&(1<<r.extra)-1,y>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===b)break e;if(C=k-b,r.offset>C){if((C=r.offset-C)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}E=C>r.wnext?(C-=r.wnext,r.wsize-C):r.wnext-C,C>r.length&&(C=r.length),z=r.window}else z=g,E=m-r.offset,C=r.length;for(b<C&&(C=b),b-=C,r.length-=C;g[m++]=z[E++],--C;);0===r.length&&(r.mode=21);break;case 26:if(0===b)break e;g[m++]=r.length,b--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===v)break e;v--,y|=h[x++]<<w,w+=8}if(k-=b,e.total_out+=k,r.total+=k,k&&(e.adler=r.check=r.flags?a(r.check,g,k,m-k):t(r.check,g,k,m-k)),k=b,(r.flags?y:f(y))!==r.check){e.msg="incorrect data check",r.mode=30;break}w=y=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===v)break e;v--,y+=h[x++]<<w,w+=8}if(y!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}w=y=0}r.mode=29;case 29:N=1;break e;case 30:N=-3;break e;case 31:return-4;default:return u}return e.next_out=m,e.avail_out=b,e.next_in=x,e.avail_in=v,r.hold=y,r.bits=w,(r.wsize||k!==e.avail_out&&r.mode<30&&(r.mode<27||4!==n))&&_(e,e.output,e.next_out,k-e.avail_out)?(r.mode=31,-4):(j-=e.avail_in,k-=e.avail_out,e.total_in+=j,e.total_out+=k,r.total+=k,r.wrap&&k&&(e.adler=r.check=r.flags?a(r.check,g,k,e.next_out-k):t(r.check,g,k,e.next_out-k)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==j&&0===k||4===n)&&N===d&&(N=-5),N)},r.inflateEnd=function(e){if(!e||!e.state)return u;var n=e.state;return n.window&&(n.window=null),e.state=null,d},r.inflateGetHeader=function(e,n){var r;return e&&e.state?0==(2&(r=e.state).wrap)?u:((r.head=n).done=!1,d):u},r.inflateSetDictionary=function(e,n){var r,o=n.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?u:11===r.mode&&t(1,n,o,0)!==r.check?-3:_(e,n,o,o)?(r.mode=31,-4):(r.havedict=1,d):u},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,n,r){"use strict";var o=e("../utils/common"),t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(e,n,r,l,c,d,u,p){var h,g,f,x,m,v,b,y,w,j=p.bits,k=0,S=0,_=0,C=0,E=0,z=0,P=0,T=0,I=0,L=0,A=null,D=0,O=new o.Buf16(16),N=new o.Buf16(16),R=null,F=0;for(k=0;k<=15;k++)O[k]=0;for(S=0;S<l;S++)O[n[r+S]]++;for(E=j,C=15;1<=C&&0===O[C];C--);if(C<E&&(E=C),0===C)return c[d++]=20971520,c[d++]=20971520,p.bits=1,0;for(_=1;_<C&&0===O[_];_++);for(E<_&&(E=_),k=T=1;k<=15;k++)if(T<<=1,(T-=O[k])<0)return-1;if(0<T&&(0===e||1!==C))return-1;for(N[1]=0,k=1;k<15;k++)N[k+1]=N[k]+O[k];for(S=0;S<l;S++)0!==n[r+S]&&(u[N[n[r+S]]++]=S);if(v=0===e?(A=R=u,19):1===e?(A=t,D-=257,R=a,F-=257,256):(A=i,R=s,-1),k=_,m=d,P=S=L=0,f=-1,x=(I=1<<(z=E))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(b=k-P,w=u[S]<v?(y=0,u[S]):u[S]>v?(y=R[F+u[S]],A[D+u[S]]):(y=96,0),h=1<<k-P,_=g=1<<z;c[m+(L>>P)+(g-=h)]=b<<24|y<<16|w,0!==g;);for(h=1<<k-1;L&h;)h>>=1;if(0!==h?(L&=h-1,L+=h):L=0,S++,0==--O[k]){if(k===C)break;k=n[r+u[S]]}if(E<k&&(L&x)!==f){for(0===P&&(P=E),m+=_,T=1<<(z=k-P);z+P<C&&!((T-=O[z+P])<=0);)z++,T<<=1;if(I+=1<<z,1===e&&852<I||2===e&&592<I)return 1;c[f=L&x]=E<<24|z<<16|m-d}}return 0!==L&&(c[m+L]=k-P<<24|64<<16),p.bits=E,0}},{"../utils/common":41}],51:[function(e,n,r){"use strict";n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,n,r){"use strict";var o=e("../utils/common"),t=0,a=1;function i(e){for(var n=e.length;0<=--n;)e[n]=0}var s=0,l=29,c=256,d=c+1+l,u=30,p=19,h=2*d+1,g=15,f=16,x=7,m=256,v=16,b=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(2*(d+2));i(_);var C=new Array(2*u);i(C);var E=new Array(512);i(E);var z=new Array(256);i(z);var P=new Array(l);i(P);var T,I,L,A=new Array(u);function D(e,n,r,o,t){this.static_tree=e,this.extra_bits=n,this.extra_base=r,this.elems=o,this.max_length=t,this.has_stree=e&&e.length}function O(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function R(e,n){e.pending_buf[e.pending++]=255&n,e.pending_buf[e.pending++]=n>>>8&255}function F(e,n,r){e.bi_valid>f-r?(e.bi_buf|=n<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=n>>f-e.bi_valid,e.bi_valid+=r-f):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=r)}function M(e,n,r){F(e,r[2*n],r[2*n+1])}function H(e,n){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--n;);return r>>>1}function B(e,n,r){var o,t,a=new Array(g+1),i=0;for(o=1;o<=g;o++)a[o]=i=i+r[o-1]<<1;for(t=0;t<=n;t++){var s=e[2*t+1];0!==s&&(e[2*t]=H(a[s]++,s))}}function W(e){var n;for(n=0;n<d;n++)e.dyn_ltree[2*n]=0;for(n=0;n<u;n++)e.dyn_dtree[2*n]=0;for(n=0;n<p;n++)e.bl_tree[2*n]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){8<e.bi_valid?R(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function U(e,n,r,o){var t=2*n,a=2*r;return e[t]<e[a]||e[t]===e[a]&&o[n]<=o[r]}function q(e,n,r){for(var o=e.heap[r],t=r<<1;t<=e.heap_len&&(t<e.heap_len&&U(n,e.heap[t+1],e.heap[t],e.depth)&&t++,!U(n,o,e.heap[t],e.depth));)e.heap[r]=e.heap[t],r=t,t<<=1;e.heap[r]=o}function G(e,n,r){var o,t,a,i,s=0;if(0!==e.last_lit)for(;o=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],t=e.pending_buf[e.l_buf+s],s++,0===o?M(e,t,n):(M(e,(a=z[t])+c+1,n),0!==(i=w[a])&&F(e,t-=P[a],i),M(e,a=N(--o),r),0!==(i=j[a])&&F(e,o-=A[a],i)),s<e.last_lit;);M(e,m,n)}function Y(e,n){var r,o,t,a=n.dyn_tree,i=n.stat_desc.static_tree,s=n.stat_desc.has_stree,l=n.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,r=0;r<l;r++)0!==a[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(t=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[t]=0,e.opt_len--,s&&(e.static_len-=i[2*t+1]);for(n.max_code=c,r=e.heap_len>>1;1<=r;r--)q(e,a,r);for(t=l;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,a,1),o=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=o,a[2*t]=a[2*r]+a[2*o],e.depth[t]=(e.depth[r]>=e.depth[o]?e.depth[r]:e.depth[o])+1,a[2*r+1]=a[2*o+1]=t,e.heap[1]=t++,q(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,n){var r,o,t,a,i,s,l=n.dyn_tree,c=n.max_code,d=n.stat_desc.static_tree,u=n.stat_desc.has_stree,p=n.stat_desc.extra_bits,f=n.stat_desc.extra_base,x=n.stat_desc.max_length,m=0;for(a=0;a<=g;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<h;r++)x<(a=l[2*l[2*(o=e.heap[r])+1]+1]+1)&&(a=x,m++),l[2*o+1]=a,c<o||(e.bl_count[a]++,i=0,f<=o&&(i=p[o-f]),s=l[2*o],e.opt_len+=s*(a+i),u&&(e.static_len+=s*(d[2*o+1]+i)));if(0!==m){do{for(a=x-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[x]--,m-=2}while(0<m);for(a=x;0!==a;a--)for(o=e.bl_count[a];0!==o;)c<(t=e.heap[--r])||(l[2*t+1]!==a&&(e.opt_len+=(a-l[2*t+1])*l[2*t],l[2*t+1]=a),o--)}}(e,n),B(a,c,e.bl_count)}function $(e,n,r){var o,t,a=-1,i=n[1],s=0,l=7,c=4;for(0===i&&(l=138,c=3),n[2*(r+1)+1]=65535,o=0;o<=r;o++)t=i,i=n[2*(o+1)+1],++s<l&&t===i||(s<c?e.bl_tree[2*t]+=s:0!==t?(t!==a&&e.bl_tree[2*t]++,e.bl_tree[2*v]++):s<=10?e.bl_tree[2*b]++:e.bl_tree[2*y]++,a=t,c=(s=0)===i?(l=138,3):t===i?(l=6,3):(l=7,4))}function J(e,n,r){var o,t,a=-1,i=n[1],s=0,l=7,c=4;for(0===i&&(l=138,c=3),o=0;o<=r;o++)if(t=i,i=n[2*(o+1)+1],!(++s<l&&t===i)){if(s<c)for(;M(e,t,e.bl_tree),0!=--s;);else 0!==t?(t!==a&&(M(e,t,e.bl_tree),s--),M(e,v,e.bl_tree),F(e,s-3,2)):s<=10?(M(e,b,e.bl_tree),F(e,s-3,3)):(M(e,y,e.bl_tree),F(e,s-11,7));a=t,c=(s=0)===i?(l=138,3):t===i?(l=6,3):(l=7,4)}}i(A);var Z=!1;function K(e,n,r,t){F(e,(s<<1)+(t?1:0),3),function(e,n,r,t){V(e),t&&(R(e,r),R(e,~r)),o.arraySet(e.pending_buf,e.window,n,r,e.pending),e.pending+=r}(e,n,r,!0)}r._tr_init=function(e){Z||(function(){var e,n,r,o,t,a=new Array(g+1);for(o=r=0;o<l-1;o++)for(P[o]=r,e=0;e<1<<w[o];e++)z[r++]=o;for(z[r-1]=o,o=t=0;o<16;o++)for(A[o]=t,e=0;e<1<<j[o];e++)E[t++]=o;for(t>>=7;o<u;o++)for(A[o]=t<<7,e=0;e<1<<j[o]-7;e++)E[256+t++]=o;for(n=0;n<=g;n++)a[n]=0;for(e=0;e<=143;)_[2*e+1]=8,e++,a[8]++;for(;e<=255;)_[2*e+1]=9,e++,a[9]++;for(;e<=279;)_[2*e+1]=7,e++,a[7]++;for(;e<=287;)_[2*e+1]=8,e++,a[8]++;for(B(_,d+1,a),e=0;e<u;e++)C[2*e+1]=5,C[2*e]=H(e,5);T=new D(_,w,c+1,d,g),I=new D(C,j,0,u,g),L=new D(new Array(0),k,0,p,x)}(),Z=!0),e.l_desc=new O(e.dyn_ltree,T),e.d_desc=new O(e.dyn_dtree,I),e.bl_desc=new O(e.bl_tree,L),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=K,r._tr_flush_block=function(e,n,r,o){var i,s,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var n,r=4093624447;for(n=0;n<=31;n++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*n])return t;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(n=32;n<c;n++)if(0!==e.dyn_ltree[2*n])return a;return t}(e)),Y(e,e.l_desc),Y(e,e.d_desc),l=function(e){var n;for($(e,e.dyn_ltree,e.l_desc.max_code),$(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),n=p-1;3<=n&&0===e.bl_tree[2*S[n]+1];n--);return e.opt_len+=3*(n+1)+5+5+4,n}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==n?K(e,n,r,o):4===e.strategy||s===i?(F(e,2+(o?1:0),3),G(e,_,C)):(F(e,4+(o?1:0),3),function(e,n,r,o){var t;for(F(e,n-257,5),F(e,r-1,5),F(e,o-4,4),t=0;t<o;t++)F(e,e.bl_tree[2*S[t]+1],3);J(e,e.dyn_ltree,n-1),J(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),G(e,e.dyn_ltree,e.dyn_dtree)),W(e),o&&V(e)},r._tr_tally=function(e,n,r){return e.pending_buf[e.d_buf+2*e.last_lit]=n>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&n,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===n?e.dyn_ltree[2*r]++:(e.matches++,n--,e.dyn_ltree[2*(z[r]+c+1)]++,e.dyn_dtree[2*N(n)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){F(e,2,3),M(e,m,_),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,n,r){"use strict";n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,n,o){(function(e){!function(e,n){"use strict";if(!e.setImmediate){var r,o,t,a,i=1,s={},l=!1,c=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,r="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var n=!0,r=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=r,n}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(n){e.postMessage(a+n,"*")}):e.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){p(e.data)},function(e){t.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(o=c.documentElement,function(e){var n=c.createElement("script");n.onreadystatechange=function(){p(e),n.onreadystatechange=null,o.removeChild(n),n=null},o.appendChild(n)}):function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),o=0;o<n.length;o++)n[o]=arguments[o+1];var t={callback:e,args:n};return s[i]=t,r(i),i++},d.clearImmediate=u}function u(e){delete s[e]}function p(e){if(l)setTimeout(p,0,e);else{var r=s[e];if(r){l=!0;try{!function(e){var r=e.callback,o=e.args;switch(o.length){case 0:r();break;case 1:r(o[0]);break;case 2:r(o[0],o[1]);break;case 3:r(o[0],o[1],o[2]);break;default:r.apply(n,o)}}(r)}finally{u(e),l=!1}}}}function h(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(a)&&p(+n.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},202:(e,n)=>{"use strict";var r=Symbol.for("react.element"),o=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function m(e,n,r){this.props=e,this.context=n,this.refs=x,this.updater=r||g}function v(){}function b(e,n,r){this.props=e,this.context=n,this.refs=x,this.updater=r||g}m.prototype.isReactComponent={},m.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var y=b.prototype=new v;y.constructor=b,f(y,m.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,n,o){var t,a={},i=null,s=null;if(null!=n)for(t in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(i=""+n.key),n)j.call(n,t)&&!S.hasOwnProperty(t)&&(a[t]=n[t]);var l=arguments.length-2;if(1===l)a.children=o;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(t in l=e.defaultProps)void 0===a[t]&&(a[t]=l[t]);return{$$typeof:r,type:e,key:i,ref:s,props:a,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function z(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function P(e,n,t,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case o:l=!0}}if(l)return i=i(l=e),e=""===a?"."+z(l,0):a,w(i)?(t="",null!=e&&(t=e.replace(E,"$&/")+"/"),P(i,n,t,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,n){return{$$typeof:r,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(i,t+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),n.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+z(s=e[c],c);l+=P(s,n,t,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,n,t,d=a+z(s,c++),i);else if("object"===s)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,n,r){if(null==e)return e;var o=[],t=0;return P(e,o,"","",function(e){return n.call(r,e,t++)}),o}function I(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},A={transition:null},D={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:T,forEach:function(e,n,r){T(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return T(e,function(){n++}),n},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=m,n.Fragment=t,n.Profiler=i,n.PureComponent=b,n.StrictMode=a,n.Suspense=d,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,n.act=O,n.cloneElement=function(e,n,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var t=f({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,s=k.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)j.call(n,c)&&!S.hasOwnProperty(c)&&(t[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)t.children=o;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];t.children=l}return{$$typeof:r,type:e.type,key:a,ref:i,props:t,_owner:s}},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},n.createElement=_,n.createFactory=function(e){var n=_.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=C,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},n.memo=function(e,n){return{$$typeof:u,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=A.transition;A.transition={};try{e()}finally{A.transition=n}},n.unstable_act=O,n.useCallback=function(e,n){return L.current.useCallback(e,n)},n.useContext=function(e){return L.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return L.current.useDeferredValue(e)},n.useEffect=function(e,n){return L.current.useEffect(e,n)},n.useId=function(){return L.current.useId()},n.useImperativeHandle=function(e,n,r){return L.current.useImperativeHandle(e,n,r)},n.useInsertionEffect=function(e,n){return L.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return L.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return L.current.useMemo(e,n)},n.useReducer=function(e,n,r){return L.current.useReducer(e,n,r)},n.useRef=function(e){return L.current.useRef(e)},n.useState=function(e){return L.current.useState(e)},n.useSyncExternalStore=function(e,n,r){return L.current.useSyncExternalStore(e,n,r)},n.useTransition=function(){return L.current.useTransition()},n.version="18.3.1"},219:(e,n,r)=>{"use strict";var o=r(763),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return o.isMemo(e)?i:s[e.$$typeof]||t}s[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[o.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(n,r,o){if("string"!==typeof r){if(g){var t=h(r);t&&t!==g&&e(n,t,o)}var i=d(r);u&&(i=i.concat(u(r)));for(var s=l(n),f=l(r),x=0;x<i.length;++x){var m=i[x];if(!a[m]&&(!o||!o[m])&&(!f||!f[m])&&(!s||!s[m])){var v=p(r,m);try{c(n,m,v)}catch(b){}}}}return n}},234:(e,n)=>{"use strict";function r(e,n){var r=e.length;e.push(n);e:for(;0<r;){var o=r-1>>>1,t=e[o];if(!(0<a(t,n)))break e;e[o]=n,e[r]=t,r=o}}function o(e){return 0===e.length?null:e[0]}function t(e){if(0===e.length)return null;var n=e[0],r=e.pop();if(r!==n){e[0]=r;e:for(var o=0,t=e.length,i=t>>>1;o<i;){var s=2*(o+1)-1,l=e[s],c=s+1,d=e[c];if(0>a(l,r))c<t&&0>a(d,l)?(e[o]=d,e[c]=r,o=c):(e[o]=l,e[s]=r,o=s);else{if(!(c<t&&0>a(d,r)))break e;e[o]=d,e[c]=r,o=c}}}return n}function a(e,n){var r=e.sortIndex-n.sortIndex;return 0!==r?r:e.id-n.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,g=!1,f=!1,x=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var n=o(d);null!==n;){if(null===n.callback)t(d);else{if(!(n.startTime<=e))break;t(d),n.sortIndex=n.expirationTime,r(c,n)}n=o(d)}}function w(e){if(x=!1,y(e),!f)if(null!==o(c))f=!0,A(j);else{var n=o(d);null!==n&&D(w,n.startTime-e)}}function j(e,r){f=!1,x&&(x=!1,v(C),C=-1),g=!0;var a=h;try{for(y(r),p=o(c);null!==p&&(!(p.expirationTime>r)||e&&!P());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=r);r=n.unstable_now(),"function"===typeof s?p.callback=s:p===o(c)&&t(c),y(r)}else t(c);p=o(c)}if(null!==p)var l=!0;else{var u=o(d);null!==u&&D(w,u.startTime-r),l=!1}return l}finally{p=null,h=a,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,_=null,C=-1,E=5,z=-1;function P(){return!(n.unstable_now()-z<E)}function T(){if(null!==_){var e=n.unstable_now();z=e;var r=!0;try{r=_(!0,e)}finally{r?k():(S=!1,_=null)}}else S=!1}if("function"===typeof b)k=function(){b(T)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,L=I.port2;I.port1.onmessage=T,k=function(){L.postMessage(null)}}else k=function(){m(T,0)};function A(e){_=e,S||(S=!0,k())}function D(e,r){C=m(function(){e(n.unstable_now())},r)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){f||g||(f=!0,A(j))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return o(c)},n.unstable_next=function(e){switch(h){case 1:case 2:case 3:var n=3;break;default:n=h}var r=h;h=n;try{return e()}finally{h=r}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return n()}finally{h=r}},n.unstable_scheduleCallback=function(e,t,a){var i=n.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:t,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,r(d,e),null===o(c)&&e===o(d)&&(x?(v(C),C=-1):x=!0,D(w,a-i))):(e.sortIndex=s,r(c,e),f||g||(f=!0,A(j))),e},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(e){var n=h;return function(){var r=h;h=n;try{return e.apply(this,arguments)}finally{h=r}}}},324:e=>{e.exports=function(e,n,r,o){var t=r?r.call(o,e,n):void 0;if(void 0!==t)return!!t;if(e===n)return!0;if("object"!==typeof e||!e||"object"!==typeof n||!n)return!1;var a=Object.keys(e),i=Object.keys(n);if(a.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(n),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var d=e[c],u=n[c];if(!1===(t=r?r.call(o,d,u,c):void 0)||void 0===t&&d!==u)return!1}return!0}},391:(e,n,r)=>{"use strict";var o=r(950);n.createRoot=o.createRoot,n.hydrateRoot=o.hydrateRoot},450:function(e,n,r){var o,t,a;t=[],void 0===(a="function"===typeof(o=function(){"use strict";function n(e,n){return"undefined"==typeof n?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,n,r){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){l(o.response,n,r)},o.onerror=function(){console.error("could not download file")},o.send()}function t(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch(e){}return 200<=n.status&&299>=n.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,n,r){var s=i.URL||i.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?a(l):t(l.href)?o(e,n,r):a(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){a(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,i){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(n(e,i),r);else if(t(e))o(e,r,i);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){a(s)})}}:function(e,n,r,t){if((t=t||open("","_blank"))&&(t.document.title=t.document.body.innerText="downloading..."),"string"==typeof e)return o(e,n,r);var a="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=e:location=e,t=null},d.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,p=u.createObjectURL(e);t?t.location=p:location.href=p,t=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});i.saveAs=l.saveAs=l,e.exports=l})?o.apply(n,t):o)||(e.exports=a)},528:(e,n)=>{"use strict";var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function x(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case r:switch(e=e.type){case t:case i:case a:case d:case u:case g:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case p:case s:return e;default:return n}}case o:return n}}}n.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===t||e===i||e===a||e===d||e===u||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===l||e.$$typeof===s||e.$$typeof===c||e.$$typeof===f||void 0!==e.getModuleId)},n.QP=x},535:(e,n,r)=>{"use strict";r.d(n,{RenPyGenerator:()=>o});class o{constructor(){this.script="",this.characters=new Map,this.images=new Set,this.audio=new Set,this.assetStorage=null}setAssetStorage(e){this.assetStorage=e}setProject(e){this.project=e}async getImageDefinitionName(e,n){if(!this.assetStorage)return null;try{console.log("getImageDefinitionName - fileName:",e),console.log("getImageDefinitionName - category:",n);let r,o=e;if(e.includes("/")&&(o=e.split("/").pop()),console.log("getImageDefinitionName - nombre extra\xeddo:",o),o=o.replace(/\.[^/.]+$/,""),console.log("getImageDefinitionName - sin extensi\xf3n:",o),"characters"===n&&this.project){const e=this.project.characters.find(e=>e.sprites&&e.sprites.some(e=>e.name.toLowerCase()===o.toLowerCase()));if(e){const n=o.toLowerCase(),r="".concat(e.id," ").concat(n);return console.log("getImageDefinitionName - personaje encontrado:",e.id),console.log("getImageDefinitionName - nombre final:",r),r}}switch(o=o.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),console.log("getImageDefinitionName - nombre procesado:",o),n){case"characters":r="char_".concat(o);break;case"backgrounds":r="bg_".concat(o);break;case"gui":r="gui_".concat(o);break;case"effects":r="fx_".concat(o);break;default:r=o}return console.log("getImageDefinitionName - nombre final:",r),r}catch(r){return console.error("Error al generar nombre de imagen:",r),null}}formatNarrationText(e){let n=e.text||"";if(e.fontSize||e.textColor){let r=n;if(e.fontSize){const n={small:"12",medium:"16",large:"20",xlarge:"24"}[e.fontSize]||"16";r="{size=".concat(n,"}").concat(r,"{/size}")}return e.textColor&&(r="{color=".concat(e.textColor,"}").concat(r,"{/color}")),r}return n}async generateScript(e){var n;this.script="",this.characters.clear(),this.images.clear(),this.audio.clear(),this.project=e,console.log("\ud83d\udd0d generateScript - Proyecto configurado:",this.project),console.log("\ud83d\udd0d generateScript - protagonistConfig:",null===(n=this.project)||void 0===n?void 0:n.protagonistConfig),this.generateHeader(e),this.generateCharacters(e.characters),this.generateVariablesAndFlags(e.variables,e.flags),this.generateScenes(e.scenes),this.generateVideos(e);const r=e.sceneFiles.find(e=>e.isMain);return r&&await this.generateMainScript(r.elements),this.script}async generateSceneFiles(e){const n={},r=this.analyzeJumpReferences(e);console.log("\ud83d\udd0d Labels requeridos por jumps:",r);for(const o of e.sceneFiles){if(this.script="",this.characters.clear(),this.images.clear(),this.audio.clear(),o.isMain)await this.generateMainScript(o.elements);else{this.generateSceneFileHeader(o);const e=r.filter(e=>e.sceneFileId===o.id);this.generateRequiredLabels(o,e),await this.generateSceneFileElements(o.elements)}n[o.name]=this.script}return n}async generateSceneFile(e){if(this.script="",this.characters.clear(),this.images.clear(),this.audio.clear(),e.isMain)await this.generateMainScript(e.elements);else{const n=e.elements.some(e=>"label"===e.type);console.log("\ud83d\udd0d Generando archivo de escena: ".concat(e.name)),console.log("\ud83d\udd0d Elementos totales: ".concat(e.elements.length)),console.log("\ud83d\udd0d Tiene labels manuales: ".concat(n)),console.log("\ud83d\udd0d Generar\xe1 label autom\xe1tico: ".concat(!n)),this.generateSceneFileHeader(e,!n),await this.generateSceneFileElements(e.elements)}return this.script}analyzeJumpReferences(e){const n=[],r=e.sceneFiles.map(e=>e.id);console.log("\ud83d\udd0d Analizando referencias de jump en el proyecto..."),console.log("\ud83d\udcc1 IDs de archivos de escena:",r);for(const o of e.sceneFiles){console.log("\ud83d\udd0d Analizando archivo: ".concat(o.name," (").concat(o.elements.length," elementos)"));for(const e of o.elements){if("jump"===e.type&&e.jump){const t=e.jump;console.log("\ud83d\udd0d Jump encontrado: ".concat(t," en ").concat(o.name)),r.includes(t)&&(console.log("\u2705 Jump target ".concat(t," coincide con archivo de escena")),n.push({labelName:t,sceneFileId:t,requiredBy:{file:o.name,element:e.id}}))}if("choice"===e.type&&e.choices)for(const t of e.choices)t.jump&&r.includes(t.jump)&&(console.log("\u2705 Choice jump target ".concat(t.jump," coincide con archivo de escena")),n.push({labelName:t.jump,sceneFileId:t.jump,requiredBy:{file:o.name,element:e.id,choice:t.text}}))}}return n}generateRequiredLabels(e,n){if(0!==n.length){console.log("\ud83c\udff7\ufe0f Generando labels requeridos para ".concat(e.name,":"),n);for(const r of n){e.elements.some(e=>"label"===e.type&&e.label===r.labelName)?console.log("\u23ed\ufe0f Label ya existe: ".concat(r.labelName)):(console.log("\u2705 Generando label autom\xe1tico: ".concat(r.labelName," (requerido por ").concat(r.requiredBy.file,")")),this.script+="label ".concat(r.labelName,":\n\n"))}}}generateSceneFileHeader(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.script+="# Generado por RynEditor - Gracias por confiar en nosotros\n\n",!e.isMain&&n){const n=e.id||e.name.replace(".rpy","").replace(/\s+/g,"_").toLowerCase();console.log("\ud83e\udd16 Generando label autom\xe1tico: ".concat(n)),this.script+="label ".concat(n,":\n\n")}else e.isMain||console.log("\u23ed\ufe0f Saltando generaci\xf3n de label autom\xe1tico para ".concat(e.name))}async generateSceneFileElements(e){if(0!==e.length)for(let n=0;n<e.length;n++)await this.generateScriptElement(e[n],n);else this.script+="# Esta escena est\xe1 vac\xeda\n"}generateHeader(e){this.script+="# Generado por RynEditor - Gracias por confiar en nosotros\n\n",e.name&&(this.script+="# ".concat(e.name,"\n")),e.description&&(this.script+="# ".concat(e.description,"\n")),this.script+="\n"}generateCharacters(e){0!==e.length&&(this.script+="# Definici\xf3n de personajes\n",e.forEach(e=>{this.characters.set(e.id,e.name),this.script+="define ".concat(e.id,' = Character("').concat(e.name,'"'),e.color&&(this.script+=', color="'.concat(e.color,'"')),e.who_color&&(this.script+=', who_color="'.concat(e.who_color,'"')),e.what_color&&(this.script+=', what_color="'.concat(e.what_color,'"')),this.script+=")\n",e.sprites&&e.sprites.length>0&&e.sprites.forEach(n=>{let r=n.path;r.startsWith("images/")&&(r=r.replace("images/","")),r.startsWith("game/")&&(r=r.replace("game/",""));const o=n.name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");this.script+="image ".concat(e.id," ").concat(o,' = "').concat(r,'"\n'),this.images.add(n.path)})}),this.script+="\n")}generateVariablesAndFlags(e,n){const r=Array.isArray(e)?e:[],o=Array.isArray(n)?n:[];0===r.length&&0===o.length||(this.script+="# Variables y Flags del proyecto\n",r.forEach(e=>{if(e&&e.name){let n=e.value;"string"===e.type?n='"'.concat(n,'"'):"boolean"===e.type&&(n=n?"True":"False"),this.script+="default ".concat(e.name," = ").concat(n,"\n")}}),o.forEach(e=>{if(e&&e.name){const n=e.value?"True":"False";this.script+="default ".concat(e.name," = ").concat(n,"\n")}}),this.script+="\n")}generateScenes(e){0!==e.length&&(this.script+="# Definici\xf3n de escenas\n",e.forEach(e=>{if(this.script+="# Escena: ".concat(e.name,"\n"),e.background){const n=e.background.replace("images/","");this.script+="image ".concat(e.id,' = "').concat(n,'"\n'),this.images.add(e.background)}if(e.music){const n=e.music.replace("audio/","");this.script+="define audio.".concat(e.id,'_music = "').concat(n,'"\n'),this.audio.add(e.music)}}),this.script+="\n")}generateVideos(e){const n=new Set,r=new Map;e.sceneFiles.forEach(e=>{e.elements.forEach(e=>{"video"!==e.type&&"movie_sprite"!==e.type&&"movie_cutscene"!==e.type||!e.file||("movie_sprite"===e.type&&e.spriteName?r.set(e.spriteName,e.file):n.add(e.file))})}),0===n.size&&0===r.size||(this.script+="# Definici\xf3n de videos\n",n.forEach(e=>{const n=e.replace("videos/",""),r=n.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9_]/g,"_");this.script+="image ".concat(r,' = Movie(play="').concat(n,'")\n')}),r.forEach((e,n)=>{const r=e.replace("videos/","");this.script+="image ".concat(n,' = Movie(play="').concat(r,'")\n')}),this.script+="\n")}async generateMainScript(e){this.script+="label start:\n\n";for(let n=0;n<e.length;n++)await this.generateScriptElement(e[n],n);this.generateSceneJumps(),this.script+="\n    return\n"}generateProtagonistSetup(){console.log("\ud83d\udd27 generateProtagonistSetup - Iniciando generaci\xf3n...");const e=this.project.protagonistConfig,n=e.defaultName||"Jugador",r=e.promptText||"Por favor, introduce tu nombre:";console.log("\ud83d\udd27 Configuraci\xf3n:",{defaultName:n,promptText:r}),this.script+="# Configuraci\xf3n del protagonista\n",this.script+="label setup_protagonist:\n",this.script+="    python:\n",this.script+='        mc_name = renpy.input("'.concat(r,'")\n'),this.script+='        mc_name = mc_name.strip() or "'.concat(n,'"\n\n'),this.script+='    "Tu nombre es [mc_name]."\n',this.script+="    menu:\n",this.script+='        "\xbfEst\xe1s seguro?"\n',this.script+='        "S\xed, continuar.":\n',this.script+='            "\xa1Perfecto! Ahora comienza tu historia..."\n',this.script+="            jump main_story\n",this.script+='        "No, quiero cambiar mi nombre.":\n',this.script+="            jump setup_protagonist\n\n",console.log("\u2705 generateProtagonistSetup - C\xf3digo generado exitosamente")}generateSceneJumps(){}async generateScriptElement(e,n){const r="    ";switch(e.type){case"dialogue":if(e.showSprite&&e.character){const n=e.spritePosition||"center",o={left:"at left",center:"at center",right:"at right"},t=e.showSprite.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");this.script+="".concat(r,"show ").concat(e.character," ").concat(t," ").concat(o[n],"\n")}if(e.character&&this.characters.has(e.character)){const n=this.project.characters.find(n=>n.id===e.character);if(n&&n.isProtagonist){const n=e.text.replace(/\[mc_name\]/g,"[mc_name]");this.script+="".concat(r,'mc_name "').concat(n,'"\n')}else this.script+="".concat(r).concat(e.character,' "').concat(e.text,'"\n')}else this.script+="".concat(r,"'").concat(e.text,"'\n");break;case"narration":const n=this.formatNarrationText(e);this.script+="".concat(r,"'").concat(n,"'\n");break;case"scene":if(e.background){const n=await this.getImageDefinitionName(e.background,"backgrounds");if(n)this.script+="".concat(r,"scene ").concat(n);else{let n=e.background.replace("images/","");n=n.replace("game/",""),this.script+="".concat(r,"scene ").concat(n)}if(e.backgroundTransition){const n=e.backgroundTransition,r=e.backgroundTransitionDuration||"";this.script+=r?" with ".concat(n,"(").concat(r,")\n"):" with ".concat(n,"\n")}else this.script+="\n"}e.show&&Array.isArray(e.show)&&e.show.forEach(e=>{if("string"===typeof e)this.script+="".concat(r,"show ").concat(e,"\n");else if(e.character&&e.sprite){const n=e.position||"center",o={left:"at left",center:"at center",right:"at right"},t=e.sprite.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");this.script+="".concat(r,"show ").concat(e.character," ").concat(t," ").concat(o[n],"\n")}}),e.hide&&Array.isArray(e.hide)&&e.hide.forEach(e=>{this.script+="".concat(r,"hide ").concat(e,"\n")});break;case"transition":const o=e.transitionType||"dissolve",t=e.transitionDuration||"";this.script+=t?"".concat(r,"with ").concat(o,"(").concat(t,")\n"):"".concat(r,"with ").concat(o,"\n");break;case"choice":e.text&&(this.script+="".concat(r,"'").concat(e.text,"'\n")),this.script+="".concat(r,"menu:\n\n"),e.choices.forEach(e=>{const n=e.condition?" if ".concat(e.condition):"";this.script+="".concat(r,'    "').concat(e.text,'"').concat(n,":\n\n"),e.jump&&(this.script+="".concat(r,"        jump ").concat(e.jump,"\n"))});break;case"jump":this.script+="".concat(r,"jump ").concat(e.jump,"\n\n");break;case"label":console.log("\ud83c\udff7\ufe0f Generando label manual: ".concat(e.label)),this.script+="label ".concat(e.label,":\n\n");break;case"condition":this.script+="".concat(r,"if ").concat(e.condition,":\n"),e.text&&(this.script+="".concat(r,"    '").concat(e.text,"'\n"));break;case"variable":this.script+="".concat(r,"$ ").concat(e.variableName," = ").concat(e.variableValue,"\n");break;case"flag":this.script+="".concat(r,"$ ").concat(e.flagName," = ").concat(e.flagValue,"\n");break;case"music":if("play"===e.action){const n=e.file.replace("audio/","");this.script+="".concat(r,'play music "').concat(n,'"\n')}else"stop"===e.action&&(this.script+="".concat(r,"stop music\n"));this.audio.add(e.file);break;case"sound":const a=e.file.replace("audio/","");this.script+="".concat(r,'play sound "').concat(a,'"\n'),this.audio.add(e.file);break;case"pause":this.script+="".concat(r,"$ renpy.pause(").concat(e.duration||1,")\n");break;case"show_sprite":if(e.character&&e.spriteName){const n=e.spritePosition||"center",o={left:"at left",center:"at center",right:"at right"};if(this.script+="".concat(r,"show ").concat(e.character," ").concat(e.spriteName," ").concat(o[n]),e.spriteTransition){const n=e.spriteTransition,r=e.spriteTransitionDuration||"";this.script+=r?" with ".concat(n,"(").concat(r,")\n"):" with ".concat(n,"\n")}else this.script+="\n"}else if(e.character){const n=e.spritePosition||"center",o={left:"at left",center:"at center",right:"at right"};this.script+="".concat(r,"show ").concat(e.character," ").concat(o[n],"\n")}break;case"hide_sprite":if(e.character)if(e.spriteTransition){const n=e.spriteTransition,o=e.spriteTransitionDuration||"";this.script+=o?"".concat(r,"hide ").concat(e.character," with ").concat(n,"(").concat(o,")\n"):"".concat(r,"hide ").concat(e.character," with ").concat(n,"\n")}else this.script+="".concat(r,"hide ").concat(e.character,"\n");break;case"video":if(e.file){const n=e.file.replace("videos/","");if("fullscreen"===e.displayType)this.script+="".concat(r,'$ renpy.movie_cutscene("').concat(n,'"'),void 0!==e.delay&&""!==e.delay&&(this.script+=", delay=".concat(e.delay)),void 0!==e.loops&&0!==e.loops&&(this.script+=", loops=".concat(e.loops)),void 0!==e.stopMusic&&!1===e.stopMusic&&(this.script+=", stop_music=False"),this.script+=")\n";else{const e=n.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9_]/g,"_");this.script+="".concat(r,"show ").concat(e,"\n")}}break;case"movie_sprite":if(e.file){e.file.replace("videos/","");const n=e.spriteName||"movie_sprite";this.script+="".concat(r,"show ").concat(n,"\n")}break;case"movie_cutscene":if(e.file){const n=e.file.replace("videos/","");this.script+="".concat(r,'$ renpy.movie_cutscene("').concat(n,'"'),void 0!==e.delay&&""!==e.delay&&(this.script+=", delay=".concat(e.delay)),void 0!==e.loops&&0!==e.loops&&(this.script+=", loops=".concat(e.loops)),void 0!==e.stopMusic&&!1===e.stopMusic&&(this.script+=", stop_music=False"),this.script+=")\n"}break;case"protagonist_setup":console.log("\ud83c\udfae Generando setup del protagonista desde elemento..."),this.generateProtagonistSetup(),this.script+="label main_story:\n\n"}"label"!==e.type&&"jump"!==e.type&&(this.script+="\n")}generateOptions(e){return'# Configuraci\xf3n del juego\ndefine config.name = _("'.concat(e.name,'")\n\ndefine gui.show_name = True\n\ndefine config.version = "').concat(e.version,'"\n\ndefine gui.about = _p("""\n').concat(e.description||"Una novela visual creada con Visual Novel Creator",'\n""")\n\ndefine build.name = "').concat(e.name.replace(/\s+/g,"_"),'"\n\n# Configuraci\xf3n de pantalla\ndefine config.screen_width = 1920\ndefine config.screen_height = 1080\n\n# Configuraci\xf3n de audio\ndefine config.has_sound = True\ndefine config.has_music = True\ndefine config.has_voice = True\n\n# Configuraci\xf3n de texto\ndefine config.enter_transition = dissolve\ndefine config.exit_transition = dissolve\ndefine config.after_load_transition = None\ndefine config.end_game_transition = fade\n\n# Configuraci\xf3n de ventana\ndefine config.window = "auto"\n\n# Configuraci\xf3n de archivos\ndefine config.archives = None\n')}async generateScriptFile(e){return await this.generateScript(e)}getResources(){return{images:Array.from(this.images),audio:Array.from(this.audio)}}}},579:(e,n,r)=>{"use strict";e.exports=r(153)},701:(e,n,r)=>{"use strict";r.d(n,{AssetStorage:()=>o});class o{constructor(){this.dbName="VisualNovelAssets",this.dbVersion=1,this.db=null,this.metadataKey="visual_novel_files_metadata"}async init(){return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.dbVersion);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=e=>{const n=e.target.result;if(!n.objectStoreNames.contains("files")){const e=n.createObjectStore("files",{keyPath:"id"});e.createIndex("category","category",{unique:!1}),e.createIndex("name","name",{unique:!1})}}})}async saveFile(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.db||await this.init(),new Promise((r,o)=>{const t=this.db.transaction(["files"],"readwrite").objectStore("files"),a={id:e.id,name:e.name,category:e.category,data:e.data,folderPath:e.folderPath,filePath:e.filePath,uploadedAt:(new Date).toISOString()};console.log("=== AssetStorage: Guardando archivo ==="),console.log('AssetStorage: "'.concat(e.name,'" con categor\xeda "').concat(e.category,'"')),console.log("AssetStorage: ID: ".concat(e.id)),console.log("AssetStorage: Intento: ".concat(n+1));const i=t.put(a);i.onsuccess=()=>{console.log("AssetStorage: Archivo guardado exitosamente con ID: ".concat(e.id)),this.updateMetadata(e),r(e.id)},i.onerror=()=>{console.error("AssetStorage: Error al guardar archivo:",i.error),n<2?(console.log("AssetStorage: Reintentando guardado (".concat(n+1,"/3)...")),setTimeout(()=>{this.saveFile(e,n+1).then(r).catch(o)},1e3*(n+1))):o(i.error)}})}async getFile(e){return this.db||await this.init(),new Promise((n,r)=>{const o=this.db.transaction(["files"],"readonly").objectStore("files").get(e);o.onsuccess=()=>{o.result?n(o.result):n(null)},o.onerror=()=>r(o.error)})}async getFilesByCategory(e){return this.db||await this.init(),new Promise((n,r)=>{const o=this.db.transaction(["files"],"readonly").objectStore("files").index("category").getAll(e);o.onsuccess=()=>{n(o.result||[])},o.onerror=()=>r(o.error)})}async getAllFiles(){return this.db||await this.init(),new Promise((e,n)=>{const r=this.db.transaction(["files"],"readonly").objectStore("files").getAll();r.onsuccess=()=>{console.log("AssetStorage: getAllFiles - request.result:",r.result),e(r.result||[])},r.onerror=()=>{console.error("AssetStorage: Error en getAllFiles:",r.error),n(r.error)}})}async deleteFile(e){return this.db||await this.init(),new Promise((n,r)=>{const o=this.db.transaction(["files"],"readwrite").objectStore("files").delete(e);o.onsuccess=()=>{this.removeFromMetadata(e),n()},o.onerror=()=>r(o.error)})}async clearAllFiles(){return this.db||await this.init(),new Promise((e,n)=>{const r=this.db.transaction(["files"],"readwrite").objectStore("files").clear();r.onsuccess=()=>{localStorage.removeItem(this.metadataKey),console.log("\ud83d\uddd1\ufe0f Todos los archivos eliminados de IndexedDB"),e()},r.onerror=()=>n(r.error)})}updateMetadata(e){try{const n=this.getMetadata();n[e.id]={name:e.name,category:e.category,folderPath:e.folderPath,filePath:e.filePath,uploadedAt:(new Date).toISOString(),lastSync:(new Date).toISOString()},localStorage.setItem(this.metadataKey,JSON.stringify(n)),console.log("AssetStorage: Metadatos actualizados para ".concat(e.name))}catch(n){console.warn("No se pudieron actualizar metadatos en localStorage:",n)}}removeFromMetadata(e){try{const n=this.getMetadata();delete n[e],localStorage.setItem(this.metadataKey,JSON.stringify(n))}catch(n){console.warn("No se pudieron actualizar metadatos en localStorage:",n)}}getMetadata(){try{const e=localStorage.getItem(this.metadataKey);return e?JSON.parse(e):{}}catch(e){return console.warn("Error al obtener metadatos:",e),{}}}async getImageUrl(e){if(!e)return null;const n=(await this.getAllFiles()).find(n=>n.folderPath===e||n.name===e.split("/").pop());return n?n.data:null}async getFilesByCategoryCompat(e){console.log('=== AssetStorage: Buscando archivos en categor\xeda "'.concat(e,'" ==='));try{console.log('AssetStorage: Filtrando manualmente archivos para categor\xeda "'.concat(e,'"...'));const n=await this.getAllFiles();console.log("AssetStorage: Total de archivos en DB: ".concat(n.length));const r=n.filter(n=>{const r=n.category===e;return console.log('AssetStorage: Archivo "'.concat(n.name,'" - categor\xeda: "').concat(n.category,'", coincide: ').concat(r)),r});return console.log('AssetStorage: Archivos filtrados para "'.concat(e,'": ').concat(r.length)),r.map(e=>({id:e.id,name:e.name,category:e.category,folderPath:e.folderPath,data:e.data,url:e.data}))}catch(n){return console.error("AssetStorage: Error al buscar archivos por categor\xeda:",n),[]}}async clearAll(){return this.db||await this.init(),new Promise((e,n)=>{const r=this.db.transaction(["files"],"readwrite").objectStore("files").clear();r.onsuccess=()=>{localStorage.removeItem(this.metadataKey),e()},r.onerror=()=>n(r.error)})}async getStorageStats(){console.log("=== AssetStorage: Obteniendo estad\xedsticas ===");const e=await this.getAllFiles();console.log("AssetStorage: Archivos encontrados:",e.length),console.log("AssetStorage: Archivos:",e.map(e=>({id:e.id,name:e.name,category:e.category})));const n=e.reduce((e,n)=>e+(n.data?n.data.length:0),0),r={totalFiles:e.length,totalSize:n,totalSizeMB:(n/1048576).toFixed(2),categories:[...new Set(e.map(e=>e.category))]};return console.log("AssetStorage: Estad\xedsticas calculadas:",r),console.log("=== AssetStorage: Fin estad\xedsticas ==="),r}}},730:(e,n,r)=>{"use strict";var o=r(43),t=r(853);function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(s[e]=n,e=0;e<n.length;e++)i.add(n[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function f(e,n,r,o,t,a,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=o,this.attributeNamespace=t,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];x[n]=new f(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,n,r,o){var t=x.hasOwnProperty(n)?x[n]:null;(null!==t?0!==t.type:o||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,r,o){if(null===n||"undefined"===typeof n||function(e,n,r,o){if(null!==r&&0===r.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,r,o))return!0;if(o)return!1;if(null!==r)switch(r.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,r,t,o)&&(r=null),o||null===t?function(e){return!!u.call(g,e)||!u.call(h,e)&&(p.test(e)?g[e]=!0:(h[e]=!0,!1))}(n)&&(null===r?e.removeAttribute(n):e.setAttribute(n,""+r)):t.mustUseProperty?e[t.propertyName]=null===r?3!==t.type&&"":r:(n=t.attributeName,o=t.attributeNamespace,null===r?e.removeAttribute(n):(r=3===(t=t.type)||4===t&&!0===r?"":""+r,o?e.setAttributeNS(o,n,r):e.setAttribute(n,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(m,v);x[n]=new f(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(m,v);x[n]=new f(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(m,v);x[n]=new f(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var N,R=Object.assign;function F(e){if(void 0===N)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||""}return"\n"+N+e}var M=!1;function H(e,n){if(!e||M)return"";M=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(c){var o=c}Reflect.construct(e,[],n)}else{try{n.call()}catch(c){o=c}e.call(n.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&"string"===typeof c.stack){for(var t=c.stack.split("\n"),a=o.stack.split("\n"),i=t.length-1,s=a.length-1;1<=i&&0<=s&&t[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(t[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||t[i]!==a[s]){var l="\n"+t[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{M=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case _:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case z:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(n=e.displayName||null)?n:W(e.type)||"Memo";case L:n=e._payload,e=e._init;try{return W(e(n))}catch(r){}}return null}function V(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(n);case 8:return n===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof n)return n.displayName||n.name||null;if("string"===typeof n)return n}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function G(e){e._valueTracker||(e._valueTracker=function(e){var n=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var t=r.get,a=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return t.call(this)},set:function(e){o=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function Y(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=q(e)?e.checked?"true":"false":e.value),(e=o)!==r&&(n.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function J(e,n){var r=n.checked;return R({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Z(e,n){var r=null==n.defaultValue?"":n.defaultValue,o=null!=n.checked?n.checked:n.defaultChecked;r=U(null!=n.value?n.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function K(e,n){null!=(n=n.checked)&&b(e,"checked",n,!1)}function Q(e,n){K(e,n);var r=U(n.value),o=n.type;if(null!=r)"number"===o?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,r):n.hasOwnProperty("defaultValue")&&ee(e,n.type,U(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function X(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!("submit"!==o&&"reset"!==o||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,n,r){"number"===n&&$(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ne=Array.isArray;function re(e,n,r,o){if(e=e.options,n){n={};for(var t=0;t<r.length;t++)n["$"+r[t]]=!0;for(r=0;r<e.length;r++)t=n.hasOwnProperty("$"+e[r].value),e[r].selected!==t&&(e[r].selected=t),t&&o&&(e[r].defaultSelected=!0)}else{for(r=""+U(r),n=null,t=0;t<e.length;t++){if(e[t].value===r)return e[t].selected=!0,void(o&&(e[t].defaultSelected=!0));null!==n||e[t].disabled||(n=e[t])}null!==n&&(n.selected=!0)}}function oe(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(a(91));return R({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function te(e,n){var r=n.value;if(null==r){if(r=n.children,n=n.defaultValue,null!=r){if(null!=n)throw Error(a(92));if(ne(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),r=n}e._wrapperState={initialValue:U(r)}}function ae(e,n){var r=U(n.value),o=U(n.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==n.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=o&&(e.defaultValue=""+o)}function ie(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?se(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return de(e,n)})}:de);function pe(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=n)}e.textContent=n}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,n,r){return null==n||"boolean"===typeof n||""===n?"":r||"number"!==typeof n||0===n||he.hasOwnProperty(e)&&he[e]?(""+n).trim():n+"px"}function xe(e,n){for(var r in e=e.style,n)if(n.hasOwnProperty(r)){var o=0===r.indexOf("--"),t=fe(r,n[r],o);"float"===r&&(r="cssFloat"),o?e.setProperty(r,t):e[r]=t}}Object.keys(he).forEach(function(e){ge.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),he[n]=he[e]})});var me=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,n){if(n){if(me[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(a(60));if("object"!==typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=n.style&&"object"!==typeof n.style)throw Error(a(62))}}function be(e,n){if(-1===e.indexOf("-"))return"string"===typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Se=null;function _e(e){if(e=yt(e)){if("function"!==typeof je)throw Error(a(280));var n=e.stateNode;n&&(n=jt(n),je(e.stateNode,e.type,n))}}function Ce(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ee(){if(ke){var e=ke,n=Se;if(Se=ke=null,_e(e),n)for(e=0;e<n.length;e++)_e(n[e])}}function ze(e,n){return e(n)}function Pe(){}var Te=!1;function Ie(e,n,r){if(Te)return e(n,r);Te=!0;try{return ze(e,n,r)}finally{Te=!1,(null!==ke||null!==Se)&&(Pe(),Ee())}}function Le(e,n){var r=e.stateNode;if(null===r)return null;var o=jt(r);if(null===o)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,n,typeof r));return r}var Ae=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Ae=!1}function Oe(e,n,r,o,t,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{n.apply(r,c)}catch(d){this.onError(d)}}var Ne=!1,Re=null,Fe=!1,Me=null,He={onError:function(e){Ne=!0,Re=e}};function Be(e,n,r,o,t,a,i,s,l){Ne=!1,Re=null,Oe.apply(He,arguments)}function We(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(r=n.return),e=n.return}while(e)}return 3===n.tag?r:null}function Ve(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function Ue(e){if(We(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=We(e)))throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var t=r.return;if(null===t)break;var i=t.alternate;if(null===i){if(null!==(o=t.return)){r=o;continue}break}if(t.child===i.child){for(i=t.child;i;){if(i===r)return Ue(t),e;if(i===o)return Ue(t),n;i=i.sibling}throw Error(a(188))}if(r.return!==o.return)r=t,o=i;else{for(var s=!1,l=t.child;l;){if(l===r){s=!0,r=t,o=i;break}if(l===o){s=!0,o=t,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,o=t;break}if(l===o){s=!0,o=i,r=t;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:n}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Ge(e);if(null!==n)return n;e=e.sibling}return null}var Ye=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,Je=t.unstable_shouldYield,Ze=t.unstable_requestPaint,Ke=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,Xe=t.unstable_ImmediatePriority,en=t.unstable_UserBlockingPriority,nn=t.unstable_NormalPriority,rn=t.unstable_LowPriority,on=t.unstable_IdlePriority,tn=null,an=null;var sn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2;var dn=64,un=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hn(e,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,t=e.suspendedLanes,a=e.pingedLanes,i=268435455&r;if(0!==i){var s=i&~t;0!==s?o=pn(s):0!==(a&=i)&&(o=pn(a))}else 0!==(i=r&~t)?o=pn(i):0!==a&&(o=pn(a));if(0===o)return 0;if(0!==n&&n!==o&&0===(n&t)&&((t=o&-o)>=(a=n&-n)||16===t&&0!==(4194240&a)))return n;if(0!==(4&o)&&(o|=16&r),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=o;0<n;)t=1<<(r=31-sn(n)),o|=e[r],n&=~t;return o}function gn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function fn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xn(){var e=dn;return 0===(4194240&(dn<<=1))&&(dn=64),e}function mn(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function vn(e,n,r){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-sn(n)]=r}function bn(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-sn(r),t=1<<o;t&n|e[o]&n&&(e[o]|=n),r&=~t}}var yn=0;function wn(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jn,kn,Sn,_n,Cn,En=!1,zn=[],Pn=null,Tn=null,In=null,Ln=new Map,An=new Map,Dn=[],On="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nn(e,n){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Ln.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(n.pointerId)}}function Rn(e,n,r,o,t,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:a,targetContainers:[t]},null!==n&&(null!==(n=yt(n))&&kn(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,null!==t&&-1===n.indexOf(t)&&n.push(t),e)}function Fn(e){var n=bt(e.target);if(null!==n){var r=We(n);if(null!==r)if(13===(n=r.tag)){if(null!==(n=Ve(r)))return e.blockedOn=n,void Cn(e.priority,function(){Sn(r)})}else if(3===n&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Mn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var r=Zn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==r)return null!==(n=yt(r))&&kn(n),e.blockedOn=r,!1;var o=new(r=e.nativeEvent).constructor(r.type,r);ye=o,r.target.dispatchEvent(o),ye=null,n.shift()}return!0}function Hn(e,n,r){Mn(e)&&r.delete(n)}function Bn(){En=!1,null!==Pn&&Mn(Pn)&&(Pn=null),null!==Tn&&Mn(Tn)&&(Tn=null),null!==In&&Mn(In)&&(In=null),Ln.forEach(Hn),An.forEach(Hn)}function Wn(e,n){e.blockedOn===n&&(e.blockedOn=null,En||(En=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Bn)))}function Vn(e){function n(n){return Wn(n,e)}if(0<zn.length){Wn(zn[0],e);for(var r=1;r<zn.length;r++){var o=zn[r];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==Pn&&Wn(Pn,e),null!==Tn&&Wn(Tn,e),null!==In&&Wn(In,e),Ln.forEach(n),An.forEach(n),r=0;r<Dn.length;r++)(o=Dn[r]).blockedOn===e&&(o.blockedOn=null);for(;0<Dn.length&&null===(r=Dn[0]).blockedOn;)Fn(r),null===r.blockedOn&&Dn.shift()}var Un=y.ReactCurrentBatchConfig,qn=!0;function Gn(e,n,r,o){var t=yn,a=Un.transition;Un.transition=null;try{yn=1,$n(e,n,r,o)}finally{yn=t,Un.transition=a}}function Yn(e,n,r,o){var t=yn,a=Un.transition;Un.transition=null;try{yn=4,$n(e,n,r,o)}finally{yn=t,Un.transition=a}}function $n(e,n,r,o){if(qn){var t=Zn(e,n,r,o);if(null===t)qo(e,n,o,Jn,r),Nn(e,o);else if(function(e,n,r,o,t){switch(n){case"focusin":return Pn=Rn(Pn,e,n,r,o,t),!0;case"dragenter":return Tn=Rn(Tn,e,n,r,o,t),!0;case"mouseover":return In=Rn(In,e,n,r,o,t),!0;case"pointerover":var a=t.pointerId;return Ln.set(a,Rn(Ln.get(a)||null,e,n,r,o,t)),!0;case"gotpointercapture":return a=t.pointerId,An.set(a,Rn(An.get(a)||null,e,n,r,o,t)),!0}return!1}(t,e,n,r,o))o.stopPropagation();else if(Nn(e,o),4&n&&-1<On.indexOf(e)){for(;null!==t;){var a=yt(t);if(null!==a&&jn(a),null===(a=Zn(e,n,r,o))&&qo(e,n,o,Jn,r),a===t)break;t=a}null!==t&&o.stopPropagation()}else qo(e,n,o,null,r)}}var Jn=null;function Zn(e,n,r,o){if(Jn=null,null!==(e=bt(e=we(o))))if(null===(n=We(e)))e=null;else if(13===(r=n.tag)){if(null!==(e=Ve(n)))return e;e=null}else if(3===r){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Jn=e,null}function Kn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case en:return 4;case nn:case rn:return 16;case on:return 536870912;default:return 16}default:return 16}}var Qn=null,Xn=null,er=null;function nr(){if(er)return er;var e,n,r=Xn,o=r.length,t="value"in Qn?Qn.value:Qn.textContent,a=t.length;for(e=0;e<o&&r[e]===t[e];e++);var i=o-e;for(n=1;n<=i&&r[o-n]===t[a-n];n++);return er=t.slice(e,1<n?1-n:void 0)}function rr(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function or(){return!0}function tr(){return!1}function ar(e){function n(n,r,o,t,a){for(var i in this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=t,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(t):t[i]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?or:tr,this.isPropagationStopped=tr,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),n}var ir,sr,lr,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=ar(cr),ur=R({},cr,{view:0,detail:0}),pr=ar(ur),hr=R({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(ir=e.screenX-lr.screenX,sr=e.screenY-lr.screenY):sr=ir=0,lr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),gr=ar(hr),fr=ar(R({},hr,{dataTransfer:0})),xr=ar(R({},ur,{relatedTarget:0})),mr=ar(R({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=R({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=ar(vr),yr=ar(R({},cr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=kr[e])&&!!n[e]}function _r(){return Sr}var Cr=R({},ur,{key:function(e){if(e.key){var n=wr[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=rr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return"keypress"===e.type?rr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Er=ar(Cr),zr=ar(R({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=ar(R({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r})),Tr=ar(R({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=R({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lr=ar(Ir),Ar=[9,13,27,32],Dr=d&&"CompositionEvent"in window,Or=null;d&&"documentMode"in document&&(Or=document.documentMode);var Nr=d&&"TextEvent"in window&&!Or,Rr=d&&(!Dr||Or&&8<Or&&11>=Or),Fr=String.fromCharCode(32),Mr=!1;function Hr(e,n){switch(e){case"keyup":return-1!==Ar.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ur(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Vr[e.type]:"textarea"===n}function qr(e,n,r,o){Ce(o),0<(n=Yo(n,"onChange")).length&&(r=new dr("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Gr=null,Yr=null;function $r(e){Mo(e,0)}function Jr(e){if(Y(wt(e)))return e}function Zr(e,n){if("change"===e)return n}var Kr=!1;if(d){var Qr;if(d){var Xr="oninput"in document;if(!Xr){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),Xr="function"===typeof eo.oninput}Qr=Xr}else Qr=!1;Kr=Qr&&(!document.documentMode||9<document.documentMode)}function no(){Gr&&(Gr.detachEvent("onpropertychange",ro),Yr=Gr=null)}function ro(e){if("value"===e.propertyName&&Jr(Yr)){var n=[];qr(n,Yr,e,we(e)),Ie($r,n)}}function oo(e,n,r){"focusin"===e?(no(),Yr=r,(Gr=n).attachEvent("onpropertychange",ro)):"focusout"===e&&no()}function to(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jr(Yr)}function ao(e,n){if("click"===e)return Jr(n)}function io(e,n){if("input"===e||"change"===e)return Jr(n)}var so="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function lo(e,n){if(so(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var t=r[o];if(!u.call(n,t)||!so(e[t],n[t]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uo(e,n){var r,o=co(e);for(e=0;o;){if(3===o.nodeType){if(r=e+o.textContent.length,e<=n&&r>=n)return{node:o,offset:n-e};e=r}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=co(o)}}function po(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?po(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function ho(){for(var e=window,n=$();n instanceof e.HTMLIFrameElement;){try{var r="string"===typeof n.contentWindow.location.href}catch(o){r=!1}if(!r)break;n=$((e=n.contentWindow).document)}return n}function go(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function fo(e){var n=ho(),r=e.focusedElem,o=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&po(r.ownerDocument.documentElement,r)){if(null!==o&&go(r))if(n=o.start,void 0===(e=o.end)&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if((e=(n=r.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var t=r.textContent.length,a=Math.min(o.start,t);o=void 0===o.end?a:Math.min(o.end,t),!e.extend&&a>o&&(t=o,o=a,a=t),t=uo(r,a);var i=uo(r,o);t&&i&&(1!==e.rangeCount||e.anchorNode!==t.node||e.anchorOffset!==t.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((n=n.createRange()).setStart(t.node,t.offset),e.removeAllRanges(),a>o?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}for(n=[],e=r;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<n.length;r++)(e=n[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xo=d&&"documentMode"in document&&11>=document.documentMode,mo=null,vo=null,bo=null,yo=!1;function wo(e,n,r){var o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yo||null==mo||mo!==$(o)||("selectionStart"in(o=mo)&&go(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},bo&&lo(bo,o)||(bo=o,0<(o=Yo(vo,"onSelect")).length&&(n=new dr("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=mo)))}function jo(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ko={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},So={},_o={};function Co(e){if(So[e])return So[e];if(!ko[e])return e;var n,r=ko[e];for(n in r)if(r.hasOwnProperty(n)&&n in _o)return So[e]=r[n];return e}d&&(_o=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);var Eo=Co("animationend"),zo=Co("animationiteration"),Po=Co("animationstart"),To=Co("transitionend"),Io=new Map,Lo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(e,n){Io.set(e,n),l(n,[e])}for(var Do=0;Do<Lo.length;Do++){var Oo=Lo[Do];Ao(Oo.toLowerCase(),"on"+(Oo[0].toUpperCase()+Oo.slice(1)))}Ao(Eo,"onAnimationEnd"),Ao(zo,"onAnimationIteration"),Ao(Po,"onAnimationStart"),Ao("dblclick","onDoubleClick"),Ao("focusin","onFocus"),Ao("focusout","onBlur"),Ao(To,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ro=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function Fo(e,n,r){var o=e.type||"unknown-event";e.currentTarget=r,function(e,n,r,o,t,i,s,l,c){if(Be.apply(this,arguments),Ne){if(!Ne)throw Error(a(198));var d=Re;Ne=!1,Re=null,Fe||(Fe=!0,Me=d)}}(o,n,void 0,e),e.currentTarget=null}function Mo(e,n){n=0!==(4&n);for(var r=0;r<e.length;r++){var o=e[r],t=o.event;o=o.listeners;e:{var a=void 0;if(n)for(var i=o.length-1;0<=i;i--){var s=o[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&t.isPropagationStopped())break e;Fo(t,s,c),a=l}else for(i=0;i<o.length;i++){if(l=(s=o[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&t.isPropagationStopped())break e;Fo(t,s,c),a=l}}}if(Fe)throw e=Me,Fe=!1,Me=null,e}function Ho(e,n){var r=n[xt];void 0===r&&(r=n[xt]=new Set);var o=e+"__bubble";r.has(o)||(Uo(n,e,2,!1),r.add(o))}function Bo(e,n,r){var o=0;n&&(o|=4),Uo(r,e,o,n)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[Wo]){e[Wo]=!0,i.forEach(function(n){"selectionchange"!==n&&(Ro.has(n)||Bo(n,!1,e),Bo(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Wo]||(n[Wo]=!0,Bo("selectionchange",!1,n))}}function Uo(e,n,r,o){switch(Kn(n)){case 1:var t=Gn;break;case 4:t=Yn;break;default:t=$n}r=t.bind(null,n,r,e),t=void 0,!Ae||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(t=!0),o?void 0!==t?e.addEventListener(n,r,{capture:!0,passive:t}):e.addEventListener(n,r,!0):void 0!==t?e.addEventListener(n,r,{passive:t}):e.addEventListener(n,r,!1)}function qo(e,n,r,o,t){var a=o;if(0===(1&n)&&0===(2&n)&&null!==o)e:for(;;){if(null===o)return;var i=o.tag;if(3===i||4===i){var s=o.stateNode.containerInfo;if(s===t||8===s.nodeType&&s.parentNode===t)break;if(4===i)for(i=o.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===t||8===l.nodeType&&l.parentNode===t))return;i=i.return}for(;null!==s;){if(null===(i=bt(s)))return;if(5===(l=i.tag)||6===l){o=a=i;continue e}s=s.parentNode}}o=o.return}Ie(function(){var o=a,t=we(r),i=[];e:{var s=Io.get(e);if(void 0!==s){var l=dr,c=e;switch(e){case"keypress":if(0===rr(r))break e;case"keydown":case"keyup":l=Er;break;case"focusin":c="focus",l=xr;break;case"focusout":c="blur",l=xr;break;case"beforeblur":case"afterblur":l=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case Eo:case zo:case Po:l=mr;break;case To:l=Tr;break;case"scroll":l=pr;break;case"wheel":l=Lr;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=zr}var d=0!==(4&n),u=!d&&"scroll"===e,p=d?null!==s?s+"Capture":null:s;d=[];for(var h,g=o;null!==g;){var f=(h=g).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==p&&(null!=(f=Le(g,p))&&d.push(Go(g,f,h)))),u)break;g=g.return}0<d.length&&(s=new l(s,c,null,r,t),i.push({event:s,listeners:d}))}}if(0===(7&n)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!bt(c)&&!c[ft])&&(l||s)&&(s=t.window===t?t:(s=t.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=o,null!==(c=(c=r.relatedTarget||r.toElement)?bt(c):null)&&(c!==(u=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=o),l!==c)){if(d=gr,f="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=zr,f="onPointerLeave",p="onPointerEnter",g="pointer"),u=null==l?s:wt(l),h=null==c?s:wt(c),(s=new d(f,g+"leave",l,r,t)).target=u,s.relatedTarget=h,f=null,bt(t)===o&&((d=new d(p,g+"enter",c,r,t)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,g=0,h=d=l;h;h=$o(h))g++;for(h=0,f=p;f;f=$o(f))h++;for(;0<g-h;)d=$o(d),g--;for(;0<h-g;)p=$o(p),h--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break e;d=$o(d),p=$o(p)}d=null}else d=null;null!==l&&Jo(i,s,l,d,!1),null!==c&&null!==u&&Jo(i,u,c,d,!0)}if("select"===(l=(s=o?wt(o):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var x=Zr;else if(Ur(s))if(Kr)x=io;else{x=to;var m=oo}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(x=ao);switch(x&&(x=x(e,o))?qr(i,x,r,t):(m&&m(e,s,o),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=o?wt(o):window,e){case"focusin":(Ur(m)||"true"===m.contentEditable)&&(mo=m,vo=o,bo=null);break;case"focusout":bo=vo=mo=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,wo(i,r,t);break;case"selectionchange":if(xo)break;case"keydown":case"keyup":wo(i,r,t)}var v;if(Dr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wr?Hr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Rr&&"ko"!==r.locale&&(Wr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wr&&(v=nr()):(Xn="value"in(Qn=t)?Qn.value:Qn.textContent,Wr=!0)),0<(m=Yo(o,b)).length&&(b=new yr(b,e,null,r,t),i.push({event:b,listeners:m}),v?b.data=v:null!==(v=Br(r))&&(b.data=v))),(v=Nr?function(e,n){switch(e){case"compositionend":return Br(n);case"keypress":return 32!==n.which?null:(Mr=!0,Fr);case"textInput":return(e=n.data)===Fr&&Mr?null:e;default:return null}}(e,r):function(e,n){if(Wr)return"compositionend"===e||!Dr&&Hr(e,n)?(e=nr(),er=Xn=Qn=null,Wr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rr&&"ko"!==n.locale?null:n.data}}(e,r))&&(0<(o=Yo(o,"onBeforeInput")).length&&(t=new yr("onBeforeInput","beforeinput",null,r,t),i.push({event:t,listeners:o}),t.data=v))}Mo(i,n)})}function Go(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Yo(e,n){for(var r=n+"Capture",o=[];null!==e;){var t=e,a=t.stateNode;5===t.tag&&null!==a&&(t=a,null!=(a=Le(e,r))&&o.unshift(Go(e,a,t)),null!=(a=Le(e,n))&&o.push(Go(e,a,t))),e=e.return}return o}function $o(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jo(e,n,r,o,t){for(var a=n._reactName,i=[];null!==r&&r!==o;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===o)break;5===s.tag&&null!==c&&(s=c,t?null!=(l=Le(r,a))&&i.unshift(Go(r,l,s)):t||null!=(l=Le(r,a))&&i.push(Go(r,l,s))),r=r.return}0!==i.length&&e.push({event:n,listeners:i})}var Zo=/\r\n?/g,Ko=/\u0000|\uFFFD/g;function Qo(e){return("string"===typeof e?e:""+e).replace(Zo,"\n").replace(Ko,"")}function Xo(e,n,r){if(n=Qo(n),Qo(e)!==n&&r)throw Error(a(425))}function et(){}var nt=null,rt=null;function ot(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var tt="function"===typeof setTimeout?setTimeout:void 0,at="function"===typeof clearTimeout?clearTimeout:void 0,it="function"===typeof Promise?Promise:void 0,st="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof it?function(e){return it.resolve(null).then(e).catch(lt)}:tt;function lt(e){setTimeout(function(){throw e})}function ct(e,n){var r=n,o=0;do{var t=r.nextSibling;if(e.removeChild(r),t&&8===t.nodeType)if("/$"===(r=t.data)){if(0===o)return e.removeChild(t),void Vn(n);o--}else"$"!==r&&"$?"!==r&&"$!"!==r||o++;r=t}while(r);Vn(n)}function dt(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function ut(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===n)return e;n--}else"/$"===r&&n++}e=e.previousSibling}return null}var pt=Math.random().toString(36).slice(2),ht="__reactFiber$"+pt,gt="__reactProps$"+pt,ft="__reactContainer$"+pt,xt="__reactEvents$"+pt,mt="__reactListeners$"+pt,vt="__reactHandles$"+pt;function bt(e){var n=e[ht];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ft]||r[ht]){if(r=n.alternate,null!==n.child||null!==r&&null!==r.child)for(e=ut(e);null!==e;){if(r=e[ht])return r;e=ut(e)}return n}r=(e=r).parentNode}return null}function yt(e){return!(e=e[ht]||e[ft])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wt(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function jt(e){return e[gt]||null}var kt=[],St=-1;function _t(e){return{current:e}}function Ct(e){0>St||(e.current=kt[St],kt[St]=null,St--)}function Et(e,n){St++,kt[St]=e.current,e.current=n}var zt={},Pt=_t(zt),Tt=_t(!1),It=zt;function Lt(e,n){var r=e.type.contextTypes;if(!r)return zt;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var t,a={};for(t in r)a[t]=n[t];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function At(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Dt(){Ct(Tt),Ct(Pt)}function Ot(e,n,r){if(Pt.current!==zt)throw Error(a(168));Et(Pt,n),Et(Tt,r)}function Nt(e,n,r){var o=e.stateNode;if(n=n.childContextTypes,"function"!==typeof o.getChildContext)return r;for(var t in o=o.getChildContext())if(!(t in n))throw Error(a(108,V(e)||"Unknown",t));return R({},r,o)}function Rt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zt,It=Pt.current,Et(Pt,e),Et(Tt,Tt.current),!0}function Ft(e,n,r){var o=e.stateNode;if(!o)throw Error(a(169));r?(e=Nt(e,n,It),o.__reactInternalMemoizedMergedChildContext=e,Ct(Tt),Ct(Pt),Et(Pt,e)):Ct(Tt),Et(Tt,r)}var Mt=null,Ht=!1,Bt=!1;function Wt(e){null===Mt?Mt=[e]:Mt.push(e)}function Vt(){if(!Bt&&null!==Mt){Bt=!0;var e=0,n=yn;try{var r=Mt;for(yn=1;e<r.length;e++){var o=r[e];do{o=o(!0)}while(null!==o)}Mt=null,Ht=!1}catch(t){throw null!==Mt&&(Mt=Mt.slice(e+1)),Ye(Xe,Vt),t}finally{yn=n,Bt=!1}}return null}var Ut=[],qt=0,Gt=null,Yt=0,$t=[],Jt=0,Zt=null,Kt=1,Qt="";function Xt(e,n){Ut[qt++]=Yt,Ut[qt++]=Gt,Gt=e,Yt=n}function ea(e,n,r){$t[Jt++]=Kt,$t[Jt++]=Qt,$t[Jt++]=Zt,Zt=e;var o=Kt;e=Qt;var t=32-sn(o)-1;o&=~(1<<t),r+=1;var a=32-sn(n)+t;if(30<a){var i=t-t%5;a=(o&(1<<i)-1).toString(32),o>>=i,t-=i,Kt=1<<32-sn(n)+t|r<<t|o,Qt=a+e}else Kt=1<<a|r<<t|o,Qt=e}function na(e){null!==e.return&&(Xt(e,1),ea(e,1,0))}function ra(e){for(;e===Gt;)Gt=Ut[--qt],Ut[qt]=null,Yt=Ut[--qt],Ut[qt]=null;for(;e===Zt;)Zt=$t[--Jt],$t[Jt]=null,Qt=$t[--Jt],$t[Jt]=null,Kt=$t[--Jt],$t[Jt]=null}var oa=null,ta=null,aa=!1,ia=null;function sa(e,n){var r=Ic(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,null===(n=e.deletions)?(e.deletions=[r],e.flags|=16):n.push(r)}function la(e,n){switch(e.tag){case 5:var r=e.type;return null!==(n=1!==n.nodeType||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,oa=e,ta=dt(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,oa=e,ta=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(r=null!==Zt?{id:Kt,overflow:Qt}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},(r=Ic(18,null,null,0)).stateNode=n,r.return=e,e.child=r,oa=e,ta=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function da(e){if(aa){var n=ta;if(n){var r=n;if(!la(e,n)){if(ca(e))throw Error(a(418));n=dt(r.nextSibling);var o=oa;n&&la(e,n)?sa(o,r):(e.flags=-4097&e.flags|2,aa=!1,oa=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,oa=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oa=e}function pa(e){if(e!==oa)return!1;if(!aa)return ua(e),aa=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!ot(e.type,e.memoizedProps)),n&&(n=ta)){if(ca(e))throw ha(),Error(a(418));for(;n;)sa(e,n),n=dt(n.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===n){ta=dt(e.nextSibling);break e}n--}else"$"!==r&&"$!"!==r&&"$?"!==r||n++}e=e.nextSibling}ta=null}}else ta=oa?dt(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ta;e;)e=dt(e.nextSibling)}function ga(){ta=oa=null,aa=!1}function fa(e){null===ia?ia=[e]:ia.push(e)}var xa=y.ReactCurrentBatchConfig;function ma(e,n,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var o=r.stateNode}if(!o)throw Error(a(147,e));var t=o,i=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var n=t.refs;null===e?delete n[i]:n[i]=e},n._stringRef=i,n)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function va(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function ya(e){function n(n,r){if(e){var o=n.deletions;null===o?(n.deletions=[r],n.flags|=16):o.push(r)}}function r(r,o){if(!e)return null;for(;null!==o;)n(r,o),o=o.sibling;return null}function o(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function t(e,n){return(e=Ac(e,n)).index=0,e.sibling=null,e}function i(n,r,o){return n.index=o,e?null!==(o=n.alternate)?(o=o.index)<r?(n.flags|=2,r):o:(n.flags|=2,r):(n.flags|=1048576,r)}function s(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,r,o){return null===n||6!==n.tag?((n=Rc(r,e.mode,o)).return=e,n):((n=t(n,r)).return=e,n)}function c(e,n,r,o){var a=r.type;return a===k?u(e,n,r.props.children,o,r.key):null!==n&&(n.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&ba(a)===n.type)?((o=t(n,r.props)).ref=ma(e,n,r),o.return=e,o):((o=Dc(r.type,r.key,r.props,null,e.mode,o)).ref=ma(e,n,r),o.return=e,o)}function d(e,n,r,o){return null===n||4!==n.tag||n.stateNode.containerInfo!==r.containerInfo||n.stateNode.implementation!==r.implementation?((n=Fc(r,e.mode,o)).return=e,n):((n=t(n,r.children||[])).return=e,n)}function u(e,n,r,o,a){return null===n||7!==n.tag?((n=Oc(r,e.mode,o,a)).return=e,n):((n=t(n,r)).return=e,n)}function p(e,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return(n=Rc(""+n,e.mode,r)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return(r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=ma(e,null,n),r.return=e,r;case j:return(n=Fc(n,e.mode,r)).return=e,n;case L:return p(e,(0,n._init)(n._payload),r)}if(ne(n)||O(n))return(n=Oc(n,e.mode,r,null)).return=e,n;va(e,n)}return null}function h(e,n,r,o){var t=null!==n?n.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==t?null:l(e,n,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===t?c(e,n,r,o):null;case j:return r.key===t?d(e,n,r,o):null;case L:return h(e,n,(t=r._init)(r._payload),o)}if(ne(r)||O(r))return null!==t?null:u(e,n,r,o,null);va(e,r)}return null}function g(e,n,r,o,t){if("string"===typeof o&&""!==o||"number"===typeof o)return l(n,e=e.get(r)||null,""+o,t);if("object"===typeof o&&null!==o){switch(o.$$typeof){case w:return c(n,e=e.get(null===o.key?r:o.key)||null,o,t);case j:return d(n,e=e.get(null===o.key?r:o.key)||null,o,t);case L:return g(e,n,r,(0,o._init)(o._payload),t)}if(ne(o)||O(o))return u(n,e=e.get(r)||null,o,t,null);va(n,o)}return null}function f(t,a,s,l){for(var c=null,d=null,u=a,f=a=0,x=null;null!==u&&f<s.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var m=h(t,u,s[f],l);if(null===m){null===u&&(u=x);break}e&&u&&null===m.alternate&&n(t,u),a=i(m,a,f),null===d?c=m:d.sibling=m,d=m,u=x}if(f===s.length)return r(t,u),aa&&Xt(t,f),c;if(null===u){for(;f<s.length;f++)null!==(u=p(t,s[f],l))&&(a=i(u,a,f),null===d?c=u:d.sibling=u,d=u);return aa&&Xt(t,f),c}for(u=o(t,u);f<s.length;f++)null!==(x=g(u,t,f,s[f],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),a=i(x,a,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return n(t,e)}),aa&&Xt(t,f),c}function x(t,s,l,c){var d=O(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=s,x=s=0,m=null,v=l.next();null!==f&&!v.done;x++,v=l.next()){f.index>x?(m=f,f=null):m=f.sibling;var b=h(t,f,v.value,c);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&n(t,f),s=i(b,s,x),null===u?d=b:u.sibling=b,u=b,f=m}if(v.done)return r(t,f),aa&&Xt(t,x),d;if(null===f){for(;!v.done;x++,v=l.next())null!==(v=p(t,v.value,c))&&(s=i(v,s,x),null===u?d=v:u.sibling=v,u=v);return aa&&Xt(t,x),d}for(f=o(t,f);!v.done;x++,v=l.next())null!==(v=g(f,t,x,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?x:v.key),s=i(v,s,x),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return n(t,e)}),aa&&Xt(t,x),d}return function e(o,a,i,l){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===k){if(7===d.tag){r(o,d.sibling),(a=t(d,i.props.children)).return=o,o=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&ba(c)===d.type){r(o,d.sibling),(a=t(d,i.props)).ref=ma(o,d,i),a.return=o,o=a;break e}r(o,d);break}n(o,d),d=d.sibling}i.type===k?((a=Oc(i.props.children,o.mode,l,i.key)).return=o,o=a):((l=Dc(i.type,i.key,i.props,null,o.mode,l)).ref=ma(o,a,i),l.return=o,o=l)}return s(o);case j:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){r(o,a.sibling),(a=t(a,i.children||[])).return=o,o=a;break e}r(o,a);break}n(o,a),a=a.sibling}(a=Fc(i,o.mode,l)).return=o,o=a}return s(o);case L:return e(o,a,(d=i._init)(i._payload),l)}if(ne(i))return f(o,a,i,l);if(O(i))return x(o,a,i,l);va(o,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(r(o,a.sibling),(a=t(a,i)).return=o,o=a):(r(o,a),(a=Rc(i,o.mode,l)).return=o,o=a),s(o)):r(o,a)}}var wa=ya(!0),ja=ya(!1),ka=_t(null),Sa=null,_a=null,Ca=null;function Ea(){Ca=_a=Sa=null}function za(e){var n=ka.current;Ct(ka),e._currentValue=n}function Pa(e,n,r){for(;null!==e;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==o&&(o.childLanes|=n)):null!==o&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Ta(e,n){Sa=e,Ca=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(bs=!0),e.firstContext=null)}function Ia(e){var n=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:n,next:null},null===_a){if(null===Sa)throw Error(a(308));_a=e,Sa.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return n}var La=null;function Aa(e){null===La?La=[e]:La.push(e)}function Da(e,n,r,o){var t=n.interleaved;return null===t?(r.next=r,Aa(n)):(r.next=t.next,t.next=r),n.interleaved=r,Oa(e,o)}function Oa(e,n){e.lanes|=n;var r=e.alternate;for(null!==r&&(r.lanes|=n),r=e,e=e.return;null!==e;)e.childLanes|=n,null!==(r=e.alternate)&&(r.childLanes|=n),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ha(e,n,r){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&zl)){var t=o.pending;return null===t?n.next=n:(n.next=t.next,t.next=n),o.pending=n,Oa(e,r)}return null===(t=o.interleaved)?(n.next=n,Aa(o)):(n.next=t.next,t.next=n),o.interleaved=n,Oa(e,r)}function Ba(e,n,r){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194240&r))){var o=n.lanes;r|=o&=e.pendingLanes,n.lanes=r,bn(e,r)}}function Wa(e,n){var r=e.updateQueue,o=e.alternate;if(null!==o&&r===(o=o.updateQueue)){var t=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?t=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?t=a=n:a=a.next=n}else t=a=n;return r={baseState:o.baseState,firstBaseUpdate:t,lastBaseUpdate:a,shared:o.shared,effects:o.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Va(e,n,r,o){var t=e.updateQueue;Na=!1;var a=t.firstBaseUpdate,i=t.lastBaseUpdate,s=t.shared.pending;if(null!==s){t.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=t.baseState;for(i=0,d=c=l=null,s=a;;){var p=s.lane,h=s.eventTime;if((o&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,f=s;switch(p=n,h=r,f.tag){case 1:if("function"===typeof(g=f.payload)){u=g.call(h,u,p);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=f.payload)?g.call(h,u,p):g)||void 0===p)break e;u=R({},u,p);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=t.effects)?t.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=p;if(null===(s=s.next)){if(null===(s=t.shared.pending))break;s=(p=s).next,p.next=null,t.lastBaseUpdate=p,t.shared.pending=null}}if(null===d&&(l=u),t.baseState=l,t.firstBaseUpdate=c,t.lastBaseUpdate=d,null!==(n=t.shared.interleaved)){t=n;do{i|=t.lane,t=t.next}while(t!==n)}else null===a&&(t.shared.lanes=0);Nl|=i,e.lanes=i,e.memoizedState=u}}function Ua(e,n,r){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var o=e[n],t=o.callback;if(null!==t){if(o.callback=null,o=r,"function"!==typeof t)throw Error(a(191,t));t.call(o)}}}var qa={},Ga=_t(qa),Ya=_t(qa),$a=_t(qa);function Ja(e){if(e===qa)throw Error(a(174));return e}function Za(e,n){switch(Et($a,n),Et(Ya,e),Et(Ga,qa),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:le(null,"");break;default:n=le(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Ct(Ga),Et(Ga,n)}function Ka(){Ct(Ga),Ct(Ya),Ct($a)}function Qa(e){Ja($a.current);var n=Ja(Ga.current),r=le(n,e.type);n!==r&&(Et(Ya,e),Et(Ga,r))}function Xa(e){Ya.current===e&&(Ct(Ga),Ct(Ya))}var ei=_t(0);function ni(e){for(var n=e;null!==n;){if(13===n.tag){var r=n.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ri=[];function oi(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var ti=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,di=!1,ui=!1,pi=0,hi=0;function gi(){throw Error(a(321))}function fi(e,n){if(null===n)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!so(e[r],n[r]))return!1;return!0}function xi(e,n,r,o,t,i){if(ii=i,si=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ti.current=null===e||null===e.memoizedState?Xi:es,e=r(o,t),ui){i=0;do{if(ui=!1,pi=0,25<=i)throw Error(a(301));i+=1,ci=li=null,n.updateQueue=null,ti.current=ns,e=r(o,t)}while(ui)}if(ti.current=Qi,n=null!==li&&null!==li.next,ii=0,ci=li=si=null,di=!1,n)throw Error(a(300));return e}function mi(){var e=0!==pi;return pi=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var n=null===ci?si.memoizedState:ci.next;if(null!==n)ci=n,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function yi(e,n){return"function"===typeof n?n(e):n}function wi(e){var n=bi(),r=n.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var o=li,t=o.baseQueue,i=r.pending;if(null!==i){if(null!==t){var s=t.next;t.next=i.next,i.next=s}o.baseQueue=t=i,r.pending=null}if(null!==t){i=t.next,o=o.baseState;var l=s=null,c=null,d=i;do{var u=d.lane;if((ii&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,s=o):c=c.next=p,si.lanes|=u,Nl|=u}d=d.next}while(null!==d&&d!==i);null===c?s=o:c.next=l,so(o,n.memoizedState)||(bs=!0),n.memoizedState=o,n.baseState=s,n.baseQueue=c,r.lastRenderedState=o}if(null!==(e=r.interleaved)){t=e;do{i=t.lane,si.lanes|=i,Nl|=i,t=t.next}while(t!==e)}else null===t&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function ji(e){var n=bi(),r=n.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,t=r.pending,i=n.memoizedState;if(null!==t){r.pending=null;var s=t=t.next;do{i=e(i,s.action),s=s.next}while(s!==t);so(i,n.memoizedState)||(bs=!0),n.memoizedState=i,null===n.baseQueue&&(n.baseState=i),r.lastRenderedState=i}return[i,o]}function ki(){}function Si(e,n){var r=si,o=bi(),t=n(),i=!so(o.memoizedState,t);if(i&&(o.memoizedState=t,bs=!0),o=o.queue,Ni(Ei.bind(null,r,o,e),[e]),o.getSnapshot!==n||i||null!==ci&&1&ci.memoizedState.tag){if(r.flags|=2048,Ii(9,Ci.bind(null,r,o,t,n),void 0,null),null===Pl)throw Error(a(349));0!==(30&ii)||_i(r,n,t)}return t}function _i(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},null===(n=si.updateQueue)?(n={lastEffect:null,stores:null},si.updateQueue=n,n.stores=[e]):null===(r=n.stores)?n.stores=[e]:r.push(e)}function Ci(e,n,r,o){n.value=r,n.getSnapshot=o,zi(n)&&Pi(e)}function Ei(e,n,r){return r(function(){zi(n)&&Pi(e)})}function zi(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!so(e,r)}catch(o){return!0}}function Pi(e){var n=Oa(e,1);null!==n&&rc(n,e,1,-1)}function Ti(e){var n=vi();return"function"===typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},n.queue=e,e=e.dispatch=$i.bind(null,si,e),[n.memoizedState,e]}function Ii(e,n,r,o){return e={tag:e,create:n,destroy:r,deps:o,next:null},null===(n=si.updateQueue)?(n={lastEffect:null,stores:null},si.updateQueue=n,n.lastEffect=e.next=e):null===(r=n.lastEffect)?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Li(){return bi().memoizedState}function Ai(e,n,r,o){var t=vi();si.flags|=e,t.memoizedState=Ii(1|n,r,void 0,void 0===o?null:o)}function Di(e,n,r,o){var t=bi();o=void 0===o?null:o;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==o&&fi(o,i.deps))return void(t.memoizedState=Ii(n,r,a,o))}si.flags|=e,t.memoizedState=Ii(1|n,r,a,o)}function Oi(e,n){return Ai(8390656,8,e,n)}function Ni(e,n){return Di(2048,8,e,n)}function Ri(e,n){return Di(4,2,e,n)}function Fi(e,n){return Di(4,4,e,n)}function Mi(e,n){return"function"===typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Hi(e,n,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Di(4,4,Mi.bind(null,n,e),r)}function Bi(){}function Wi(e,n){var r=bi();n=void 0===n?null:n;var o=r.memoizedState;return null!==o&&null!==n&&fi(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Vi(e,n){var r=bi();n=void 0===n?null:n;var o=r.memoizedState;return null!==o&&null!==n&&fi(n,o[1])?o[0]:(e=e(),r.memoizedState=[e,n],e)}function Ui(e,n,r){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r):(so(r,n)||(r=xn(),si.lanes|=r,Nl|=r,e.baseState=!0),n)}function qi(e,n){var r=yn;yn=0!==r&&4>r?r:4,e(!0);var o=ai.transition;ai.transition={};try{e(!1),n()}finally{yn=r,ai.transition=o}}function Gi(){return bi().memoizedState}function Yi(e,n,r){var o=nc(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},Ji(e))Zi(n,r);else if(null!==(r=Da(e,n,r,o))){rc(r,e,o,ec()),Ki(r,n,o)}}function $i(e,n,r){var o=nc(e),t={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Zi(n,t);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var i=n.lastRenderedState,s=a(i,r);if(t.hasEagerState=!0,t.eagerState=s,so(s,i)){var l=n.interleaved;return null===l?(t.next=t,Aa(n)):(t.next=l.next,l.next=t),void(n.interleaved=t)}}catch(c){}null!==(r=Da(e,n,t,o))&&(rc(r,e,o,t=ec()),Ki(r,n,o))}}function Ji(e){var n=e.alternate;return e===si||null!==n&&n===si}function Zi(e,n){ui=di=!0;var r=e.pending;null===r?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ki(e,n,r){if(0!==(4194240&r)){var o=n.lanes;r|=o&=e.pendingLanes,n.lanes=r,bn(e,r)}}var Qi={readContext:Ia,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},Xi={readContext:Ia,useCallback:function(e,n){return vi().memoizedState=[e,void 0===n?null:n],e},useContext:Ia,useEffect:Oi,useImperativeHandle:function(e,n,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ai(4194308,4,Mi.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ai(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ai(4,2,e,n)},useMemo:function(e,n){var r=vi();return n=void 0===n?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var o=vi();return n=void 0!==r?r(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=Yi.bind(null,si,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ti,useDebugValue:Bi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ti(!1),n=e[0];return e=qi.bind(null,e[1]),vi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var o=si,t=vi();if(aa){if(void 0===r)throw Error(a(407));r=r()}else{if(r=n(),null===Pl)throw Error(a(349));0!==(30&ii)||_i(o,n,r)}t.memoizedState=r;var i={value:r,getSnapshot:n};return t.queue=i,Oi(Ei.bind(null,o,i,e),[e]),o.flags|=2048,Ii(9,Ci.bind(null,o,i,r,n),void 0,null),r},useId:function(){var e=vi(),n=Pl.identifierPrefix;if(aa){var r=Qt;n=":"+n+"R"+(r=(Kt&~(1<<32-sn(Kt)-1)).toString(32)+r),0<(r=pi++)&&(n+="H"+r.toString(32)),n+=":"}else n=":"+n+"r"+(r=hi++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},es={readContext:Ia,useCallback:Wi,useContext:Ia,useEffect:Ni,useImperativeHandle:Hi,useInsertionEffect:Ri,useLayoutEffect:Fi,useMemo:Vi,useReducer:wi,useRef:Li,useState:function(){return wi(yi)},useDebugValue:Bi,useDeferredValue:function(e){return Ui(bi(),li.memoizedState,e)},useTransition:function(){return[wi(yi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Si,useId:Gi,unstable_isNewReconciler:!1},ns={readContext:Ia,useCallback:Wi,useContext:Ia,useEffect:Ni,useImperativeHandle:Hi,useInsertionEffect:Ri,useLayoutEffect:Fi,useMemo:Vi,useReducer:ji,useRef:Li,useState:function(){return ji(yi)},useDebugValue:Bi,useDeferredValue:function(e){var n=bi();return null===li?n.memoizedState=e:Ui(n,li.memoizedState,e)},useTransition:function(){return[ji(yi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Si,useId:Gi,unstable_isNewReconciler:!1};function rs(e,n){if(e&&e.defaultProps){for(var r in n=R({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}return n}function os(e,n,r,o){r=null===(r=r(o,n=e.memoizedState))||void 0===r?n:R({},n,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ts={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,n,r){e=e._reactInternals;var o=ec(),t=nc(e),a=Ma(o,t);a.payload=n,void 0!==r&&null!==r&&(a.callback=r),null!==(n=Ha(e,a,t))&&(rc(n,e,t,o),Ba(n,e,t))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=ec(),t=nc(e),a=Ma(o,t);a.tag=1,a.payload=n,void 0!==r&&null!==r&&(a.callback=r),null!==(n=Ha(e,a,t))&&(rc(n,e,t,o),Ba(n,e,t))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=ec(),o=nc(e),t=Ma(r,o);t.tag=2,void 0!==n&&null!==n&&(t.callback=n),null!==(n=Ha(e,t,o))&&(rc(n,e,o,r),Ba(n,e,o))}};function as(e,n,r,o,t,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,a,i):!n.prototype||!n.prototype.isPureReactComponent||(!lo(r,o)||!lo(t,a))}function is(e,n,r){var o=!1,t=zt,a=n.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(t=At(n)?It:Pt.current,a=(o=null!==(o=n.contextTypes)&&void 0!==o)?Lt(e,t):zt),n=new n(r,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=ts,e.stateNode=n,n._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),n}function ss(e,n,r,o){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(r,o),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&ts.enqueueReplaceState(n,n.state,null)}function ls(e,n,r,o){var t=e.stateNode;t.props=r,t.state=e.memoizedState,t.refs={},Ra(e);var a=n.contextType;"object"===typeof a&&null!==a?t.context=Ia(a):(a=At(n)?It:Pt.current,t.context=Lt(e,a)),t.state=e.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(os(e,n,a,r),t.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof t.getSnapshotBeforeUpdate||"function"!==typeof t.UNSAFE_componentWillMount&&"function"!==typeof t.componentWillMount||(n=t.state,"function"===typeof t.componentWillMount&&t.componentWillMount(),"function"===typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),n!==t.state&&ts.enqueueReplaceState(t,t.state,null),Va(e,r,t,o),t.state=e.memoizedState),"function"===typeof t.componentDidMount&&(e.flags|=4194308)}function cs(e,n){try{var r="",o=n;do{r+=B(o),o=o.return}while(o);var t=r}catch(a){t="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:n,stack:t,digest:null}}function ds(e,n,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=n?n:null}}function us(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,n,r){(r=Ma(-1,r)).tag=3,r.payload={element:null};var o=n.value;return r.callback=function(){Ul||(Ul=!0,ql=o),us(0,n)},r}function gs(e,n,r){(r=Ma(-1,r)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var t=n.value;r.payload=function(){return o(t)},r.callback=function(){us(0,n)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){us(0,n),"function"!==typeof o&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),r}function fs(e,n,r){var o=e.pingCache;if(null===o){o=e.pingCache=new ps;var t=new Set;o.set(n,t)}else void 0===(t=o.get(n))&&(t=new Set,o.set(n,t));t.has(r)||(t.add(r),e=_c.bind(null,e,n,r),n.then(e,e))}function xs(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function ms(e,n,r,o,t){return 0===(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((n=Ma(-1,1)).tag=2,Ha(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=t,e)}var vs=y.ReactCurrentOwner,bs=!1;function ys(e,n,r,o){n.child=null===e?ja(n,null,r,o):wa(n,e.child,r,o)}function ws(e,n,r,o,t){r=r.render;var a=n.ref;return Ta(n,t),o=xi(e,n,r,o,a,t),r=mi(),null===e||bs?(aa&&r&&na(n),n.flags|=1,ys(e,n,o,t),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t,Us(e,n,t))}function js(e,n,r,o,t){if(null===e){var a=r.type;return"function"!==typeof a||Lc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Dc(r.type,null,o,n,n.mode,t)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,ks(e,n,a,o,t))}if(a=e.child,0===(e.lanes&t)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:lo)(i,o)&&e.ref===n.ref)return Us(e,n,t)}return n.flags|=1,(e=Ac(a,o)).ref=n.ref,e.return=n,n.child=e}function ks(e,n,r,o,t){if(null!==e){var a=e.memoizedProps;if(lo(a,o)&&e.ref===n.ref){if(bs=!1,n.pendingProps=o=a,0===(e.lanes&t))return n.lanes=e.lanes,Us(e,n,t);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,n,r,o,t)}function Ss(e,n,r){var o=n.pendingProps,t=o.children,a=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Al,Ll),Ll|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Et(Al,Ll),Ll|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==a?a.baseLanes:r,Et(Al,Ll),Ll|=o}else null!==a?(o=a.baseLanes|r,n.memoizedState=null):o=r,Et(Al,Ll),Ll|=o;return ys(e,n,t,r),n.child}function _s(e,n){var r=n.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function Cs(e,n,r,o,t){var a=At(r)?It:Pt.current;return a=Lt(n,a),Ta(n,t),r=xi(e,n,r,o,a,t),o=mi(),null===e||bs?(aa&&o&&na(n),n.flags|=1,ys(e,n,r,t),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t,Us(e,n,t))}function Es(e,n,r,o,t){if(At(r)){var a=!0;Rt(n)}else a=!1;if(Ta(n,t),null===n.stateNode)Vs(e,n),is(n,r,o),ls(n,r,o,t),o=!0;else if(null===e){var i=n.stateNode,s=n.memoizedProps;i.props=s;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Lt(n,c=At(r)?It:Pt.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==o||l!==c)&&ss(n,i,o,c),Na=!1;var p=n.memoizedState;i.state=p,Va(n,o,i,t),l=n.memoizedState,s!==o||p!==l||Tt.current||Na?("function"===typeof d&&(os(n,r,d,o),l=n.memoizedState),(s=Na||as(n,r,s,o,p,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(n.flags|=4194308)):("function"===typeof i.componentDidMount&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=l),i.props=o,i.state=l,i.context=c,o=s):("function"===typeof i.componentDidMount&&(n.flags|=4194308),o=!1)}else{i=n.stateNode,Fa(e,n),s=n.memoizedProps,c=n.type===n.elementType?s:rs(n.type,s),i.props=c,u=n.pendingProps,p=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ia(l):l=Lt(n,l=At(r)?It:Pt.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||p!==l)&&ss(n,i,o,l),Na=!1,p=n.memoizedState,i.state=p,Va(n,o,i,t);var g=n.memoizedState;s!==u||p!==g||Tt.current||Na?("function"===typeof h&&(os(n,r,h,o),g=n.memoizedState),(c=Na||as(n,r,c,o,p,g,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(o,g,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(o,g,l)),"function"===typeof i.componentDidUpdate&&(n.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=g),i.props=o,i.state=g,i.context=l,o=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),o=!1)}return zs(e,n,r,o,a,t)}function zs(e,n,r,o,t,a){_s(e,n);var i=0!==(128&n.flags);if(!o&&!i)return t&&Ft(n,r,!1),Us(e,n,a);o=n.stateNode,vs.current=n;var s=i&&"function"!==typeof r.getDerivedStateFromError?null:o.render();return n.flags|=1,null!==e&&i?(n.child=wa(n,e.child,null,a),n.child=wa(n,null,s,a)):ys(e,n,s,a),n.memoizedState=o.state,t&&Ft(n,r,!0),n.child}function Ps(e){var n=e.stateNode;n.pendingContext?Ot(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Ot(0,n.context,!1),Za(e,n.containerInfo)}function Ts(e,n,r,o,t){return ga(),fa(t),n.flags|=256,ys(e,n,r,o),n.child}var Is,Ls,As,Ds,Os={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rs(e,n,r){var o,t=n.pendingProps,i=ei.current,s=!1,l=0!==(128&n.flags);if((o=l)||(o=(null===e||null!==e.memoizedState)&&0!==(2&i)),o?(s=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Et(ei,1&i),null===e)return da(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(l=t.children,e=t.fallback,s?(t=n.mode,s=n.child,l={mode:"hidden",children:l},0===(1&t)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Nc(l,t,0,null),e=Oc(e,t,r,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=Ns(r),n.memoizedState=Os,e):Fs(n,l));if(null!==(i=e.memoizedState)&&null!==(o=i.dehydrated))return function(e,n,r,o,t,i,s){if(r)return 256&n.flags?(n.flags&=-257,Ms(e,n,s,o=ds(Error(a(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(i=o.fallback,t=n.mode,o=Nc({mode:"visible",children:o.children},t,0,null),(i=Oc(i,t,s,null)).flags|=2,o.return=n,i.return=n,o.sibling=i,n.child=o,0!==(1&n.mode)&&wa(n,e.child,null,s),n.child.memoizedState=Ns(s),n.memoizedState=Os,i);if(0===(1&n.mode))return Ms(e,n,s,null);if("$!"===t.data){if(o=t.nextSibling&&t.nextSibling.dataset)var l=o.dgst;return o=l,Ms(e,n,s,o=ds(i=Error(a(419)),o,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(o=Pl)){switch(s&-s){case 4:t=2;break;case 16:t=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:t=32;break;case 536870912:t=268435456;break;default:t=0}0!==(t=0!==(t&(o.suspendedLanes|s))?0:t)&&t!==i.retryLane&&(i.retryLane=t,Oa(e,t),rc(o,e,t,-1))}return fc(),Ms(e,n,s,o=ds(Error(a(421))))}return"$?"===t.data?(n.flags|=128,n.child=e.child,n=Ec.bind(null,e),t._reactRetry=n,null):(e=i.treeContext,ta=dt(t.nextSibling),oa=n,aa=!0,ia=null,null!==e&&($t[Jt++]=Kt,$t[Jt++]=Qt,$t[Jt++]=Zt,Kt=e.id,Qt=e.overflow,Zt=n),n=Fs(n,o.children),n.flags|=4096,n)}(e,n,l,t,o,i,r);if(s){s=t.fallback,l=n.mode,o=(i=e.child).sibling;var c={mode:"hidden",children:t.children};return 0===(1&l)&&n.child!==i?((t=n.child).childLanes=0,t.pendingProps=c,n.deletions=null):(t=Ac(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==o?s=Ac(o,s):(s=Oc(s,l,r,null)).flags|=2,s.return=n,t.return=n,t.sibling=s,n.child=t,t=s,s=n.child,l=null===(l=e.child.memoizedState)?Ns(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,n.memoizedState=Os,t}return e=(s=e.child).sibling,t=Ac(s,{mode:"visible",children:t.children}),0===(1&n.mode)&&(t.lanes=r),t.return=n,t.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=t,n.memoizedState=null,t}function Fs(e,n){return(n=Nc({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Ms(e,n,r,o){return null!==o&&fa(o),wa(n,e.child,null,r),(e=Fs(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Hs(e,n,r){e.lanes|=n;var o=e.alternate;null!==o&&(o.lanes|=n),Pa(e.return,n,r)}function Bs(e,n,r,o,t){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:t}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=r,a.tailMode=t)}function Ws(e,n,r){var o=n.pendingProps,t=o.revealOrder,a=o.tail;if(ys(e,n,o.children,r),0!==(2&(o=ei.current)))o=1&o|2,n.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,r,n);else if(19===e.tag)Hs(e,r,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Et(ei,o),0===(1&n.mode))n.memoizedState=null;else switch(t){case"forwards":for(r=n.child,t=null;null!==r;)null!==(e=r.alternate)&&null===ni(e)&&(t=r),r=r.sibling;null===(r=t)?(t=n.child,n.child=null):(t=r.sibling,r.sibling=null),Bs(n,!1,t,r,a);break;case"backwards":for(r=null,t=n.child,n.child=null;null!==t;){if(null!==(e=t.alternate)&&null===ni(e)){n.child=t;break}e=t.sibling,t.sibling=r,r=t,t=e}Bs(n,!0,r,null,a);break;case"together":Bs(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vs(e,n){0===(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Us(e,n,r){if(null!==e&&(n.dependencies=e.dependencies),Nl|=n.lanes,0===(r&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(a(153));if(null!==n.child){for(r=Ac(e=n.child,e.pendingProps),n.child=r,r.return=n;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ac(e,e.pendingProps)).return=n;r.sibling=null}return n.child}function qs(e,n){if(!aa)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;null!==r;)null!==r.alternate&&(o=r),r=r.sibling;null===o?n||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Gs(e){var n=null!==e.alternate&&e.alternate.child===e.child,r=0,o=0;if(n)for(var t=e.child;null!==t;)r|=t.lanes|t.childLanes,o|=14680064&t.subtreeFlags,o|=14680064&t.flags,t.return=e,t=t.sibling;else for(t=e.child;null!==t;)r|=t.lanes|t.childLanes,o|=t.subtreeFlags,o|=t.flags,t.return=e,t=t.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Ys(e,n,r){var o=n.pendingProps;switch(ra(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(n),null;case 1:case 17:return At(n.type)&&Dt(),Gs(n),null;case 3:return o=n.stateNode,Ka(),Ct(Tt),Ct(Pt),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(pa(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,null!==ia&&(ic(ia),ia=null))),Ls(e,n),Gs(n),null;case 5:Xa(n);var t=Ja($a.current);if(r=n.type,null!==e&&null!=n.stateNode)As(e,n,r,o,t),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(null===n.stateNode)throw Error(a(166));return Gs(n),null}if(e=Ja(Ga.current),pa(n)){o=n.stateNode,r=n.type;var i=n.memoizedProps;switch(o[ht]=n,o[gt]=i,e=0!==(1&n.mode),r){case"dialog":Ho("cancel",o),Ho("close",o);break;case"iframe":case"object":case"embed":Ho("load",o);break;case"video":case"audio":for(t=0;t<No.length;t++)Ho(No[t],o);break;case"source":Ho("error",o);break;case"img":case"image":case"link":Ho("error",o),Ho("load",o);break;case"details":Ho("toggle",o);break;case"input":Z(o,i),Ho("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Ho("invalid",o);break;case"textarea":te(o,i),Ho("invalid",o)}for(var l in ve(r,i),t=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?o.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xo(o.textContent,c,e),t=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xo(o.textContent,c,e),t=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ho("scroll",o)}switch(r){case"input":G(o),X(o,i,!0);break;case"textarea":G(o),ie(o);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(o.onclick=et)}o=t,n.updateQueue=o,null!==o&&(n.flags|=4)}else{l=9===t.nodeType?t:t.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=l.createElement(r,{is:o.is}):(e=l.createElement(r),"select"===r&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,r),e[ht]=n,e[gt]=o,Is(e,n,!1,!1),n.stateNode=e;e:{switch(l=be(r,o),r){case"dialog":Ho("cancel",e),Ho("close",e),t=o;break;case"iframe":case"object":case"embed":Ho("load",e),t=o;break;case"video":case"audio":for(t=0;t<No.length;t++)Ho(No[t],e);t=o;break;case"source":Ho("error",e),t=o;break;case"img":case"image":case"link":Ho("error",e),Ho("load",e),t=o;break;case"details":Ho("toggle",e),t=o;break;case"input":Z(e,o),t=J(e,o),Ho("invalid",e);break;case"option":default:t=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},t=R({},o,{value:void 0}),Ho("invalid",e);break;case"textarea":te(e,o),t=oe(e,o),Ho("invalid",e)}for(i in ve(r,t),c=t)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Ho("scroll",e):null!=d&&b(e,i,d,l))}switch(r){case"input":G(e),X(e,o,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=o.value&&e.setAttribute("value",""+U(o.value));break;case"select":e.multiple=!!o.multiple,null!=(i=o.value)?re(e,!!o.multiple,i,!1):null!=o.defaultValue&&re(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof t.onClick&&(e.onclick=et)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Gs(n),null;case 6:if(e&&null!=n.stateNode)Ds(e,n,e.memoizedProps,o);else{if("string"!==typeof o&&null===n.stateNode)throw Error(a(166));if(r=Ja($a.current),Ja(Ga.current),pa(n)){if(o=n.stateNode,r=n.memoizedProps,o[ht]=n,(i=o.nodeValue!==r)&&null!==(e=oa))switch(e.tag){case 3:Xo(o.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xo(o.nodeValue,r,0!==(1&e.mode))}i&&(n.flags|=4)}else(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[ht]=n,n.stateNode=o}return Gs(n),null;case 13:if(Ct(ei),o=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ta&&0!==(1&n.mode)&&0===(128&n.flags))ha(),ga(),n.flags|=98560,i=!1;else if(i=pa(n),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=n.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ht]=n}else ga(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Gs(n),i=!1}else null!==ia&&(ic(ia),ia=null),i=!0;if(!i)return 65536&n.flags?n:null}return 0!==(128&n.flags)?(n.lanes=r,n):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(n.child.flags|=8192,0!==(1&n.mode)&&(null===e||0!==(1&ei.current)?0===Dl&&(Dl=3):fc())),null!==n.updateQueue&&(n.flags|=4),Gs(n),null);case 4:return Ka(),Ls(e,n),null===e&&Vo(n.stateNode.containerInfo),Gs(n),null;case 10:return za(n.type._context),Gs(n),null;case 19:if(Ct(ei),null===(i=n.memoizedState))return Gs(n),null;if(o=0!==(128&n.flags),null===(l=i.rendering))if(o)qs(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(l=ni(e))){for(n.flags|=128,qs(i,!1),null!==(o=l.updateQueue)&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=r,r=n.child;null!==r;)e=o,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Et(ei,1&ei.current|2),n.child}e=e.sibling}null!==i.tail&&Ke()>Wl&&(n.flags|=128,o=!0,qs(i,!1),n.lanes=4194304)}else{if(!o)if(null!==(e=ni(l))){if(n.flags|=128,o=!0,null!==(r=e.updateQueue)&&(n.updateQueue=r,n.flags|=4),qs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return Gs(n),null}else 2*Ke()-i.renderingStartTime>Wl&&1073741824!==r&&(n.flags|=128,o=!0,qs(i,!1),n.lanes=4194304);i.isBackwards?(l.sibling=n.child,n.child=l):(null!==(r=i.last)?r.sibling=l:n.child=l,i.last=l)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=Ke(),n.sibling=null,r=ei.current,Et(ei,o?1&r|2:1&r),n):(Gs(n),null);case 22:case 23:return uc(),o=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==o&&(n.flags|=8192),o&&0!==(1&n.mode)?0!==(1073741824&Ll)&&(Gs(n),6&n.subtreeFlags&&(n.flags|=8192)):Gs(n),null;case 24:case 25:return null}throw Error(a(156,n.tag))}function $s(e,n){switch(ra(n),n.tag){case 1:return At(n.type)&&Dt(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Ka(),Ct(Tt),Ct(Pt),oi(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 5:return Xa(n),null;case 13:if(Ct(ei),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(a(340));ga()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Ct(ei),null;case 4:return Ka(),null;case 10:return za(n.type._context),null;case 22:case 23:return uc(),null;default:return null}}Is=function(e,n){for(var r=n.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ls=function(){},As=function(e,n,r,o){var t=e.memoizedProps;if(t!==o){e=n.stateNode,Ja(Ga.current);var a,i=null;switch(r){case"input":t=J(e,t),o=J(e,o),i=[];break;case"select":t=R({},t,{value:void 0}),o=R({},o,{value:void 0}),i=[];break;case"textarea":t=oe(e,t),o=oe(e,o),i=[];break;default:"function"!==typeof t.onClick&&"function"===typeof o.onClick&&(e.onclick=et)}for(d in ve(r,o),r=null,t)if(!o.hasOwnProperty(d)&&t.hasOwnProperty(d)&&null!=t[d])if("style"===d){var l=t[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(l=null!=t?t[d]:void 0,o.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ho("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(n.updateQueue=d)&&(n.flags|=4)}},Ds=function(e,n,r,o){r!==o&&(n.flags|=4)};var Js=!1,Zs=!1,Ks="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Xs(e,n){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(o){Sc(e,n,o)}else r.current=null}function el(e,n,r){try{r()}catch(o){Sc(e,n,o)}}var nl=!1;function rl(e,n,r){var o=n.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var t=o=o.next;do{if((t.tag&e)===e){var a=t.destroy;t.destroy=void 0,void 0!==a&&el(n,r,a)}t=t.next}while(t!==o)}}function ol(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==n)}}function tl(e){var n=e.ref;if(null!==n){var r=e.stateNode;e.tag,e=r,"function"===typeof n?n(e):n.current=e}}function al(e){var n=e.alternate;null!==n&&(e.alternate=null,al(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&(delete n[ht],delete n[gt],delete n[xt],delete n[mt],delete n[vt])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,n,r){var o=e.tag;if(5===o||6===o)e=e.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=et));else if(4!==o&&null!==(e=e.child))for(ll(e,n,r),e=e.sibling;null!==e;)ll(e,n,r),e=e.sibling}function cl(e,n,r){var o=e.tag;if(5===o||6===o)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==o&&null!==(e=e.child))for(cl(e,n,r),e=e.sibling;null!==e;)cl(e,n,r),e=e.sibling}var dl=null,ul=!1;function pl(e,n,r){for(r=r.child;null!==r;)hl(e,n,r),r=r.sibling}function hl(e,n,r){if(an&&"function"===typeof an.onCommitFiberUnmount)try{an.onCommitFiberUnmount(tn,r)}catch(s){}switch(r.tag){case 5:Zs||Xs(r,n);case 6:var o=dl,t=ul;dl=null,pl(e,n,r),ul=t,null!==(dl=o)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?ct(e.parentNode,r):1===e.nodeType&&ct(e,r),Vn(e)):ct(dl,r.stateNode));break;case 4:o=dl,t=ul,dl=r.stateNode.containerInfo,ul=!0,pl(e,n,r),dl=o,ul=t;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(o=r.updateQueue)&&null!==(o=o.lastEffect))){t=o=o.next;do{var a=t,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(r,n,i),t=t.next}while(t!==o)}pl(e,n,r);break;case 1:if(!Zs&&(Xs(r,n),"function"===typeof(o=r.stateNode).componentWillUnmount))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(s){Sc(r,n,s)}pl(e,n,r);break;case 21:pl(e,n,r);break;case 22:1&r.mode?(Zs=(o=Zs)||null!==r.memoizedState,pl(e,n,r),Zs=o):pl(e,n,r);break;default:pl(e,n,r)}}function gl(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ks),n.forEach(function(n){var o=zc.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function fl(e,n){var r=n.deletions;if(null!==r)for(var o=0;o<r.length;o++){var t=r[o];try{var i=e,s=n,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));hl(i,s,t),dl=null,ul=!1;var c=t.alternate;null!==c&&(c.return=null),t.return=null}catch(d){Sc(t,n,d)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)xl(n,e),n=n.sibling}function xl(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(n,e),ml(e),4&o){try{rl(3,e,e.return),ol(3,e)}catch(x){Sc(e,e.return,x)}try{rl(5,e,e.return)}catch(x){Sc(e,e.return,x)}}break;case 1:fl(n,e),ml(e),512&o&&null!==r&&Xs(r,r.return);break;case 5:if(fl(n,e),ml(e),512&o&&null!==r&&Xs(r,r.return),32&e.flags){var t=e.stateNode;try{pe(t,"")}catch(x){Sc(e,e.return,x)}}if(4&o&&null!=(t=e.stateNode)){var i=e.memoizedProps,s=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&K(t,i),be(l,s);var d=be(l,i);for(s=0;s<c.length;s+=2){var u=c[s],p=c[s+1];"style"===u?xe(t,p):"dangerouslySetInnerHTML"===u?ue(t,p):"children"===u?pe(t,p):b(t,u,p,d)}switch(l){case"input":Q(t,i);break;case"textarea":ae(t,i);break;case"select":var h=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=!!i.multiple;var g=i.value;null!=g?re(t,!!i.multiple,g,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(t,!!i.multiple,i.defaultValue,!0):re(t,!!i.multiple,i.multiple?[]:"",!1))}t[gt]=i}catch(x){Sc(e,e.return,x)}}break;case 6:if(fl(n,e),ml(e),4&o){if(null===e.stateNode)throw Error(a(162));t=e.stateNode,i=e.memoizedProps;try{t.nodeValue=i}catch(x){Sc(e,e.return,x)}}break;case 3:if(fl(n,e),ml(e),4&o&&null!==r&&r.memoizedState.isDehydrated)try{Vn(n.containerInfo)}catch(x){Sc(e,e.return,x)}break;case 4:default:fl(n,e),ml(e);break;case 13:fl(n,e),ml(e),8192&(t=e.child).flags&&(i=null!==t.memoizedState,t.stateNode.isHidden=i,!i||null!==t.alternate&&null!==t.alternate.memoizedState||(Bl=Ke())),4&o&&gl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Zs=(d=Zs)||u,fl(n,e),Zs=d):fl(n,e),ml(e),8192&o){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qs=e,u=e.child;null!==u;){for(p=Qs=u;null!==Qs;){switch(g=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Xs(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){o=h,r=h.return;try{n=o,f.props=n.memoizedProps,f.state=n.memoizedState,f.componentWillUnmount()}catch(x){Sc(o,r,x)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){wl(p);continue}}null!==g?(g.return=h,Qs=g):wl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{t=p.stateNode,d?"function"===typeof(i=t.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",s))}catch(x){Sc(e,e.return,x)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){Sc(e,e.return,x)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(n,e),ml(e),4&o&&gl(e);case 21:}}function ml(e){var n=e.flags;if(2&n){try{e:{for(var r=e.return;null!==r;){if(il(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 5:var t=o.stateNode;32&o.flags&&(pe(t,""),o.flags&=-33),cl(e,sl(e),t);break;case 3:case 4:var i=o.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function vl(e,n,r){Qs=e,bl(e,n,r)}function bl(e,n,r){for(var o=0!==(1&e.mode);null!==Qs;){var t=Qs,a=t.child;if(22===t.tag&&o){var i=null!==t.memoizedState||Js;if(!i){var s=t.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Js;var c=Zs;if(Js=i,(Zs=l)&&!c)for(Qs=t;null!==Qs;)l=(i=Qs).child,22===i.tag&&null!==i.memoizedState?jl(t):null!==l?(l.return=i,Qs=l):jl(t);for(;null!==a;)Qs=a,bl(a,n,r),a=a.sibling;Qs=t,Js=s,Zs=c}yl(e)}else 0!==(8772&t.subtreeFlags)&&null!==a?(a.return=t,Qs=a):yl(e)}}function yl(e){for(;null!==Qs;){var n=Qs;if(0!==(8772&n.flags)){var r=n.alternate;try{if(0!==(8772&n.flags))switch(n.tag){case 0:case 11:case 15:Zs||ol(5,n);break;case 1:var o=n.stateNode;if(4&n.flags&&!Zs)if(null===r)o.componentDidMount();else{var t=n.elementType===n.type?r.memoizedProps:rs(n.type,r.memoizedProps);o.componentDidUpdate(t,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;null!==i&&Ua(n,i,o);break;case 3:var s=n.updateQueue;if(null!==s){if(r=null,null!==n.child)switch(n.child.tag){case 5:case 1:r=n.child.stateNode}Ua(n,s,r)}break;case 5:var l=n.stateNode;if(null===r&&4&n.flags){r=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var d=n.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vn(p)}}}break;default:throw Error(a(163))}Zs||512&n.flags&&tl(n)}catch(h){Sc(n,n.return,h)}}if(n===e){Qs=null;break}if(null!==(r=n.sibling)){r.return=n.return,Qs=r;break}Qs=n.return}}function wl(e){for(;null!==Qs;){var n=Qs;if(n===e){Qs=null;break}var r=n.sibling;if(null!==r){r.return=n.return,Qs=r;break}Qs=n.return}}function jl(e){for(;null!==Qs;){var n=Qs;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{ol(4,n)}catch(l){Sc(n,r,l)}break;case 1:var o=n.stateNode;if("function"===typeof o.componentDidMount){var t=n.return;try{o.componentDidMount()}catch(l){Sc(n,t,l)}}var a=n.return;try{tl(n)}catch(l){Sc(n,a,l)}break;case 5:var i=n.return;try{tl(n)}catch(l){Sc(n,i,l)}}}catch(l){Sc(n,n.return,l)}if(n===e){Qs=null;break}var s=n.sibling;if(null!==s){s.return=n.return,Qs=s;break}Qs=n.return}}var kl,Sl=Math.ceil,_l=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,El=y.ReactCurrentBatchConfig,zl=0,Pl=null,Tl=null,Il=0,Ll=0,Al=_t(0),Dl=0,Ol=null,Nl=0,Rl=0,Fl=0,Ml=null,Hl=null,Bl=0,Wl=1/0,Vl=null,Ul=!1,ql=null,Gl=null,Yl=!1,$l=null,Jl=0,Zl=0,Kl=null,Ql=-1,Xl=0;function ec(){return 0!==(6&zl)?Ke():-1!==Ql?Ql:Ql=Ke()}function nc(e){return 0===(1&e.mode)?1:0!==(2&zl)&&0!==Il?Il&-Il:null!==xa.transition?(0===Xl&&(Xl=xn()),Xl):0!==(e=yn)?e:e=void 0===(e=window.event)?16:Kn(e.type)}function rc(e,n,r,o){if(50<Zl)throw Zl=0,Kl=null,Error(a(185));vn(e,r,o),0!==(2&zl)&&e===Pl||(e===Pl&&(0===(2&zl)&&(Rl|=r),4===Dl&&sc(e,Il)),oc(e,o),1===r&&0===zl&&0===(1&n.mode)&&(Wl=Ke()+500,Ht&&Vt()))}function oc(e,n){var r=e.callbackNode;!function(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,t=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-sn(a),s=1<<i,l=t[i];-1===l?0!==(s&r)&&0===(s&o)||(t[i]=gn(s,n)):l<=n&&(e.expiredLanes|=s),a&=~s}}(e,n);var o=hn(e,e===Pl?Il:0);if(0===o)null!==r&&$e(r),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(null!=r&&$e(r),1===n)0===e.tag?function(e){Ht=!0,Wt(e)}(lc.bind(null,e)):Wt(lc.bind(null,e)),st(function(){0===(6&zl)&&Vt()}),r=null;else{switch(wn(o)){case 1:r=Xe;break;case 4:r=en;break;case 16:default:r=nn;break;case 536870912:r=on}r=Pc(r,tc.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function tc(e,n){if(Ql=-1,Xl=0,0!==(6&zl))throw Error(a(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var o=hn(e,e===Pl?Il:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||n)n=xc(e,o);else{n=o;var t=zl;zl|=2;var i=gc();for(Pl===e&&Il===n||(Vl=null,Wl=Ke()+500,pc(e,n));;)try{vc();break}catch(l){hc(e,l)}Ea(),_l.current=i,zl=t,null!==Tl?n=0:(Pl=null,Il=0,n=Dl)}if(0!==n){if(2===n&&(0!==(t=fn(e))&&(o=t,n=ac(e,t))),1===n)throw r=Ol,pc(e,0),sc(e,o),oc(e,Ke()),r;if(6===n)sc(e,o);else{if(t=e.current.alternate,0===(30&o)&&!function(e){for(var n=e;;){if(16384&n.flags){var r=n.updateQueue;if(null!==r&&null!==(r=r.stores))for(var o=0;o<r.length;o++){var t=r[o],a=t.getSnapshot;t=t.value;try{if(!so(a(),t))return!1}catch(s){return!1}}}if(r=n.child,16384&n.subtreeFlags&&null!==r)r.return=n,n=r;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(t)&&(2===(n=xc(e,o))&&(0!==(i=fn(e))&&(o=i,n=ac(e,i))),1===n))throw r=Ol,pc(e,0),sc(e,o),oc(e,Ke()),r;switch(e.finishedWork=t,e.finishedLanes=o,n){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Hl,Vl);break;case 3:if(sc(e,o),(130023424&o)===o&&10<(n=Bl+500-Ke())){if(0!==hn(e,0))break;if(((t=e.suspendedLanes)&o)!==o){ec(),e.pingedLanes|=e.suspendedLanes&t;break}e.timeoutHandle=tt(wc.bind(null,e,Hl,Vl),n);break}wc(e,Hl,Vl);break;case 4:if(sc(e,o),(4194240&o)===o)break;for(n=e.eventTimes,t=-1;0<o;){var s=31-sn(o);i=1<<s,(s=n[s])>t&&(t=s),o&=~i}if(o=t,10<(o=(120>(o=Ke()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Sl(o/1960))-o)){e.timeoutHandle=tt(wc.bind(null,e,Hl,Vl),o);break}wc(e,Hl,Vl);break;default:throw Error(a(329))}}}return oc(e,Ke()),e.callbackNode===r?tc.bind(null,e):null}function ac(e,n){var r=Ml;return e.current.memoizedState.isDehydrated&&(pc(e,n).flags|=256),2!==(e=xc(e,n))&&(n=Hl,Hl=r,null!==n&&ic(n)),e}function ic(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function sc(e,n){for(n&=~Fl,n&=~Rl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-sn(n),o=1<<r;e[r]=-1,n&=~o}}function lc(e){if(0!==(6&zl))throw Error(a(327));jc();var n=hn(e,0);if(0===(1&n))return oc(e,Ke()),null;var r=xc(e,n);if(0!==e.tag&&2===r){var o=fn(e);0!==o&&(n=o,r=ac(e,o))}if(1===r)throw r=Ol,pc(e,0),sc(e,n),oc(e,Ke()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wc(e,Hl,Vl),oc(e,Ke()),null}function cc(e,n){var r=zl;zl|=1;try{return e(n)}finally{0===(zl=r)&&(Wl=Ke()+500,Ht&&Vt())}}function dc(e){null!==$l&&0===$l.tag&&0===(6&zl)&&jc();var n=zl;zl|=1;var r=El.transition,o=yn;try{if(El.transition=null,yn=1,e)return e()}finally{yn=o,El.transition=r,0===(6&(zl=n))&&Vt()}}function uc(){Ll=Al.current,Ct(Al)}function pc(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,at(r)),null!==Tl)for(r=Tl.return;null!==r;){var o=r;switch(ra(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&Dt();break;case 3:Ka(),Ct(Tt),Ct(Pt),oi();break;case 5:Xa(o);break;case 4:Ka();break;case 13:case 19:Ct(ei);break;case 10:za(o.type._context);break;case 22:case 23:uc()}r=r.return}if(Pl=e,Tl=e=Ac(e.current,null),Il=Ll=n,Dl=0,Ol=null,Fl=Rl=Nl=0,Hl=Ml=null,null!==La){for(n=0;n<La.length;n++)if(null!==(o=(r=La[n]).interleaved)){r.interleaved=null;var t=o.next,a=r.pending;if(null!==a){var i=a.next;a.next=t,o.next=i}r.pending=o}La=null}return e}function hc(e,n){for(;;){var r=Tl;try{if(Ea(),ti.current=Qi,di){for(var o=si.memoizedState;null!==o;){var t=o.queue;null!==t&&(t.pending=null),o=o.next}di=!1}if(ii=0,ci=li=si=null,ui=!1,pi=0,Cl.current=null,null===r||null===r.return){Dl=1,Ol=n,Tl=null;break}e:{var i=e,s=r.return,l=r,c=n;if(n=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=xs(s);if(null!==g){g.flags&=-257,ms(g,s,l,0,n),1&g.mode&&fs(i,d,n),c=d;var f=(n=g).updateQueue;if(null===f){var x=new Set;x.add(c),n.updateQueue=x}else f.add(c);break e}if(0===(1&n)){fs(i,d,n),fc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var m=xs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ms(m,s,l,0,n),fa(cs(c,l));break e}}i=c=cs(c,l),4!==Dl&&(Dl=2),null===Ml?Ml=[i]:Ml.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n,Wa(i,hs(0,c,n));break e;case 1:l=c;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){i.flags|=65536,n&=-n,i.lanes|=n,Wa(i,gs(i,l,n));break e}}i=i.return}while(null!==i)}yc(r)}catch(y){n=y,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function gc(){var e=_l.current;return _l.current=Qi,null===e?Qi:e}function fc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&Nl)&&0===(268435455&Rl)||sc(Pl,Il)}function xc(e,n){var r=zl;zl|=2;var o=gc();for(Pl===e&&Il===n||(Vl=null,pc(e,n));;)try{mc();break}catch(t){hc(e,t)}if(Ea(),zl=r,_l.current=o,null!==Tl)throw Error(a(261));return Pl=null,Il=0,Dl}function mc(){for(;null!==Tl;)bc(Tl)}function vc(){for(;null!==Tl&&!Je();)bc(Tl)}function bc(e){var n=kl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===n?yc(e):Tl=n,Cl.current=null}function yc(e){var n=e;do{var r=n.alternate;if(e=n.return,0===(32768&n.flags)){if(null!==(r=Ys(r,n,Ll)))return void(Tl=r)}else{if(null!==(r=$s(r,n)))return r.flags&=32767,void(Tl=r);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(Tl=n);Tl=n=e}while(null!==n);0===Dl&&(Dl=5)}function wc(e,n,r){var o=yn,t=El.transition;try{El.transition=null,yn=1,function(e,n,r,o){do{jc()}while(null!==$l);if(0!==(6&zl))throw Error(a(327));r=e.finishedWork;var t=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var t=31-sn(r),a=1<<t;n[t]=0,o[t]=-1,e[t]=-1,r&=~a}}(e,i),e===Pl&&(Tl=Pl=null,Il=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Yl||(Yl=!0,Pc(nn,function(){return jc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=El.transition,El.transition=null;var s=yn;yn=1;var l=zl;zl|=4,Cl.current=null,function(e,n){if(nt=qn,go(e=ho())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(o&&0!==o.rangeCount){r=o.anchorNode;var t=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{r.nodeType,i.nodeType}catch(w){r=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,h=null;n:for(;;){for(var g;p!==r||0!==t&&3!==p.nodeType||(l=s+t),p!==i||0!==o&&3!==p.nodeType||(c=s+o),3===p.nodeType&&(s+=p.nodeValue.length),null!==(g=p.firstChild);)h=p,p=g;for(;;){if(p===e)break n;if(h===r&&++d===t&&(l=s),h===i&&++u===o&&(c=s),null!==(g=p.nextSibling))break;h=(p=h).parentNode}p=g}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rt={focusedElem:e,selectionRange:r},qn=!1,Qs=n;null!==Qs;)if(e=(n=Qs).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Qs=e;else for(;null!==Qs;){n=Qs;try{var f=n.alternate;if(0!==(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,m=f.memoizedState,v=n.stateNode,b=v.getSnapshotBeforeUpdate(n.elementType===n.type?x:rs(n.type,x),m);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=n.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(n,n.return,w)}if(null!==(e=n.sibling)){e.return=n.return,Qs=e;break}Qs=n.return}f=nl,nl=!1}(e,r),xl(r,e),fo(rt),qn=!!nt,rt=nt=null,e.current=r,vl(r,e,t),Ze(),zl=l,yn=s,El.transition=i}else e.current=r;if(Yl&&(Yl=!1,$l=e,Jl=t),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(an&&"function"===typeof an.onCommitFiberRoot)try{an.onCommitFiberRoot(tn,e,void 0,128===(128&e.current.flags))}catch(n){}}(r.stateNode),oc(e,Ke()),null!==n)for(o=e.onRecoverableError,r=0;r<n.length;r++)t=n[r],o(t.value,{componentStack:t.stack,digest:t.digest});if(Ul)throw Ul=!1,e=ql,ql=null,e;0!==(1&Jl)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Kl?Zl++:(Zl=0,Kl=e):Zl=0,Vt()}(e,n,r,o)}finally{El.transition=t,yn=o}return null}function jc(){if(null!==$l){var e=wn(Jl),n=El.transition,r=yn;try{if(El.transition=null,yn=16>e?16:e,null===$l)var o=!1;else{if(e=$l,$l=null,Jl=0,0!==(6&zl))throw Error(a(331));var t=zl;for(zl|=4,Qs=e.current;null!==Qs;){var i=Qs,s=i.child;if(0!==(16&Qs.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qs=d;null!==Qs;){var u=Qs;switch(u.tag){case 0:case 11:case 15:rl(8,u,i)}var p=u.child;if(null!==p)p.return=u,Qs=p;else for(;null!==Qs;){var h=(u=Qs).sibling,g=u.return;if(al(u),u===d){Qs=null;break}if(null!==h){h.return=g,Qs=h;break}Qs=g}}}var f=i.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var m=x.sibling;x.sibling=null,x=m}while(null!==x)}}Qs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(i=Qs).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Qs=v;break e}Qs=i.return}}var b=e.current;for(Qs=b;null!==Qs;){var y=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,Qs=y;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(j){Sc(l,l.return,j)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(zl=t,Vt(),an&&"function"===typeof an.onPostCommitFiberRoot)try{an.onPostCommitFiberRoot(tn,e)}catch(j){}o=!0}return o}finally{yn=r,El.transition=n}}return!1}function kc(e,n,r){e=Ha(e,n=hs(0,n=cs(r,n),1),1),n=ec(),null!==e&&(vn(e,1,n),oc(e,n))}function Sc(e,n,r){if(3===e.tag)kc(e,e,r);else for(;null!==n;){if(3===n.tag){kc(n,e,r);break}if(1===n.tag){var o=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Gl||!Gl.has(o))){n=Ha(n,e=gs(n,e=cs(r,e),1),1),e=ec(),null!==n&&(vn(n,1,e),oc(n,e));break}}n=n.return}}function _c(e,n,r){var o=e.pingCache;null!==o&&o.delete(n),n=ec(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(Il&r)===r&&(4===Dl||3===Dl&&(130023424&Il)===Il&&500>Ke()-Bl?pc(e,0):Fl|=r),oc(e,n)}function Cc(e,n){0===n&&(0===(1&e.mode)?n=1:(n=un,0===(130023424&(un<<=1))&&(un=4194304)));var r=ec();null!==(e=Oa(e,n))&&(vn(e,n,r),oc(e,r))}function Ec(e){var n=e.memoizedState,r=0;null!==n&&(r=n.retryLane),Cc(e,r)}function zc(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,t=e.memoizedState;null!==t&&(r=t.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}null!==o&&o.delete(n),Cc(e,r)}function Pc(e,n){return Ye(e,n)}function Tc(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,n,r,o){return new Tc(e,n,r,o)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,n){var r=e.alternate;return null===r?((r=Ic(e.tag,n,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,n,r,o,t,i){var s=2;if(o=e,"function"===typeof e)Lc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Oc(r.children,t,i,n);case S:s=8,t|=8;break;case _:return(e=Ic(12,r,n,2|t)).elementType=_,e.lanes=i,e;case P:return(e=Ic(13,r,n,t)).elementType=P,e.lanes=i,e;case T:return(e=Ic(19,r,n,t)).elementType=T,e.lanes=i,e;case A:return Nc(r,t,i,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case E:s=9;break e;case z:s=11;break e;case I:s=14;break e;case L:s=16,o=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(n=Ic(s,r,n,t)).elementType=e,n.type=o,n.lanes=i,n}function Oc(e,n,r,o){return(e=Ic(7,e,o,n)).lanes=r,e}function Nc(e,n,r,o){return(e=Ic(22,e,o,n)).elementType=A,e.lanes=r,e.stateNode={isHidden:!1},e}function Rc(e,n,r){return(e=Ic(6,e,null,n)).lanes=r,e}function Fc(e,n,r){return(n=Ic(4,null!==e.children?e.children:[],e.key,n)).lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Mc(e,n,r,o,t){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mn(0),this.expirationTimes=mn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mn(0),this.identifierPrefix=o,this.onRecoverableError=t,this.mutableSourceEagerHydrationData=null}function Hc(e,n,r,o,t,a,i,s,l){return e=new Mc(e,n,r,s,l),1===n?(n=1,!0===a&&(n|=8)):n=0,a=Ic(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e){if(!e)return zt;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(At(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(a(171))}if(1===e.tag){var r=e.type;if(At(r))return Nt(e,r,n)}return n}function Wc(e,n,r,o,t,a,i,s,l){return(e=Hc(r,o,!0,e,0,a,0,s,l)).context=Bc(null),r=e.current,(a=Ma(o=ec(),t=nc(r))).callback=void 0!==n&&null!==n?n:null,Ha(r,a,t),e.current.lanes=t,vn(e,t,o),oc(e,o),e}function Vc(e,n,r,o){var t=n.current,a=ec(),i=nc(t);return r=Bc(r),null===n.context?n.context=r:n.pendingContext=r,(n=Ma(a,i)).payload={element:e},null!==(o=void 0===o?null:o)&&(n.callback=o),null!==(e=Ha(t,n,i))&&(rc(e,t,i,a),Ba(e,t,i)),i}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<n?r:n}}function Gc(e,n){qc(e,n),(e=e.alternate)&&qc(e,n)}kl=function(e,n,r){if(null!==e)if(e.memoizedProps!==n.pendingProps||Tt.current)bs=!0;else{if(0===(e.lanes&r)&&0===(128&n.flags))return bs=!1,function(e,n,r){switch(n.tag){case 3:Ps(n),ga();break;case 5:Qa(n);break;case 1:At(n.type)&&Rt(n);break;case 4:Za(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,t=n.memoizedProps.value;Et(ka,o._currentValue),o._currentValue=t;break;case 13:if(null!==(o=n.memoizedState))return null!==o.dehydrated?(Et(ei,1&ei.current),n.flags|=128,null):0!==(r&n.child.childLanes)?Rs(e,n,r):(Et(ei,1&ei.current),null!==(e=Us(e,n,r))?e.sibling:null);Et(ei,1&ei.current);break;case 19:if(o=0!==(r&n.childLanes),0!==(128&e.flags)){if(o)return Ws(e,n,r);n.flags|=128}if(null!==(t=n.memoizedState)&&(t.rendering=null,t.tail=null,t.lastEffect=null),Et(ei,ei.current),o)break;return null;case 22:case 23:return n.lanes=0,Ss(e,n,r)}return Us(e,n,r)}(e,n,r);bs=0!==(131072&e.flags)}else bs=!1,aa&&0!==(1048576&n.flags)&&ea(n,Yt,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;Vs(e,n),e=n.pendingProps;var t=Lt(n,Pt.current);Ta(n,r),t=xi(null,n,o,e,t,r);var i=mi();return n.flags|=1,"object"===typeof t&&null!==t&&"function"===typeof t.render&&void 0===t.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,At(o)?(i=!0,Rt(n)):i=!1,n.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,Ra(n),t.updater=ts,n.stateNode=t,t._reactInternals=n,ls(n,o,e,r),n=zs(null,n,o,!0,i,r)):(n.tag=0,aa&&i&&na(n),ys(null,n,t,r),n=n.child),n;case 16:o=n.elementType;e:{switch(Vs(e,n),e=n.pendingProps,o=(t=o._init)(o._payload),n.type=o,t=n.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===z)return 11;if(e===I)return 14}return 2}(o),e=rs(o,e),t){case 0:n=Cs(null,n,o,e,r);break e;case 1:n=Es(null,n,o,e,r);break e;case 11:n=ws(null,n,o,e,r);break e;case 14:n=js(null,n,o,rs(o.type,e),r);break e}throw Error(a(306,o,""))}return n;case 0:return o=n.type,t=n.pendingProps,Cs(e,n,o,t=n.elementType===o?t:rs(o,t),r);case 1:return o=n.type,t=n.pendingProps,Es(e,n,o,t=n.elementType===o?t:rs(o,t),r);case 3:e:{if(Ps(n),null===e)throw Error(a(387));o=n.pendingProps,t=(i=n.memoizedState).element,Fa(e,n),Va(n,o,null,r);var s=n.memoizedState;if(o=s.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=i,n.memoizedState=i,256&n.flags){n=Ts(e,n,o,r,t=cs(Error(a(423)),n));break e}if(o!==t){n=Ts(e,n,o,r,t=cs(Error(a(424)),n));break e}for(ta=dt(n.stateNode.containerInfo.firstChild),oa=n,aa=!0,ia=null,r=ja(n,null,o,r),n.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ga(),o===t){n=Us(e,n,r);break e}ys(e,n,o,r)}n=n.child}return n;case 5:return Qa(n),null===e&&da(n),o=n.type,t=n.pendingProps,i=null!==e?e.memoizedProps:null,s=t.children,ot(o,t)?s=null:null!==i&&ot(o,i)&&(n.flags|=32),_s(e,n),ys(e,n,s,r),n.child;case 6:return null===e&&da(n),null;case 13:return Rs(e,n,r);case 4:return Za(n,n.stateNode.containerInfo),o=n.pendingProps,null===e?n.child=wa(n,null,o,r):ys(e,n,o,r),n.child;case 11:return o=n.type,t=n.pendingProps,ws(e,n,o,t=n.elementType===o?t:rs(o,t),r);case 7:return ys(e,n,n.pendingProps,r),n.child;case 8:case 12:return ys(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(o=n.type._context,t=n.pendingProps,i=n.memoizedProps,s=t.value,Et(ka,o._currentValue),o._currentValue=s,null!==i)if(so(i.value,s)){if(i.children===t.children&&!Tt.current){n=Us(e,n,r);break e}}else for(null!==(i=n.child)&&(i.return=n);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===o){if(1===i.tag){(c=Ma(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Pa(i.return,r,n),l.lanes|=r;break}c=c.next}}else if(10===i.tag)s=i.type===n.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Pa(s,r,n),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===n){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ys(e,n,t.children,r),n=n.child}return n;case 9:return t=n.type,o=n.pendingProps.children,Ta(n,r),o=o(t=Ia(t)),n.flags|=1,ys(e,n,o,r),n.child;case 14:return t=rs(o=n.type,n.pendingProps),js(e,n,o,t=rs(o.type,t),r);case 15:return ks(e,n,n.type,n.pendingProps,r);case 17:return o=n.type,t=n.pendingProps,t=n.elementType===o?t:rs(o,t),Vs(e,n),n.tag=1,At(o)?(e=!0,Rt(n)):e=!1,Ta(n,r),is(n,o,t),ls(n,o,t,r),zs(null,n,o,!0,e,r);case 19:return Ws(e,n,r);case 22:return Ss(e,n,r)}throw Error(a(156,n.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,n,r,o,t){var a=r._reactRootContainer;if(a){var i=a;if("function"===typeof t){var s=t;t=function(){var e=Uc(i);s.call(e)}}Vc(n,i,e,t)}else i=function(e,n,r,o,t){if(t){if("function"===typeof o){var a=o;o=function(){var e=Uc(i);a.call(e)}}var i=Wc(n,o,e,0,null,!1,0,"",Qc);return e._reactRootContainer=i,e[ft]=i.current,Vo(8===e.nodeType?e.parentNode:e),dc(),i}for(;t=e.lastChild;)e.removeChild(t);if("function"===typeof o){var s=o;o=function(){var e=Uc(l);s.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[ft]=l.current,Vo(8===e.nodeType?e.parentNode:e),dc(function(){Vc(n,l,r,o)}),l}(r,n,e,t,o);return Uc(i)}Jc.prototype.render=$c.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(a(409));Vc(e,n,null,null)},Jc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;dc(function(){Vc(null,e,null,null)}),n[ft]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var n=_n();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Dn.length&&0!==n&&n<Dn[r].priority;r++);Dn.splice(r,0,e),0===r&&Fn(e)}},jn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=pn(n.pendingLanes);0!==r&&(bn(n,1|r),oc(n,Ke()),0===(6&zl)&&(Wl=Ke()+500,Vt()))}break;case 13:dc(function(){var n=Oa(e,1);if(null!==n){var r=ec();rc(n,e,1,r)}}),Gc(e,1)}},kn=function(e){if(13===e.tag){var n=Oa(e,134217728);if(null!==n)rc(n,e,134217728,ec());Gc(e,134217728)}},Sn=function(e){if(13===e.tag){var n=nc(e),r=Oa(e,n);if(null!==r)rc(r,e,n,ec());Gc(e,n)}},_n=function(){return yn},Cn=function(e,n){var r=yn;try{return yn=e,n()}finally{yn=r}},je=function(e,n,r){switch(n){case"input":if(Q(e,r),n=r.name,"radio"===r.type&&null!=n){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var t=jt(o);if(!t)throw Error(a(90));Y(o),Q(o,t)}}}break;case"textarea":ae(e,r);break;case"select":null!=(n=r.value)&&re(e,!!r.multiple,n,!1)}},ze=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[yt,wt,jt,Ce,Ee,cc]},nd={findFiberByHostInstance:bt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{tn=od.inject(rd),an=od}catch(de){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,n.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(n))throw Error(a(200));return function(e,n,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==o?null:""+o,children:e,containerInfo:n,implementation:r}}(e,n,null,r)},n.createRoot=function(e,n){if(!Zc(e))throw Error(a(299));var r=!1,o="",t=Yc;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(t=n.onRecoverableError)),n=Hc(e,1,!1,null,0,r,0,o,t),e[ft]=n.current,Vo(8===e.nodeType?e.parentNode:e),new $c(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(n))?null:e.stateNode},n.flushSync=function(e){return dc(e)},n.hydrate=function(e,n,r){if(!Kc(n))throw Error(a(200));return Xc(null,e,n,!0,r)},n.hydrateRoot=function(e,n,r){if(!Zc(e))throw Error(a(405));var o=null!=r&&r.hydratedSources||null,t=!1,i="",s=Yc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(t=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),n=Wc(n,null,e,1,null!=r?r:null,t,0,i,s),e[ft]=n.current,Vo(e),o)for(e=0;e<o.length;e++)t=(t=(r=o[e])._getVersion)(r._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[r,t]:n.mutableSourceEagerHydrationData.push(r,t);return new Jc(n)},n.render=function(e,n,r){if(!Kc(n))throw Error(a(200));return Xc(null,e,n,!1,r)},n.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[ft]=null})}),!0)},n.unstable_batchedUpdates=cc,n.unstable_renderSubtreeIntoContainer=function(e,n,r,o){if(!Kc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,n,r,!1,o)},n.version="18.3.1-next-f1338f8080-20240426"},763:(e,n,r)=>{"use strict";e.exports=r(983)},853:(e,n,r)=>{"use strict";e.exports=r(234)},950:(e,n,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=r(730)},983:(e,n)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,x=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var n=e.$$typeof;switch(n){case o:switch(e=e.type){case d:case u:case a:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case x:case f:case l:return e;default:return n}}case t:return n}}}function j(e){return w(e)===u}n.AsyncMode=d,n.ConcurrentMode=u,n.ContextConsumer=c,n.ContextProvider=l,n.Element=o,n.ForwardRef=p,n.Fragment=a,n.Lazy=x,n.Memo=f,n.Portal=t,n.Profiler=s,n.StrictMode=i,n.Suspense=h,n.isAsyncMode=function(e){return j(e)||w(e)===d},n.isConcurrentMode=j,n.isContextConsumer=function(e){return w(e)===c},n.isContextProvider=function(e){return w(e)===l},n.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},n.isForwardRef=function(e){return w(e)===p},n.isFragment=function(e){return w(e)===a},n.isLazy=function(e){return w(e)===x},n.isMemo=function(e){return w(e)===f},n.isPortal=function(e){return w(e)===t},n.isProfiler=function(e){return w(e)===s},n.isStrictMode=function(e){return w(e)===i},n.isSuspense=function(e){return w(e)===h},n.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===s||e===i||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===x||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===v||e.$$typeof===b||e.$$typeof===y||e.$$typeof===m)},n.typeOf=w}},n={};function r(o){var t=n[o];if(void 0!==t)return t.exports;var a=n[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},(()=>{var e,n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(o,t){if(1&t&&(o=this(o)),8&t)return o;if("object"===typeof o&&o){if(4&t&&o.__esModule)return o;if(16&t&&"function"===typeof o.then)return o}var a=Object.create(null);r.r(a);var i={};e=e||[null,n({}),n([]),n(n)];for(var s=2&t&&o;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>o[e]);return i.default=()=>o,r.d(a,i),a}})(),r.d=(e,n)=>{for(var o in n)r.o(n,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,(()=>{"use strict";var e={};r.r(e),r.d(e,{FILE:()=>nr,HTML:()=>tr,TEXT:()=>or,URL:()=>rr});var n=r(43),o=r(391);function t(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var a=r(528),i=r(324),s=r.n(i);const l=function(e){function n(e,o,l,c,p){for(var h,g,f,x,y,j=0,k=0,S=0,_=0,C=0,L=0,D=f=h=0,N=0,R=0,F=0,M=0,H=l.length,B=H-1,W="",V="",U="",q="";N<H;){if(g=l.charCodeAt(N),N===B&&0!==k+_+S+j&&(0!==k&&(g=47===k?10:47),_=S=j=0,H++,B++),0===k+_+S+j){if(N===B&&(0<R&&(W=W.replace(u,"")),0<W.trim().length)){switch(g){case 32:case 9:case 59:case 13:case 10:break;default:W+=l.charAt(N)}g=59}switch(g){case 123:for(h=(W=W.trim()).charCodeAt(0),f=1,M=++N;N<H;){switch(g=l.charCodeAt(N)){case 123:f++;break;case 125:f--;break;case 47:switch(g=l.charCodeAt(N+1)){case 42:case 47:e:{for(D=N+1;D<B;++D)switch(l.charCodeAt(D)){case 47:if(42===g&&42===l.charCodeAt(D-1)&&N+2!==D){N=D+1;break e}break;case 10:if(47===g){N=D+1;break e}}N=D}}break;case 91:g++;case 40:g++;case 34:case 39:for(;N++<B&&l.charCodeAt(N)!==g;);}if(0===f)break;N++}if(f=l.substring(M,N),0===h&&(h=(W=W.replace(d,"").trim()).charCodeAt(0)),64===h){switch(0<R&&(W=W.replace(u,"")),g=W.charCodeAt(1)){case 100:case 109:case 115:case 45:R=o;break;default:R=I}if(M=(f=n(o,R,f,g,p+1)).length,0<A&&(y=s(3,f,R=r(I,W,F),o,z,E,M,g,p,c),W=R.join(""),void 0!==y&&0===(M=(f=y.trim()).length)&&(g=0,f="")),0<M)switch(g){case 115:W=W.replace(w,i);case 100:case 109:case 45:f=W+"{"+f+"}";break;case 107:f=(W=W.replace(m,"$1 $2"))+"{"+f+"}",f=1===T||2===T&&a("@"+f,3)?"@-webkit-"+f+"@"+f:"@"+f;break;default:f=W+f,112===c&&(V+=f,f="")}else f=""}else f=n(o,r(o,W,F),f,c,p+1);U+=f,f=F=R=D=h=0,W="",g=l.charCodeAt(++N);break;case 125:case 59:if(1<(M=(W=(0<R?W.replace(u,""):W).trim()).length))switch(0===D&&(h=W.charCodeAt(0),45===h||96<h&&123>h)&&(M=(W=W.replace(" ",":")).length),0<A&&void 0!==(y=s(1,W,o,e,z,E,V.length,c,p,c))&&0===(M=(W=y.trim()).length)&&(W="\0\0"),h=W.charCodeAt(0),g=W.charCodeAt(1),h){case 0:break;case 64:if(105===g||99===g){q+=W+l.charAt(N);break}default:58!==W.charCodeAt(M-1)&&(V+=t(W,h,g,W.charCodeAt(2)))}F=R=D=h=0,W="",g=l.charCodeAt(++N)}}switch(g){case 13:case 10:47===k?k=0:0===1+h&&107!==c&&0<W.length&&(R=1,W+="\0"),0<A*O&&s(0,W,o,e,z,E,V.length,c,p,c),E=1,z++;break;case 59:case 125:if(0===k+_+S+j){E++;break}default:switch(E++,x=l.charAt(N),g){case 9:case 32:if(0===_+j+k)switch(C){case 44:case 58:case 9:case 32:x="";break;default:32!==g&&(x=" ")}break;case 0:x="\\0";break;case 12:x="\\f";break;case 11:x="\\v";break;case 38:0===_+k+j&&(R=F=1,x="\f"+x);break;case 108:if(0===_+k+j+P&&0<D)switch(N-D){case 2:112===C&&58===l.charCodeAt(N-3)&&(P=C);case 8:111===L&&(P=L)}break;case 58:0===_+k+j&&(D=N);break;case 44:0===k+S+_+j&&(R=1,x+="\r");break;case 34:case 39:0===k&&(_=_===g?0:0===_?g:_);break;case 91:0===_+k+S&&j++;break;case 93:0===_+k+S&&j--;break;case 41:0===_+k+j&&S--;break;case 40:if(0===_+k+j){if(0===h)if(2*C+3*L===533);else h=1;S++}break;case 64:0===k+S+_+j+D+f&&(f=1);break;case 42:case 47:if(!(0<_+j+S))switch(k){case 0:switch(2*g+3*l.charCodeAt(N+1)){case 235:k=47;break;case 220:M=N,k=42}break;case 42:47===g&&42===C&&M+2!==N&&(33===l.charCodeAt(M+2)&&(V+=l.substring(M,N+1)),x="",k=0)}}0===k&&(W+=x)}L=C,C=g,N++}if(0<(M=V.length)){if(R=o,0<A&&(void 0!==(y=s(2,V,R,e,z,E,M,c,p,c))&&0===(V=y).length))return q+V+U;if(V=R.join(",")+"{"+V+"}",0!==T*P){switch(2!==T||a(V,2)||(P=0),P){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(v,"::-webkit-input-$1")+V.replace(v,"::-moz-$1")+V.replace(v,":-ms-input-$1")+V}P=0}}return q+V+U}function r(e,n,r){var t=n.trim().split(f);n=t;var a=t.length,i=e.length;switch(i){case 0:case 1:var s=0;for(e=0===i?"":e[0]+" ";s<a;++s)n[s]=o(e,n[s],r).trim();break;default:var l=s=0;for(n=[];s<a;++s)for(var c=0;c<i;++c)n[l++]=o(e[c]+" ",t[s],r).trim()}return n}function o(e,n,r){var o=n.charCodeAt(0);switch(33>o&&(o=(n=n.trim()).charCodeAt(0)),o){case 38:return n.replace(x,"$1"+e.trim());case 58:return e.trim()+n.replace(x,"$1"+e.trim());default:if(0<1*r&&0<n.indexOf("\f"))return n.replace(x,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+n}function t(e,n,r,o){var i=e+";",s=2*n+3*r+4*o;if(944===s){e=i.indexOf(":",9)+1;var l=i.substring(e,i.length-1).trim();return l=i.substring(0,e).trim()+l+";",1===T||2===T&&a(l,1)?"-webkit-"+l+l:l}if(0===T||2===T&&!a(i,1))return i;switch(s){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:if(45===i.charCodeAt(8))return"-webkit-"+i+i;if(0<i.indexOf("image-set(",11))return i.replace(C,"$1-webkit-$2")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(l=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+l+i;case 1005:return h.test(i)?i.replace(p,":-webkit-")+i.replace(p,":-moz-")+i:i;case 1e3:switch(n=(l=i.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(n)){case 226:l=i.replace(y,"tb");break;case 232:l=i.replace(y,"tb-rl");break;case 220:l=i.replace(y,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+l+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(n=(i=e).length-10,s=(l=(33===i.charCodeAt(n)?i.substring(0,n):i).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:i=i.replace(l,"-webkit-"+l)+";"+i;break;case 207:case 102:i=i.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+i.replace(l,"-webkit-"+l)+";"+i.replace(l,"-ms-"+l+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return l=i.replace("-items",""),"-webkit-"+i+"-webkit-box-"+l+"-ms-flex-"+l+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(k,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(k,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?t(e.replace("stretch","fill-available"),n,r,o).replace(":fill-available",":stretch"):i.replace(l,"-webkit-"+l)+i.replace(l,"-moz-"+l.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===r+o&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+i}return i}function a(e,n){var r=e.indexOf(1===n?":":"{"),o=e.substring(0,3!==n?r:10);return r=e.substring(r+1,e.length-1),D(2!==n?o:o.replace(S,"$1"),r,n)}function i(e,n){var r=t(n,n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2));return r!==n+";"?r.replace(j," or ($1)").substring(4):"("+n+")"}function s(e,n,r,o,t,a,i,s,l,d){for(var u,p=0,h=n;p<A;++p)switch(u=L[p].call(c,e,h,r,o,t,a,i,s,l,d)){case void 0:case!1:case!0:case null:break;default:h=u}if(h!==n)return h}function l(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?T=1:(T=2,D=e):T=0),l}function c(e,r){var o=e;if(33>o.charCodeAt(0)&&(o=o.trim()),o=[o],0<A){var t=s(-1,r,o,o,z,E,0,0,0,0);void 0!==t&&"string"===typeof t&&(r=t)}var a=n(I,o,r,0,0);return 0<A&&(void 0!==(t=s(-2,a,o,o,z,E,a.length,0,0,0))&&(a=t)),P=0,E=z=1,a}var d=/^\0+/g,u=/[\0\r\f]/g,p=/: */g,h=/zoo|gra/,g=/([,: ])(transform)/g,f=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,b=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,j=/([\s\S]*?);/g,k=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,E=1,z=1,P=0,T=1,I=[],L=[],A=0,D=null,O=0;return c.use=function e(n){switch(n){case void 0:case null:A=L.length=0;break;default:if("function"===typeof n)L[A++]=n;else if("object"===typeof n)for(var r=0,o=n.length;r<o;++r)e(n[r]);else O=0|!!n}return e},c.set=l,void 0!==e&&l(e),c};const c={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function d(e){var n=Object.create(null);return function(r){return void 0===n[r]&&(n[r]=e(r)),n[r]}}var u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,p=d(function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),h=r(219),g=r.n(h);function f(){return(f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}var x=function(e,n){for(var r=[e[0]],o=0,t=n.length;o<t;o+=1)r.push(n[o],e[o+1]);return r},m=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,a.QP)(e)},v=Object.freeze([]),b=Object.freeze({});function y(e){return"function"==typeof e}function w(e){return e.displayName||e.name||"Component"}function j(e){return e&&"string"==typeof e.styledComponentId}var k="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",S="undefined"!=typeof window&&"HTMLElement"in window,_=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)));function C(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var n=e.prototype;return n.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},n.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,t=o;e>=t;)(t<<=1)<0&&C(16,""+e);this.groupSizes=new Uint32Array(t),this.groupSizes.set(r),this.length=t;for(var a=o;a<t;a++)this.groupSizes[a]=0}for(var i=this.indexOfGroup(e+1),s=0,l=n.length;s<l;s++)this.tag.insertRule(i,n[s])&&(this.groupSizes[e]++,i++)},n.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var t=r;t<o;t++)this.tag.deleteRule(r)}},n.getGroup=function(e){var n="";if(e>=this.length||0===this.groupSizes[e])return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),t=o+r,a=o;a<t;a++)n+=this.tag.getRule(a)+"/*!sc*/\n";return n},e}(),z=new Map,P=new Map,T=1,I=function(e){if(z.has(e))return z.get(e);for(;P.has(T);)T++;var n=T++;return z.set(e,n),P.set(n,e),n},L=function(e){return P.get(e)},A=function(e,n){n>=T&&(T=n+1),z.set(e,n),P.set(n,e)},D="style["+k+'][data-styled-version="5.3.11"]',O=new RegExp("^"+k+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),N=function(e,n,r){for(var o,t=r.split(","),a=0,i=t.length;a<i;a++)(o=t[a])&&e.registerName(n,o)},R=function(e,n){for(var r=(n.textContent||"").split("/*!sc*/\n"),o=[],t=0,a=r.length;t<a;t++){var i=r[t].trim();if(i){var s=i.match(O);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(A(c,l),N(e,c,s[3]),e.getTag().insertRules(l,o)),o.length=0}else o.push(i)}}},F=function(){return r.nc},M=function(e){var n=document.head,r=e||n,o=document.createElement("style"),t=function(e){for(var n=e.childNodes,r=n.length;r>=0;r--){var o=n[r];if(o&&1===o.nodeType&&o.hasAttribute(k))return o}}(r),a=void 0!==t?t.nextSibling:null;o.setAttribute(k,"active"),o.setAttribute("data-styled-version","5.3.11");var i=F();return i&&o.setAttribute("nonce",i),r.insertBefore(o,a),o},H=function(){function e(e){var n=this.element=M(e);n.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var n=document.styleSheets,r=0,o=n.length;r<o;r++){var t=n[r];if(t.ownerNode===e)return t}C(17)}(n),this.length=0}var n=e.prototype;return n.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch(e){return!1}},n.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.getRule=function(e){var n=this.sheet.cssRules[e];return void 0!==n&&"string"==typeof n.cssText?n.cssText:""},e}(),B=function(){function e(e){var n=this.element=M(e);this.nodes=n.childNodes,this.length=0}var n=e.prototype;return n.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n),o=this.nodes[e];return this.element.insertBefore(r,o||null),this.length++,!0}return!1},n.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),W=function(){function e(e){this.rules=[],this.length=0}var n=e.prototype;return n.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},n.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),V=S,U={isServer:!S,useCSSOMInjection:!_},q=function(){function e(e,n,r){void 0===e&&(e=b),void 0===n&&(n={}),this.options=f({},U,{},e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&S&&V&&(V=!1,function(e){for(var n=document.querySelectorAll(D),r=0,o=n.length;r<o;r++){var t=n[r];t&&"active"!==t.getAttribute(k)&&(R(e,t),t.parentNode&&t.parentNode.removeChild(t))}}(this))}e.registerId=function(e){return I(e)};var n=e.prototype;return n.reconstructWithOptions=function(n,r){return void 0===r&&(r=!0),new e(f({},this.options,{},n),this.gs,r&&this.names||void 0)},n.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.getTag=function(){return this.tag||(this.tag=(r=(n=this.options).isServer,o=n.useCSSOMInjection,t=n.target,e=r?new W(t):o?new H(t):new B(t),new E(e)));var e,n,r,o,t},n.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},n.registerName=function(e,n){if(I(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},n.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(I(e),r)},n.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.clearRules=function(e){this.getTag().clearGroup(I(e)),this.clearNames(e)},n.clearTag=function(){this.tag=void 0},n.toString=function(){return function(e){for(var n=e.getTag(),r=n.length,o="",t=0;t<r;t++){var a=L(t);if(void 0!==a){var i=e.names.get(a),s=n.getGroup(t);if(i&&s&&i.size){var l=k+".g"+t+'[id="'+a+'"]',c="";void 0!==i&&i.forEach(function(e){e.length>0&&(c+=e+",")}),o+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return o}(this)},e}(),G=/(a)(d)/gi,Y=function(e){return String.fromCharCode(e+(e>25?39:97))};function $(e){var n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=Y(n%52)+r;return(Y(n%52)+r).replace(G,"$1-$2")}var J=function(e,n){for(var r=n.length;r;)e=33*e^n.charCodeAt(--r);return e},Z=function(e){return J(5381,e)};function K(e){for(var n=0;n<e.length;n+=1){var r=e[n];if(y(r)&&!j(r))return!1}return!0}var Q=Z("5.3.11"),X=function(){function e(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&K(e),this.componentId=n,this.baseHash=J(Q,n),this.baseStyle=r,q.registerId(n)}return e.prototype.generateAndInjectStyles=function(e,n,r){var o=this.componentId,t=[];if(this.baseStyle&&t.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))t.push(this.staticRulesId);else{var a=me(this.rules,e,n,r).join(""),i=$(J(this.baseHash,a)>>>0);if(!n.hasNameForId(o,i)){var s=r(a,"."+i,void 0,o);n.insertRules(o,i,s)}t.push(i),this.staticRulesId=i}else{for(var l=this.rules.length,c=J(this.baseHash,r.hash),d="",u=0;u<l;u++){var p=this.rules[u];if("string"==typeof p)d+=p;else if(p){var h=me(p,e,n,r),g=Array.isArray(h)?h.join(""):h;c=J(c,g+u),d+=g}}if(d){var f=$(c>>>0);if(!n.hasNameForId(o,f)){var x=r(d,"."+f,void 0,o);n.insertRules(o,f,x)}t.push(f)}}return t.join(" ")},e}(),ee=/^\s*\/\/.*$/gm,ne=[":","[",".","#"];function re(e){var n,r,o,t,a=void 0===e?b:e,i=a.options,s=void 0===i?b:i,c=a.plugins,d=void 0===c?v:c,u=new l(s),p=[],h=function(e){function n(n){if(n)try{e(n+"}")}catch(e){}}return function(r,o,t,a,i,s,l,c,d,u){switch(r){case 1:if(0===d&&64===o.charCodeAt(0))return e(o+";"),"";break;case 2:if(0===c)return o+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(t[0]+o),"";default:return o+(0===u?"/*|*/":"")}case-2:o.split("/*|*/}").forEach(n)}}}(function(e){p.push(e)}),g=function(e,o,a){return 0===o&&-1!==ne.indexOf(a[r.length])||a.match(t)?e:"."+n};function f(e,a,i,s){void 0===s&&(s="&");var l=e.replace(ee,""),c=a&&i?i+" "+a+" { "+l+" }":l;return n=s,r=a,o=new RegExp("\\"+r+"\\b","g"),t=new RegExp("(\\"+r+"\\b){2,}"),u(i||!a?"":a,c)}return u.use([].concat(d,[function(e,n,t){2===e&&t.length&&t[0].lastIndexOf(r)>0&&(t[0]=t[0].replace(o,g))},h,function(e){if(-2===e){var n=p;return p=[],n}}])),f.hash=d.length?d.reduce(function(e,n){return n.name||C(15),J(e,n.name)},5381).toString():"",f}var oe=n.createContext(),te=(oe.Consumer,n.createContext()),ae=(te.Consumer,new q),ie=re();function se(){return(0,n.useContext)(oe)||ae}function le(){return(0,n.useContext)(te)||ie}function ce(e){var r=(0,n.useState)(e.stylisPlugins),o=r[0],t=r[1],a=se(),i=(0,n.useMemo)(function(){var n=a;return e.sheet?n=e.sheet:e.target&&(n=n.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n},[e.disableCSSOMInjection,e.sheet,e.target]),l=(0,n.useMemo)(function(){return re({options:{prefix:!e.disableVendorPrefixes},plugins:o})},[e.disableVendorPrefixes,o]);return(0,n.useEffect)(function(){s()(o,e.stylisPlugins)||t(e.stylisPlugins)},[e.stylisPlugins]),n.createElement(oe.Provider,{value:i},n.createElement(te.Provider,{value:l},e.children))}var de=function(){function e(e,n){var r=this;this.inject=function(e,n){void 0===n&&(n=ie);var o=r.name+n.hash;e.hasNameForId(r.id,o)||e.insertRules(r.id,o,n(r.rules,o,"@keyframes"))},this.toString=function(){return C(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return e.prototype.getName=function(e){return void 0===e&&(e=ie),this.name+e.hash},e}(),ue=/([A-Z])/,pe=/([A-Z])/g,he=/^ms-/,ge=function(e){return"-"+e.toLowerCase()};function fe(e){return ue.test(e)?e.replace(pe,ge).replace(he,"-ms-"):e}var xe=function(e){return null==e||!1===e||""===e};function me(e,n,r,o){if(Array.isArray(e)){for(var t,a=[],i=0,s=e.length;i<s;i+=1)""!==(t=me(e[i],n,r,o))&&(Array.isArray(t)?a.push.apply(a,t):a.push(t));return a}return xe(e)?"":j(e)?"."+e.styledComponentId:y(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!n?e:me(e(n),n,r,o):e instanceof de?r?(e.inject(r,o),e.getName(o)):e:m(e)?function e(n,r){var o,t,a=[];for(var i in n)n.hasOwnProperty(i)&&!xe(n[i])&&(Array.isArray(n[i])&&n[i].isCss||y(n[i])?a.push(fe(i)+":",n[i],";"):m(n[i])?a.push.apply(a,e(n[i],i)):a.push(fe(i)+": "+(o=i,(null==(t=n[i])||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||o in c||o.startsWith("--")?String(t).trim():t+"px")+";")));return r?[r+" {"].concat(a,["}"]):a}(e):e.toString();var l}var ve=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function be(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return y(e)||m(e)?ve(me(x(v,[e].concat(r)))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:ve(me(x(e,r)))}new Set;var ye=function(e,n,r){return void 0===r&&(r=b),e.theme!==r.theme&&e.theme||n||r.theme},we=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,je=/(^-|-$)/g;function ke(e){return e.replace(we,"-").replace(je,"")}var Se=function(e){return $(Z(e)>>>0)};function _e(e){return"string"==typeof e&&!0}var Ce=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ze(e,n,r){var o=e[r];Ce(n)&&Ce(o)?Pe(o,n):e[r]=n}function Pe(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var t=0,a=r;t<a.length;t++){var i=a[t];if(Ce(i))for(var s in i)Ee(s)&&ze(e,i[s],s)}return e}var Te=n.createContext();Te.Consumer;var Ie={};function Le(e,r,o){var t=j(e),a=!_e(e),i=r.attrs,s=void 0===i?v:i,l=r.componentId,c=void 0===l?function(e,n){var r="string"!=typeof e?"sc":ke(e);Ie[r]=(Ie[r]||0)+1;var o=r+"-"+Se("5.3.11"+r+Ie[r]);return n?n+"-"+o:o}(r.displayName,r.parentComponentId):l,d=r.displayName,u=void 0===d?function(e){return _e(e)?"styled."+e:"Styled("+w(e)+")"}(e):d,h=r.displayName&&r.componentId?ke(r.displayName)+"-"+r.componentId:r.componentId||c,x=t&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=r.shouldForwardProp;t&&e.shouldForwardProp&&(m=r.shouldForwardProp?function(n,o,t){return e.shouldForwardProp(n,o,t)&&r.shouldForwardProp(n,o,t)}:e.shouldForwardProp);var k,S=new X(o,h,t?e.componentStyle:void 0),_=S.isStatic&&0===s.length,C=function(e,r){return function(e,r,o,t){var a=e.attrs,i=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,d=e.styledComponentId,u=e.target,h=function(e,n,r){void 0===e&&(e=b);var o=f({},n,{theme:e}),t={};return r.forEach(function(e){var n,r,a,i=e;for(n in y(i)&&(i=i(o)),i)o[n]=t[n]="className"===n?(r=t[n],a=i[n],r&&a?r+" "+a:r||a):i[n]}),[o,t]}(ye(r,(0,n.useContext)(Te),s)||b,r,a),g=h[0],x=h[1],m=function(e,n,r){var o=se(),t=le();return n?e.generateAndInjectStyles(b,o,t):e.generateAndInjectStyles(r,o,t)}(i,t,g),v=o,w=x.$as||r.$as||x.as||r.as||u,j=_e(w),k=x!==r?f({},r,{},x):r,S={};for(var _ in k)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?S.as=k[_]:(c?c(_,p,w):!j||p(_))&&(S[_]=k[_]));return r.style&&x.style!==r.style&&(S.style=f({},r.style,{},x.style)),S.className=Array.prototype.concat(l,d,m!==d?m:null,r.className,x.className).filter(Boolean).join(" "),S.ref=v,(0,n.createElement)(w,S)}(k,e,r,_)};return C.displayName=u,(k=n.forwardRef(C)).attrs=x,k.componentStyle=S,k.displayName=u,k.shouldForwardProp=m,k.foldedComponentIds=t?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):v,k.styledComponentId=h,k.target=t?e.target:e,k.withComponent=function(e){var n=r.componentId,t=function(e,n){if(null==e)return{};var r,o,t={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],n.indexOf(r)>=0||(t[r]=e[r]);return t}(r,["componentId"]),a=n&&n+"-"+(_e(e)?e:ke(w(e)));return Le(e,f({},t,{attrs:x,componentId:a}),o)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(n){this._foldedDefaultProps=t?Pe({},e.defaultProps,n):n}}),Object.defineProperty(k,"toString",{value:function(){return"."+k.styledComponentId}}),a&&g()(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var Ae=function(e){return function e(n,r,o){if(void 0===o&&(o=b),!(0,a.Hy)(r))return C(1,String(r));var t=function(){return n(r,o,be.apply(void 0,arguments))};return t.withConfig=function(t){return e(n,r,f({},o,{},t))},t.attrs=function(t){return e(n,r,f({},o,{attrs:Array.prototype.concat(o.attrs,t).filter(Boolean)}))},t}(Le,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Ae[e]=Ae(e)});!function(){function e(e,n){this.rules=e,this.componentId=n,this.isStatic=K(e),q.registerId(this.componentId+1)}var n=e.prototype;n.createStyles=function(e,n,r,o){var t=o(me(this.rules,n,r,o).join(""),""),a=this.componentId+e;r.insertRules(a,a,t)},n.removeStyles=function(e,n){n.clearRules(this.componentId+e)},n.renderStyles=function(e,n,r,o){e>2&&q.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,o)}}();function De(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var t=be.apply(void 0,[e].concat(r)).join(""),a=Se(t);return new de(a,t)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var n=e.instance.toString();if(!n)return"";var r=F();return"<style "+[r&&'nonce="'+r+'"',k+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+n+"</style>"},this.getStyleTags=function(){return e.sealed?C(2):e._emitSheetCSS()},this.getStyleElement=function(){var r;if(e.sealed)return C(2);var o=((r={})[k]="",r["data-styled-version"]="5.3.11",r.dangerouslySetInnerHTML={__html:e.instance.toString()},r),t=F();return t&&(o.nonce=t),[n.createElement("style",f({},o,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new q({isServer:!0}),this.sealed=!1}var r=e.prototype;r.collectStyles=function(e){return this.sealed?C(2):n.createElement(ce,{sheet:this.instance},e)},r.interleaveWithNodeStream=function(e){return C(3)}}();const Oe=Ae;var Ne=r(579);function Re(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Fe="function"===typeof Symbol&&Symbol.observable||"@@observable",Me=function(){return Math.random().toString(36).substring(7).split("").join(".")},He={INIT:"@@redux/INIT"+Me(),REPLACE:"@@redux/REPLACE"+Me(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Me()}};function Be(e){if("object"!==typeof e||null===e)return!1;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function We(e,n,r){var o;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Re(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Re(1));return r(We)(e,n)}if("function"!==typeof e)throw new Error(Re(2));var t=e,a=n,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function d(){if(l)throw new Error(Re(3));return a}function u(e){if("function"!==typeof e)throw new Error(Re(4));if(l)throw new Error(Re(5));var n=!0;return c(),s.push(e),function(){if(n){if(l)throw new Error(Re(6));n=!1,c();var r=s.indexOf(e);s.splice(r,1),i=null}}}function p(e){if(!Be(e))throw new Error(Re(7));if("undefined"===typeof e.type)throw new Error(Re(8));if(l)throw new Error(Re(9));try{l=!0,a=t(a,e)}finally{l=!1}for(var n=i=s,r=0;r<n.length;r++){(0,n[r])()}return e}return p({type:He.INIT}),(o={dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Re(10));t=e,p({type:He.REPLACE})}})[Fe]=function(){var e,n=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Re(11));function r(){e.next&&e.next(d())}return r(),{unsubscribe:n(r)}}})[Fe]=function(){return this},e},o}function Ve(e,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),t=2;t<r;t++)o[t-2]=arguments[t];if("undefined"!==typeof process&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===n)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(n.replace(/%s/g,function(){return o[r++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function Ue(e){return"object"===typeof e}const qe="dnd-core/INIT_COORDS",Ge="dnd-core/BEGIN_DRAG",Ye="dnd-core/PUBLISH_DRAG_SOURCE",$e="dnd-core/HOVER",Je="dnd-core/DROP",Ze="dnd-core/END_DRAG";function Ke(e,n){return{type:qe,payload:{sourceClientOffset:n||null,clientOffset:e||null}}}const Qe={type:qe,payload:{clientOffset:null,sourceClientOffset:null}};function Xe(e){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0};const{publishSource:o=!0,clientOffset:t,getSourceClientOffset:a}=r,i=e.getMonitor(),s=e.getRegistry();e.dispatch(Ke(t)),function(e,n,r){Ve(!n.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(e){Ve(r.getSource(e),"Expected sourceIds to be registered.")})}(n,i,s);const l=function(e,n){let r=null;for(let o=e.length-1;o>=0;o--)if(n.canDragSource(e[o])){r=e[o];break}return r}(n,i);if(null==l)return void e.dispatch(Qe);let c=null;if(t){if(!a)throw new Error("getSourceClientOffset must be defined");!function(e){Ve("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(a),c=a(l)}e.dispatch(Ke(t,c));const d=s.getSource(l).beginDrag(i,l);if(null==d)return;!function(e){Ve(Ue(e),"Item must be an object.")}(d),s.pinSource(l);const u=s.getSourceType(l);return{type:Ge,payload:{itemType:u,item:d,sourceId:l,clientOffset:t||null,sourceClientOffset:c||null,isSourcePublic:!!o}}}}function en(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function nn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){en(e,n,r[n])})}return e}function rn(e){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=e.getMonitor(),o=e.getRegistry();!function(e){Ve(e.isDragging(),"Cannot call drop while not dragging."),Ve(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(r);const t=function(e){const n=e.getTargetIds().filter(e.canDropOnTarget,e);return n.reverse(),n}(r);t.forEach((t,a)=>{const i=function(e,n,r,o){const t=r.getTarget(e);let a=t?t.drop(o,e):void 0;(function(e){Ve("undefined"===typeof e||Ue(e),"Drop result must either be an object or undefined.")})(a),"undefined"===typeof a&&(a=0===n?{}:o.getDropResult());return a}(t,a,o,r),s={type:Je,payload:{dropResult:nn({},n,i)}};e.dispatch(s)})}}function on(e){return function(){const n=e.getMonitor(),r=e.getRegistry();!function(e){Ve(e.isDragging(),"Cannot call endDrag while not dragging.")}(n);const o=n.getSourceId();if(null!=o){r.getSource(o,!0).endDrag(n,o),r.unpinSource()}return{type:Ze}}}function tn(e,n){return null===n?null===e:Array.isArray(e)?e.some(e=>e===n):e===n}function an(e){return function(n){let{clientOffset:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){Ve(Array.isArray(e),"Expected targetIds to be an array.")}(n);const o=n.slice(0),t=e.getMonitor(),a=e.getRegistry();return function(e,n,r){for(let o=e.length-1;o>=0;o--){const t=e[o];tn(n.getTargetType(t),r)||e.splice(o,1)}}(o,a,t.getItemType()),function(e,n,r){Ve(n.isDragging(),"Cannot call hover while not dragging."),Ve(!n.didDrop(),"Cannot call hover after drop.");for(let o=0;o<e.length;o++){const n=e[o];Ve(e.lastIndexOf(n)===o,"Expected targetIds to be unique in the passed array.");Ve(r.getTarget(n),"Expected targetIds to be registered.")}}(o,t,a),function(e,n,r){e.forEach(function(e){r.getTarget(e).hover(n,e)})}(o,t,a),{type:$e,payload:{targetIds:o,clientOffset:r||null}}}}function sn(e){return function(){if(e.getMonitor().isDragging())return{type:Ye}}}class ln{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;const r=function(e){return{beginDrag:Xe(e),publishDragSource:sn(e),hover:an(e),drop:rn(e),endDrag:on(e)}}(this);return Object.keys(r).reduce((o,t)=>{const a=r[t];var i;return o[t]=(i=a,function(){for(var r=arguments.length,o=new Array(r),t=0;t<r;t++)o[t]=arguments[t];const a=i.apply(e,o);"undefined"!==typeof a&&n(a)}),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function cn(e,n){return{x:e.x-n.x,y:e.y-n.y}}const dn=[],un=[];dn.__IS_NONE__=!0,un.__IS_ALL__=!0;class pn{subscribeToStateChange(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{handlerIds:r}=n;Ve("function"===typeof e,"listener must be a function."),Ve("undefined"===typeof r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;return this.store.subscribe(()=>{const n=this.store.getState(),t=n.stateId;try{const a=t===o||t===o+1&&!function(e,n){return e!==dn&&(e===un||"undefined"===typeof n||(r=e,n.filter(e=>r.indexOf(e)>-1)).length>0);var r}(n.dirtyHandlerIds,r);a||e()}finally{o=t}})}subscribeToOffsetChange(e){Ve("function"===typeof e,"listener must be a function.");let n=this.store.getState().dragOffset;return this.store.subscribe(()=>{const r=this.store.getState().dragOffset;r!==n&&(n=r,e())})}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return Ve(n,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(Ve(n,"Expected to find a valid target. targetId=".concat(e)),!this.isDragging()||this.didDrop())return!1;return tn(this.registry.getTargetType(e),this.getItemType())&&n.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(Ve(n,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&n.isDragging(this,e)}isOverTarget(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),t=this.getItemType();if(t&&!tn(o,t))return!1;const a=this.getTargetIds();if(!a.length)return!1;const i=a.indexOf(e);return r?i===a.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:n,initialClientOffset:r,initialSourceClientOffset:o}=e;return n&&r&&o?cn(function(e,n){return{x:e.x+n.x,y:e.y+n.y}}(n,o),r):null}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:n,initialClientOffset:r}=e;return n&&r?cn(n,r):null}(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const hn="undefined"!==typeof global?global:self,gn=hn.MutationObserver||hn.WebKitMutationObserver;function fn(e){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),e()}}}const xn="function"===typeof gn?function(e){let n=1;const r=new gn(e),o=document.createTextNode("");return r.observe(o,{characterData:!0}),function(){n=-n,o.data=n}}:fn;class mn{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}const vn=new class{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let n=0,r=e.length-this.index;n<r;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=xn(this.flush),this.requestErrorThrow=fn(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}},bn=new class{create(e){const n=this.freeTasks,r=n.length?n.pop():new mn(this.onError,e=>n[n.length]=e);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(vn.registerPendingError);const yn="dnd-core/ADD_SOURCE",wn="dnd-core/ADD_TARGET",jn="dnd-core/REMOVE_SOURCE",kn="dnd-core/REMOVE_TARGET";function Sn(e,n){n&&Array.isArray(e)?e.forEach(e=>Sn(e,!1)):Ve("string"===typeof e||"symbol"===typeof e,n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var _n;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(_n||(_n={}));let Cn=0;function En(e){const n=(Cn++).toString();switch(e){case _n.SOURCE:return"S".concat(n);case _n.TARGET:return"T".concat(n);default:throw new Error("Unknown Handler Role: ".concat(e))}}function zn(e){switch(e[0]){case"S":return _n.SOURCE;case"T":return _n.TARGET;default:throw new Error("Cannot parse handler ID: ".concat(e))}}function Pn(e,n){const r=e.entries();let o=!1;do{const{done:e,value:[,t]}=r.next();if(t===n)return!0;o=!!e}while(!o);return!1}class Tn{addSource(e,n){Sn(e),function(e){Ve("function"===typeof e.canDrag,"Expected canDrag to be a function."),Ve("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),Ve("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(n);const r=this.addHandler(_n.SOURCE,e,n);return this.store.dispatch(function(e){return{type:yn,payload:{sourceId:e}}}(r)),r}addTarget(e,n){Sn(e,!0),function(e){Ve("function"===typeof e.canDrop,"Expected canDrop to be a function."),Ve("function"===typeof e.hover,"Expected hover to be a function."),Ve("function"===typeof e.drop,"Expected beginDrag to be a function.")}(n);const r=this.addHandler(_n.TARGET,e,n);return this.store.dispatch(function(e){return{type:wn,payload:{targetId:e}}}(r)),r}containsHandler(e){return Pn(this.dragSources,e)||Pn(this.dropTargets,e)}getSource(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ve(this.isSourceId(e),"Expected a valid source ID.");return n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Ve(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Ve(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Ve(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return zn(e)===_n.SOURCE}isTargetId(e){return zn(e)===_n.TARGET}removeSource(e){var n;Ve(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:jn,payload:{sourceId:e}}}(e)),n=()=>{this.dragSources.delete(e),this.types.delete(e)},vn.enqueueTask(bn.create(n))}removeTarget(e){Ve(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:kn,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);Ve(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){Ve(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const o=En(e);return this.types.set(o,n),e===_n.SOURCE?this.dragSources.set(o,r):e===_n.TARGET&&this.dropTargets.set(o,r),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const In=(e,n)=>e===n;function Ln(){let e=arguments.length>1?arguments[1]:void 0;switch(e.type){case $e:break;case yn:case wn:case kn:case jn:return dn;default:return un}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,o=function(e,n){const r=new Map,o=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(o),n.forEach(o);const t=[];return r.forEach((e,n)=>{1===e&&t.push(n)}),t}(n,r),t=o.length>0||!function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:In;if(e.length!==n.length)return!1;for(let o=0;o<e.length;++o)if(!r(e[o],n[o]))return!1;return!0}(n,r);if(!t)return dn;const a=r[r.length-1],i=n[n.length-1];return a!==i&&(a&&o.push(a),i&&o.push(i)),o}function An(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}const Dn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function On(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,n=arguments.length>1?arguments[1]:void 0;const{payload:r}=n;switch(n.type){case qe:case Ge:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case $e:return o=e.clientOffset,t=r.clientOffset,!o&&!t||o&&t&&o.x===t.x&&o.y===t.y?e:function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){An(e,n,r[n])})}return e}({},e,{clientOffset:r.clientOffset});case Ze:case Je:return Dn;default:return e}var o,t}function Nn(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Rn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){Nn(e,n,r[n])})}return e}const Fn={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,n=arguments.length>1?arguments[1]:void 0;const{payload:r}=n;switch(n.type){case Ge:return Rn({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Ye:return Rn({},e,{isSourcePublic:!0});case $e:return Rn({},e,{targetIds:r.targetIds});case kn:return-1===e.targetIds.indexOf(r.targetId)?e:Rn({},e,{targetIds:(o=e.targetIds,t=r.targetId,o.filter(e=>e!==t))});case Je:return Rn({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Ze:return Rn({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var o,t}function Hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case yn:case wn:return e+1;case jn:case kn:return e-1;default:return e}}function Bn(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function Wn(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Vn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){Wn(e,n,r[n])})}return e}function Un(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Ln(e.dirtyHandlerIds,{type:n.type,payload:Vn({},n.payload,{prevTargetIds:(r=e,o="dragOperation.targetIds",t=[],o.split(".").reduce((e,n)=>e&&e[n]?e[n]:t||null,r))})}),dragOffset:On(e.dragOffset,n),refCount:Hn(e.refCount,n),dragOperation:Mn(e.dragOperation,n),stateId:Bn(e.stateId)};var r,o,t}function qn(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=function(e){const n="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return We(Un,e&&n&&n({name:"dnd-core",instanceId:"dnd-core"}))}(arguments.length>3&&void 0!==arguments[3]&&arguments[3]),t=new pn(o,new Tn(o)),a=new ln(o,t),i=e(a,n,r);return a.receiveBackend(i),a}const Gn=(0,n.createContext)({dragDropManager:void 0});function Yn(e,n){if(null==e)return{};var r,o,t=function(e,n){if(null==e)return{};var r,o,t={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}let $n=0;const Jn=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Zn=(0,n.memo)(function(e){var{children:r}=e,o=Yn(e,["children"]);const[t,a]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn(),r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;const t=n;t[Jn]||(t[Jn]={dragDropManager:qn(e,n,r,o)});return t[Jn]}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[n,r]}(o);return(0,n.useEffect)(()=>{if(a){const e=Kn();return++$n,()=>{0===--$n&&(e[Jn]=null)}}},[]),(0,Ne.jsx)(Gn.Provider,{value:t,children:r})});function Kn(){return"undefined"!==typeof global?global:window}function Qn(e){let n=null;return()=>(null==n&&(n=e()),n)}class Xn{enter(e){const n=this.entered.length;return this.entered=function(e,n){const r=new Set,o=e=>r.add(e);e.forEach(o),n.forEach(o);const t=[];return r.forEach(e=>t.push(e)),t}(this.entered.filter(n=>this.isNodeInDocument(n)&&(!n.contains||n.contains(e))),[e]),0===n&&this.entered.length>0}leave(e){const n=this.entered.length;var r,o;return this.entered=(r=this.entered.filter(this.isNodeInDocument),o=e,r.filter(e=>e!==o)),n>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class er{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null)})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];null!=o&&(n[r]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const nr="__NATIVE_FILE__",rr="__NATIVE_URL__",or="__NATIVE_TEXT__",tr="__NATIVE_HTML__";function ar(e,n,r){const o=n.reduce((n,r)=>n||e.getData(r),"");return null!=o?o:r}const ir={[nr]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[tr]:{exposeProperties:{html:(e,n)=>ar(e,n,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[rr]:{exposeProperties:{urls:(e,n)=>ar(e,n,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[or]:{exposeProperties:{text:(e,n)=>ar(e,n,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function sr(e){if(!e)return null;const n=Array.prototype.slice.call(e.types||[]);return Object.keys(ir).filter(e=>{const r=ir[e];return!!(null===r||void 0===r?void 0:r.matchesTypes)&&r.matchesTypes.some(e=>n.indexOf(e)>-1)})[0]||null}const lr=Qn(()=>/firefox/i.test(navigator.userAgent)),cr=Qn(()=>Boolean(window.safari));class dr{interpolate(e){const{xs:n,ys:r,c1s:o,c2s:t,c3s:a}=this;let i=n.length-1;if(e===n[i])return r[i];let s,l=0,c=a.length-1;for(;l<=c;){s=Math.floor(.5*(l+c));const o=n[s];if(o<e)l=s+1;else{if(!(o>e))return r[s];c=s-1}}i=Math.max(0,c);const d=e-n[i],u=d*d;return r[i]+o[i]*d+t[i]*u+a[i]*d*u}constructor(e,n){const{length:r}=e,o=[];for(let h=0;h<r;h++)o.push(h);o.sort((n,r)=>e[n]<e[r]?-1:1);const t=[],a=[],i=[];let s,l;for(let h=0;h<r-1;h++)s=e[h+1]-e[h],l=n[h+1]-n[h],a.push(s),t.push(l),i.push(l/s);const c=[i[0]];for(let h=0;h<a.length-1;h++){const e=i[h],n=i[h+1];if(e*n<=0)c.push(0);else{s=a[h];const r=a[h+1],o=s+r;c.push(3*o/((o+r)/e+(o+s)/n))}}c.push(i[i.length-1]);const d=[],u=[];let p;for(let h=0;h<c.length-1;h++){p=i[h];const e=c[h],n=1/a[h],r=e+c[h+1]-p-p;d.push((p-e-r)*n),u.push(r*n*n)}this.xs=e,this.ys=n,this.c1s=c,this.c2s=d,this.c3s=u}}function ur(e){const n=1===e.nodeType?e:e.parentElement;if(!n)return null;const{top:r,left:o}=n.getBoundingClientRect();return{x:o,y:r}}function pr(e){return{x:e.clientX,y:e.clientY}}function hr(e,n,r,o,t){const a=function(e){var n;return"IMG"===e.nodeName&&(lr()||!(null===(n=document.documentElement)||void 0===n?void 0:n.contains(e)))}(n),i=ur(a?e:n),s={x:r.x-i.x,y:r.y-i.y},{offsetWidth:l,offsetHeight:c}=e,{anchorX:d,anchorY:u}=o,{dragPreviewWidth:p,dragPreviewHeight:h}=function(e,n,r,o){let t=e?n.width:r,a=e?n.height:o;return cr()&&e&&(a/=window.devicePixelRatio,t/=window.devicePixelRatio),{dragPreviewWidth:t,dragPreviewHeight:a}}(a,n,l,c),{offsetX:g,offsetY:f}=t,x=0===f||f;return{x:0===g||g?g:new dr([0,.5,1],[s.x,s.x/l*p,s.x+p-l]).interpolate(d),y:x?f:(()=>{let e=new dr([0,.5,1],[s.y,s.y/c*h,s.y+h-c]).interpolate(u);return cr()&&a&&(e+=(window.devicePixelRatio-1)*h),e})()}}class gr{get window(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function fr(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function xr(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){fr(e,n,r[n])})}return e}class mr{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(n=this.dragOverTargetIds)||void 0===n?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var n;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(n=this.window)||void 0===n||n.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const o=n=>this.handleDragStart(n,e),t=e=>this.handleSelectStart(e);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",t),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",t),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=n=>this.handleDragEnter(n,e),o=n=>this.handleDragOver(n,e),t=n=>this.handleDrop(n,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",o),n.addEventListener("drop",t),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",o),n.removeEventListener("drop",t)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return xr({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return xr({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const n=this.monitor.getItemType();return Object.keys(e).some(r=>e[r]===n)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,n){const r=ir[e];if(!r)throw new Error("native type ".concat(e," has no configuration"));const o=new er(r);return o.loadDataTransfer(n),o}(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout(()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const n=this.sourceNodes.get(e);return n&&ur(n)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:n}=this;this.dragStartSourceIds=null;const r=pr(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});const{dataTransfer:o}=e,t=sr(o);if(this.monitor.isDragging()){if(o&&"function"===typeof o.setDragImage){const e=this.monitor.getSourceId(),n=this.sourceNodes.get(e),t=this.sourcePreviewNodes.get(e)||n;if(t){const{anchorX:e,anchorY:a,offsetX:i,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),l=hr(n,t,r,{anchorX:e,anchorY:a},{offsetX:i,offsetY:s});o.setDragImage(t,l.x,l.y)}}try{null===o||void 0===o||o.setData("application/json",{})}catch(a){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:n}=this.getCurrentSourcePreviewNodeOptions();n?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(t)this.beginDragNativeItem(t);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var n;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(n=this.currentNativeSource)||void 0===n||n.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:r}=e,o=sr(r);o&&this.beginDragNativeItem(o,r)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:n}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,n.length>0&&this.actions.hover(n,{clientOffset:pr(e)});n.some(e=>this.monitor.canDropOnTarget(e))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var n;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(n=this.currentNativeSource)||void 0===n||n.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:n}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=pr(e),this.scheduleHover(n);(n||[]).some(e=>this.monitor.canDropOnTarget(e))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=e=>{var n;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(n=this.currentNativeSource)||void 0===n||n.loadDataTransfer(e.dataTransfer)):sr(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:n}=this;this.dropTargetIds=[],this.actions.hover(n,{clientOffset:pr(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const n=e.target;"function"===typeof n.dragDrop&&("INPUT"===n.tagName||"SELECT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable||(e.preventDefault(),n.dragDrop()))},this.options=new gr(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Xn(this.isNodeInDocument)}}const vr=function(e,n,r){return new mr(e,n,r)};function br(e){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}function yr(e){var n=function(e,n){if("object"!=br(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=br(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==br(n)?n:n+""}function wr(e,n,r){return(n=yr(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function jr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function kr(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?jr(Object(r),!0).forEach(function(n){wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}class Sr{constructor(){this.storageKey="visual_novel_projects",this.currentProjectKey="current_visual_novel_project",this.fullStateKey="visual_novel_full_state",this.autoSaveKey="visual_novel_autosave"}saveCurrentProject(e){try{return localStorage.setItem(this.currentProjectKey,JSON.stringify(e)),!0}catch(n){return console.error("Error al guardar proyecto:",n),!1}}loadCurrentProject(){try{const e=localStorage.getItem(this.currentProjectKey);return e?JSON.parse(e):null}catch(e){return console.error("Error al cargar proyecto:",e),null}}saveProject(e,n){try{var r,o;if(!this.validateProject(n))return console.error("\u274c Proyecto no v\xe1lido, no se puede guardar"),!1;const t=this.getAllProjects();return t[e]=kr(kr({},n),{},{savedAt:(new Date).toISOString(),name:e,version:n.version||"1.0.0"}),localStorage.setItem(this.storageKey,JSON.stringify(t)),this.saveCurrentProject(n),console.log("\u2705 Proyecto guardado exitosamente:",{name:e,characters:(null===(r=n.characters)||void 0===r?void 0:r.length)||0,sceneFiles:(null===(o=n.sceneFiles)||void 0===o?void 0:o.length)||0}),!0}catch(t){return console.error("\u274c Error al guardar proyecto:",t),!1}}loadProject(e){try{const o=this.getAllProjects()[e];var n,r;return o&&this.validateProject(o)?(console.log("\u2705 Proyecto cargado exitosamente:",{name:e,characters:(null===(n=o.characters)||void 0===n?void 0:n.length)||0,sceneFiles:(null===(r=o.sceneFiles)||void 0===r?void 0:r.length)||0}),o):o?(console.warn("\u26a0\ufe0f Proyecto encontrado pero no es v\xe1lido:",e),null):null}catch(o){return console.error("\u274c Error al cargar proyecto:",o),null}}getAllProjects(){try{const e=localStorage.getItem(this.storageKey);if(e){const n=JSON.parse(e),r={};return Object.keys(n).forEach(e=>{this.validateProject(n[e])?r[e]=n[e]:console.warn("\u26a0\ufe0f Proyecto inv\xe1lido encontrado y filtrado:",e)}),r}return{}}catch(e){return console.error("\u274c Error al obtener proyectos:",e),{}}}async deleteProject(e){try{console.log("\ud83d\uddd1\ufe0f Eliminando proyecto: ".concat(e));const n=this.getAllProjects(),r=n[e];r&&r.characters&&r.characters.length>0&&await this.clearProjectAssets(r),delete n[e],localStorage.setItem(this.storageKey,JSON.stringify(n));const o=this.loadCurrentProject();return o&&o.name===e&&(console.log("\ud83e\uddf9 Limpiando proyecto actual ya que fue eliminado"),this.clearCurrentProjectState()),console.log('\u2705 Proyecto "'.concat(e,'" eliminado exitosamente')),!0}catch(n){return console.error("\u274c Error al eliminar proyecto:",n),!1}}async clearProjectAssets(e){try{console.log("\ud83e\uddf9 Limpiando assets del proyecto...");const{AssetStorage:o}=await Promise.resolve().then(r.bind(r,701)),t=new o;await t.init();const a=await t.getAllFiles(),i=e.characters.map(e=>e.id),s=a.filter(e=>e.characterId&&i.includes(e.characterId));console.log("\ud83d\uddd1\ufe0f Eliminando ".concat(s.length," archivos del proyecto"));for(const e of s)try{await t.deleteFile(e.id),console.log("\u2705 Archivo eliminado: ".concat(e.name))}catch(n){console.error("\u274c Error eliminando archivo ".concat(e.name,":"),n)}return console.log("\u2705 Assets del proyecto limpiados"),!0}catch(n){return console.error("\u274c Error limpiando assets del proyecto:",n),!1}}getProjectNames(){const e=this.getAllProjects();return Object.keys(e).map(n=>({name:n,savedAt:e[n].savedAt,description:e[n].description||"Sin descripci\xf3n"}))}checkStorageSpace(){try{const e="x".repeat(1048576);return localStorage.setItem("test",e),localStorage.removeItem("test"),!0}catch(e){return!1}}clearAllProjects(){try{return localStorage.removeItem(this.storageKey),localStorage.removeItem(this.currentProjectKey),localStorage.removeItem(this.fullStateKey),localStorage.removeItem(this.autoSaveKey),!0}catch(e){return console.error("Error al limpiar proyectos:",e),!1}}async clearAllData(){try{return console.log("\ud83e\uddf9 Iniciando limpieza completa de datos..."),this.clearAllProjects(),sessionStorage.removeItem("visual_novel_session"),sessionStorage.clear(),await this.clearIndexedDB(),await this.cleanupOrphanedData(),document.cookie.split(";").forEach(function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")}),console.log("\u2705 Limpieza completa realizada"),!0}catch(e){return console.error("\u274c Error durante limpieza completa:",e),!1}}async clearIndexedDB(){try{console.log("\ud83d\uddd1\ufe0f Limpiando IndexedDB...");const{AssetStorage:e}=await Promise.resolve().then(r.bind(r,701)),n=new e;return await n.init(),await n.clearAllFiles(),console.log("\u2705 IndexedDB limpiado"),!0}catch(e){return console.error("\u274c Error limpiando IndexedDB:",e),!1}}clearCurrentProjectState(){try{console.log("\ud83e\uddf9 Limpiando estado actual del proyecto..."),localStorage.removeItem(this.currentProjectKey),localStorage.removeItem(this.fullStateKey),localStorage.removeItem(this.autoSaveKey);const e=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);r&&(r.startsWith("visual_novel_")||r.startsWith("ryn-editor_")||r.includes("project")||r.includes("character")||r.includes("scene"))&&e.push(r)}return e.forEach(e=>{localStorage.removeItem(e),console.log("\ud83d\uddd1\ufe0f Clave eliminada: ".concat(e))}),console.log("\u2705 Estado actual del proyecto limpiado"),!0}catch(e){return console.error("\u274c Error limpiando estado actual:",e),!1}}async cleanupOrphanedData(){try{console.log("\ud83d\udd0d Verificando datos hu\xe9rfanos...");const n=this.getAllProjects(),o=Object.keys(n),{AssetStorage:t}=await Promise.resolve().then(r.bind(r,701)),a=new t;await a.init();const i=await a.getAllFiles(),s=[];for(const e of i)if(e.characterId){let r=!1;for(const t of o){const o=n[t];if(o.characters&&o.characters.some(n=>n.id===e.characterId)){r=!0;break}}r||s.push(e)}console.log("\ud83d\uddd1\ufe0f Encontrados ".concat(s.length," archivos hu\xe9rfanos"));for(const r of s)try{await a.deleteFile(r.id),console.log("\u2705 Archivo hu\xe9rfano eliminado: ".concat(r.name))}catch(e){console.error("\u274c Error eliminando archivo hu\xe9rfano ".concat(r.name,":"),e)}return console.log("\u2705 Limpieza de datos hu\xe9rfanos completada"),s.length}catch(e){return console.error("\u274c Error limpiando datos hu\xe9rfanos:",e),0}}exportAllProjects(){try{const e=this.getAllProjects(),n={projects:e,currentProject:this.loadCurrentProject(),exportedAt:(new Date).toISOString(),version:"1.0.0"},r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),o=URL.createObjectURL(r),t=document.createElement("a");return t.href=o,t.download="visual_novel_projects_backup_".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(o),!0}catch(e){return console.error("Error al exportar proyectos:",e),!1}}importProjects(e){try{const n="string"===typeof e?JSON.parse(e):e;return n.projects&&localStorage.setItem(this.storageKey,JSON.stringify(n.projects)),n.currentProject&&localStorage.setItem(this.currentProjectKey,JSON.stringify(n.currentProject)),!0}catch(n){return console.error("Error al importar proyectos:",n),!1}}saveFullState(e){try{var n;const r=kr(kr({},e),{},{lastSaved:(new Date).toISOString(),version:"1.0.0"});return localStorage.setItem(this.fullStateKey,JSON.stringify(r)),localStorage.setItem(this.autoSaveKey,JSON.stringify(r)),console.log("\ud83d\udcbe Estado completo guardado:",{timestamp:r.lastSaved,projectName:e.project.name,characters:e.project.characters.length,sceneFiles:e.project.sceneFiles.length,currentScene:e.currentScene,selectedElement:(null===(n=e.selectedElement)||void 0===n?void 0:n.type)||"none"}),!0}catch(r){return console.error("\u274c Error al guardar estado completo:",r),!1}}loadFullState(){try{let a=localStorage.getItem(this.fullStateKey);if(a||(a=localStorage.getItem(this.autoSaveKey)),a){const i=JSON.parse(a);var e,n,r,o,t;return this.validateState(i)?(console.log("\ud83d\udcc2 Estado completo cargado:",{timestamp:i.lastSaved,projectName:(null===(e=i.project)||void 0===e?void 0:e.name)||"Sin nombre",characters:(null===(n=i.project)||void 0===n||null===(r=n.characters)||void 0===r?void 0:r.length)||0,sceneFiles:(null===(o=i.project)||void 0===o||null===(t=o.sceneFiles)||void 0===t?void 0:t.length)||0}),i):(console.warn("\u26a0\ufe0f Estado cargado no es v\xe1lido, intentando recuperar desde proyecto guardado"),this.loadProjectAsState())}return null}catch(a){return console.error("\u274c Error al cargar estado completo:",a),this.loadProjectAsState()}}validateState(e){try{if(!e||"object"!==typeof e)return!1;if(!e.project||"object"!==typeof e.project)return!1;if(!e.project.name||"string"!==typeof e.project.name)return!1;if(!Array.isArray(e.project.characters))return!1;if(!Array.isArray(e.project.sceneFiles))return!1;if(0===e.project.sceneFiles.length)return!1;if(e.project.currentSceneFile){if(!e.project.sceneFiles.some(n=>n.id===e.project.currentSceneFile))return!1}return!0}catch(n){return console.error("Error validando estado:",n),!1}}loadProjectAsState(){try{const e=this.loadCurrentProject();if(e&&this.validateProject(e)){console.log("\ud83d\udcc2 Cargando proyecto guardado como estado completo");return{project:e,currentScene:null,selectedElement:null,previewMode:!1,isPlaying:!1,theme:"dark-default",lastSaved:(new Date).toISOString(),version:"1.0.0"}}return null}catch(e){return console.error("Error cargando proyecto como estado:",e),null}}validateProject(e){try{return!(!e||"object"!==typeof e)&&(!(!e.name||"string"!==typeof e.name)&&(!!Array.isArray(e.characters)&&(!!Array.isArray(e.sceneFiles)&&0!==e.sceneFiles.length)))}catch(n){return console.error("Error validando proyecto:",n),!1}}saveSessionState(e){try{const n={currentScene:e.currentScene,selectedElement:e.selectedElement,previewMode:e.previewMode,isPlaying:e.isPlaying,lastActiveTab:this.getLastActiveTab(),lastScrollPosition:this.getLastScrollPosition(),timestamp:(new Date).toISOString()};return sessionStorage.setItem("visual_novel_session",JSON.stringify(n)),!0}catch(n){return console.error("Error al guardar estado de sesi\xf3n:",n),!1}}loadSessionState(){try{const e=sessionStorage.getItem("visual_novel_session");if(e){const n=JSON.parse(e);return console.log("\ud83d\udd04 Estado de sesi\xf3n cargado:",n),n}return null}catch(e){return console.error("Error al cargar estado de sesi\xf3n:",e),null}}getLastSaveInfo(){try{const n=localStorage.getItem(this.fullStateKey);if(n){var e;const r=JSON.parse(n);return{lastSaved:r.lastSaved,projectName:(null===(e=r.project)||void 0===e?void 0:e.name)||"Sin nombre",hasUnsavedChanges:this.hasUnsavedChanges(r)}}return null}catch(n){return console.error("Error al obtener info del \xfaltimo guardado:",n),null}}hasUnsavedChanges(e){try{const n=this.loadFullState();if(!n)return!0;const r=this.generateStateHash(e);return r!==this.generateStateHash(n)}catch(n){return console.error("Error al verificar cambios sin guardar:",n),!0}}generateStateHash(e){try{const n={project:e.project,currentScene:e.currentScene,selectedElement:e.selectedElement};return btoa(JSON.stringify(n)).substring(0,50)}catch(n){return Date.now().toString()}}clearSavedState(){try{return localStorage.removeItem(this.fullStateKey),localStorage.removeItem(this.autoSaveKey),sessionStorage.removeItem("visual_novel_session"),console.log("\ud83d\uddd1\ufe0f Estado guardado limpiado"),!0}catch(e){return console.error("Error al limpiar estado guardado:",e),!1}}getLastActiveTab(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sidebar";try{const n="visual_novel_last_tab_".concat(e),r="mainEditor"===e?"script":"project";return localStorage.getItem(n)||r}catch(n){return"mainEditor"===e?"script":"project"}}setLastActiveTab(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sidebar";try{const r="visual_novel_last_tab_".concat(n);localStorage.setItem(r,e)}catch(r){console.error("Error al guardar \xfaltima pesta\xf1a activa:",r)}}getLastScrollPosition(){try{const e=localStorage.getItem("visual_novel_scroll_position");return e?JSON.parse(e):{x:0,y:0}}catch(e){return{x:0,y:0}}}setLastScrollPosition(e,n){try{localStorage.setItem("visual_novel_scroll_position",JSON.stringify({x:e,y:n}))}catch(r){console.error("Error al guardar posici\xf3n de scroll:",r)}}getStorageStats(){try{var e,n,r;const o=(null===(e=localStorage.getItem(this.fullStateKey))||void 0===e?void 0:e.length)||0,t=(null===(n=localStorage.getItem(this.autoSaveKey))||void 0===n?void 0:n.length)||0,a=(null===(r=localStorage.getItem(this.currentProjectKey))||void 0===r?void 0:r.length)||0,i=o+t+a;return{fullStateSize:this.formatBytes(o),autoSaveSize:this.formatBytes(t),projectSize:this.formatBytes(a),totalSize:this.formatBytes(i),totalSizeBytes:i}}catch(o){return console.error("Error al obtener estad\xedsticas:",o),null}}formatBytes(e){if(0===e)return"0 Bytes";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]}cleanupCorruptedData(){try{console.log("\ud83e\uddf9 Iniciando limpieza de datos corruptos...");let n=0;const r=localStorage.getItem(this.fullStateKey);if(r)try{const e=JSON.parse(r);this.validateState(e)||(localStorage.removeItem(this.fullStateKey),console.log("\ud83d\uddd1\ufe0f Estado completo corrupto eliminado"),n++)}catch(e){localStorage.removeItem(this.fullStateKey),console.log("\ud83d\uddd1\ufe0f Estado completo corrupto eliminado (JSON inv\xe1lido)"),n++}const o=localStorage.getItem(this.autoSaveKey);if(o)try{const e=JSON.parse(o);this.validateState(e)||(localStorage.removeItem(this.autoSaveKey),console.log("\ud83d\uddd1\ufe0f Autosave corrupto eliminado"),n++)}catch(e){localStorage.removeItem(this.autoSaveKey),console.log("\ud83d\uddd1\ufe0f Autosave corrupto eliminado (JSON inv\xe1lido)"),n++}const t=localStorage.getItem(this.currentProjectKey);if(t)try{const e=JSON.parse(t);this.validateProject(e)||(localStorage.removeItem(this.currentProjectKey),console.log("\ud83d\uddd1\ufe0f Proyecto actual corrupto eliminado"),n++)}catch(e){localStorage.removeItem(this.currentProjectKey),console.log("\ud83d\uddd1\ufe0f Proyecto actual corrupto eliminado (JSON inv\xe1lido)"),n++}const a=localStorage.getItem(this.storageKey);if(a)try{const e=JSON.parse(a),r={};let o=0;Object.keys(e).forEach(n=>{this.validateProject(e[n])?r[n]=e[n]:o++}),o>0&&(localStorage.setItem(this.storageKey,JSON.stringify(r)),console.log("\ud83d\uddd1\ufe0f ".concat(o," proyectos corruptos eliminados")),n+=o)}catch(e){localStorage.removeItem(this.storageKey),console.log("\ud83d\uddd1\ufe0f Lista de proyectos corrupta eliminada"),n++}return console.log("\u2705 Limpieza completada. ".concat(n," elementos corruptos eliminados")),n}catch(e){return console.error("\u274c Error durante la limpieza:",e),0}}checkDataIntegrity(){try{console.log("\ud83d\udd0d Verificando integridad de datos...");const n=[],r=localStorage.getItem(this.fullStateKey);if(r)try{const e=JSON.parse(r);this.validateState(e)||n.push("Estado completo corrupto")}catch(e){n.push("Estado completo con JSON inv\xe1lido")}const o=localStorage.getItem(this.autoSaveKey);if(o)try{const e=JSON.parse(o);this.validateState(e)||n.push("Autosave corrupto")}catch(e){n.push("Autosave con JSON inv\xe1lido")}const t=localStorage.getItem(this.currentProjectKey);if(t)try{const e=JSON.parse(t);this.validateProject(e)||n.push("Proyecto actual corrupto")}catch(e){n.push("Proyecto actual con JSON inv\xe1lido")}const a=localStorage.getItem(this.storageKey);if(a)try{const e=JSON.parse(a);let r=0;Object.keys(e).forEach(n=>{this.validateProject(e[n])||r++}),r>0&&n.push("".concat(r," proyectos guardados corruptos"))}catch(e){n.push("Lista de proyectos con JSON inv\xe1lido")}return 0===n.length?(console.log("\u2705 Integridad de datos verificada. No se encontraron problemas."),{isValid:!0,issues:[]}):(console.warn("\u26a0\ufe0f Problemas de integridad encontrados:",n),{isValid:!1,issues:n})}catch(e){return console.error("\u274c Error verificando integridad:",e),{isValid:!1,issues:["Error durante la verificaci\xf3n"]}}}}var _r=r(701);class Cr{constructor(){this.uploadedFiles=new Map,this.assetStorage=new _r.AssetStorage,this.syncInProgress=!1,this.lastSyncTime=null,this.deletedFiles=new Set,this.loadFromStorage(),this.loadDeletedFiles(),this.initializeSync()}async initializeSync(){try{await this.syncStorage(),setInterval(async()=>{this.syncInProgress||(console.log("\ud83d\udd04 Ejecutando sincronizaci\xf3n autom\xe1tica programada..."),await this.syncStorage())},6e5),console.log("Sincronizaci\xf3n autom\xe1tica inicializada (cada 10 minutos)")}catch(e){console.error("Error al inicializar sincronizaci\xf3n:",e)}}async syncStorage(){if(this.syncInProgress)return console.log("Sincronizaci\xf3n ya en progreso, saltando..."),{success:!1,reason:"already_in_progress"};this.syncInProgress=!0,console.log("=== INICIANDO SINCRONIZACI\xd3N MEJORADA ===");const e=this.createBackup();let n={success:!1,errors:[],warnings:[]};try{const e=await this.assetStorage.getAllFiles();console.log("Archivos en IndexedDB: ".concat(e.length));const o=this.getAllLocalFiles();console.log("Archivos en localStorage: ".concat(o.length));const t=await this.verifyStorageIntegrity();t.isHealthy||(n.warnings.push("Problemas de integridad detectados antes de sincronizaci\xf3n"),console.warn("\u26a0\ufe0f Problemas de integridad detectados:",t));const a=[];for(const l of e){const e="file_".concat(l.id),o=this.deletedFiles.has(l.id);if(this.uploadedFiles.has(e)||o)o&&console.log("Archivo ".concat(l.name," fue eliminado intencionalmente, no sincronizando desde IndexedDB"));else{console.log("Sincronizando archivo desde IndexedDB: ".concat(l.name));try{this.uploadedFiles.set(e,{id:l.id,name:l.name,type:l.type,size:l.size,category:l.category,folderPath:l.folderPath,filePath:l.folderPath?"".concat(l.folderPath,"/").concat(l.name):"images/".concat(l.category,"/").concat(l.name),uploadedAt:l.uploadedAt,data:null,hasData:!0}),a.push(l.id)}catch(r){n.errors.push("Error sincronizando ".concat(l.name," desde IndexedDB: ").concat(r.message)),console.error("Error sincronizando ".concat(l.name,":"),r)}}}const i=[];for(const[l,c]of this.uploadedFiles){const o=e.some(e=>e.id===c.id),t=this.deletedFiles.has(c.id);if(o||t)t&&(console.log("Archivo ".concat(c.name," fue eliminado intencionalmente, no sincronizando")),this.uploadedFiles.delete(l));else{console.log("Sincronizando archivo a IndexedDB: ".concat(c.name));try{await this.assetStorage.saveFile(c),i.push(c.id)}catch(r){n.errors.push("Error sincronizando ".concat(c.name," a IndexedDB: ").concat(r.message)),console.error("Error sincronizando ".concat(c.name," a IndexedDB:"),r)}}}this.cleanupOldDeletedFiles(),this.saveToStorage(),this.lastSyncTime=(new Date).toISOString();const s=await this.verifyStorageIntegrity();s.isHealthy||(n.warnings.push("Problemas de integridad detectados despu\xe9s de sincronizaci\xf3n"),console.warn("\u26a0\ufe0f Problemas de integridad post-sincronizaci\xf3n:",s)),n={success:0===n.errors.length,errors:n.errors,warnings:n.warnings,indexedToLocal:a.length,localToIndexed:i.length,integrityCheck:t,postSyncIntegrity:s,timestamp:this.lastSyncTime},console.log("=== SINCRONIZACI\xd3N COMPLETADA ===",n)}catch(r){console.error("\u274c Error cr\xedtico durante sincronizaci\xf3n:",r),n.errors.push("Error cr\xedtico: ".concat(r.message));try{console.log("\ud83d\udd04 Intentando rollback..."),await this.rollbackFromBackup(e),n.rollback={success:!0,message:"Rollback exitoso"},console.log("\u2705 Rollback completado")}catch(o){console.error("\u274c Error durante rollback:",o),n.rollback={success:!1,error:o.message}}}finally{this.syncInProgress=!1}return n}createBackup(){return{uploadedFiles:new Map(this.uploadedFiles),deletedFiles:new Set(this.deletedFiles),lastSyncTime:this.lastSyncTime,timestamp:(new Date).toISOString()}}async rollbackFromBackup(e){try{return console.log("\ud83d\udd04 Ejecutando rollback desde backup..."),this.uploadedFiles=new Map(e.uploadedFiles),this.deletedFiles=new Set(e.deletedFiles),this.lastSyncTime=e.lastSyncTime,this.saveToStorage(),console.log("\u2705 Rollback completado exitosamente"),!0}catch(n){throw console.error("\u274c Error durante rollback:",n),n}}getAllLocalFiles(){const e=[];return this.uploadedFiles.forEach((n,r)=>{e.push(n)}),e}loadFromStorage(){try{const e=localStorage.getItem("visual_novel_files");if(e){const n=JSON.parse(e);Object.entries(n).forEach(e=>{let[n,r]=e;this.uploadedFiles.set(n,r)}),console.log("Cargados ".concat(Object.keys(n).length," archivos desde localStorage"))}}catch(e){console.error("Error al cargar archivos:",e)}}loadDeletedFiles(){try{const e=localStorage.getItem("fileManager_deletedFiles");if(e){const n=JSON.parse(e);this.deletedFiles=new Set(n),console.log("Cargados ".concat(this.deletedFiles.size," archivos eliminados desde localStorage"))}}catch(e){console.error("Error al cargar archivos eliminados desde localStorage:",e),this.deletedFiles=new Set}}saveDeletedFiles(){try{const e=Array.from(this.deletedFiles);localStorage.setItem("fileManager_deletedFiles",JSON.stringify(e)),console.log("Guardados ".concat(e.length," archivos eliminados en localStorage"))}catch(e){console.error("Error al guardar archivos eliminados en localStorage:",e)}}cleanupOldDeletedFiles(){try{const e=localStorage.getItem("fileManager_deletedFiles_timestamps");if(!e)return;const n=JSON.parse(e),r=Date.now(),o=864e5,t=[];Array.from(this.deletedFiles).forEach(e=>{const a=n[e];a&&r-a>o&&t.push(e)}),t.length>0&&(t.forEach(e=>{this.deletedFiles.delete(e),delete n[e]}),this.saveDeletedFiles(),localStorage.setItem("fileManager_deletedFiles_timestamps",JSON.stringify(n)),console.log("\ud83e\uddf9 Limpiados ".concat(t.length," archivos eliminados antiguos")))}catch(e){console.error("Error al limpiar archivos eliminados antiguos:",e)}}saveToStorage(){try{const e={};this.uploadedFiles.forEach((n,r)=>{e[r]={id:n.id,name:n.name,type:n.type,size:n.size,category:n.category,folderPath:n.folderPath,filePath:n.filePath,uploadedAt:n.uploadedAt,hasData:!!n.data}});const n=JSON.stringify(e);localStorage.setItem("visual_novel_files",n),console.log("FileManager: Metadatos guardados en localStorage (".concat(n.length," bytes)"))}catch(e){"QuotaExceededError"===e.name?(console.warn("FileManager: QuotaExceededError en localStorage, limpiando datos antiguos..."),this.handleQuotaExceeded()):console.error("Error al guardar archivos:",e)}}handleQuotaExceeded(){try{localStorage.removeItem("visual_novel_files"),localStorage.removeItem("visual_novel_files_metadata");const e={};this.uploadedFiles.forEach((n,r)=>{e[r]={id:n.id,name:n.name,category:n.category,folderPath:n.folderPath,uploadedAt:n.uploadedAt}}),localStorage.setItem("visual_novel_files",JSON.stringify(e)),console.log("FileManager: Datos esenciales guardados despu\xe9s de limpiar quota")}catch(e){console.error("FileManager: Error cr\xedtico al manejar quota:",e);const n=Array.from(this.uploadedFiles.keys());localStorage.setItem("visual_novel_files_ids",JSON.stringify(n))}}async uploadFile(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"general",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(async(o,t)=>{try{await this.validateFile(e,n),console.log("\u2705 Archivo validado correctamente");const a=new FileReader;a.onload=async a=>{try{const{folderPath:t,filePath:s}=this.getCategoryPath(n,e,r),l={name:e.name,type:e.type,size:e.size,data:a.target.result,category:n,folderPath:t,filePath:s,uploadedAt:(new Date).toISOString(),id:Date.now()+Math.random(),characterId:r},c="file_".concat(l.id);console.log("=== SUBIENDO ARCHIVO ==="),console.log("Archivo: ".concat(e.name)),console.log("Categor\xeda solicitada: ".concat(n)),console.log("Categor\xeda en fileData: ".concat(l.category)),console.log("Carpeta: ".concat(t)),console.log("Ruta completa: ".concat(s)),console.log("Clave: ".concat(c)),console.log("ID: ".concat(l.id)),r&&(console.log("\ud83d\udc64 Personaje: ".concat(r)),console.log("\ud83d\udcc1 Carpeta espec\xedfica creada para el personaje"));let d=!1;try{await this.assetStorage.saveFile(l),d=!0,console.log("Archivo guardado exitosamente en IndexedDB: ".concat(l.name))}catch(i){console.warn("Error al guardar en IndexedDB, usando fallback:",i)}this.uploadedFiles.set(c,l),this.saveToStorage();const u=this.uploadedFiles.get(c);console.log("Archivo guardado con categor\xeda: ".concat(u.category)),console.log("IndexedDB exitoso: ".concat(d)),console.log("=== FIN SUBIDA ==="),d||setTimeout(()=>{this.syncStorage()},1e3),o({id:l.id,name:e.name,url:a.target.result,path:s,indexedDBSuccess:d})}catch(s){console.error("Error durante subida de archivo:",s),t(s)}},a.onerror=()=>t(new Error("Error al leer el archivo")),a.readAsDataURL(e)}catch(a){console.error("Error de validaci\xf3n:",a),t(a)}})}getCategoryPath(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=n.type.startsWith("audio/"),t=n.type.startsWith("image/"),a=n.type.startsWith("video/");let i,s;if(o){switch(e){case"music":i="game/audio/music";break;case"sounds":i="game/audio/sounds";break;case"voice":i="game/audio/voice";break;default:i="game/audio"}s="".concat(i,"/").concat(n.name)}else if(t){switch(e){case"characters":r?(i="game/images/characters/".concat(r),console.log("\ud83d\udcc1 Creando carpeta espec\xedfica para personaje: ".concat(r))):i="game/images/characters";break;case"backgrounds":i="game/images/backgrounds";break;case"gui":i="game/images/gui";break;case"effects":i="game/images/effects";break;default:i="game/images/general"}s="".concat(i,"/").concat(n.name)}else a?(i="game/videos",s="".concat(i,"/").concat(n.name)):(i="game/general",s="".concat(i,"/").concat(n.name));return{folderPath:i,filePath:s}}getFile(e){for(const[,n]of this.uploadedFiles)if(n.id===e)return n;return null}async getImageUrl(e){if(!e)return null;try{const n=await this.assetStorage.getImageUrl(e);if(n)return console.log("FileManager - getImageUrl: encontrado en IndexedDB para ruta ".concat(e)),n}catch(n){console.warn("Error al buscar en IndexedDB:",n)}for(const[,r]of this.uploadedFiles){const o="images/".concat(r.category,"/").concat(r.name),t="game/images/".concat(r.category,"/").concat(r.name);if(o===e||t===e){if(console.log("FileManager - getImageUrl: encontrado ".concat(r.name," para ruta ").concat(e)),r.data)return r.data;if(r.hasData)try{const e=await this.assetStorage.getFile(r.id);if(e&&e.data)return console.log("FileManager - getImageUrl: obteniendo datos de IndexedDB para ".concat(r.name)),e.data}catch(n){console.warn("Error al obtener datos de IndexedDB para ".concat(r.name,":"),n)}return null}}return console.log("FileManager - getImageUrl: no encontrado para ruta ".concat(e)),null}getImageUrlByName(e,n){const r="".concat(n,"_").concat(e),o=this.uploadedFiles.get(r);return o?o.data:null}async getFilesByCharacter(e){const n=[];console.log("=== BUSCANDO ARCHIVOS DEL PERSONAJE: ".concat(e," ==="));try{(await this.assetStorage.getAllFiles()).forEach(r=>{if(r.characterId!==e||this.deletedFiles.has(r.id))this.deletedFiles.has(r.id)&&console.log("Archivo ".concat(r.name," fue eliminado intencionalmente, omitiendo de resultados"));else{const e=r.filePath||"".concat(r.folderPath,"/").concat(r.name);console.log("Archivo del personaje encontrado: ".concat(r.name)),n.push({id:r.id,name:r.name,url:r.data||null,path:e,category:r.category,folderPath:r.folderPath,characterId:r.characterId,uploadedAt:r.uploadedAt,hasData:r.hasData||!!r.data})}})}catch(r){console.warn("Error al buscar en IndexedDB:",r)}return this.uploadedFiles.forEach((r,o)=>{if(r.characterId!==e||this.deletedFiles.has(r.id))this.deletedFiles.has(r.id)&&console.log("Archivo ".concat(r.name," fue eliminado intencionalmente, omitiendo de resultados"));else{if(!n.some(e=>e.id===r.id)){const e=r.filePath||"images/".concat(r.category,"/").concat(r.name);console.log("Archivo del personaje en memoria: ".concat(r.name)),n.push({id:r.id,name:r.name,url:r.data||null,path:e,category:r.category,folderPath:r.folderPath,characterId:r.characterId,uploadedAt:r.uploadedAt,hasData:r.hasData||!!r.data})}}}),console.log("Archivos encontrados para ".concat(e,": ").concat(n.length)),n.forEach(e=>console.log("- ".concat(e.name," (").concat(e.path,")"))),console.log("=== FIN B\xdaSQUEDA POR PERSONAJE ==="),n}async getFilesByCategory(e){const n=[];console.log("=== BUSCANDO ARCHIVOS EN CATEGOR\xcdA: ".concat(e," ==="));try{(await this.assetStorage.getFilesByCategoryCompat(e)).forEach(r=>{if(console.log("Revisando archivo IndexedDB: ".concat(r.name,", categor\xeda: ").concat(r.category,", coincide: ").concat(r.category===e)),r.category!==e||this.deletedFiles.has(r.id))this.deletedFiles.has(r.id)&&console.log("Archivo ".concat(r.name," fue eliminado intencionalmente, omitiendo de resultados"));else{const o="".concat(r.folderPath||"images/".concat(e),"/").concat(r.name);console.log("FileManager - Creando archivo con ruta completa: ".concat(o)),console.log("FileManager - folderPath: ".concat(r.folderPath)),console.log("FileManager - name: ".concat(r.name)),console.log("FileManager - characterId original: ".concat(r.characterId));let t=r.characterId;if(!t&&r.folderPath&&r.folderPath.includes("/characters/")){const e=r.folderPath.split("/"),n=e.indexOf("characters");-1!==n&&e[n+1]&&(t=e[n+1],console.log("FileManager - characterId extra\xeddo de ruta: ".concat(t)))}console.log("FileManager - characterId final: ".concat(t)),n.push({id:r.id,name:r.name,url:r.data||null,path:o,category:r.category,folderPath:r.folderPath,characterId:t,uploadedAt:r.uploadedAt,hasData:r.hasData||!!r.data})}})}catch(r){console.warn("Error al buscar en IndexedDB:",r)}return this.uploadedFiles.forEach((r,o)=>{if(console.log("Revisando archivo memoria: ".concat(r.name,", categor\xeda: ").concat(r.category,", coincide: ").concat(r.category===e)),r.category!==e||this.deletedFiles.has(r.id))this.deletedFiles.has(r.id)&&console.log("Archivo ".concat(r.name," fue eliminado intencionalmente, omitiendo de resultados"));else{if(!n.some(e=>e.id===r.id)){const o=r.filePath||"images/".concat(e,"/").concat(r.name);console.log("FileManager - localStorage - Creando archivo con ruta: ".concat(o)),console.log("FileManager - localStorage - filePath: ".concat(r.filePath)),console.log("FileManager - localStorage - name: ".concat(r.name)),console.log("FileManager - localStorage - characterId original: ".concat(r.characterId));let t=r.characterId;if(!t&&r.folderPath&&r.folderPath.includes("/characters/")){const e=r.folderPath.split("/"),n=e.indexOf("characters");-1!==n&&e[n+1]&&(t=e[n+1],console.log("FileManager - localStorage - characterId extra\xeddo de ruta: ".concat(t)))}console.log("FileManager - localStorage - characterId final: ".concat(t)),n.push({id:r.id,name:r.name,url:r.data||null,path:o,category:r.category,folderPath:r.folderPath,characterId:t,uploadedAt:r.uploadedAt,hasData:r.hasData||!!r.data})}}}),console.log("Archivos encontrados en ".concat(e,": ").concat(n.length)),n.forEach(e=>console.log("- ".concat(e.name," (").concat(e.path,")"))),console.log("=== FIN B\xdaSQUEDA ==="),n}async deleteFile(e){try{console.log("=== ELIMINANDO ARCHIVO ".concat(e," ===")),this.deletedFiles.add(e),this.saveDeletedFiles();try{const n=localStorage.getItem("fileManager_deletedFiles_timestamps")||"{}",r=JSON.parse(n);r[e]=Date.now(),localStorage.setItem("fileManager_deletedFiles_timestamps",JSON.stringify(r))}catch(n){console.error("Error al guardar timestamp de eliminaci\xf3n:",n)}console.log("Archivo ".concat(e," marcado como eliminado intencionalmente"));let o=!0;try{await this.assetStorage.deleteFile(e),console.log("Archivo ".concat(e," eliminado de IndexedDB"))}catch(r){console.warn("Error al eliminar de IndexedDB:",r),o=!1}let t=!1;for(const[n,r]of this.uploadedFiles)if(r.id===e){this.uploadedFiles.delete(n),this.saveToStorage(),t=!0,console.log("Archivo ".concat(e," eliminado de localStorage (clave: ").concat(n,")"));break}return t||(console.warn("Archivo ".concat(e," no encontrado en localStorage")),console.log("Claves disponibles en uploadedFiles:",Array.from(this.uploadedFiles.keys()))),console.log("=== ARCHIVO ".concat(e," ELIMINADO ===")),o&&t}catch(n){return console.error("Error al eliminar archivo:",n),!1}}getAllFiles(){const e=[];return this.uploadedFiles.forEach((n,r)=>{n&&n.name?this.deletedFiles.has(n.id)?console.log("Archivo ".concat(n.name," fue eliminado intencionalmente, omitiendo de getAllFiles")):e.push({id:n.id,name:n.name,url:n.data||null,path:n.filePath||"images/".concat(n.category||"general","/").concat(n.name),category:n.category||"general",folderPath:n.folderPath,uploadedAt:n.uploadedAt,hasData:!!n.data}):console.warn("\u26a0\ufe0f Archivo inv\xe1lido encontrado en getAllFiles:",n)}),e}debugFiles(){console.log("=== DEBUG: Todos los archivos ==="),this.uploadedFiles.forEach((e,n)=>{console.log("Clave: ".concat(n,", Archivo: ").concat(e.name,", Categor\xeda: ").concat(e.category))}),console.log("=== FIN DEBUG ===")}async verifyStorageIntegrity(){console.log("=== VERIFICANDO INTEGRIDAD DEL ALMACENAMIENTO ===");try{const e=await this.assetStorage.getAllFiles(),n=this.getAllLocalFiles();console.log("Archivos en IndexedDB: ".concat(e.length)),console.log("Archivos en localStorage: ".concat(n.length)),console.log("Archivos eliminados intencionalmente: ".concat(this.deletedFiles.size));const r=n.filter(n=>!e.some(e=>e.id===n.id)&&!this.deletedFiles.has(n.id)),o=e.filter(e=>!n.some(n=>n.id===e.id)&&!this.deletedFiles.has(e.id));r.length>0&&(console.warn("Archivos faltantes en IndexedDB: ".concat(r.length)),r.forEach(e=>console.warn("- ".concat(e.name," (").concat(e.id,")")))),o.length>0&&(console.warn("Archivos faltantes en localStorage: ".concat(o.length)),o.forEach(e=>console.warn("- ".concat(e.name," (").concat(e.id,")")))),this.deletedFiles.size>0&&(console.log("Archivos eliminados intencionalmente (".concat(this.deletedFiles.size,"):")),this.deletedFiles.forEach(e=>console.log("- ID: ".concat(e))));const t={totalIndexedDB:e.length,totalLocal:n.length,missingInIndexedDB:r.length,missingInLocal:o.length,deletedFiles:this.deletedFiles.size,isHealthy:0===r.length&&0===o.length};return console.log("Estado de integridad:",t),console.log("=== FIN VERIFICACI\xd3N ==="),t}catch(e){return console.error("Error al verificar integridad:",e),{isHealthy:!1,error:e.message}}}async forceSync(){console.log("=== FORZANDO SINCRONIZACI\xd3N MANUAL ==="),await this.syncStorage(),console.log("=== SINCRONIZACI\xd3N MANUAL COMPLETADA ===")}getSystemStatus(){return{syncInProgress:this.syncInProgress,lastSyncTime:this.lastSyncTime,totalFiles:this.uploadedFiles.size,deletedFilesCount:this.deletedFiles.size,indexedDBAvailable:!!this.assetStorage.db,localStorageQuota:this.getLocalStorageQuota()}}getLocalStorageQuota(){try{const e="quota_test",n="x".repeat(1024);localStorage.setItem(e,n),localStorage.removeItem(e);let r=0;for(let o in localStorage)localStorage.hasOwnProperty(o)&&(r+=localStorage[o].length);return{currentSize:r,currentSizeMB:(r/1048576).toFixed(2),available:!0}}catch(e){return{currentSize:0,currentSizeMB:"0.00",available:!1,error:e.message}}}clearLocalStorageData(){try{return console.log("FileManager: Limpiando datos de localStorage..."),localStorage.removeItem("visual_novel_files"),localStorage.removeItem("visual_novel_files_metadata"),this.saveToStorage(),console.log("FileManager: localStorage limpiado exitosamente"),!0}catch(e){return console.error("FileManager: Error al limpiar localStorage:",e),!1}}async clearAllFiles(){console.log("=== LIMPIANDO TODOS LOS ARCHIVOS ===");try{return this.uploadedFiles.forEach((e,n)=>{this.deletedFiles.add(e.id)}),console.log("".concat(this.deletedFiles.size," archivos marcados como eliminados intencionalmente")),await this.assetStorage.clearAll(),this.uploadedFiles.clear(),localStorage.removeItem("visual_novel_files"),console.log("Archivos limpiados correctamente"),!0}catch(e){return console.error("Error al limpiar archivos:",e),!1}}async resetFileManager(){console.log("=== REINICIANDO FILE MANAGER ==="),await this.clearAllFiles(),this.loadFromStorage(),console.log("File Manager reiniciado")}async cleanupGhostFiles(){console.log("=== LIMPIANDO ARCHIVOS FANTASMA ===");try{const e=await this.assetStorage.getAllFiles(),n=new Set(e.map(e=>e.id));let r=0;for(const[o,t]of this.uploadedFiles)n.has(t.id)||(console.log("Archivo fantasma encontrado: ".concat(t.name," (ID: ").concat(t.id,")")),this.uploadedFiles.delete(o),r++);return r>0?(this.saveToStorage(),console.log("".concat(r," archivos fantasma eliminados"))):console.log("No se encontraron archivos fantasma"),r}catch(e){return console.error("Error al limpiar archivos fantasma:",e),0}}async exportFiles(){const e=new(0,(await Promise.resolve().then(r.t.bind(r,159,23))).default),n={};this.uploadedFiles.forEach((e,r)=>{const o=e.folderPath||"game/images/".concat(e.category);n[o]||(n[o]=[]),n[o].push(e)}),Object.entries(n).forEach(n=>{let[r,o]=n;const t=e.folder(r);o.forEach(e=>{const n=e.data.split(",")[1],r=atob(n),o=new Uint8Array(r.length);for(let t=0;t<r.length;t++)o[t]=r.charCodeAt(t);t.file(e.name,o)})});const o=await e.generateAsync({type:"blob"}),t=URL.createObjectURL(o),a=document.createElement("a");a.href=t,a.download="visual_novel_assets_".concat((new Date).toISOString().split("T")[0],".zip"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}getValidationConfig(e){const n={backgrounds:{allowedTypes:["image/jpeg","image/png","image/webp"],maxSizeMB:10,minDimensions:{width:800,height:600},maxDimensions:{width:4096,height:4096},requiredAspectRatio:null},characters:{allowedTypes:["image/jpeg","image/png","image/webp"],maxSizeMB:5,minDimensions:{width:200,height:300},maxDimensions:{width:2048,height:2048},requiredAspectRatio:null},gui:{allowedTypes:["image/jpeg","image/png","image/webp"],maxSizeMB:2,minDimensions:{width:100,height:100},maxDimensions:{width:1024,height:1024},requiredAspectRatio:null},effects:{allowedTypes:["image/jpeg","image/png","image/webp","image/gif"],maxSizeMB:3,minDimensions:{width:50,height:50},maxDimensions:{width:1024,height:1024},requiredAspectRatio:null},music:{allowedTypes:["audio/ogg","audio/mp3","audio/wav","audio/mpeg"],maxSizeMB:50,minDuration:0,maxDuration:600},sounds:{allowedTypes:["audio/ogg","audio/mp3","audio/wav","audio/mpeg"],maxSizeMB:5,minDuration:0,maxDuration:30},voice:{allowedTypes:["audio/ogg","audio/mp3","audio/wav","audio/mpeg"],maxSizeMB:10,minDuration:0,maxDuration:60},videos:{allowedTypes:["video/webm","video/mp4","video/ogg"],maxSizeMB:100,minDuration:0,maxDuration:300},general:{allowedTypes:["image/jpeg","image/png","image/webp","text/plain","application/json"],maxSizeMB:5,minDimensions:null,maxDimensions:null}};return n[e]||n.general}async validateFileType(e,n){console.log("=== VALIDACI\xd3N DE TIPO DE ARCHIVO (OPCIONAL) ==="),console.log("Archivo: ".concat(e.name)),console.log("Tipo: ".concat(e.type)),console.log("Categor\xeda: ".concat(n));const r=this.getValidationConfig(n);r.allowedTypes.includes(e.type)?console.log("\u2705 Tipo de archivo permitido para ".concat(n,": ").concat(e.type)):(console.warn("\u26a0\ufe0f Tipo de archivo no est\xe1 en la lista permitida para ".concat(n,": ").concat(e.type)),console.warn("\u26a0\ufe0f Tipos permitidos: ".concat(r.allowedTypes.join(", "))),console.warn("\u26a0\ufe0f Continuando con la subida del archivo..."));try{await this.validateFileContent(e,n)?console.log("\u2705 Contenido del archivo v\xe1lido: ".concat(e.type)):(console.warn("\u26a0\ufe0f El contenido del archivo no coincide con el tipo declarado: ".concat(e.type)),console.warn("\u26a0\ufe0f Continuando con la subida del archivo..."))}catch(o){console.warn("\u26a0\ufe0f Error durante validaci\xf3n de contenido: ".concat(o.message)),console.warn("\u26a0\ufe0f Continuando con la subida del archivo...")}return console.log("=== VALIDACI\xd3N COMPLETADA - ARCHIVO ACEPTADO ==="),!0}async validateFileContent(e,n){return new Promise(r=>{console.log("=== VALIDACI\xd3N DE CONTENIDO (INFORMATIVA) ==="),console.log("Archivo: ".concat(e.name)),console.log("Tipo: ".concat(e.type));const o=new FileReader;o.onload=o=>{try{const t=o.target.result,a=new Uint8Array(t);this.validateFileSignature(a,e.type)?console.log("\u2705 Firma de archivo v\xe1lida para ".concat(e.name," (tipo: ").concat(e.type,")")):(console.warn("\u26a0\ufe0f Firma de archivo no v\xe1lida para ".concat(e.name," (tipo: ").concat(e.type,")")),console.warn("\u26a0\ufe0f Esto es solo informativo, el archivo se subir\xe1 de todas formas")),e.type.startsWith("image/")?this.validateImageContent(a,n,e.type).then(n=>{n?console.log("\u2705 Contenido de imagen v\xe1lido para ".concat(e.name)):console.warn("\u26a0\ufe0f Contenido de imagen no v\xe1lido para ".concat(e.name," (solo informativo)")),r(!0)}):e.type.startsWith("audio/")?this.validateAudioContent(a,n,e.type).then(n=>{n?console.log("\u2705 Contenido de audio v\xe1lido para ".concat(e.name)):console.warn("\u26a0\ufe0f Contenido de audio no v\xe1lido para ".concat(e.name," (solo informativo)")),r(!0)}):e.type.startsWith("video/")?this.validateVideoContent(a,n,e.type).then(n=>{n?console.log("\u2705 Contenido de video v\xe1lido para ".concat(e.name)):console.warn("\u26a0\ufe0f Contenido de video no v\xe1lido para ".concat(e.name," (solo informativo)")),r(!0)}):(console.log("\u2139\ufe0f Tipo de archivo no requiere validaci\xf3n espec\xedfica: ".concat(e.type)),r(!0))}catch(t){console.warn("\u26a0\ufe0f Error al validar contenido del archivo: ".concat(t.message)),console.warn("\u26a0\ufe0f Continuando con la subida del archivo..."),r(!0)}},o.onerror=()=>{console.warn("\u26a0\ufe0f Error al leer archivo para validaci\xf3n: ".concat(e.name)),console.warn("\u26a0\ufe0f Continuando con la subida del archivo..."),r(!0)},o.readAsArrayBuffer(e.slice(0,1024))})}validateFileSignature(e,n){console.log("=== VALIDANDO FIRMA DE ARCHIVO ==="),console.log("Tipo MIME: ".concat(n)),console.log("Bytes le\xeddos: ".concat(e.length)),console.log("Primeros 16 bytes:",Array.from(e.slice(0,16)).map(e=>"0x"+e.toString(16).padStart(2,"0")).join(" "));const r={"image/jpeg":[[255,216,255]],"image/png":[[137,80,78,71,13,10,26,10]],"image/webp":[[82,73,70,70],[87,69,66,80]],"image/gif":[[71,73,70,56,55,97],[71,73,70,56,57,97]],"audio/mp3":[[255,251],[255,243],[255,242],[73,68,51]],"audio/wav":[[82,73,70,70],[87,65,86,69]],"audio/ogg":[[79,103,103,83]],"video/mp4":[[0,0,0,24,102,116,121,112],[0,0,0,32,102,116,121,112]],"video/webm":[[26,69,223,163]]}[n];if(!r)return console.log("No hay firma conocida para ".concat(n,", asumiendo v\xe1lido")),!0;console.log("Firmas esperadas para ".concat(n,":"),r.map(e=>e.map(e=>"0x"+e.toString(16).padStart(2,"0")).join(" ")));const o=r.some(n=>{if(e.length<n.length)return console.log("Firma muy corta: ".concat(e.length," < ").concat(n.length)),!1;const r=n.every((n,r)=>e[r]===n);return console.log("Firma ".concat(n.map(e=>"0x"+e.toString(16).padStart(2,"0")).join(" "),": ").concat(r?"V\xc1LIDA":"INV\xc1LIDA")),r||(console.log("Bytes reales:",Array.from(e.slice(0,n.length)).map(e=>"0x"+e.toString(16).padStart(2,"0")).join(" ")),console.log("Bytes esperados:",n.map(e=>"0x"+e.toString(16).padStart(2,"0")).join(" "))),r});return console.log("Resultado de validaci\xf3n de firma: ".concat(o?"V\xc1LIDA":"INV\xc1LIDA")),console.log("=== FIN VALIDACI\xd3N DE FIRMA ==="),o}async validateImageContent(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg";return new Promise(o=>{console.log("=== VALIDACI\xd3N DE IMAGEN (INFORMATIVA) ==="),console.log("Tipo MIME: ".concat(r)),console.log("Categor\xeda: ".concat(n));const t=new Blob([e],{type:r}),a=new Image;a.onload=()=>{console.log("\u2705 Imagen cargada exitosamente: ".concat(a.width,"x").concat(a.height));const e=this.getValidationConfig(n);if(e.minDimensions&&(a.width<e.minDimensions.width||a.height<e.minDimensions.height?console.warn("\u26a0\ufe0f Imagen peque\xf1a: ".concat(a.width,"x").concat(a.height," (recomendado m\xednimo: ").concat(e.minDimensions.width,"x").concat(e.minDimensions.height,")")):console.log("\u2705 Dimensiones m\xednimas OK: ".concat(a.width,"x").concat(a.height))),e.maxDimensions&&(a.width>e.maxDimensions.width||a.height>e.maxDimensions.height?console.warn("\u26a0\ufe0f Imagen grande: ".concat(a.width,"x").concat(a.height," (recomendado m\xe1ximo: ").concat(e.maxDimensions.width,"x").concat(e.maxDimensions.height,")")):console.log("\u2705 Dimensiones m\xe1ximas OK: ".concat(a.width,"x").concat(a.height))),e.requiredAspectRatio){const n=a.width/a.height,r=.1;Math.abs(n-e.requiredAspectRatio)>r?console.warn("\u26a0\ufe0f Aspect ratio at\xedpico: ".concat(n.toFixed(2)," (recomendado: ").concat(e.requiredAspectRatio,")")):console.log("\u2705 Aspect ratio OK: ".concat(n.toFixed(2)))}console.log("=== VALIDACI\xd3N DE IMAGEN COMPLETADA ==="),o(!0)},a.onerror=()=>{console.warn("\u26a0\ufe0f Error al cargar imagen para validaci\xf3n (solo informativo)"),console.warn("\u26a0\ufe0f Continuando con la subida del archivo..."),o(!0)},a.src=URL.createObjectURL(t)})}async validateAudioContent(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audio/mp3";return new Promise(o=>{console.log("=== VALIDACI\xd3N DE AUDIO (INFORMATIVA) ==="),console.log("Tipo MIME: ".concat(r)),console.log("Categor\xeda: ".concat(n));const t=new Blob([e],{type:r}),a=new Audio;a.onloadedmetadata=()=>{console.log("\u2705 Audio cargado exitosamente: ".concat(a.duration.toFixed(2),"s"));const e=this.getValidationConfig(n);e.minDuration&&a.duration<e.minDuration?console.warn("\u26a0\ufe0f Audio corto: ".concat(a.duration.toFixed(2),"s (recomendado m\xednimo: ").concat(e.minDuration,"s)")):e.minDuration&&console.log("\u2705 Duraci\xf3n m\xednima OK: ".concat(a.duration.toFixed(2),"s")),e.maxDuration&&a.duration>e.maxDuration?console.warn("\u26a0\ufe0f Audio largo: ".concat(a.duration.toFixed(2),"s (recomendado m\xe1ximo: ").concat(e.maxDuration,"s)")):e.maxDuration&&console.log("\u2705 Duraci\xf3n m\xe1xima OK: ".concat(a.duration.toFixed(2),"s")),console.log("=== VALIDACI\xd3N DE AUDIO COMPLETADA ==="),o(!0)},a.onerror=()=>{console.warn("\u26a0\ufe0f Error al cargar audio para validaci\xf3n (solo informativo)"),console.warn("\u26a0\ufe0f Continuando con la subida del archivo..."),o(!0)},a.src=URL.createObjectURL(t)})}async validateVideoContent(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"video/mp4";return new Promise(o=>{console.log("=== VALIDACI\xd3N DE VIDEO (INFORMATIVA) ==="),console.log("Tipo MIME: ".concat(r)),console.log("Categor\xeda: ".concat(n));const t=new Blob([e],{type:r}),a=document.createElement("video");a.onloadedmetadata=()=>{console.log("\u2705 Video cargado exitosamente: ".concat(a.duration.toFixed(2),"s, ").concat(a.videoWidth,"x").concat(a.videoHeight));const e=this.getValidationConfig(n);e.minDuration&&a.duration<e.minDuration?console.warn("\u26a0\ufe0f Video corto: ".concat(a.duration.toFixed(2),"s (recomendado m\xednimo: ").concat(e.minDuration,"s)")):e.minDuration&&console.log("\u2705 Duraci\xf3n m\xednima OK: ".concat(a.duration.toFixed(2),"s")),e.maxDuration&&a.duration>e.maxDuration?console.warn("\u26a0\ufe0f Video largo: ".concat(a.duration.toFixed(2),"s (recomendado m\xe1ximo: ").concat(e.maxDuration,"s)")):e.maxDuration&&console.log("\u2705 Duraci\xf3n m\xe1xima OK: ".concat(a.duration.toFixed(2),"s")),console.log("=== VALIDACI\xd3N DE VIDEO COMPLETADA ==="),o(!0)},a.onerror=()=>{console.warn("\u26a0\ufe0f Error al cargar video para validaci\xf3n (solo informativo)"),console.warn("\u26a0\ufe0f Continuando con la subida del archivo..."),o(!0)},a.src=URL.createObjectURL(t)})}validateFileSize(e,n){console.log("=== VALIDACI\xd3N DE TAMA\xd1O (INFORMATIVA) ==="),console.log("Archivo: ".concat(e.name)),console.log("Tama\xf1o: ".concat(this.formatFileSize(e.size))),console.log("Categor\xeda: ".concat(n));const r=this.getValidationConfig(n),o=1024*r.maxSizeMB*1024;return e.size>o?(console.warn("\u26a0\ufe0f Archivo grande: ".concat(this.formatFileSize(e.size)," (recomendado m\xe1ximo: ").concat(r.maxSizeMB,"MB)")),console.warn("\u26a0\ufe0f Continuando con la subida del archivo...")):console.log("\u2705 Tama\xf1o OK: ".concat(this.formatFileSize(e.size)," (m\xe1ximo: ").concat(r.maxSizeMB,"MB)")),console.log("=== VALIDACI\xd3N DE TAMA\xd1O COMPLETADA ==="),!0}async validateFile(e,n){console.log("=== VALIDANDO ARCHIVO (INFORMATIVA) ==="),console.log("Archivo: ".concat(e.name)),console.log("Categor\xeda: ".concat(n)),console.log("Tipo: ".concat(e.type)),console.log("Tama\xf1o: ".concat(this.formatFileSize(e.size)));try{return this.validateFileSize(e,n),console.log("\u2705 Validaci\xf3n de tama\xf1o: COMPLETADA"),await this.validateFileType(e,n),console.log("\u2705 Validaci\xf3n de tipo y contenido: COMPLETADA"),this.validateFileName(e.name),console.log("\u2705 Validaci\xf3n de nombre: COMPLETADA"),console.log("=== VALIDACI\xd3N COMPLETADA - ARCHIVO ACEPTADO ==="),!0}catch(r){return console.warn("\u26a0\ufe0f Error en validaci\xf3n: ".concat(r.message)),console.warn("\u26a0\ufe0f Continuando con la subida del archivo..."),!0}}validateFileName(e){console.log("=== VALIDACI\xd3N DE NOMBRE (INFORMATIVA) ==="),console.log("Nombre: ".concat(e));return/[<>:"/\\|?*\u0000-\u001f]/.test(e)?(console.warn("\u26a0\ufe0f Nombre contiene caracteres no v\xe1lidos: ".concat(e)),console.warn("\u26a0\ufe0f Continuando con la subida del archivo...")):console.log("\u2705 Nombre sin caracteres inv\xe1lidos: ".concat(e)),e.length>255?(console.warn("\u26a0\ufe0f Nombre largo: ".concat(e.length," caracteres (recomendado m\xe1ximo: 255)")),console.warn("\u26a0\ufe0f Continuando con la subida del archivo...")):console.log("\u2705 Longitud OK: ".concat(e.length," caracteres")),0===e.trim().length?(console.warn("\u26a0\ufe0f Nombre vac\xedo o solo espacios"),console.warn("\u26a0\ufe0f Continuando con la subida del archivo...")):console.log("\u2705 Nombre no vac\xedo: ".concat(e)),e.startsWith(".")||e.endsWith(".")||e.startsWith(" ")||e.endsWith(" ")?(console.warn("\u26a0\ufe0f Nombre empieza/termina con punto o espacio: ".concat(e)),console.warn("\u26a0\ufe0f Continuando con la subida del archivo...")):console.log("\u2705 Formato de nombre OK: ".concat(e)),console.log("=== VALIDACI\xd3N DE NOMBRE COMPLETADA ==="),!0}async validateExistingFiles(){console.log("=== VALIDANDO ARCHIVOS EXISTENTES ===");try{const n=await this.assetStorage.getAllFiles(),r={total:n.length,valid:0,invalid:0,errors:[]};for(const o of n)try{const e={name:o.name,type:o.type,size:o.size||0,lastModified:new Date(o.uploadedAt).getTime()};await this.validateFile(e,o.category),r.valid++,console.log("\u2705 ".concat(o.name,": V\xe1lido"))}catch(e){r.invalid++,r.errors.push({fileName:o.name,category:o.category,error:e.message}),console.error("\u274c ".concat(o.name,": ").concat(e.message))}return console.log("=== RESULTADOS DE VALIDACI\xd3N ==="),console.log("Total: ".concat(r.total)),console.log("V\xe1lidos: ".concat(r.valid)),console.log("Inv\xe1lidos: ".concat(r.invalid)),r}catch(e){throw console.error("Error al validar archivos existentes:",e),e}}async cleanupInvalidFiles(){console.log("=== LIMPIANDO ARCHIVOS INV\xc1LIDOS ===");try{const n=await this.validateExistingFiles(),r=[];for(const o of n.errors)try{const e=(await this.assetStorage.getAllFiles()).find(e=>e.name===o.fileName&&e.category===o.category);e&&(await this.deleteFile(e.id),r.push(o.fileName),console.log("\ud83d\uddd1\ufe0f Archivo inv\xe1lido eliminado: ".concat(o.fileName)))}catch(e){console.error("Error al eliminar archivo ".concat(o.fileName,":"),e)}return console.log("=== LIMPIEZA COMPLETADA ==="),console.log("Archivos eliminados: ".concat(r.length)),{cleaned:r.length,files:r}}catch(n){throw console.error("Error durante limpieza de archivos:",n),n}}async getValidationStats(){try{const e=await this.assetStorage.getAllFiles(),n={total:e.length,byCategory:{},byType:{},totalSize:0};return e.forEach(e=>{n.byCategory[e.category]=(n.byCategory[e.category]||0)+1,n.byType[e.type]=(n.byType[e.type]||0)+1,n.totalSize+=e.size||0}),kr(kr({},n),{},{totalSizeFormatted:this.formatFileSize(n.totalSize)})}catch(e){throw console.error("Error al obtener estad\xedsticas:",e),e}}getFileInfo(e){return{name:e.name,type:e.type,size:e.size,sizeFormatted:this.formatFileSize(e.size),lastModified:new Date(e.lastModified).toISOString()}}formatFileSize(e){if(0===e)return"0 Bytes";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]}}class Er{constructor(){this.fileManager=new Cr,this.validationCache=new Map,this.lastValidation=null}async validateAllReferences(e){try{console.log("\ud83d\udd0d Iniciando validaci\xf3n de referencias...");const n=await this.fileManager.getAllFiles(),r=new Set(n.map(e=>e.id)),o=new Map(n.map(e=>[e.name,e.id])),t=[],a=[];if(e.sceneFiles)for(const s of e.sceneFiles)if(s.elements)for(const e of s.elements){const n=this.validateElementReferences(e,r,o);n.broken.length>0&&t.push({sceneFileId:s.id,sceneFileName:s.name,elementId:e.id,elementType:e.type,broken:n.broken,warnings:n.warnings}),n.warnings.length>0&&a.push({sceneFileId:s.id,elementId:e.id,warnings:n.warnings})}if(e.characters)for(const s of e.characters){const e=this.validateCharacterReferences(s,r,o);e.broken.length>0&&t.push({type:"character",characterId:s.id,characterName:s.name,broken:e.broken,warnings:e.warnings})}const i={isValid:0===t.length,brokenReferences:t,warnings:a,totalFiles:n.length,validatedAt:(new Date).toISOString(),summary:{totalBroken:t.length,totalWarnings:a.length,brokenByType:this.categorizeBrokenReferences(t)}};return this.validationCache.set("last",i),this.lastValidation=i,console.log("\u2705 Validaci\xf3n completada:",i.summary),i}catch(n){return console.error("\u274c Error durante validaci\xf3n de referencias:",n),{isValid:!1,error:n.message,brokenReferences:[],warnings:[],validatedAt:(new Date).toISOString()}}}validateElementReferences(e,n,r){const o=[],t=[];if(e.background&&!n.has(e.background)){const n=this.findFileByName(e.background,r);n?t.push({type:"background",reference:e.background,suggestion:"Usar ID: ".concat(n," en lugar de nombre"),fix:n}):o.push({type:"background",reference:e.background,message:"Archivo de fondo no encontrado"})}if(e.sprite&&!n.has(e.sprite)){const n=this.findFileByName(e.sprite,r);n?t.push({type:"sprite",reference:e.sprite,suggestion:"Usar ID: ".concat(n," en lugar de nombre"),fix:n}):o.push({type:"sprite",reference:e.sprite,message:"Archivo de sprite no encontrado"})}if(e.music&&!n.has(e.music)){const n=this.findFileByName(e.music,r);n?t.push({type:"music",reference:e.music,suggestion:"Usar ID: ".concat(n," en lugar de nombre"),fix:n}):o.push({type:"music",reference:e.music,message:"Archivo de m\xfasica no encontrado"})}if(e.sound&&!n.has(e.sound)){const n=this.findFileByName(e.sound,r);n?t.push({type:"sound",reference:e.sound,suggestion:"Usar ID: ".concat(n," en lugar de nombre"),fix:n}):o.push({type:"sound",reference:e.sound,message:"Archivo de sonido no encontrado"})}if(e.video&&!n.has(e.video)){const n=this.findFileByName(e.video,r);n?t.push({type:"video",reference:e.video,suggestion:"Usar ID: ".concat(n," en lugar de nombre"),fix:n}):o.push({type:"video",reference:e.video,message:"Archivo de video no encontrado"})}return{broken:o,warnings:t}}validateCharacterReferences(e,n,r){const o=[],t=[];if(e.sprites&&Array.isArray(e.sprites))for(const a of e.sprites)if(a.fileId&&!n.has(a.fileId)){const e=this.findFileByName(a.name,r);e?t.push({type:"character_sprite",reference:a.fileId,spriteName:a.name,suggestion:"Usar ID: ".concat(e," en lugar de nombre"),fix:e}):o.push({type:"character_sprite",reference:a.fileId,spriteName:a.name,message:"Sprite de personaje no encontrado"})}return{broken:o,warnings:t}}findFileByName(e,n){if(n.has(e))return n.get(e);const r=e.replace(/\.[^/.]+$/,"");for(const[o,t]of n)if(o.replace(/\.[^/.]+$/,"")===r)return t;return null}categorizeBrokenReferences(e){const n={background:0,sprite:0,music:0,sound:0,video:0,character_sprite:0,element:0,character:0};return e.forEach(e=>{"character"===e.type?n.character++:e.elementType&&(n.element++,e.broken.forEach(e=>{n.hasOwnProperty(e.type)&&n[e.type]++}))}),n}async cleanupBrokenReferences(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("\ud83e\uddf9 Iniciando limpieza autom\xe1tica de referencias rotas...");const{removeBroken:r=!0,fixWarnings:o=!1,dryRun:t=!1}=n,a=await this.validateAllReferences(e);if(a.isValid)return console.log("\u2705 No se encontraron referencias rotas para limpiar"),{cleaned:0,fixed:0,removed:0};let i=0,s=0,l=0;const c=JSON.parse(JSON.stringify(e));if(c.sceneFiles)for(const e of c.sceneFiles)if(e.elements)for(const n of e.elements){const e=a.brokenReferences.find(e=>e.elementId===n.id);e&&(r&&e.broken.forEach(e=>{"background"===e.type?(n.background=null,l++):"sprite"===e.type?(n.sprite=null,n.showSprite=!1,l++):"music"===e.type?(n.music=null,l++):"sound"===e.type?(n.sound=null,l++):"video"===e.type&&(n.video=null,l++)}),o&&e.warnings.forEach(e=>{e.fix&&("background"===e.type?(n.background=e.fix,s++):"sprite"===e.type?(n.sprite=e.fix,s++):"music"===e.type?(n.music=e.fix,s++):"sound"===e.type?(n.sound=e.fix,s++):"video"===e.type&&(n.video=e.fix,s++))}),i++)}if(c.characters)for(const e of c.characters){const n=a.brokenReferences.find(n=>n.characterId===e.id);n&&(r&&e.sprites&&(e.sprites=e.sprites.filter(e=>!n.broken.some(n=>"character_sprite"===n.type&&n.reference===e.fileId)||(l++,!1))),o&&e.sprites&&e.sprites.forEach(e=>{const r=n.warnings.find(n=>"character_sprite"===n.type&&n.reference===e.fileId);r&&r.fix&&(e.fileId=r.fix,s++)}),i++)}const d={cleaned:i,fixed:s,removed:l,dryRun:t,updatedState:t?null:c};return t?console.log("\ud83d\udd0d Simulaci\xf3n completada: ".concat(i," elementos, ").concat(s," corregidos, ").concat(l," eliminados")):console.log("\u2705 Limpieza completada: ".concat(i," elementos, ").concat(s," corregidos, ").concat(l," eliminados")),d}catch(r){return console.error("\u274c Error durante limpieza de referencias:",r),{error:r.message,cleaned:0,fixed:0,removed:0}}}getValidationStats(){return this.lastValidation?{lastValidation:this.lastValidation.validatedAt,totalBroken:this.lastValidation.summary.totalBroken,totalWarnings:this.lastValidation.summary.totalWarnings,brokenByType:this.lastValidation.summary.brokenByType,isValid:this.lastValidation.isValid}:null}clearCache(){this.validationCache.clear(),this.lastValidation=null,console.log("\ud83d\uddd1\ufe0f Cach\xe9 de validaci\xf3n limpiada")}}const zr={project:{name:"",version:"1.0.1",author:"",description:"",characters:[],scenes:[],script:[],sceneFiles:[{id:"script",name:"script.rpy",displayName:"Script Principal",isMain:!0,elements:[]}],currentSceneFile:"script",variables:[],flags:[],protagonistConfig:{enabled:!1,defaultName:"Jugador",promptText:"Por favor, introduce tu nombre:",showConfirmation:!0,allowEmpty:!1},advancedConfig:{screenWidth:1280,screenHeight:720,accentColor:"#0099cc",idleColor:"#888888",hoverColor:"#66c1e0",selectedColor:"#ffffff",textColor:"#ffffff",textFont:"DejaVuSans.ttf",nameFont:"DejaVuSans.ttf",interfaceFont:"DejaVuSans.ttf",textSize:22,nameTextSize:30,interfaceTextSize:22,textboxHeight:185,textboxYAlign:1,nameXPos:240,nameYPos:0,dialogueXPos:268,dialogueYPos:50,dialogueWidth:744,buttonWidth:null,buttonHeight:null,choiceButtonWidth:790,hasSound:!0,hasMusic:!0,hasVoice:!0,enterTransition:"dissolve",exitTransition:"dissolve",intraTransition:"dissolve",windowMode:"auto",historyLength:250,historyHeight:140,saveDirectory:"",thumbnailWidth:256,thumbnailHeight:144,fileSlotCols:3,fileSlotRows:2,language:"unicode",buildName:"",googlePlayKey:"",itchProject:""}},currentScene:null,selectedElement:null,previewMode:!1,isPlaying:!1,theme:"dark-default",integrity:{isValid:!0,lastValidation:null,brokenReferences:[],warnings:[],autoValidation:!1,validationInterval:3e5}},Pr="SET_PROJECT_NAME",Tr="SET_PROJECT_AUTHOR",Ir="SET_PROJECT_DESCRIPTION",Lr="UPDATE_PROJECT_CONFIG",Ar="ADD_CHARACTER",Dr="UPDATE_CHARACTER",Or="DELETE_CHARACTER",Nr="CLEAN_CHARACTER_REFERENCES",Rr="ADD_SCENE",Fr="UPDATE_SCENE",Mr="DELETE_SCENE",Hr="ADD_SCRIPT_ELEMENT",Br="UPDATE_SCRIPT_ELEMENT",Wr="DELETE_SCRIPT_ELEMENT",Vr="SET_CURRENT_SCENE",Ur="SET_SELECTED_ELEMENT",qr="SET_PREVIEW_MODE",Gr="UPDATE_INTEGRITY_STATUS",Yr="SET_BROKEN_REFERENCES",$r="CLEAN_BROKEN_REFERENCES",Jr="TOGGLE_AUTO_VALIDATION",Zr="SET_PLAYING",Kr="LOAD_PROJECT",Qr="LOAD_FULL_STATE",Xr="NEW_PROJECT",eo="RESET_TO_CLEAN_STATE",no="ADD_SCENE_FILE",ro="UPDATE_SCENE_FILE",oo="DELETE_SCENE_FILE",to="SET_CURRENT_SCENE_FILE",ao="ADD_SCENE_FILE_ELEMENT",io="ADD_SCENE_FILE_ELEMENT_AT_INDEX",so="UPDATE_SCENE_FILE_ELEMENT",lo="DELETE_SCENE_FILE_ELEMENT",co="ADD_VARIABLE",uo="UPDATE_VARIABLE",po="DELETE_VARIABLE",ho="ADD_FLAG",go="UPDATE_FLAG",fo="DELETE_FLAG",xo="SET_THEME",mo="SET_PROTAGONIST_CONFIG",vo="TOGGLE_PROTAGONIST";function bo(e,n){switch(n.type){case Pr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{name:n.payload})});case Tr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{author:n.payload})});case Ir:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{description:n.payload})});case Lr:return kr(kr({},e),{},{project:kr(kr(kr({},e.project),n.payload),{},{advancedConfig:kr(kr({},e.project.advancedConfig),n.payload.advancedConfig)})});case Ar:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{characters:[...e.project.characters,n.payload]})});case Dr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{characters:e.project.characters.map(e=>e.id===n.payload.id?n.payload:e)})});case Or:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{characters:e.project.characters.filter(e=>e.id!==n.payload)})});case Nr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:n.payload})});case Rr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{scenes:[...e.project.scenes,n.payload]})});case Fr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{scenes:e.project.scenes.map(e=>e.id===n.payload.id?n.payload:e)})});case Mr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{scenes:e.project.scenes.filter(e=>e.id!==n.payload)})});case Hr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{script:[...e.project.script,n.payload]})});case Br:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{script:e.project.script.map(e=>e.id===n.payload.id?n.payload:e)})});case Wr:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{script:e.project.script.filter(e=>e.id!==n.payload)})});case Vr:return kr(kr({},e),{},{currentScene:n.payload});case Ur:return kr(kr({},e),{},{selectedElement:n.payload});case qr:return kr(kr({},e),{},{previewMode:n.payload});case Zr:return kr(kr({},e),{},{isPlaying:n.payload});case Gr:return kr(kr({},e),{},{integrity:kr(kr(kr({},e.integrity),n.payload),{},{lastValidation:(new Date).toISOString()})});case Yr:return kr(kr({},e),{},{integrity:kr(kr({},e.integrity),{},{brokenReferences:n.payload,isValid:0===n.payload.length,lastValidation:(new Date).toISOString()})});case $r:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:n.payload}),integrity:kr(kr({},e.integrity),{},{brokenReferences:[],isValid:!0,lastValidation:(new Date).toISOString()})});case Jr:return kr(kr({},e),{},{integrity:kr(kr({},e.integrity),{},{autoValidation:n.payload})});case Kr:return kr(kr({},e),{},{project:n.payload,currentScene:null,selectedElement:null});case Qr:return kr(kr({},e),n.payload);case Xr:return zr;case eo:return console.log("\ud83d\udd04 Reseteando a estado completamente limpio"),{project:{name:"",version:"1.0.1",author:"",description:"",characters:[],scenes:[],script:[],sceneFiles:[{id:"script",name:"script.rpy",displayName:"Script Principal",isMain:!0,elements:[]}],currentSceneFile:"script",variables:[],flags:[],protagonistConfig:{enabled:!1,defaultName:"Jugador",promptText:"Por favor, introduce tu nombre:",showConfirmation:!0,allowEmpty:!1},advancedConfig:{screenWidth:1280,screenHeight:720,accentColor:"#0099cc",idleColor:"#888888",hoverColor:"#66c1e0",selectedColor:"#ffffff",textColor:"#ffffff",textFont:"DejaVuSans.ttf",nameFont:"DejaVuSans.ttf",interfaceFont:"DejaVuSans.ttf",textSize:22,nameTextSize:30,interfaceTextSize:22,textboxHeight:185,textboxYAlign:1,nameXPos:240,nameYPos:0,dialogueXPos:268,dialogueYPos:50,dialogueWidth:744,buttonWidth:null,buttonHeight:null,choiceButtonWidth:790,hasSound:!0,hasMusic:!0,hasVoice:!0,enterTransition:"dissolve",exitTransition:"dissolve",intraTransition:"dissolve",windowMode:"auto",historyLength:250,historyHeight:140,saveDirectory:"",thumbnailWidth:256,thumbnailHeight:144,fileSlotCols:3,fileSlotRows:2,language:"unicode",buildName:"",googlePlayKey:"",itchProject:""}},currentScene:null,selectedElement:null,previewMode:!1,isPlaying:!1,theme:"dark-default",integrity:{isValid:!0,lastValidation:null,brokenReferences:[],warnings:[],autoValidation:!1,validationInterval:3e5}};case no:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:[...e.project.sceneFiles,n.payload]})});case ro:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:e.project.sceneFiles.map(e=>e.id===n.payload.id?n.payload:e)})});case oo:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:e.project.sceneFiles.filter(e=>e.id!==n.payload),currentSceneFile:e.project.currentSceneFile===n.payload?"script":e.project.currentSceneFile})});case to:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{currentSceneFile:n.payload})});case ao:console.log("Reducer - ADD_SCENE_FILE_ELEMENT ejecutado"),console.log("Reducer - payload:",n.payload),console.log("Reducer - sceneFiles antes:",e.project.sceneFiles);const r=kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:e.project.sceneFiles.map(e=>{if(e.id===n.payload.sceneFileId){console.log("Reducer - actualizando archivo:",e.id),console.log("Reducer - elementos antes:",e.elements);const r=kr(kr({},e),{},{elements:[...e.elements,n.payload.element]});return console.log("Reducer - elementos despu\xe9s:",r.elements),r}return e})})});return console.log("Reducer - nuevo estado:",r),r;case io:return console.log("Reducer - ADD_SCENE_FILE_ELEMENT_AT_INDEX ejecutado"),console.log("Reducer - payload:",n.payload),kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:e.project.sceneFiles.map(e=>{if(e.id===n.payload.sceneFileId){const r=[...e.elements],o=null!==n.payload.insertIndex?n.payload.insertIndex:r.length;return r.splice(o,0,n.payload.element),kr(kr({},e),{},{elements:r})}return e})})});case so:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:e.project.sceneFiles.map(e=>e.id===n.payload.sceneFileId?kr(kr({},e),{},{elements:e.elements.map(e=>e.id===n.payload.element.id?n.payload.element:e)}):e)})});case lo:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{sceneFiles:e.project.sceneFiles.map(e=>e.id===n.payload.sceneFileId?kr(kr({},e),{},{elements:e.elements.filter(e=>e.id!==n.payload.elementId)}):e)})});case co:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{variables:[...e.project.variables,n.payload]})});case uo:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{variables:e.project.variables.map(e=>e.id===n.payload.id?n.payload:e)})});case po:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{variables:e.project.variables.filter(e=>e.id!==n.payload)})});case ho:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{flags:[...e.project.flags,n.payload]})});case go:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{flags:e.project.flags.map(e=>e.id===n.payload.id?n.payload:e)})});case fo:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{flags:e.project.flags.filter(e=>e.id!==n.payload)})});case xo:return kr(kr({},e),{},{theme:n.payload});case mo:return kr(kr({},e),{},{project:kr(kr({},e.project),{},{protagonistConfig:kr(kr({},e.project.protagonistConfig),n.payload)})});case vo:const o=!e.project.protagonistConfig.enabled;return kr(kr({},e),{},{project:kr(kr({},e.project),{},{protagonistConfig:kr(kr({},e.project.protagonistConfig),{},{enabled:o}),characters:o&&!e.project.characters.find(e=>"mc"===e.id)?[...e.project.characters,{id:"mc",name:"Protagonista",displayName:"Protagonista",renpyName:"mc_name",isProtagonist:!0,isPlayerControlled:!0,color:"#ff6b6b",who_color:"#ffffff",what_color:"#ffffff",sprites:[]}]:e.project.characters})});default:return e}}const yo=(0,n.createContext)();function wo(e){let{children:r}=e;const[o,t]=(0,n.useReducer)(bo,zr),[a,i]=(0,n.useState)(!0),[s,l]=(0,n.useState)("saved"),c=(0,n.useMemo)(()=>new Sr,[]),d=(0,n.useMemo)(()=>new Cr,[]),u=(0,n.useMemo)(()=>new Er,[]);(0,n.useEffect)(()=>{(async()=>{try{console.log("\ud83d\udd04 Cargando estado guardado...");const e=c.checkDataIntegrity();if(!e.isValid){console.warn("\u26a0\ufe0f Problemas de integridad detectados:",e.issues);const n=c.cleanupCorruptedData();n>0&&console.log("\ud83e\uddf9 ".concat(n," elementos corruptos eliminados autom\xe1ticamente"))}const n=c.loadFullState();if(n)console.log("\u2705 Estado completo cargado exitosamente"),t({type:"LOAD_FULL_STATE",payload:n});else{const e=c.loadCurrentProject();e?(console.log("\u2705 Proyecto guardado cargado exitosamente"),t({type:"LOAD_PROJECT",payload:e})):console.log("\u2139\ufe0f No se encontr\xf3 estado guardado, usando estado inicial")}console.log("\ud83c\udf89 Recuperaci\xf3n autom\xe1tica completada")}catch(e){console.error("\u274c Error al cargar estado:",e),console.log("\u2139\ufe0f Usando estado inicial debido a error de carga")}finally{i(!1)}})()},[c]),function(e,r,o,t){const a=(0,n.useRef)(null),i=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(o||!e.project.name)return void console.log("\u23f8\ufe0f AutoSave: No ejecutando - condiciones no cumplidas",{isLoading:o,hasProject:!!e.project.name});if(!a.current)return a.current=e,void console.log("\ud83d\udd04 AutoSave: Primera ejecuci\xf3n, guardando referencia");const n=a.current;var s,l,c,d;JSON.stringify(n)!==JSON.stringify(e)?(console.log("\ud83d\udd04 AutoSave: Cambios detectados",{prevCharacters:n.project.characters.length,newCharacters:e.project.characters.length,prevElements:(null===(s=n.project.sceneFiles[0])||void 0===s?void 0:s.elements.length)||0,newElements:(null===(l=e.project.sceneFiles[0])||void 0===l?void 0:l.elements.length)||0,prevScene:n.currentScene,newScene:e.currentScene,prevSelected:null===(c=n.selectedElement)||void 0===c?void 0:c.type,newSelected:null===(d=e.selectedElement)||void 0===d?void 0:d.type}),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{console.log("\ud83d\udcbe AutoSave: Ejecutando guardado autom\xe1tico...");try{t("saving"),r.saveFullState(e)?(t("saved"),console.log("\u2705 AutoSave: Estado guardado exitosamente")):(t("error"),console.error("\u274c AutoSave: Error al guardar estado"))}catch(n){t("error"),console.error("\u274c AutoSave: Error al guardar estado:",n)}},1e3)):console.log("\u23f8\ufe0f AutoSave: No hay cambios detectados"),a.current=e},[e,r,o,t]),(0,n.useEffect)(()=>()=>{i.current&&clearTimeout(i.current)},[])}(o,c,a,l),(0,n.useEffect)(()=>{if(!o.integrity.autoValidation)return;const e=async()=>{try{if(!o.project.name||0===o.project.sceneFiles.length)return;console.log("\ud83d\udd0d Ejecutando validaci\xf3n autom\xe1tica de integridad...");const e=await u.validateAllReferences(o.project);if(t({type:Gr,payload:{isValid:e.isValid,brokenReferences:e.brokenReferences,warnings:e.warnings,summary:e.summary}}),!e.isValid&&e.brokenReferences.length>0&&e.brokenReferences.length<=3){console.log("\ud83e\uddf9 Limpiando referencias rotas autom\xe1ticamente...");const e=await u.cleanupBrokenReferences(o.project,{removeBroken:!0,fixWarnings:!1,dryRun:!1});e.cleaned>0&&(t({type:$r,payload:e.updatedState.sceneFiles}),console.log("\u2705 ".concat(e.cleaned," referencias rotas limpiadas autom\xe1ticamente")))}}catch(e){console.error("\u274c Error durante validaci\xf3n autom\xe1tica:",e),t({type:Gr,payload:{isValid:!1,error:e.message}})}},n=setTimeout(e,1e4),r=setInterval(e,3e5);return()=>{clearTimeout(n),clearInterval(r)}},[o.integrity.autoValidation,o.project.name,u]),(0,n.useEffect)(()=>{const e=e=>{o.project.name&&(console.log("\ud83d\udea8 Guardando estado antes de cerrar..."),c.saveFullState(o))},n=()=>{document.hidden&&o.project.name&&(console.log("\ud83d\udc41\ufe0f Guardando estado al cambiar pesta\xf1a..."),c.saveFullState(o))};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",n),()=>{window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",n)}},[o,c]);return(0,Ne.jsx)(yo.Provider,{value:{state:o,dispatch:t,storage:c,fileManager:d,referenceValidator:u,isLoading:a,saveStatus:s,setSaveStatus:l,validateProjectIntegrity:async()=>{try{console.log("\ud83d\udd0d Ejecutando validaci\xf3n manual de integridad...");const e=await u.validateAllReferences(o.project);return t({type:Gr,payload:{isValid:e.isValid,brokenReferences:e.brokenReferences,warnings:e.warnings,summary:e.summary}}),e}catch(e){throw console.error("\u274c Error durante validaci\xf3n manual:",e),e}},cleanupBrokenReferences:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{console.log("\ud83e\uddf9 Ejecutando limpieza manual de referencias rotas...");const n=await u.cleanupBrokenReferences(o.project,kr({removeBroken:!0,fixWarnings:!1,dryRun:!1},e));return n.cleaned>0&&t({type:$r,payload:n.updatedState.sceneFiles}),n}catch(n){throw console.error("\u274c Error durante limpieza manual:",n),n}},syncFiles:async()=>{try{console.log("\ud83d\udd04 Ejecutando sincronizaci\xf3n manual de archivos...");return await d.syncStorage()}catch(e){throw console.error("\u274c Error durante sincronizaci\xf3n:",e),e}}},children:r})}function jo(){const e=(0,n.useContext)(yo);if(!e)throw new Error("useVisualNovel debe ser usado dentro de VisualNovelProvider");return e}var ko,So,_o,Co,Eo,zo,Po,To,Io,Lo,Ao,Do,Oo,No;const Ro=De(ko||(ko=t(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),Fo=De(So||(So=t(["\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n"]))),Mo=Oe.div(_o||(_o=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(8px);\n  z-index: 10000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: ",";\n"])),be(Co||(Co=t([""," 0.3s ease-out"])),Ro)),Ho=Oe.div(Eo||(Eo=t(["\n  background: #2a2a2a;\n  border: 2px solid var(--color-primary);\n  border-radius: 16px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);\n  padding: 0;\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh;\n  overflow: hidden;\n  animation: ",";\n  position: relative;\n"])),be(zo||(zo=t([""," 0.4s ease-out"])),Fo)),Bo=Oe.div(Po||(Po=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  padding: 20px 24px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid var(--color-primary);\n"]))),Wo=Oe.h3(To||(To=t(["\n  margin: 0;\n  font-size: 18px;\n  font-weight: 700;\n  color: #ffffff;\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Vo=Oe.button(Io||(Io=t(["\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: scale(1.1);\n  }\n"]))),Uo=Oe.div(Lo||(Lo=t(["\n  padding: 24px;\n  color: var(--color-textPrimary);\n  line-height: 1.6;\n  white-space: pre-line;\n"]))),qo=Oe.div(Ao||(Ao=t(["\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n  padding: 20px 24px;\n  border-top: 1px solid var(--color-border);\n  background: #2a2a2a;\n"]))),Go=Oe.button(Do||(Do=t(["\n  padding: 12px 24px;\n  border: 2px solid ",";\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  font-size: 14px;\n  min-width: 80px;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px ",";\n  }\n\n  &:active {\n    transform: translateY(-1px);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n"])),e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)":e.danger?"linear-gradient(135deg, var(--color-danger) 0%, var(--color-dangerHover) 100%)":"var(--color-surface)",e=>e.primary||e.danger?"white":"var(--color-textPrimary)",e=>e.primary?"rgba(74, 158, 255, 0.3)":e.danger?"rgba(255, 99, 99, 0.3)":"rgba(0, 0, 0, 0.1)"),Yo=Oe.input(Oo||(Oo=t(["\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface);\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  margin-top: 12px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\n  }\n\n  &::placeholder {\n    color: var(--color-textSecondary);\n  }\n"]))),$o=Oe.textarea(No||(No=t(["\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface);\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  margin-top: 12px;\n  min-height: 100px;\n  resize: vertical;\n  font-family: inherit;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\n  }\n\n  &::placeholder {\n    color: var(--color-textSecondary);\n  }\n"]))),Jo=(0,n.createContext)(),Zo=()=>{const e=(0,n.useContext)(Jo);if(!e)throw new Error("useModalContext debe ser usado dentro de un ModalProvider");return e},Ko=e=>{let{isOpen:r,onClose:o,title:t,children:a,icon:i=null}=e;return n.useEffect(()=>{const e=e=>{"Escape"===e.key&&r&&o()};return r&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[r,o]),r?(0,Ne.jsx)(Mo,{onClick:o,children:(0,Ne.jsxs)(Ho,{onClick:e=>e.stopPropagation(),children:[(0,Ne.jsxs)(Bo,{children:[(0,Ne.jsxs)(Wo,{children:[i&&(0,Ne.jsx)("span",{children:i}),t]}),(0,Ne.jsx)(Vo,{onClick:o,children:"\xd7"})]}),a]})}):null},Qo=e=>{let{modal:r}=e;const[o,t]=(0,n.useState)(r.defaultValue),a=n.useRef(null);n.useEffect(()=>{a.current&&(a.current.focus(),a.current.select())},[]);const i=()=>{r.onClose(o)},s=e=>{"Enter"!==e.key||r.multiline||i()};return(0,Ne.jsxs)(Ko,{isOpen:!0,onClose:()=>r.onClose(null),title:r.title,icon:r.icon,children:[(0,Ne.jsxs)(Uo,{children:[r.message,r.multiline?(0,Ne.jsx)($o,{ref:a,value:o,onChange:e=>t(e.target.value),onKeyPress:s,placeholder:"Escribe tu respuesta aqu\xed..."}):(0,Ne.jsx)(Yo,{ref:a,type:"text",value:o,onChange:e=>t(e.target.value),onKeyPress:s,placeholder:"Escribe tu respuesta aqu\xed..."})]}),(0,Ne.jsxs)(qo,{children:[(0,Ne.jsx)(Go,{onClick:()=>r.onClose(null),children:"Cancelar"}),(0,Ne.jsx)(Go,{primary:!0,onClick:i,children:"Aceptar"})]})]})},Xo=e=>{let{children:r}=e;const[o,t]=(0,n.useState)([]),a=()=>o.map(e=>{switch(e.type){case"alert":return(0,Ne.jsxs)(Ko,{isOpen:!0,onClose:e.onClose,title:e.title,icon:e.icon,children:[(0,Ne.jsx)(Uo,{children:e.message}),(0,Ne.jsx)(qo,{children:(0,Ne.jsx)(Go,{primary:!0,onClick:()=>e.onClose(),children:"Aceptar"})})]},e.id);case"confirm":return(0,Ne.jsxs)(Ko,{isOpen:!0,onClose:()=>e.onClose(!1),title:e.title,icon:e.icon,children:[(0,Ne.jsx)(Uo,{children:e.message}),(0,Ne.jsxs)(qo,{children:[(0,Ne.jsx)(Go,{onClick:()=>e.onClose(!1),children:"Cancelar"}),(0,Ne.jsx)(Go,{primary:!0,onClick:()=>e.onClose(!0),children:"Confirmar"})]})]},e.id);case"prompt":return(0,Ne.jsx)(Qo,{modal:e},e.id);default:return null}}),i={showAlert:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Informaci\xf3n",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u2139\ufe0f";return new Promise(o=>{const a=Date.now()+Math.random(),i={id:a,type:"alert",title:n,message:e,icon:r,onClose:()=>{t(e=>e.filter(e=>e.id!==a)),o()}};t(e=>[...e,i])})},showConfirm:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Confirmar",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u2753";return new Promise(o=>{const a=Date.now()+Math.random(),i={id:a,type:"confirm",title:n,message:e,icon:r,onClose:e=>{t(e=>e.filter(e=>e.id!==a)),o(e)}};t(e=>[...e,i])})},showPrompt:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Entrada",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\u270f\ufe0f",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(i=>{const s=Date.now()+Math.random(),l={id:s,type:"prompt",title:r,message:e,defaultValue:n,icon:o,multiline:a,onClose:e=>{t(e=>e.filter(e=>e.id!==s)),i(e)}};t(e=>[...e,l])})},renderModals:a};return(0,Ne.jsxs)(Jo.Provider,{value:i,children:[r,a()]})};var et,nt,rt,ot,tt,at,it,st,lt,ct,dt,ut,pt,ht,gt;const ft=De(et||(et=t(["\n  from {\n    opacity: 0;\n    transform: translateX(100%);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n"]))),xt=De(nt||(nt=t(["\n  from {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  to {\n    opacity: 0;\n    transform: translateX(100%);\n  }\n"]))),mt=(De(rt||(rt=t(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),De(ot||(ot=t(["\n  from {\n    width: 100%;\n  }\n  to {\n    width: 0%;\n  }\n"])))),vt=Oe.div(tt||(tt=t(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 10001;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  max-width: 400px;\n  pointer-events: none;\n  \n  @media (max-width: 768px) {\n    top: 10px;\n    right: 10px;\n    left: 10px;\n    max-width: none;\n  }\n"]))),bt=Oe.div(at||(at=t(["\n  background: var(--color-surface);\n  border: 2px solid ",";\n  border-radius: 12px;\n  padding: 16px 20px;\n  box-shadow: 0 8px 24px var(--color-shadowElevated);\n  backdrop-filter: blur(8px);\n  animation: ",";\n  pointer-events: auto;\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: ",";\n  }\n"])),e=>{switch(e.type){case"success":return"var(--color-success)";case"error":return"var(--color-error)";case"warning":return"var(--color-warning)";case"info":return"var(--color-primary)";default:return"var(--color-border)"}},e=>e.isClosing?be(it||(it=t([""," 0.4s ease-out"])),xt):be(st||(st=t([""," 0.4s ease-out"])),ft),e=>{switch(e.type){case"success":return"var(--color-success)";case"error":return"var(--color-error)";case"warning":return"var(--color-warning)";case"info":return"var(--color-primary)";default:return"var(--color-border)"}}),yt=Oe.div(lt||(lt=t(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 8px;\n"]))),wt=Oe.span(ct||(ct=t(["\n  font-size: 20px;\n  line-height: 1;\n"]))),jt=Oe.h4(dt||(dt=t(["\n  margin: 0;\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  font-weight: 600;\n  flex: 1;\n"]))),kt=Oe.button(ut||(ut=t(["\n  background: none;\n  border: none;\n  color: var(--color-textSecondary);\n  cursor: pointer;\n  font-size: 18px;\n  line-height: 1;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    color: var(--color-textPrimary);\n    background: var(--color-surfaceSecondary);\n  }\n"]))),St=Oe.div(pt||(pt=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.5;\n  white-space: pre-line;\n"]))),_t=Oe.div(ht||(ht=t(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 3px;\n  background: ",";\n  border-radius: 0 0 12px 12px;\n  animation: ",";\n"])),e=>{switch(e.type){case"success":return"var(--color-success)";case"error":return"var(--color-error)";case"warning":return"var(--color-warning)";case"info":return"var(--color-primary)";default:return"var(--color-border)"}},e=>e.duration?be(gt||(gt=t([""," ","ms linear"])),mt,e.duration):"none"),Ct=(0,n.createContext)(),Et=e=>{let{children:r}=e;const[o,t]=(0,n.useState)([]),a=(0,n.useCallback)(e=>{const n=Date.now()+Math.random(),r=e.duration||5e3,o={id:n,type:e.type||"info",title:e.title||"Notificaci\xf3n",message:e.message||"",icon:e.icon||"\ud83d\udce2",duration:r,timestamp:Date.now()};return t(e=>[...e,o]),r>0&&setTimeout(()=>{i(n)},r),n},[]),i=(0,n.useCallback)(e=>{t(n=>{const r=n.find(n=>n.id===e);return r?(r.isClosing=!0,setTimeout(()=>{t(n=>n.filter(n=>n.id!==e))},400),[...n]):n.filter(n=>n.id!==e)})},[]),s=(0,n.useCallback)(()=>{t([])},[]),l=(0,n.useCallback)(function(e){return a({type:"success",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\xc9xito",message:e,icon:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u2705"})},[a]),c=(0,n.useCallback)(function(e){return a({type:"error",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error",message:e,icon:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u274c",duration:7e3})},[a]),d=(0,n.useCallback)(function(e){return a({type:"warning",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Advertencia",message:e,icon:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u26a0\ufe0f",duration:6e3})},[a]),u=(0,n.useCallback)(function(e){return a({type:"info",title:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Informaci\xf3n",message:e,icon:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\ud83d\udce2"})},[a]),p=(0,n.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return a({type:n,title:{success:"Servidor Iniciado",error:"Error del Servidor",warning:"Advertencia del Servidor",info:"Estado del Servidor"}[n]||"Servidor",message:e,icon:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\ud83d\ude80",duration:"error"===n?7e3:5e3})},[a]),h={notifications:o,addNotification:a,removeNotification:i,clearAllNotifications:s,showSuccess:l,showError:c,showWarning:d,showInfo:u,showServerStatus:p};return(0,Ne.jsxs)(Ct.Provider,{value:h,children:[r,(0,Ne.jsx)(vt,{children:o.map(e=>(0,Ne.jsxs)(bt,{type:e.type,isClosing:e.isClosing,children:[(0,Ne.jsxs)(yt,{children:[(0,Ne.jsx)(wt,{children:e.icon}),(0,Ne.jsx)(jt,{children:e.title}),(0,Ne.jsx)(kt,{onClick:()=>i(e.id),children:"\xd7"})]}),(0,Ne.jsx)(St,{children:e.message}),e.duration>0&&(0,Ne.jsx)(_t,{type:e.type,duration:e.duration})]},e.id))})]})},zt={"light-default":{name:"Light Default",type:"light",colors:{primary:"#1d4ed8",primaryHover:"#1e40af",secondary:"#475569",background:"#ffffff",backgroundSecondary:"#f8fafc",backgroundTertiary:"#f1f5f9",surface:"#ffffff",surfaceSecondary:"#f8fafc",surfaceElevated:"#f1f5f9",border:"#d1d5db",borderSecondary:"#9ca3af",borderFocus:"#1d4ed8",textPrimary:"#0f172a",textSecondary:"#475569",textTertiary:"#64748b",textInverse:"#ffffff",success:"#059669",successHover:"#047857",warning:"#d97706",warningHover:"#b45309",error:"#dc2626",errorHover:"#b91c1c",info:"#2563eb",infoHover:"#1d4ed8",shadow:"rgba(0, 0, 0, 0.15)",shadowHover:"rgba(0, 0, 0, 0.25)",shadowElevated:"rgba(0, 0, 0, 0.35)",gradientPrimary:"linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%)",gradientSecondary:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",gradientSurface:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",backdrop:"rgba(0, 0, 0, 0.4)",primaryRgb:"29, 78, 216"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"}},"dark-default":{name:"Dark Default",type:"dark",colors:{primary:"#60a5fa",primaryHover:"#3b82f6",secondary:"#a1a1aa",background:"#0a0a0a",backgroundSecondary:"#151515",backgroundTertiary:"#202020",surface:"#1e1e1e",surfaceSecondary:"#2a2a2a",surfaceElevated:"#353535",border:"#4a4a4a",borderSecondary:"#5a5a5a",borderFocus:"#60a5fa",textPrimary:"#ffffff",textSecondary:"#e4e4e7",textTertiary:"#a1a1aa",textInverse:"#0f0f0f",success:"#22c55e",successHover:"#16a34a",warning:"#fbbf24",warningHover:"#f59e0b",error:"#f87171",errorHover:"#ef4444",info:"#60a5fa",infoHover:"#3b82f6",shadow:"rgba(0, 0, 0, 0.4)",shadowHover:"rgba(0, 0, 0, 0.6)",shadowElevated:"rgba(0, 0, 0, 0.8)",gradientPrimary:"linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%)",gradientSecondary:"linear-gradient(135deg, #1a1a1a 0%, #262626 100%)",gradientSurface:"linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%)",backdrop:"rgba(0, 0, 0, 0.7)",primaryRgb:"96, 165, 250"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"}},"blue-theme":{name:"Blue Theme",type:"dark",colors:{primary:"#2563eb",primaryHover:"#1d4ed8",secondary:"#64748b",background:"#0c1220",backgroundSecondary:"#1a2332",backgroundTertiary:"#2a3441",surface:"#1a2332",surfaceSecondary:"#2a3441",surfaceElevated:"#3a4552",border:"#2a3441",borderSecondary:"#3a4552",borderFocus:"#3b82f6",textPrimary:"#ffffff",textSecondary:"#e2e8f0",textTertiary:"#a0aec0",textInverse:"#0c1220",success:"#22c55e",successHover:"#16a34a",warning:"#fbbf24",warningHover:"#f59e0b",error:"#f87171",errorHover:"#ef4444",info:"#60a5fa",infoHover:"#3b82f6",shadow:"rgba(12, 18, 32, 0.5)",shadowHover:"rgba(12, 18, 32, 0.7)",shadowElevated:"rgba(12, 18, 32, 0.9)",gradientPrimary:"linear-gradient(135deg, #2563eb 0%, #3b82f6 100%)",gradientSecondary:"linear-gradient(135deg, #1a2332 0%, #2a3441 100%)",gradientSurface:"linear-gradient(135deg, #0c1220 0%, #1a2332 100%)",backdrop:"rgba(12, 18, 32, 0.85)"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"}},"green-theme":{name:"Green Theme",type:"dark",colors:{primary:"#059669",primaryHover:"#047857",secondary:"#6b7280",background:"#0a1f0a",backgroundSecondary:"#1a2e1a",backgroundTertiary:"#2a3f2a",surface:"#1a2e1a",surfaceSecondary:"#2a3f2a",surfaceElevated:"#3a4f3a",border:"#2a3f2a",borderSecondary:"#3a4f3a",borderFocus:"#10b981",textPrimary:"#f0fdf4",textSecondary:"#dcfce7",textTertiary:"#a7f3d0",textInverse:"#0a1f0a",success:"#22c55e",successHover:"#16a34a",warning:"#fbbf24",warningHover:"#f59e0b",error:"#f87171",errorHover:"#ef4444",info:"#3b82f6",infoHover:"#2563eb",shadow:"rgba(10, 31, 10, 0.5)",shadowHover:"rgba(10, 31, 10, 0.7)",shadowElevated:"rgba(10, 31, 10, 0.9)",gradientPrimary:"linear-gradient(135deg, #059669 0%, #10b981 100%)",gradientSecondary:"linear-gradient(135deg, #1a2e1a 0%, #2a3f2a 100%)",gradientSurface:"linear-gradient(135deg, #0a1f0a 0%, #1a2e1a 100%)",backdrop:"rgba(10, 31, 10, 0.85)"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"}},"purple-theme":{name:"Purple Theme",type:"dark",colors:{primary:"#7c3aed",primaryHover:"#6d28d9",secondary:"#8b5cf6",background:"#1a0b2e",backgroundSecondary:"#2d1b4e",backgroundTertiary:"#3d2a5f",surface:"#2d1b4e",surfaceSecondary:"#3d2a5f",surfaceElevated:"#4d3a6f",border:"#3d2a5f",borderSecondary:"#4d3a6f",borderFocus:"#a855f7",textPrimary:"#faf5ff",textSecondary:"#e9d5ff",textTertiary:"#c4b5fd",textInverse:"#1a0b2e",success:"#10b981",successHover:"#059669",warning:"#fbbf24",warningHover:"#f59e0b",error:"#f87171",errorHover:"#ef4444",info:"#3b82f6",infoHover:"#2563eb",shadow:"rgba(26, 11, 46, 0.5)",shadowHover:"rgba(26, 11, 46, 0.7)",shadowElevated:"rgba(26, 11, 46, 0.9)",gradientPrimary:"linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)",gradientSecondary:"linear-gradient(135deg, #2d1b4e 0%, #3d2a5f 100%)",gradientSurface:"linear-gradient(135deg, #1a0b2e 0%, #2d1b4e 100%)",backdrop:"rgba(26, 11, 46, 0.85)"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"}},"orange-theme":{name:"Orange Theme",type:"dark",colors:{primary:"#ea580c",primaryHover:"#dc2626",secondary:"#fb923c",background:"#1c0f0a",backgroundSecondary:"#2d1b0f",backgroundTertiary:"#3d2a1f",surface:"#2d1b0f",surfaceSecondary:"#3d2a1f",surfaceElevated:"#4d3a2f",border:"#3d2a1f",borderSecondary:"#4d3a2f",borderFocus:"#fb923c",textPrimary:"#fff7ed",textSecondary:"#fed7aa",textTertiary:"#fdba74",textInverse:"#1c0f0a",success:"#10b981",successHover:"#059669",warning:"#fbbf24",warningHover:"#f59e0b",error:"#f87171",errorHover:"#ef4444",info:"#3b82f6",infoHover:"#2563eb",shadow:"rgba(28, 15, 10, 0.5)",shadowHover:"rgba(28, 15, 10, 0.7)",shadowElevated:"rgba(28, 15, 10, 0.9)",gradientPrimary:"linear-gradient(135deg, #ea580c 0%, #fb923c 100%)",gradientSecondary:"linear-gradient(135deg, #2d1b0f 0%, #3d2a1f 100%)",gradientSurface:"linear-gradient(135deg, #1c0f0a 0%, #2d1b0f 100%)",backdrop:"rgba(28, 15, 10, 0.85)"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"}},"dark-colorblind-theme":{name:"Dark Colorblind Beta",type:"dark",colors:{primary:"#ff6b35",primaryHover:"#e55a2b",secondary:"#2ed573",background:"#000000",backgroundSecondary:"#1a1a1a",backgroundTertiary:"#2a2a2a",surface:"#1a1a1a",surfaceSecondary:"#2a2a2a",surfaceElevated:"#404040",border:"#404040",borderSecondary:"#525252",borderFocus:"#ff6b35",textPrimary:"#ffffff",textSecondary:"#f0f0f0",textTertiary:"#b0b0b0",textInverse:"#000000",success:"#2ed573",successHover:"#26d065",warning:"#ffa502",warningHover:"#ff9500",error:"#ff4757",errorHover:"#ff3742",info:"#ff6b35",infoHover:"#e55a2b",shadow:"rgba(0, 0, 0, 0.7)",shadowHover:"rgba(0, 0, 0, 0.8)",shadowElevated:"rgba(0, 0, 0, 0.9)",gradientPrimary:"linear-gradient(135deg, #ff6b35 0%, #2ed573 100%)",gradientSecondary:"linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%)",gradientSurface:"linear-gradient(135deg, #000000 0%, #1a1a1a 100%)",backdrop:"rgba(0, 0, 0, 0.9)",primaryRgb:"255, 107, 53"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"}},"dark-tritanopia-theme":{name:"Dark Tritanopia Beta",type:"dark",colors:{primary:"#ff4757",primaryHover:"#ff3742",secondary:"#ff6b35",background:"#0f0a05",backgroundSecondary:"#1a0f0a",backgroundTertiary:"#2a1f1a",surface:"#1a0f0a",surfaceSecondary:"#2a1f1a",surfaceElevated:"#3a2f2a",border:"#3a2f2a",borderSecondary:"#4a3f3a",borderFocus:"#ff4757",textPrimary:"#ffffff",textSecondary:"#f0e0e0",textTertiary:"#b0a0a0",textInverse:"#0f0a05",success:"#2ed573",successHover:"#26d065",warning:"#ffa502",warningHover:"#ff9500",error:"#ff4757",errorHover:"#ff3742",info:"#ff6b35",infoHover:"#e55a2b",shadow:"rgba(15, 10, 5, 0.7)",shadowHover:"rgba(15, 10, 5, 0.8)",shadowElevated:"rgba(15, 10, 5, 0.9)",gradientPrimary:"linear-gradient(135deg, #ff4757 0%, #ff6b35 100%)",gradientSecondary:"linear-gradient(135deg, #1a0f0a 0%, #2a1f1a 100%)",gradientSurface:"linear-gradient(135deg, #0f0a05 0%, #1a0f0a 100%)",backdrop:"rgba(15, 10, 5, 0.9)",primaryRgb:"255, 71, 87"},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"30px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.75"}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"}}},Pt=e=>zt[e]||zt["dark-default"],Tt=e=>{const n=Pt(e),r=document.documentElement;Object.entries(n.colors).forEach(e=>{let[n,o]=e;r.style.setProperty("--color-".concat(n),o)}),Object.entries(n.typography).forEach(e=>{let[n,o]=e;"object"===typeof o?Object.entries(o).forEach(e=>{let[o,t]=e;r.style.setProperty("--font-".concat(n,"-").concat(o),t)}):r.style.setProperty("--font-".concat(n),o)}),Object.entries(n.spacing).forEach(e=>{let[n,o]=e;r.style.setProperty("--spacing-".concat(n),o)}),Object.entries(n.borderRadius).forEach(e=>{let[n,o]=e;r.style.setProperty("--radius-".concat(n),o)}),document.body.className="theme-".concat(n.type),localStorage.setItem("editor-theme",e)},It=()=>{const e=localStorage.getItem("editor-theme")||"dark-default";return Tt(e),e},Lt={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let At;const Dt=new Uint8Array(16);function Ot(){if(!At&&(At="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!At))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return At(Dt)}const Nt=[];for(let r=0;r<256;++r)Nt.push((r+256).toString(16).slice(1));function Rt(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Nt[e[n+0]]+Nt[e[n+1]]+Nt[e[n+2]]+Nt[e[n+3]]+"-"+Nt[e[n+4]]+Nt[e[n+5]]+"-"+Nt[e[n+6]]+Nt[e[n+7]]+"-"+Nt[e[n+8]]+Nt[e[n+9]]+"-"+Nt[e[n+10]]+Nt[e[n+11]]+Nt[e[n+12]]+Nt[e[n+13]]+Nt[e[n+14]]+Nt[e[n+15]]}const Ft=function(e,n,r){if(Lt.randomUUID&&!n&&!e)return Lt.randomUUID();const o=(e=e||{}).random||(e.rng||Ot)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){r=r||0;for(let e=0;e<16;++e)n[r+e]=o[e];return n}return Rt(o)};var Mt,Ht,Bt,Wt,Vt,Ut,qt,Gt,Yt,$t,Jt,Zt,Kt,Qt,Xt,ea,na,ra,oa,ta,aa,ia,sa,la,ca,da,ua,pa,ha,ga,fa,xa,ma,va,ba,ya,wa,ja,ka;const Sa=Oe.div(Mt||(Mt=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),_a=Oe.div(Ht||(Ht=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  padding: 16px;\n  transition: background-color 0.3s ease;\n"]))),Ca=Oe.h3(Bt||(Bt=t(["\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  color: var(--color-primary);\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: color 0.3s ease, border-color 0.3s ease;\n"]))),Ea=Oe.button(Wt||(Wt=t(["\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  border: none;\n  padding: 6px 12px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: var(--color-primaryHover);\n  }\n"]))),za=Oe.div(Vt||(Vt=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  max-height: 300px;\n  overflow-y: auto;\n"]))),Pa=Oe.div(Ut||(Ut=t(["\n  background-color: var(--color-border);\n  border-radius: 6px;\n  padding: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 2px solid ",";\n  position: relative;\n\n  &:hover {\n    background-color: var(--color-borderSecondary);\n  }\n"])),e=>e.selected?"var(--color-primary)":"transparent"),Ta=Oe.div(qt||(qt=t(["\n  font-weight: bold;\n  color: var(--color-textPrimary);\n  margin-bottom: 4px;\n  transition: color 0.3s ease;\n"]))),Ia=Oe.div(Gt||(Gt=t(["\n  font-size: 11px;\n  color: var(--color-textSecondary);\n  font-family: monospace;\n  transition: color 0.3s ease;\n"]))),La=Oe.div(Yt||(Yt=t(["\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: ",";\n  margin-top: 8px;\n  border: 1px solid var(--color-border);\n  transition: border-color 0.3s ease;\n"])),e=>e.color||"var(--color-primary)"),Aa=Oe.div($t||($t=t(["\n  margin-bottom: 12px;\n"]))),Da=Oe.label(Jt||(Jt=t(["\n  display: block;\n  margin-bottom: 4px;\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  transition: color 0.3s ease;\n"]))),Oa=Oe.input(Zt||(Zt=t(["\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),Na=Oe.input(Kt||(Kt=t(["\n  width: 100%;\n  height: 40px;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),Ra=Oe.div(Qt||(Qt=t(["\n  display: flex;\n  gap: 8px;\n  margin-top: 12px;\n"]))),Fa=Oe.div(Xt||(Xt=t(["\n  margin-top: 16px;\n  padding-top: 16px;\n  border-top: 1px solid var(--color-border);\n  transition: border-color 0.3s ease;\n"]))),Ma=Oe.div(ea||(ea=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n"]))),Ha=Oe.div(na||(na=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  max-height: 200px;\n  overflow-y: auto;\n"]))),Ba=Oe.div(ra||(ra=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  padding: 12px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: var(--color-surfaceElevated);\n    border-color: var(--color-borderSecondary);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadow);\n  }\n"]))),Wa=Oe.div(oa||(oa=t(["\n  width: 40px;\n  height: 40px;\n  background-color: var(--color-border);\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: var(--color-textTertiary);\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  transition: background-color 0.3s ease, color 0.3s ease;\n"])),e=>e.image?"url(".concat(e.image,")"):"none"),Va=Oe.div(ta||(ta=t(["\n  flex: 1;\n"]))),Ua=Oe.div(aa||(aa=t(["\n  font-size: 12px;\n  color: var(--color-textPrimary);\n  font-weight: bold;\n  transition: color 0.3s ease;\n"]))),qa=Oe.div(ia||(ia=t(["\n  font-size: 10px;\n  color: var(--color-textSecondary);\n  font-family: monospace;\n  transition: color 0.3s ease;\n"]))),Ga=Oe.div(sa||(sa=t(["\n  display: flex;\n  gap: 4px;\n"]))),Ya=Oe.button(la||(la=t(["\n  background-color: var(--color-surfaceElevated);\n  color: var(--color-textPrimary);\n  border: 1px solid var(--color-border);\n  padding: 6px 10px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 11px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: var(--color-primary);\n    color: var(--color-textInverse);\n    border-color: var(--color-primary);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 6px var(--color-shadow);\n  }\n\n  &.delete:hover {\n    background-color: var(--color-error);\n    border-color: var(--color-error);\n  }\n"]))),$a=Oe.div(ca||(ca=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n"]))),Ja=Oe.div(da||(da=t(["\n  background-color: var(--color-surface);\n  border-radius: 12px;\n  padding: 24px;\n  max-width: 600px;\n  max-height: 80vh;\n  overflow-y: auto;\n  border: 2px solid var(--color-border);\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),Za=Oe.div(ua||(ua=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 12px;\n  transition: border-color 0.3s ease;\n"]))),Ka=Oe.h3(pa||(pa=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 16px;\n  transition: color 0.3s ease;\n"]))),Qa=Oe.button(ha||(ha=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: 1px solid var(--color-error);\n  padding: 8px 14px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    border-color: var(--color-errorHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"]))),Xa=Oe.div(ga||(ga=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  gap: 12px;\n  margin-bottom: 16px;\n"]))),ei=Oe.div(fa||(fa=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  padding: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 2px solid var(--color-border);\n\n  &:hover {\n    background-color: var(--color-surfaceElevated);\n    border-color: var(--color-primary);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 12px var(--color-shadow);\n  }\n"]))),ni=Oe.div(xa||(xa=t(["\n  width: 100%;\n  height: 80px;\n  background-color: var(--color-background);\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 8px;\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  transition: background-color 0.3s ease;\n"])),e=>e.image?"url(".concat(e.image,")"):"none"),ri=Oe.div(ma||(ma=t(["\n  font-size: 24px;\n  color: var(--color-textTertiary);\n  transition: color 0.3s ease;\n"]))),oi=Oe.div(va||(va=t(["\n  font-size: 11px;\n  color: var(--color-textPrimary);\n  text-align: center;\n  word-break: break-word;\n  line-height: 1.2;\n  transition: color 0.3s ease;\n"]))),ti=Oe.div(ba||(ba=t(["\n  text-align: center;\n  padding: 40px 20px;\n  color: var(--color-textTertiary);\n  transition: color 0.3s ease;\n"]))),ai=Oe.div(ya||(ya=t(["\n  font-size: 48px;\n  margin-bottom: 16px;\n"]))),ii=Oe.div(wa||(wa=t(["\n  font-size: 14px;\n  margin-bottom: 8px;\n"]))),si=Oe.div(ja||(ja=t(["\n  font-size: 12px;\n  color: var(--color-textTertiary);\n  transition: color 0.3s ease;\n"]))),li=Oe.button(ka||(ka=t(["\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 4px;\n  padding: 4px 8px;\n  cursor: pointer;\n  font-size: 10px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n  opacity: 0.8;\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    opacity: 1;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"])));const ci=function(){const{state:e,dispatch:r}=jo(),{showPrompt:o,showAlert:t,showConfirm:a}=Zo(),[i,s]=(0,n.useState)(null),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)([]),g=new Cr,[f,x]=(0,n.useState)({id:"",name:"",color:"#4a9eff",who_color:"#ffffff",what_color:"#ffffff",sprites:[]}),m=(e,n)=>{x(r=>kr(kr({},r),{},{[e]:n}))},v=(n,r)=>{switch(n){case"id":if(r&&!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(r))return"El ID debe comenzar con una letra y solo puede contener letras, n\xfameros y guiones bajos.";if(r&&e.project.characters.find(e=>e.id===r&&e.id!==(null===i||void 0===i?void 0:i.id)))return"Ya existe un personaje con este ID.";break;case"name":if(r&&r.length<2)return"El nombre debe tener al menos 2 caracteres.";if(r&&r.length>50)return"El nombre no puede exceder los 50 caracteres.";break;default:return null}return null},b=async e=>{const n=await o("Nombre del sprite (ej: happy, sad, angry):","","Nombre del Sprite","\ud83c\udfad");if(n&&n.trim())try{const r=(null===i||void 0===i?void 0:i.id)||f.id;if(!r)return void await t("No se puede identificar el personaje. Aseg\xfarate de tener un ID v\xe1lido antes de agregar sprites.","Personaje No Identificado","\u274c");if(n.trim().length<2)return void await t("El nombre del sprite debe tener al menos 2 caracteres.","Nombre Muy Corto","\ud83d\udcdd");if(n.trim().length>30)return void await t("El nombre del sprite no puede exceder los 30 caracteres.","Nombre Muy Largo","\ud83d\udcdd");if(f.sprites.find(e=>e.name.toLowerCase()===n.trim().toLowerCase()))return void await t('Ya existe un sprite con el nombre "'.concat(n.trim(),'".\n\nPor favor, elige un nombre \xfanico para este sprite.'),"Nombre Duplicado","\ud83d\udd04");if(!e.type.startsWith("image/"))return void await t("El archivo seleccionado no es una imagen v\xe1lida.\n\nFormatos soportados: PNG, JPG, JPEG, GIF, WebP","Archivo Inv\xe1lido","\ud83d\uddbc\ufe0f");if(e.size>10485760)return void await t("El archivo es demasiado grande.\n\nTama\xf1o m\xe1ximo permitido: 10MB","Archivo Muy Grande","\ud83d\udccf");console.log("=== SUBIENDO SPRITE ==="),console.log("Archivo:",e.name),console.log("Tipo:",e.type),console.log("Tama\xf1o:",e.size),console.log("Personaje ID:",r),console.log("Selected Character:",i),console.log("Form Data ID:",f.id);const o=await g.uploadFile(e,"characters",r);console.log("Resultado de subida:",o),o&&o.path?(x(e=>kr(kr({},e),{},{sprites:[...e.sprites,{id:Date.now(),name:n.trim(),path:o.path}]})),console.log("Sprite agregado con ruta:",o.path),console.log("\ud83d\udcc1 Sprite guardado en carpeta espec\xedfica del personaje:",r)):(console.error("Error: No se pudo obtener la ruta del archivo subido"),await t("Error al subir el archivo. Int\xe9ntalo de nuevo.","Error de Subida","\u274c"))}catch(r){console.error("Error al subir sprite:",r),await t("Error al subir el archivo: ".concat(r.message),"Error de Subida","\u274c")}},y=(e,n,r)=>{x(o=>kr(kr({},o),{},{sprites:o.sprites.map(o=>o.id===e?kr(kr({},o),{},{[n]:r}):o)}))},w=async(e,n)=>{if(await a('\xbfEst\xe1s seguro de que quieres eliminar el personaje "'.concat(n,'"?\n\n')+"Esto eliminar\xe1:\n\u2022 El personaje y todos sus datos\n\u2022 Todos sus sprites y archivos\n\u2022 Todas las referencias en los scripts\n\u2022 Todos los di\xe1logos asociados\n\nEsta acci\xf3n NO se puede deshacer.","Confirmar Eliminaci\xf3n de Personaje","\ud83d\uddd1\ufe0f"))try{console.log("\ud83d\uddd1\ufe0f Eliminando personaje: ".concat(n," (ID: ").concat(e,")")),await j(e),await k(e),r({type:"DELETE_CHARACTER",payload:e}),(null===i||void 0===i?void 0:i.id)===e&&(s(null),c(!1)),console.log('\u2705 Personaje "'.concat(n,'" eliminado exitosamente')),await t('Personaje "'.concat(n,'" eliminado exitosamente.\n\nSe han limpiado todas las referencias en el proyecto.'),"Eliminaci\xf3n Exitosa","\u2705")}catch(o){console.error("\u274c Error eliminando personaje:",o),await t("Error al eliminar el personaje: ".concat(o.message),"Error de Eliminaci\xf3n","\u274c")}},j=async e=>{try{console.log("\ud83e\uddf9 Eliminando assets del personaje: ".concat(e));const r=await g.getFilesByCharacter(e);console.log("\ud83d\uddd1\ufe0f Eliminando ".concat(r.length," archivos del personaje"));for(const e of r)try{await g.deleteFile(e.id),console.log("\u2705 Archivo eliminado: ".concat(e.name))}catch(n){console.error("\u274c Error eliminando archivo ".concat(e.name,":"),n)}console.log("\u2705 Assets del personaje eliminados")}catch(n){throw console.error("\u274c Error eliminando assets del personaje:",n),n}},k=async n=>{try{console.log("\ud83d\udd0d Eliminando referencias del personaje: ".concat(n));const o=e.project.characters.find(e=>e.id===n);if(!o)return void console.log("Personaje no encontrado, saltando limpieza de referencias");const t=e.project.sceneFiles.map(e=>{const n=e.elements.map(e=>{var n;return"dialogue"===e.type&&e.character===o.id?(console.log("\ud83d\uddd1\ufe0f Eliminando di\xe1logo del personaje: ".concat(null===(n=e.text)||void 0===n?void 0:n.substring(0,50),"...")),null):"scene"===e.type&&e.character===o.id?(console.log("\ud83d\uddd1\ufe0f Eliminando referencia de sprite del personaje"),kr(kr({},e),{},{character:null,showSprite:!1})):e}).filter(e=>null!==e);return kr(kr({},e),{},{elements:n})});r({type:"CLEAN_CHARACTER_REFERENCES",payload:t}),console.log("\u2705 Referencias del personaje eliminadas de los scripts")}catch(o){throw console.error("\u274c Error eliminando referencias del personaje:",o),o}};return(0,Ne.jsxs)(Sa,{children:[(0,Ne.jsxs)(_a,{children:[(0,Ne.jsxs)(Ca,{children:["Personajes",(0,Ne.jsx)(Ea,{onClick:()=>{x({id:"",name:"",color:"#4a9eff",who_color:"#ffffff",what_color:"#ffffff",sprites:[]}),s(null),c(!0)},children:"+ Agregar"})]}),(0,Ne.jsxs)("div",{style:{backgroundColor:"var(--color-backgroundElevated)",padding:"12px",borderRadius:"6px",marginBottom:"16px",border:"1px solid var(--color-border)",fontSize:"12px",color:"var(--color-textSecondary)"},children:["\ud83d\udca1 ",(0,Ne.jsx)("strong",{children:"Tip:"})," Los personajes son elementos fundamentales en tu novela visual. Aqu\xed puedes definir sus nombres, colores de di\xe1logo, sprites, expresiones y mucho m\xe1s.",(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),"\ud83d\udcdd ",(0,Ne.jsx)("strong",{children:"Nombres:"})," Define tanto el nombre interno (para c\xf3digo) como el nombre mostrado.",(0,Ne.jsx)("br",{}),"\ud83c\udfa8 ",(0,Ne.jsx)("strong",{children:"Colores:"})," Asigna colores \xfanicos para identificar f\xe1cilmente los di\xe1logos.",(0,Ne.jsx)("br",{}),"\ud83d\uddbc\ufe0f ",(0,Ne.jsx)("strong",{children:"Sprites:"})," Sube im\xe1genes de los personajes en diferentes poses y expresiones.",(0,Ne.jsx)("br",{}),"\ud83d\udcac ",(0,Ne.jsx)("strong",{children:"Voces:"})," Configura archivos de audio para dar voz a tus personajes."]}),(0,Ne.jsxs)(_a,{style:{marginBottom:"24px",border:"2px solid var(--color-primary)",borderRadius:"8px"},children:[(0,Ne.jsx)(Ca,{style:{color:"var(--color-primary)",fontSize:"16px"},children:"\ud83c\udfae Personaje Principal"}),(0,Ne.jsxs)("div",{style:{backgroundColor:"var(--color-backgroundElevated)",padding:"16px",borderRadius:"6px",marginBottom:"16px",border:"1px solid var(--color-border)"},children:[(0,Ne.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[(0,Ne.jsx)("input",{type:"checkbox",checked:e.project.protagonistConfig.enabled,onChange:e=>{r({type:"TOGGLE_PROTAGONIST"})},style:{transform:"scale(1.2)"}}),(0,Ne.jsx)("label",{style:{fontSize:"14px",fontWeight:"600",color:"var(--color-textPrimary)",cursor:"pointer"},children:"Permitir que el jugador elija el nombre del protagonista"})]}),e.project.protagonistConfig.enabled&&(0,Ne.jsxs)("div",{style:{backgroundColor:"rgba(74, 158, 255, 0.1)",padding:"12px",borderRadius:"6px",border:"1px solid rgba(74, 158, 255, 0.3)"},children:[(0,Ne.jsx)("div",{style:{fontSize:"12px",color:"var(--color-textSecondary)",marginBottom:"8px"},children:(0,Ne.jsx)("strong",{children:"\u2705 Configuraci\xf3n activada:"})}),(0,Ne.jsxs)("ul",{style:{fontSize:"11px",color:"var(--color-textSecondary)",margin:"0",paddingLeft:"16px"},children:[(0,Ne.jsx)("li",{children:'Se crear\xe1 autom\xe1ticamente un personaje "Protagonista"'}),(0,Ne.jsx)("li",{children:"Se generar\xe1 c\xf3digo al inicio del script principal"}),(0,Ne.jsx)("li",{children:"Los jugadores elegir\xe1n su nombre antes de comenzar"}),(0,Ne.jsx)("li",{children:'En el editor aparecer\xe1 como "Protagonista" (profesional)'}),(0,Ne.jsx)("li",{children:"Al exportar se generar\xe1 c\xf3digo para mc_name"})]}),(0,Ne.jsxs)("div",{style:{marginTop:"12px",padding:"8px",backgroundColor:"rgba(74, 158, 255, 0.05)",borderRadius:"4px",border:"1px solid rgba(74, 158, 255, 0.2)"},children:[(0,Ne.jsx)("div",{style:{fontSize:"11px",color:"var(--color-primary)",fontWeight:"600",marginBottom:"4px"},children:"\ud83d\udca1 C\xf3mo usar en di\xe1logos:"}),(0,Ne.jsxs)("div",{style:{fontSize:"10px",color:"var(--color-textSecondary)"},children:["En los di\xe1logos, escribe ",(0,Ne.jsx)("code",{style:{backgroundColor:"rgba(74, 158, 255, 0.1)",padding:"2px 4px",borderRadius:"3px",fontFamily:"monospace"},children:"[mc_name]"})," donde quieras que aparezca el nombre del jugador.",(0,Ne.jsx)("br",{}),(0,Ne.jsx)("strong",{children:"Ejemplo:"}),' "Hola, tu debes ser [mc_name], \xbfno?"']})]}),(0,Ne.jsxs)("div",{style:{marginTop:"12px",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ne.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Ne.jsx)("label",{style:{fontSize:"11px",color:"var(--color-textSecondary)"},children:"Nombre por defecto:"}),(0,Ne.jsx)("input",{type:"text",value:e.project.protagonistConfig.defaultName,onChange:e=>{r({type:"SET_PROTAGONIST_CONFIG",payload:{defaultName:e.target.value}})},style:{padding:"6px 8px",border:"1px solid var(--color-border)",borderRadius:"4px",backgroundColor:"var(--color-surface)",color:"var(--color-textPrimary)",fontSize:"12px",width:"120px"},placeholder:"Jugador"})]}),(0,Ne.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Ne.jsx)("label",{style:{fontSize:"11px",color:"var(--color-textSecondary)"},children:"Texto de solicitud:"}),(0,Ne.jsx)("input",{type:"text",value:e.project.protagonistConfig.promptText,onChange:e=>{r({type:"SET_PROTAGONIST_CONFIG",payload:{promptText:e.target.value}})},style:{padding:"6px 8px",border:"1px solid var(--color-border)",borderRadius:"4px",backgroundColor:"var(--color-surface)",color:"var(--color-textPrimary)",fontSize:"12px",width:"100%"},placeholder:"Por favor, introduce tu nombre:"})]})]})]})]})]}),(0,Ne.jsx)(za,{children:e.project.characters.map(e=>(0,Ne.jsxs)(Pa,{selected:(null===i||void 0===i?void 0:i.id)===e.id,onClick:()=>(e=>{x(e),s(e),c(!0)})(e),style:{border:e.isProtagonist?"2px solid var(--color-primary)":void 0,backgroundColor:e.isProtagonist?"rgba(74, 158, 255, 0.1)":void 0},children:[(0,Ne.jsxs)(Ta,{children:[e.isProtagonist&&"\ud83c\udfae ",e.displayName||e.name,e.isProtagonist&&(0,Ne.jsx)("span",{style:{fontSize:"10px",color:"var(--color-primary)",marginLeft:"8px",fontWeight:"500"},children:"(Protagonista)"})]}),(0,Ne.jsxs)(Ia,{children:["ID: ",e.id,e.isProtagonist&&(0,Ne.jsx)("span",{style:{fontSize:"10px",color:"var(--color-primary)",marginLeft:"8px"},children:"\u2192 mc_name"})]}),(0,Ne.jsx)(La,{color:e.color}),!e.isProtagonist&&(0,Ne.jsx)(li,{onClick:n=>{n.stopPropagation(),w(e.id,e.name)},title:'Eliminar personaje "'.concat(e.name,'"'),children:"\ud83d\uddd1\ufe0f"}),e.isProtagonist&&(0,Ne.jsx)("div",{style:{position:"absolute",top:"8px",right:"8px",fontSize:"12px",color:"var(--color-primary)",fontWeight:"600"},children:"\ud83d\udd12"})]},e.id))})]}),l&&(0,Ne.jsxs)(_a,{children:[(0,Ne.jsx)(Ca,{children:i?"Editar Personaje":"Nuevo Personaje"}),(0,Ne.jsxs)(Aa,{children:[(0,Ne.jsx)(Da,{children:"ID (identificador \xfanico)"}),(0,Ne.jsx)(Oa,{value:f.id,onChange:e=>m("id",e.target.value),placeholder:"ej: alice, bob, narrator",style:{borderColor:v("id",f.id)?"var(--color-error)":"var(--color-border)",backgroundColor:v("id",f.id)?"rgba(255, 107, 107, 0.1)":"var(--color-surface)"}}),v("id",f.id)&&(0,Ne.jsxs)("div",{style:{fontSize:"10px",color:"var(--color-error)",marginTop:"4px",padding:"4px 8px",backgroundColor:"rgba(255, 107, 107, 0.1)",borderRadius:"4px",border:"1px solid rgba(255, 107, 107, 0.3)"},children:["\u26a0\ufe0f ",v("id",f.id)]})]}),(0,Ne.jsxs)(Aa,{children:[(0,Ne.jsx)(Da,{children:"Nombre"}),(0,Ne.jsx)(Oa,{value:f.name,onChange:e=>m("name",e.target.value),placeholder:"Nombre del personaje",style:{borderColor:v("name",f.name)?"var(--color-error)":"var(--color-border)",backgroundColor:v("name",f.name)?"rgba(255, 107, 107, 0.1)":"var(--color-surface)"}}),v("name",f.name)&&(0,Ne.jsxs)("div",{style:{fontSize:"10px",color:"var(--color-error)",marginTop:"4px",padding:"4px 8px",backgroundColor:"rgba(255, 107, 107, 0.1)",borderRadius:"4px",border:"1px solid rgba(255, 107, 107, 0.3)"},children:["\u26a0\ufe0f ",v("name",f.name)]})]}),(0,Ne.jsxs)(Aa,{children:[(0,Ne.jsx)(Da,{children:"Color del nombre"}),(0,Ne.jsx)(Na,{type:"color",value:f.color,onChange:e=>m("color",e.target.value)})]}),(0,Ne.jsxs)(Aa,{children:[(0,Ne.jsx)(Da,{children:"Color del texto (qui\xe9n habla)"}),(0,Ne.jsx)(Na,{type:"color",value:f.who_color,onChange:e=>m("who_color",e.target.value)})]}),(0,Ne.jsxs)(Fa,{children:[(0,Ne.jsxs)(Ma,{children:[(0,Ne.jsx)(Da,{children:"Sprites del Personaje"}),(0,Ne.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Ne.jsx)(Ea,{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!0,e.onchange=e=>{Array.from(e.target.files).forEach(e=>{b(e)})},e.click()},children:"+ Agregar Sprite"}),(0,Ne.jsx)(Ea,{onClick:async()=>{try{const e=await g.getFilesByCategory("characters");console.log("Archivos disponibles para importar:",e);const n=e.filter(e=>e.name.toLowerCase().match(/\.(jpg|jpeg|png|gif|webp)$/));h(n),u(!0)}catch(e){console.error("Error al cargar archivos:",e),await t("Error al cargar archivos del gestor: ".concat(e.message),"Error de Carga","\u274c")}},children:"\ud83d\udcc1 Importar"}),f.sprites.length>0&&(0,Ne.jsx)(li,{onClick:async()=>{if(0===f.sprites.length)return void await t("No hay sprites para eliminar en este personaje.","Sin Sprites","\ud83d\udced");if(await a('\xbfEst\xe1s seguro de que quieres eliminar TODOS los sprites de "'.concat(f.name||"este personaje",'"?\n\n')+"Se eliminar\xe1n ".concat(f.sprites.length," sprite(s).\n\n")+"Esta acci\xf3n NO se puede deshacer.","Confirmar Eliminaci\xf3n Masiva","\ud83d\uddd1\ufe0f"))try{console.log("Eliminando todos los sprites del personaje:",f.name);for(const e of f.sprites)if(e.path){const n=(await g.getFilesByCategory("characters")).find(n=>n.path===e.path);n&&(console.log("Eliminando archivo:",n.name),await g.deleteFile(n.id))}x(e=>kr(kr({},e),{},{sprites:[]})),console.log("Todos los sprites eliminados exitosamente"),await t('Todos los sprites de "'.concat(f.name,'" han sido eliminados exitosamente.'),"Eliminaci\xf3n Exitosa","\u2705")}catch(e){console.error("Error al eliminar sprites:",e),await t("Error al eliminar los sprites: ".concat(e.message),"Error de Eliminaci\xf3n","\u274c")}},children:"\ud83d\uddd1\ufe0f Eliminar Todos"})]})]}),(0,Ne.jsx)(Ha,{children:f.sprites.map(e=>{const n=g.getImageUrl(e.path);return(0,Ne.jsxs)(Ba,{children:[(0,Ne.jsx)(Wa,{image:n||e.path,children:!n&&!e.path&&"\ud83c\udfad"}),(0,Ne.jsxs)(Va,{children:[(0,Ne.jsx)(Ua,{children:e.name}),(0,Ne.jsx)(qa,{children:e.path})]}),(0,Ne.jsxs)(Ga,{children:[(0,Ne.jsx)(Ya,{onClick:async()=>{const n=await o("Nuevo nombre:",e.name,"Editar Nombre","\u270f\ufe0f");n&&y(e.id,"name",n)},children:"\u270f\ufe0f"}),(0,Ne.jsx)(Ya,{onClick:async()=>{const n=await o("Nueva ruta:",e.path,"Editar Ruta","\ud83d\udcc1");n&&y(e.id,"path",n)},children:"\ud83d\udcc1"}),(0,Ne.jsx)(Ya,{className:"delete",onClick:()=>(async e=>{if(await a("\xbfEst\xe1s seguro de que quieres eliminar este sprite?\n\nEsta acci\xf3n no se puede deshacer.","Confirmar Eliminaci\xf3n","\ud83d\uddd1\ufe0f"))try{const n=f.sprites.find(n=>n.id===e);if(n&&(console.log("Eliminando sprite:",n),n.path)){const e=(await g.getFilesByCategory("characters")).find(e=>e.path===n.path);e&&(console.log("Eliminando archivo del FileManager:",e.id),await g.deleteFile(e.id))}x(n=>kr(kr({},n),{},{sprites:n.sprites.filter(n=>n.id!==e)})),console.log("Sprite eliminado exitosamente"),await t("Sprite eliminado exitosamente.","Eliminaci\xf3n Exitosa","\u2705")}catch(n){console.error("Error al eliminar sprite:",n),await t("Error al eliminar el sprite: ".concat(n.message),"Error de Eliminaci\xf3n","\u274c")}})(e.id),children:"\ud83d\uddd1\ufe0f"})]})]},e.id)})})]}),(0,Ne.jsxs)(Ra,{children:[(0,Ne.jsx)(Ea,{onClick:async()=>{if(!f.id||!f.name)return void await t("Los campos ID y nombre son obligatorios para crear un personaje.","Campos Requeridos","\u26a0\ufe0f");if(!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(f.id))return void await t("El ID debe comenzar con una letra y solo puede contener letras, n\xfameros y guiones bajos.\n\nEjemplos v\xe1lidos: alice, bob_123, maria_01","ID Inv\xe1lido","\u274c");e.project.characters.find(e=>e.id===f.id&&e.id!==(null===i||void 0===i?void 0:i.id))?await t('Ya existe un personaje con el ID "'.concat(f.id,'".\n\nPor favor, elige un ID \xfanico para este personaje.'),"ID Duplicado","\ud83d\udd04"):f.name.length<2?await t("El nombre del personaje debe tener al menos 2 caracteres.","Nombre Muy Corto","\ud83d\udcdd"):f.name.length>50?await t("El nombre del personaje no puede exceder los 50 caracteres.","Nombre Muy Largo","\ud83d\udcdd"):(r(i?{type:"UPDATE_CHARACTER",payload:f}:{type:"ADD_CHARACTER",payload:kr(kr({},f),{},{id:f.id||Ft()})}),c(!1),s(null))},disabled:v("id",f.id)||v("name",f.name)||!f.id||!f.name,style:{opacity:v("id",f.id)||v("name",f.name)||!f.id||!f.name?.5:1,cursor:v("id",f.id)||v("name",f.name)||!f.id||!f.name?"not-allowed":"pointer"},children:i?"Actualizar":"Crear"}),(0,Ne.jsx)(Ea,{onClick:()=>c(!1),children:"Cancelar"}),i&&(0,Ne.jsx)(li,{onClick:()=>w(i.id,i.name),children:"Eliminar"})]})]}),d&&(0,Ne.jsx)($a,{onClick:()=>u(!1),children:(0,Ne.jsxs)(Ja,{onClick:e=>e.stopPropagation(),children:[(0,Ne.jsxs)(Za,{children:[(0,Ne.jsx)(Ka,{children:"Seleccionar Sprite del Gestor de Archivos"}),(0,Ne.jsx)(Qa,{onClick:()=>u(!1),children:"\u2715 Cerrar"})]}),p.length>0?(0,Ne.jsx)(Xa,{children:p.map(e=>(0,Ne.jsxs)(ei,{onClick:()=>(async e=>{const n=await o("Nombre del sprite (ej: happy, sad, angry):","","Nombre del Sprite","\ud83c\udfad");if(n&&n.trim())try{const r=(null===i||void 0===i?void 0:i.id)||f.id;if(!r)return void await t("No se puede identificar el personaje. Aseg\xfarate de tener un ID v\xe1lido antes de agregar sprites.","Personaje No Identificado","\u274c");if(n.trim().length<2)return void await t("El nombre del sprite debe tener al menos 2 caracteres.","Nombre Muy Corto","\ud83d\udcdd");if(n.trim().length>30)return void await t("El nombre del sprite no puede exceder los 30 caracteres.","Nombre Muy Largo","\ud83d\udcdd");if(f.sprites.find(e=>e.name.toLowerCase()===n.trim().toLowerCase()))return void await t('Ya existe un sprite con el nombre "'.concat(n.trim(),'".\n\nPor favor, elige un nombre \xfanico para este sprite.'),"Nombre Duplicado","\ud83d\udd04");console.log("=== IMPORTANDO SPRITE DESDE GESTOR ==="),console.log("Archivo:",e.name),console.log("Ruta:",e.path),console.log("Personaje ID:",r),x(r=>kr(kr({},r),{},{sprites:[...r.sprites,{id:Date.now(),name:n.trim(),path:e.path}]})),console.log("Sprite importado exitosamente:",n.trim()),u(!1),await t('Sprite "'.concat(n.trim(),'" importado exitosamente.'),"Importaci\xf3n Exitosa","\u2705")}catch(r){console.error("Error al importar sprite:",r),await t("Error al importar el sprite: ".concat(r.message),"Error de Importaci\xf3n","\u274c")}})(e),children:[(0,Ne.jsx)(ni,{image:e.url,children:!e.url&&(0,Ne.jsx)(ri,{children:"\ud83d\uddbc\ufe0f"})}),(0,Ne.jsx)(oi,{children:e.name})]},e.id))}):(0,Ne.jsxs)(ti,{children:[(0,Ne.jsx)(ai,{children:"\ud83d\udcc1"}),(0,Ne.jsx)(ii,{children:"No hay archivos de imagen disponibles"}),(0,Ne.jsx)(si,{children:"Sube algunas im\xe1genes al gestor de archivos primero"})]})]})}),(0,Ne.jsxs)(_a,{children:[(0,Ne.jsx)(Ca,{children:"\ud83d\udcda Gu\xedas de Personajes"}),(0,Ne.jsxs)("div",{style:{fontSize:"12px",color:"var(--color-textSecondary)"},children:[(0,Ne.jsx)("h4",{style:{color:"var(--color-primary)",marginBottom:"8px"},children:"Buenas Pr\xe1cticas:"}),(0,Ne.jsxs)("ul",{style:{paddingLeft:"16px",margin:"0"},children:[(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:"Usa nombres descriptivos e identificables"}),(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:"Mant\xe9n consistencia en los colores de cada personaje"}),(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:"Organiza sprites por emociones (feliz, triste, enojado, etc.)"}),(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:"Considera el tama\xf1o y resoluci\xf3n de las im\xe1genes"}),(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:"Usa formatos PNG para sprites con transparencia"})]}),(0,Ne.jsx)("h4",{style:{color:"var(--color-primary)",margin:"16px 0 8px 0"},children:"Formatos Recomendados:"}),(0,Ne.jsxs)("ul",{style:{paddingLeft:"16px",margin:"0"},children:[(0,Ne.jsxs)("li",{style:{marginBottom:"4px"},children:[(0,Ne.jsx)("strong",{children:"Sprites:"})," PNG (con transparencia)"]}),(0,Ne.jsxs)("li",{style:{marginBottom:"4px"},children:[(0,Ne.jsx)("strong",{children:"Resoluci\xf3n:"})," 1920x1080 o m\xfaltiplos"]}),(0,Ne.jsxs)("li",{style:{marginBottom:"4px"},children:[(0,Ne.jsx)("strong",{children:"Voces:"})," OGG, WAV, MP3"]}),(0,Ne.jsxs)("li",{style:{marginBottom:"4px"},children:[(0,Ne.jsx)("strong",{children:"Tama\xf1o:"})," M\xe1ximo 10MB por archivo"]})]}),(0,Ne.jsx)("h4",{style:{color:"var(--color-primary)",margin:"16px 0 8px 0"},children:"Organizaci\xf3n:"}),(0,Ne.jsxs)("ul",{style:{paddingLeft:"16px",margin:"0"},children:[(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:"Crea carpetas por personaje en el gestor de archivos"}),(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:'Nombra archivos descriptivamente (ej: "maria_feliz.png")'}),(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:"Mant\xe9n un estilo art\xedstico consistente"}),(0,Ne.jsx)("li",{style:{marginBottom:"4px"},children:"Considera versiones de d\xeda/noche si aplica"})]})]})]}),(0,Ne.jsxs)(_a,{children:[(0,Ne.jsx)(Ca,{children:"\ud83c\udfad Expresiones y Estados"}),(0,Ne.jsxs)("div",{style:{fontSize:"12px",color:"var(--color-textSecondary)"},children:[(0,Ne.jsx)("p",{style:{marginBottom:"12px"},children:"Las expresiones permiten mostrar diferentes emociones de tus personajes:"}),(0,Ne.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("strong",{children:"B\xe1sicas:"}),(0,Ne.jsxs)("ul",{style:{paddingLeft:"16px",margin:"4px 0"},children:[(0,Ne.jsx)("li",{children:"Normal"}),(0,Ne.jsx)("li",{children:"Feliz"}),(0,Ne.jsx)("li",{children:"Triste"}),(0,Ne.jsx)("li",{children:"Enojado"})]})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("strong",{children:"Avanzadas:"}),(0,Ne.jsxs)("ul",{style:{paddingLeft:"16px",margin:"4px 0"},children:[(0,Ne.jsx)("li",{children:"Sorprendido"}),(0,Ne.jsx)("li",{children:"Confundido"}),(0,Ne.jsx)("li",{children:"Pensativo"}),(0,Ne.jsx)("li",{children:"Avergonzado"})]})]})]})]})]})]})};var di,ui,pi,hi,gi,fi,xi,mi,vi,bi,yi,wi,ji,ki,Si,_i,Ci,Ei,zi,Pi,Ti,Ii,Li;const Ai=Oe.div(di||(di=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),Di=Oe.div(ui||(ui=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  padding: 16px;\n  transition: background-color 0.3s ease;\n"]))),Oi=Oe.h3(pi||(pi=t(["\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  color: var(--color-primary);\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: color 0.3s ease, border-color 0.3s ease;\n"]))),Ni=Oe.button(hi||(hi=t(["\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  border: 1px solid var(--color-primary);\n  padding: 8px 14px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-primaryHover);\n    border-color: var(--color-primaryHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"]))),Ri=Oe.div(gi||(gi=t(["\n  margin-bottom: 12px;\n"]))),Fi=Oe.label(fi||(fi=t(["\n  display: block;\n  margin-bottom: 4px;\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  transition: color 0.3s ease;\n"]))),Mi=Oe.input(xi||(xi=t(["\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),Hi=Oe.div(mi||(mi=t(["\n  display: flex;\n  gap: 8px;\n  margin-top: 12px;\n"]))),Bi=Oe(Ni)(vi||(vi=t(["\n  background-color: var(--color-error);\n  border-color: var(--color-error);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    border-color: var(--color-errorHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"]))),Wi=(Oe.div(bi||(bi=t(["\n  margin-bottom: 16px;\n"]))),Oe.div(yi||(yi=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 16px;\n"])))),Vi=Oe.div(wi||(wi=t(["\n  background-color: ",";\n  border-radius: 8px;\n  padding: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 2px solid ",";\n  box-shadow: ",";\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"])),e=>e.selected?"var(--color-primary)":"var(--color-surface)",e=>e.selected?"var(--color-primary)":"var(--color-border)",e=>e.selected?"0 4px 12px var(--color-shadow)":"0 2px 6px var(--color-shadow)",e=>e.selected?"var(--color-primaryHover)":"var(--color-surfaceElevated)",e=>e.selected?"var(--color-primaryHover)":"var(--color-borderSecondary)"),Ui=Oe.div(ji||(ji=t(["\n  font-weight: 700;\n  font-size: 14px;\n  color: ",";\n  margin-bottom: 6px;\n  transition: color 0.3s ease;\n  text-shadow: ",";\n"])),e=>e.selected?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.selected?"0 1px 3px rgba(0, 0, 0, 0.3)":"none"),qi=Oe.div(ki||(ki=t(["\n  font-size: 12px;\n  color: ",";\n  transition: color 0.3s ease;\n  font-weight: 500;\n  margin-bottom: 2px;\n"])),e=>e.selected?"rgba(255, 255, 255, 0.9)":"var(--color-textSecondary)"),Gi=Oe.div(Si||(Si=t(["\n  font-size: 11px;\n  color: ",";\n  margin-top: 4px;\n  transition: color 0.3s ease;\n  font-weight: 500;\n"])),e=>e.selected?"rgba(255, 255, 255, 0.8)":"var(--color-textTertiary)"),Yi=Oe.div(_i||(_i=t(["\n  display: flex;\n  gap: 4px;\n  margin-top: 8px;\n"]))),$i=Oe.button(Ci||(Ci=t(["\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 8px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 11px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:hover:not(:disabled) {\n    background-color: ",";\n    border-color: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active:not(:disabled) {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n\n  &:disabled {\n    background-color: var(--color-surfaceSecondary);\n    border-color: var(--color-border);\n    cursor: not-allowed;\n    opacity: 0.5;\n    transform: none;\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"])),e=>e.danger?"var(--color-error)":"var(--color-surfaceElevated)",e=>e.danger?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.danger?"var(--color-error)":"var(--color-border)",e=>e.danger?"var(--color-errorHover)":"var(--color-borderSecondary)",e=>e.danger?"var(--color-errorHover)":"var(--color-borderSecondary)"),Ji=Oe.div(Ei||(Ei=t(["\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundSecondary) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 20px;\n  margin-top: 20px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: fadeIn 0.5s ease-out;\n"]))),Zi=Oe.h4(zi||(zi=t(["\n  color: var(--color-primary);\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n"]))),Ki=Oe.p(Pi||(Pi=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 0 0 12px 0;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),Qi=Oe.ul(Ti||(Ti=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 12px 0;\n  padding-left: 20px;\n"]))),Xi=Oe.li(Ii||(Ii=t(["\n  margin-bottom: 8px;\n  position: relative;\n  \n  &::marker {\n    color: var(--color-primary);\n  }\n"]))),es=Oe.code(Li||(Li=t(["\n  background: var(--color-surface);\n  color: var(--color-primary);\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-family: 'Courier New', monospace;\n  font-size: 12px;\n  border: 1px solid var(--color-border);\n"])));const ns=function(){const{state:e,dispatch:r}=jo(),{showAlert:o,showConfirm:t}=Zo(),[a,i]=(0,n.useState)(null),[s,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)({id:"",name:"",displayName:""}),u=async n=>{if("script"===n)return void o("No se puede eliminar el archivo principal script.rpy","Archivo Protegido","\ud83d\udd12");const s=e.project.sceneFiles.find(e=>e.id===n);if(!s)return;const c='\xbfEst\xe1s seguro de que quieres eliminar el archivo de escena "'.concat(s.displayName,'"?\n\n')+"Archivo: ".concat(s.name,"\n")+"Elementos: ".concat(s.elements.length,"\n\n")+"Esta acci\xf3n no se puede deshacer.";await t(c,"Confirmar Eliminaci\xf3n","\ud83d\uddd1\ufe0f")&&(r({type:oo,payload:n}),(null===a||void 0===a?void 0:a.id)===n&&(i(null),l(!1)))},p=(e,n)=>{d(r=>kr(kr({},r),{},{[e]:n}))},h=(e,n)=>{window.addElementToScene?window.addElementToScene(n,e):console.warn("La funci\xf3n addElementToScene no est\xe1 disponible. Aseg\xfarate de que ScriptPanel est\xe9 montado.")};return(0,Ne.jsxs)(Ai,{children:[(0,Ne.jsxs)(Di,{children:[(0,Ne.jsxs)(Oi,{children:["Archivos de Escenas",(0,Ne.jsx)(Ni,{onClick:()=>{d({id:"",name:"",displayName:""}),i(null),l(!0)},children:"+ Nuevo Archivo"})]}),(0,Ne.jsx)(Wi,{children:e.project.sceneFiles.map(n=>(0,Ne.jsxs)(Vi,{selected:n.id===e.project.currentSceneFile,onClick:()=>{return e=n.id,void r({type:to,payload:e});var e},children:[(0,Ne.jsxs)(Ui,{selected:n.id===e.project.currentSceneFile,children:[n.displayName,n.isMain&&" (Principal)"]}),(0,Ne.jsxs)(qi,{selected:n.id===e.project.currentSceneFile,children:["Archivo: ",n.name]}),(0,Ne.jsxs)(Gi,{selected:n.id===e.project.currentSceneFile,children:[n.elements.length," elementos"]}),(0,Ne.jsxs)(Yi,{onClick:e=>e.stopPropagation(),children:[(0,Ne.jsx)($i,{onClick:()=>(e=>{d(e),i(e),l(!0)})(n),disabled:n.isMain,children:"\u270f\ufe0f Editar"}),(0,Ne.jsx)($i,{onClick:()=>(n=>{if(n.isMain)return void o("No se puede duplicar el archivo principal script.rpy","Archivo Protegido","\ud83d\udd12");const t="".concat(n.id,"_copy"),a=n.name.replace(".rpy","_copy.rpy"),i="".concat(n.displayName," (Copia)");if(e.project.sceneFiles.find(e=>e.id===t))return void o("Ya existe una copia de este archivo","Copia Existente","\u26a0\ufe0f");const s={id:t,name:a,displayName:i,isMain:!1,elements:[...n.elements]};r({type:no,payload:s})})(n),disabled:n.isMain,children:"\ud83d\udccb Duplicar"}),(0,Ne.jsx)($i,{onClick:()=>h(n.id,"dialogue"),style:{background:"var(--color-success)",borderColor:"var(--color-success)",fontSize:"9px",padding:"4px 6px"},children:"\ud83d\udcac"}),(0,Ne.jsx)($i,{onClick:()=>h(n.id,"narration"),style:{background:"var(--color-info)",borderColor:"var(--color-info)",fontSize:"9px",padding:"4px 6px"},children:"\ud83d\udcdd"}),(0,Ne.jsx)($i,{danger:!0,onClick:()=>u(n.id),disabled:n.isMain,children:"\ud83d\uddd1\ufe0f Eliminar"})]})]},n.id))})]}),s&&(0,Ne.jsxs)(Di,{children:[(0,Ne.jsx)(Oi,{children:a?"Editar Archivo de Escena":"Nuevo Archivo de Escena"}),(0,Ne.jsxs)(Ri,{children:[(0,Ne.jsx)(Fi,{children:"ID (identificador \xfanico)"}),(0,Ne.jsx)(Mi,{value:c.id,onChange:e=>p("id",e.target.value),placeholder:"ej: chapter1, intro, ending"})]}),(0,Ne.jsxs)(Ri,{children:[(0,Ne.jsx)(Fi,{children:"Nombre del archivo"}),(0,Ne.jsx)(Mi,{value:c.name,onChange:e=>p("name",e.target.value),placeholder:"ej: chapter1.rpy"})]}),(0,Ne.jsxs)(Ri,{children:[(0,Ne.jsx)(Fi,{children:"Nombre para mostrar"}),(0,Ne.jsx)(Mi,{value:c.displayName,onChange:e=>p("displayName",e.target.value),placeholder:"ej: Cap\xedtulo 1: El Comienzo"})]}),(0,Ne.jsxs)(Hi,{children:[(0,Ne.jsx)(Ni,{onClick:()=>{if(!c.id||!c.name||!c.displayName)return void o("ID, nombre del archivo y nombre para mostrar son obligatorios","Campos Obligatorios","\u26a0\ufe0f");if(e.project.sceneFiles.find(e=>e.id===c.id&&e.id!==(null===a||void 0===a?void 0:a.id)))return void o("Ya existe un archivo de escena con ese ID","ID Duplicado","\u26a0\ufe0f");const n=kr(kr({},c),{},{name:c.name.endsWith(".rpy")?c.name:"".concat(c.name,".rpy"),isMain:!!a&&a.isMain,elements:a?a.elements:[]});r(a?{type:ro,payload:n}:{type:no,payload:n}),l(!1),i(null)},children:a?"Actualizar":"Crear"}),(0,Ne.jsx)(Ni,{onClick:()=>l(!1),children:"Cancelar"}),a&&!a.isMain&&(0,Ne.jsx)(Bi,{onClick:()=>u(a.id),children:"Eliminar"})]})]}),(0,Ne.jsxs)(Ji,{children:[(0,Ne.jsx)(Zi,{children:"\ud83d\udcc1 Gu\xeda de Archivos de Escena"}),(0,Ne.jsxs)(Ki,{children:["Los ",(0,Ne.jsx)("strong",{children:"archivos de escena"})," te permiten organizar tu novela visual en cap\xedtulos, secciones o escenas separadas. Cada archivo genera un ",(0,Ne.jsx)(es,{children:".rpy"})," independiente en la exportaci\xf3n a Ren'Py."]}),(0,Ne.jsxs)(Qi,{children:[(0,Ne.jsxs)(Xi,{children:[(0,Ne.jsx)("strong",{children:"ID:"})," Identificador \xfanico para jumps y referencias (ej: ",(0,Ne.jsx)(es,{children:"chapter1"}),", ",(0,Ne.jsx)(es,{children:"intro"}),")"]}),(0,Ne.jsxs)(Xi,{children:[(0,Ne.jsx)("strong",{children:"Nombre del archivo:"})," Nombre del archivo .rpy que se generar\xe1 (ej: ",(0,Ne.jsx)(es,{children:"chapter1.rpy"}),")"]}),(0,Ne.jsxs)(Xi,{children:[(0,Ne.jsx)("strong",{children:"Nombre para mostrar:"})," T\xedtulo descriptivo que aparece en el editor (ej: ",(0,Ne.jsx)(es,{children:"Cap\xedtulo 1: El Comienzo"}),")"]})]}),(0,Ne.jsx)(Ki,{children:(0,Ne.jsx)("strong",{children:"\ud83d\udca1 Consejos de Organizaci\xf3n:"})}),(0,Ne.jsxs)(Qi,{children:[(0,Ne.jsxs)(Xi,{children:[(0,Ne.jsx)("strong",{children:"Por cap\xedtulos:"})," ",(0,Ne.jsx)(es,{children:"chapter1"}),", ",(0,Ne.jsx)(es,{children:"chapter2"}),", ",(0,Ne.jsx)(es,{children:"ending"})]}),(0,Ne.jsxs)(Xi,{children:[(0,Ne.jsx)("strong",{children:"Por ubicaciones:"})," ",(0,Ne.jsx)(es,{children:"cocina"}),", ",(0,Ne.jsx)(es,{children:"jardin"}),", ",(0,Ne.jsx)(es,{children:"dormitorio"})]}),(0,Ne.jsxs)(Xi,{children:[(0,Ne.jsx)("strong",{children:"Por eventos:"})," ",(0,Ne.jsx)(es,{children:"intro"}),", ",(0,Ne.jsx)(es,{children:"conflicto"}),", ",(0,Ne.jsx)(es,{children:"final_bueno"})]})]}),(0,Ne.jsxs)(Ki,{children:[(0,Ne.jsx)("strong",{children:"\ud83d\udd04 Sistema de Jumps Autom\xe1ticos:"})," Cuando hagas un jump a un ID de archivo (ej: ",(0,Ne.jsx)(es,{children:"jump cocina"}),"), el sistema autom\xe1ticamente generar\xe1 el label correspondiente en el archivo de destino."]}),(0,Ne.jsxs)(Ki,{children:[(0,Ne.jsx)("strong",{children:"\u2795 Agregar Elementos a Escenas Espec\xedficas:"})," Usa los botones ",(0,Ne.jsx)(es,{children:"\ud83d\udcac"})," (di\xe1logo) y ",(0,Ne.jsx)(es,{children:"\ud83d\udcdd"})," (narraci\xf3n) junto a cada archivo de escena para agregar elementos directamente a esa escena, sin necesidad de cambiar la escena actual."]})]})]})},rs=[{type:"dialogue",label:"Di\xe1logo",icon:"\ud83d\udcac",color:"#4a9eff",description:"Conversaci\xf3n entre personajes",category:"core"},{type:"narration",label:"Narraci\xf3n",icon:"\ud83d\udcd6",color:"#9eff4a",description:"Texto narrativo del juego",category:"core"},{type:"scene",label:"Escena",icon:"\ud83c\udfad",color:"#ff9e4a",description:"Cambio de fondo o escenario",category:"core"},{type:"show_sprite",label:"Mostrar Sprite",icon:"\ud83d\udc64",color:"#ff4a9e",description:"Mostrar un personaje en pantalla",category:"characters"},{type:"hide_sprite",label:"Ocultar Sprite",icon:"\ud83d\udc64\u274c",color:"#ff6b6b",description:"Ocultar un personaje de pantalla",category:"characters"},{type:"choice",label:"Elecci\xf3n",icon:"\u2753",color:"#ff4a9e",description:"Men\xfa de opciones para el jugador",category:"interaction"},{type:"jump",label:"Salto",icon:"\u2197\ufe0f",color:"#9e4aff",description:"Saltar a otra parte del script",category:"flow"},{type:"label",label:"Etiqueta",icon:"\ud83c\udff7\ufe0f",color:"#4aff9e",description:"Punto de referencia en el script",category:"flow"},{type:"condition",label:"Condici\xf3n",icon:"\ud83d\udd00",color:"#ffa726",description:"L\xf3gica condicional del juego",category:"logic"},{type:"variable",label:"Variable",icon:"\ud83d\udcca",color:"#42a5f5",description:"Almacenar y modificar datos",category:"logic"},{type:"flag",label:"Flag",icon:"\ud83d\udea9",color:"#ef5350",description:"Marcador de estado del juego",category:"logic"},{type:"video",label:"Video",icon:"\ud83c\udfac",color:"#ab47bc",description:"Reproducir archivo de video",category:"media"},{type:"movie_sprite",label:"Movie Sprite",icon:"\ud83c\udfad\ud83c\udfac",color:"#26a69a",description:"Sprite animado con video",category:"media"},{type:"movie_cutscene",label:"Movie Cutscene",icon:"\ud83c\udfac\ud83c\udfad",color:"#66bb6a",description:"Escena cinematogr\xe1fica completa",category:"media"},{type:"transition",label:"Transici\xf3n",icon:"\u2728",color:"#ff6b35",description:"Efecto de transici\xf3n entre escenas",category:"effects"},{type:"protagonist_setup",label:"Setup del Protagonista",icon:"\ud83c\udfae",color:"#ff6b6b",description:"Configurar el nombre del protagonista",category:"special"}],os={core:"\ud83c\udfaf Elementos B\xe1sicos",characters:"\ud83d\udc65 Personajes",interaction:"\ud83c\udfae Interacci\xf3n",flow:"\ud83c\udf0a Flujo",logic:"\ud83e\udde0 L\xf3gica",media:"\ud83c\udfac Multimedia",effects:"\u2728 Efectos",special:"\u2b50 Elementos Especiales"},ts=e=>rs.find(n=>n.type===e),as=e=>{const n=ts(e);return n?n.label:e},is=e=>{const n=ts(e);return n?n.icon:"\ud83d\udcc4"},ss=e=>{const n=ts(e);return n?n.color:"#4a9eff"},ls={predefined:[{id:"dissolve",name:"Dissolve",description:"Transici\xf3n de disoluci\xf3n suave (0.5s)",duration:.5,category:"basic",icon:"\ud83c\udf0a"},{id:"fade",name:"Fade",description:"Desvanecimiento a negro y luego a la nueva escena (1.0s)",duration:1,category:"basic",icon:"\ud83c\udf2b\ufe0f"},{id:"pixellate",name:"Pixellate",description:"Efecto de pixelaci\xf3n (1.0s)",duration:1,category:"basic",icon:"\ud83d\udd32"},{id:"move",name:"Move",description:"Mueve im\xe1genes que cambiaron de posici\xf3n (0.5s)",duration:.5,category:"movement",icon:"\u2194\ufe0f"}],moveTransitions:[{id:"moveinright",name:"Move In Right",description:"Entra desde la derecha (0.5s)",duration:.5,category:"move",icon:"\u27a1\ufe0f"},{id:"moveinleft",name:"Move In Left",description:"Entra desde la izquierda (0.5s)",duration:.5,category:"move",icon:"\u2b05\ufe0f"},{id:"moveintop",name:"Move In Top",description:"Entra desde arriba (0.5s)",duration:.5,category:"move",icon:"\u2b06\ufe0f"},{id:"moveinbottom",name:"Move In Bottom",description:"Entra desde abajo (0.5s)",duration:.5,category:"move",icon:"\u2b07\ufe0f"},{id:"moveoutright",name:"Move Out Right",description:"Sale hacia la derecha (0.5s)",duration:.5,category:"move",icon:"\u27a1\ufe0f"},{id:"moveoutleft",name:"Move Out Left",description:"Sale hacia la izquierda (0.5s)",duration:.5,category:"move",icon:"\u2b05\ufe0f"},{id:"moveouttop",name:"Move Out Top",description:"Sale hacia arriba (0.5s)",duration:.5,category:"move",icon:"\u2b06\ufe0f"},{id:"moveoutbottom",name:"Move Out Bottom",description:"Sale hacia abajo (0.5s)",duration:.5,category:"move",icon:"\u2b07\ufe0f"}],easeTransitions:[{id:"ease",name:"Ease",description:"Movimiento suave con curva coseno (0.5s)",duration:.5,category:"ease",icon:"\ud83c\udf0a"},{id:"easeinright",name:"Ease In Right",description:"Entra suavemente desde la derecha (0.5s)",duration:.5,category:"ease",icon:"\u27a1\ufe0f"},{id:"easeinleft",name:"Ease In Left",description:"Entra suavemente desde la izquierda (0.5s)",duration:.5,category:"ease",icon:"\u2b05\ufe0f"},{id:"easeintop",name:"Ease In Top",description:"Entra suavemente desde arriba (0.5s)",duration:.5,category:"ease",icon:"\u2b06\ufe0f"},{id:"easeinbottom",name:"Ease In Bottom",description:"Entra suavemente desde abajo (0.5s)",duration:.5,category:"ease",icon:"\u2b07\ufe0f"},{id:"easeoutright",name:"Ease Out Right",description:"Sale suavemente hacia la derecha (0.5s)",duration:.5,category:"ease",icon:"\u27a1\ufe0f"},{id:"easeoutleft",name:"Ease Out Left",description:"Sale suavemente hacia la izquierda (0.5s)",duration:.5,category:"ease",icon:"\u2b05\ufe0f"},{id:"easeouttop",name:"Ease Out Top",description:"Sale suavemente hacia arriba (0.5s)",duration:.5,category:"ease",icon:"\u2b06\ufe0f"},{id:"easeoutbottom",name:"Ease Out Bottom",description:"Sale suavemente hacia abajo (0.5s)",duration:.5,category:"ease",icon:"\u2b07\ufe0f"}],zoomTransitions:[{id:"zoomin",name:"Zoom In",description:"Zoom hacia adentro (0.5s)",duration:.5,category:"zoom",icon:"\ud83d\udd0d"},{id:"zoomout",name:"Zoom Out",description:"Zoom hacia afuera (0.5s)",duration:.5,category:"zoom",icon:"\ud83d\udd0d"},{id:"zoominout",name:"Zoom In/Out",description:"Zoom in y out simult\xe1neo (0.5s)",duration:.5,category:"zoom",icon:"\ud83d\udd0d"}],effectTransitions:[{id:"vpunch",name:"Vertical Punch",description:"Sacudida vertical (0.25s)",duration:.25,category:"effect",icon:"\ud83d\udca5"},{id:"hpunch",name:"Horizontal Punch",description:"Sacudida horizontal (0.25s)",duration:.25,category:"effect",icon:"\ud83d\udca5"},{id:"blinds",name:"Blinds",description:"Efecto de persianas verticales (1.0s)",duration:1,category:"effect",icon:"\ud83e\ude9f"},{id:"squares",name:"Squares",description:"Efecto de cuadrados (1.0s)",duration:1,category:"effect",icon:"\u2b1c"}],slideTransitions:[{id:"wipeleft",name:"Wipe Left",description:"Barre hacia la izquierda",duration:.5,category:"slide",icon:"\u2b05\ufe0f"},{id:"wiperight",name:"Wipe Right",description:"Barre hacia la derecha",duration:.5,category:"slide",icon:"\u27a1\ufe0f"},{id:"wipeup",name:"Wipe Up",description:"Barre hacia arriba",duration:.5,category:"slide",icon:"\u2b06\ufe0f"},{id:"wipedown",name:"Wipe Down",description:"Barre hacia abajo",duration:.5,category:"slide",icon:"\u2b07\ufe0f"},{id:"slideleft",name:"Slide Left",description:"Desliza hacia la izquierda",duration:.5,category:"slide",icon:"\u2b05\ufe0f"},{id:"slideright",name:"Slide Right",description:"Desliza hacia la derecha",duration:.5,category:"slide",icon:"\u27a1\ufe0f"},{id:"slideup",name:"Slide Up",description:"Desliza hacia arriba",duration:.5,category:"slide",icon:"\u2b06\ufe0f"},{id:"slidedown",name:"Slide Down",description:"Desliza hacia abajo",duration:.5,category:"slide",icon:"\u2b07\ufe0f"}],pushTransitions:[{id:"pushright",name:"Push Right",description:"Empuja hacia la derecha",duration:.5,category:"push",icon:"\u27a1\ufe0f"},{id:"pushleft",name:"Push Left",description:"Empuja hacia la izquierda",duration:.5,category:"push",icon:"\u2b05\ufe0f"},{id:"pushup",name:"Push Up",description:"Empuja hacia arriba",duration:.5,category:"push",icon:"\u2b06\ufe0f"},{id:"pushdown",name:"Push Down",description:"Empuja hacia abajo",duration:.5,category:"push",icon:"\u2b07\ufe0f"}],irisTransitions:[{id:"irisin",name:"Iris In",description:"Iris rectangular hacia adentro",duration:.5,category:"iris",icon:"\ud83d\udc41\ufe0f"},{id:"irisout",name:"Iris Out",description:"Iris rectangular hacia afuera",duration:.5,category:"iris",icon:"\ud83d\udc41\ufe0f"}]},cs={basic:{name:"B\xe1sicas",description:"Transiciones fundamentales",color:"#4a9eff"},movement:{name:"Movimiento",description:"Transiciones de movimiento",color:"#ff6b35"},move:{name:"Move",description:"Entrada y salida de elementos",color:"#2ed573"},ease:{name:"Ease",description:"Movimientos suaves",color:"#ffa502"},zoom:{name:"Zoom",description:"Efectos de zoom",color:"#ff4757"},effect:{name:"Efectos",description:"Efectos especiales",color:"#5f27cd"},slide:{name:"Deslizamiento",description:"Transiciones de deslizamiento",color:"#00d2d3"},push:{name:"Empuje",description:"Transiciones de empuje",color:"#ff9ff3"},iris:{name:"Iris",description:"Efectos de iris",color:"#54a0ff"}},ds=()=>[...ls.predefined,...ls.moveTransitions,...ls.easeTransitions,...ls.zoomTransitions,...ls.effectTransitions,...ls.slideTransitions,...ls.pushTransitions,...ls.irisTransitions],us=()=>{const e={};return Object.keys(cs).forEach(n=>{const r=cs[n],o=(e=>ds().filter(n=>n.category===e))(n);o.length>0&&(e[n]=kr(kr({},r),{},{transitions:o}))}),e},ps=e=>{const n={};if("backgrounds"===e){const e=ds().filter(e=>!e.id.includes("movein")&&!e.id.includes("moveout")&&!e.id.includes("easein")&&!e.id.includes("easeout"));Object.keys(cs).forEach(r=>{const o=cs[r],t=e.filter(e=>e.category===r);t.length>0&&(n[r]=kr(kr({},o),{},{transitions:t}))})}else if("sprites"===e){const e=ds();Object.keys(cs).forEach(r=>{const o=cs[r],t=e.filter(e=>e.category===r);t.length>0&&(n[r]=kr(kr({},o),{},{transitions:t}))})}return n};var hs,gs,fs,xs,ms,vs,bs,ys,ws,js,ks,Ss,_s,Cs,Es,zs,Ps,Ts,Is,Ls,As,Ds,Os,Ns,Rs,Fs,Ms,Hs,Bs,Ws,Vs,Us,qs,Gs,Ys,$s,Js,Zs,Ks,Qs;class Xs extends Error{constructor(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"VALIDATION_ERROR";super(e),this.name="ValidationError",this.field=n,this.code=r}}class el extends Error{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SECURITY_ERROR";super(e),this.name="SecurityError",this.code=n}}const nl=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const o=document.createElement("div");if(o.className="notification notification-".concat(e),o.innerHTML='\n      <div class="notification-content">\n        <span class="notification-icon">'.concat("error"===e?"\u274c":"warning"===e?"\u26a0\ufe0f":"success"===e?"\u2705":"\u2139\ufe0f",'</span>\n        <span class="notification-message">').concat(n,'</span>\n        <button class="notification-close">\xd7</button>\n      </div>\n    '),o.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      z-index: 10000;\n      background: ".concat("error"===e?"#ff4757":"warning"===e?"#ffa502":"success"===e?"#2ed573":"#3742fa",";\n      color: white;\n      padding: 16px 20px;\n      border-radius: 8px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n      max-width: 400px;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 14px;\n      animation: slideIn 0.3s ease-out;\n    "),document.body.appendChild(o),setTimeout(()=>{o.parentNode&&(o.style.animation="slideOut 0.3s ease-in",setTimeout(()=>o.remove(),300))},r),o.querySelector(".notification-close").onclick=()=>{o.style.animation="slideOut 0.3s ease-in",setTimeout(()=>o.remove(),300)},!document.getElementById("notification-styles")){const e=document.createElement("style");e.id="notification-styles",e.textContent="\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n        @keyframes slideOut {\n          from { transform: translateX(0); opacity: 1; }\n          to { transform: translateX(100%); opacity: 0; }\n        }\n        .notification-content {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n        .notification-icon {\n          font-size: 18px;\n        }\n        .notification-message {\n          flex: 1;\n        }\n        .notification-close {\n          background: none;\n          border: none;\n          color: white;\n          font-size: 20px;\n          cursor: pointer;\n          padding: 0;\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      ",document.head.appendChild(e)}},rl=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.error("[ERROR] ".concat(e),kr({timestamp:(new Date).toISOString()},n))},ol=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.warn("[WARN] ".concat(e),kr({timestamp:(new Date).toISOString()},n))},tl=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("[INFO] ".concat(e),kr({timestamp:(new Date).toISOString()},n))},al={sanitizeInput:function(e){if("string"!==typeof e)return e;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text"){case"text":return e.replace(/[<>]/g,"");case"filename":return e.replace(/[^a-zA-Z0-9._-]/g,"_");case"html":return e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");default:return e}},validateElement:e=>{const n=[];try{if(e.text&&e.text.length>1e4)throw new el("Texto demasiado largo. M\xe1ximo 10,000 caracteres.","TEXT_TOO_LONG");switch(e.type){case"dialogue":al.validateDialogue(e,n);break;case"choice":al.validateChoice(e,n);break;case"jump":al.validateJump(e,n);break;case"show_sprite":case"hide_sprite":al.validateSprite(e,n);break;case"scene":al.validateScene(e,n);break;case"label":al.validateLabel(e,n);break;default:al.validateGeneric(e,n)}return{isValid:0===n.length,errors:n}}catch(r){return rl("Error en validaci\xf3n de elemento",{error:r.message,formData:{type:e.type,hasText:!!e.text}}),{isValid:!1,errors:[r.message]}}},validateDialogue:(e,n)=>{e.text&&e.text.trim()||n.push("El texto del di\xe1logo es obligatorio"),e.character||n.push("Debes seleccionar un personaje para el di\xe1logo"),e.text&&e.text.length<2&&n.push("El di\xe1logo debe tener al menos 2 caracteres")},validateChoice:(e,n)=>{e.text&&e.text.trim()||n.push("Debes escribir una pregunta o texto para la elecci\xf3n"),e.choices&&0!==e.choices.length||n.push("Debes agregar al menos una opci\xf3n"),e.choices&&e.choices.forEach((e,r)=>{e.text&&e.text.trim()||n.push("La opci\xf3n ".concat(r+1," no puede estar vac\xeda")),e.jump&&e.jump.trim()||n.push("La opci\xf3n ".concat(r+1," debe tener una etiqueta de destino"))})},validateJump:(e,n)=>{e.jump&&e.jump.trim()||n.push("Debes especificar una etiqueta de destino para el salto"),e.jump&&/[<>"']/.test(e.jump)&&n.push("La etiqueta de destino contiene caracteres no v\xe1lidos")},validateSprite:(e,n)=>{e.character&&e.character.trim()||n.push("Debes seleccionar un personaje para ".concat("show_sprite"===e.type?"mostrar":"ocultar"," el sprite")),"show_sprite"!==e.type||e.spriteName&&e.spriteName.trim()||n.push("Debes seleccionar un sprite para mostrar")},validateScene:(e,n)=>{e.text&&e.text.trim().length<2&&n.push("Si proporcionas un nombre de escena, debe tener al menos 2 caracteres"),e.background&&e.background.trim()||n.push("Debes seleccionar un fondo para la escena")},validateLabel:(e,n)=>{e.label&&e.label.trim()||n.push("El nombre de la etiqueta es obligatorio"),e.label&&!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e.label.trim())&&n.push("El nombre de la etiqueta debe comenzar con letra o gui\xf3n bajo y contener solo letras, n\xfameros y guiones bajos")},validateGeneric:(e,n)=>{!["narration","condition","variable"].includes(e.type)||e.text&&e.text.trim()||n.push("El texto es obligatorio para este tipo de elemento")}},il={handle:function(e){return rl("Error en ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),{error:e.message,stack:e.stack,name:e.name}),e instanceof Xs?(nl("error","Error de validaci\xf3n: ".concat(e.message)),!1):e instanceof el?(nl("error","Error de seguridad: ".concat(e.message)),!1):(nl("error","Error inesperado: ".concat(e.message)),!1)},handleAsync:async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return await e()}catch(r){return il.handle(r,n)}}},sl=Oe.div(hs||(hs=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),ll=Oe.div(gs||(gs=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  padding: 16px;\n  transition: background-color 0.3s ease;\n"]))),cl=Oe.h3(fs||(fs=t(["\n  margin: 0 0 12px 0;\n  font-size: 16px;\n  font-weight: 700;\n  color: #60a5fa;\n  border-bottom: 2px solid #60a5fa;\n  padding-bottom: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: color 0.3s ease, border-color 0.3s ease;\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n"]))),dl=Oe.button(xs||(xs=t(["\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  border: 2px solid var(--color-primary);\n  padding: 10px 18px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n\n  &:hover {\n    background-color: var(--color-primaryHover);\n    border-color: var(--color-primaryHover);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 12px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadow);\n  }\n"]))),ul=Oe.select(ms||(ms=t(["\n  background-color: var(--color-border);\n  color: var(--color-textPrimary);\n  border: 1px solid var(--color-borderSecondary);\n  padding: 6px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  min-width: 150px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n\n  option {\n    background-color: var(--color-border);\n    color: var(--color-textPrimary);\n  }\n"]))),pl=Oe.div(vs||(vs=t(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  margin-top: 8px;\n"]))),hl=(Oe.div(bs||(bs=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  max-height: 400px;\n  overflow-y: auto;\n"]))),Oe.div(ys||(ys=t(["\n  background-color: var(--color-surface);\n  border-radius: 8px;\n  padding: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 2px solid ",";\n  box-shadow: ",";\n\n  &:hover {\n    background-color: var(--color-surfaceElevated);\n    border-color: var(--color-borderSecondary);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 10px var(--color-shadowHover);\n  }\n"])),e=>e.selected?"var(--color-primary)":"var(--color-border)",e=>e.selected?"0 4px 12px var(--color-shadow)":"0 2px 6px var(--color-shadow)")),gl=Oe.div(ws||(ws=t(["\n  font-size: 11px;\n  color: var(--color-primary);\n  text-transform: uppercase;\n  margin-bottom: 6px;\n  transition: color 0.3s ease;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n"]))),fl=Oe.div(js||(js=t(["\n  font-size: 13px;\n  color: var(--color-textPrimary);\n  line-height: 1.5;\n  transition: color 0.3s ease;\n  font-weight: 500;\n"]))),xl=Oe.div(ks||(ks=t(["\n  font-size: 11px;\n  color: var(--color-textSecondary);\n  margin-top: 4px;\n  transition: color 0.3s ease;\n"]))),ml=Oe.div(Ss||(Ss=t(["\n  margin-bottom: 12px;\n"]))),vl=Oe.label(_s||(_s=t(["\n  display: block;\n  margin-bottom: 6px;\n  font-size: 13px;\n  font-weight: 600;\n  color: #ffffff;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7);\n"]))),bl=Oe.input(Cs||(Cs=t(["\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),yl=Oe.select(Es||(Es=t(["\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),wl=Oe.textarea(zs||(zs=t(["\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  min-height: 80px;\n  resize: vertical;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),jl=(Oe.div(Ps||(Ps=t(["\n  display: flex;\n  gap: 8px;\n  margin-top: 12px;\n"]))),Oe(dl)(Ts||(Ts=t(["\n  background-color: var(--color-error);\n  border-color: var(--color-error);\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    border-color: var(--color-errorHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"]))),Oe.div(Is||(Is=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n"])))),kl=Oe.div(Ls||(Ls=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 6px;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n  transition: all 0.3s ease;\n"]))),Sl=Oe.div(As||(As=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n"]))),_l=Oe.div(Ds||(Ds=t(["\n  font-weight: bold;\n  color: var(--color-primary);\n  font-size: 14px;\n  transition: color 0.3s ease;\n"]))),Cl=Oe.button(Os||(Os=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: 1px solid var(--color-error);\n  padding: 6px 10px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 10px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    border-color: var(--color-errorHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"]))),El=Oe(dl)(Ns||(Ns=t(["\n  background-color: var(--color-info);\n  border-color: var(--color-info);\n  margin-top: 8px;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-infoHover);\n    border-color: var(--color-infoHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n\n  &:disabled {\n    background-color: var(--color-border);\n    border-color: var(--color-border);\n    cursor: not-allowed;\n    opacity: 0.5;\n    transform: none;\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"]))),zl=Oe.div(Rs||(Rs=t(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  margin-bottom: 16px;\n"]))),Pl=Oe.button(Fs||(Fs=t(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 14px 18px;\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ",";\n  min-height: 65px;\n  text-align: left;\n  position: relative;\n  overflow: hidden;\n\n  /* Efecto de brillo sutil */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n    transition: left 0.5s;\n  }\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    transform: translateY(-3px) scale(1.03);\n    box-shadow: ",";\n    color: ",";\n    \n    &::before {\n      left: 100%;\n    }\n  }\n\n  &:active {\n    transform: translateY(-1px) scale(1.01);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n\n  /* Estilo para el contenido del bot\xf3n */\n  > div {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n  }\n"])),e=>e.active?"var(--color-primary)":"var(--color-surface)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-primary)":"var(--color-border)",e=>e.active?"0 4px 12px var(--color-shadow)":"0 2px 8px var(--color-shadow)",e=>e.active?"var(--color-primaryHover)":"var(--color-surfaceElevated)",e=>e.active?"var(--color-primaryHover)":"var(--color-borderSecondary)",e=>e.active?"0 8px 20px var(--color-shadowHover)":"0 6px 16px var(--color-shadowHover)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)"),Tl=Oe.div(Ms||(Ms=t(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    border-color: var(--color-primary);\n  }\n"]))),Il=Oe.input(Hs||(Hs=t(["\n  width: 40px;\n  height: 40px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  background: none;\n  \n  &::-webkit-color-swatch-wrapper {\n    padding: 0;\n  }\n  \n  &::-webkit-color-swatch {\n    border: 2px solid var(--color-border);\n    border-radius: 4px;\n  }\n"]))),Ll=Oe.div(Bs||(Bs=t(["\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  border: 2px solid var(--color-border);\n  transition: all 0.3s ease;\n"]))),Al=Oe.span(Ws||(Ws=t(["\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  font-family: monospace;\n  background: var(--color-surfaceSecondary);\n  padding: 4px 8px;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  transition: all 0.3s ease;\n"]))),Dl=De(Vs||(Vs=t(["\n  from {\n    opacity: 0;\n    transform: translateX(100%);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n"]))),Ol=De(Us||(Us=t(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),Nl=Oe.div(qs||(qs=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(4px);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: "," 0.3s ease-out;\n"])),Ol),Rl=Oe.div(Gs||(Gs=t(["\n  background: var(--color-surface);\n  border: 2px solid var(--color-primary);\n  border-radius: 16px;\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow-y: auto;\n  animation: "," 0.4s ease-out;\n  position: relative;\n"])),Dl),Fl=Oe.div(Ys||(Ys=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  padding: 16px 20px;\n  border-radius: 14px 14px 0 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid var(--color-primary);\n"]))),Ml=Oe.h3($s||($s=t(["\n  margin: 0;\n  font-size: 18px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #ffffff;\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);\n"]))),Hl=Oe.button(Js||(Js=t(["\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: scale(1.1);\n  }\n"]))),Bl=Oe.div(Zs||(Zs=t(["\n  padding: 20px;\n  max-height: 60vh;\n  overflow-y: auto;\n"]))),Wl=Oe.div(Ks||(Ks=t(["\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n  background: #2a2a2a;\n  border-radius: 0 0 14px 14px;\n"]))),Vl=Oe.button(Qs||(Qs=t(["\n  padding: 10px 20px;\n  border: 2px solid ",";\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  font-size: 14px;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px ",";\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)":"var(--color-surface)",e=>e.primary?"white":"var(--color-textPrimary)",e=>e.primary?"rgba(74, 158, 255, 0.3)":"rgba(0, 0, 0, 0.1)");const Ul=function(){var e,r,o,t,a,i,s,l,c,d;const{state:u,dispatch:p}=jo(),{showAlert:h,showConfirm:g}=Zo(),[f,x]=(0,n.useState)(null),[m,v]=(0,n.useState)(!1),[b,y]=(0,n.useState)("dialogue"),[w,j]=(0,n.useState)(!1),k=new Cr;(0,n.useEffect)(()=>{(async()=>{const e=["backgrounds","characters","gui","effects","music","sounds","voice","general"].map(async e=>({category:e,files:await k.getFilesByCategory(e)})),n=await Promise.all(e),r={};n.forEach(e=>{r[e.category]=e.files}),E(r)})()},[]);const[S,_]=(0,n.useState)({type:"dialogue",text:"",character:"",background:"",choices:[],label:"",jump:"",sprite:"",showSprite:"",spritePosition:"center",showAsElement:!1,condition:"",variableName:"",variableValue:"",flagName:"",flagValue:!1,file:"",displayType:"fullscreen",delay:"",loops:0,stopMusic:!0,spriteName:"",targetSceneFileId:null,insertIndex:null}),[C,E]=(0,n.useState)({backgrounds:[],characters:[],videos:[],music:[]}),z=rs.reduce((e,n)=>(e[n.category]||(e[n.category]=[]),e[n.category].push(n),e),{});(0,n.useEffect)(()=>{(async()=>{try{const e=new Cr,[n,r,o,t]=await Promise.all([e.getFilesByCategory("backgrounds"),e.getFilesByCategory("characters"),e.getFilesByCategory("videos"),e.getFilesByCategory("music")]);E({backgrounds:n||[],characters:r||[],videos:o||[],music:t||[]})}catch(e){console.error("Error al cargar archivos disponibles:",e)}})()},[]),(0,n.useEffect)(()=>{const e=e=>{"Escape"===e.key&&w&&L()};return w&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[w]);const P=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;y(e);const o=n||u.project.currentSceneFile,t="choice"===e?[{id:Ft(),text:"",jump:"",condition:""}]:[];_({type:e,text:"",character:"",background:"",choices:t,label:"",jump:"",sprite:"",showSprite:"",showAsElement:!1,condition:"",variableName:"",variableValue:"",flagName:"",flagValue:!1,transitionType:"dissolve",transitionDuration:"",backgroundTransition:"",backgroundTransitionDuration:"",spriteTransition:"",spriteTransitionDuration:"",file:"",displayType:"fullscreen",delay:"",loops:0,stopMusic:!0,spriteName:"",targetSceneFileId:o,insertIndex:r}),x(null),j(!0)},T=(e,n)=>{try{let r=n;if("string"===typeof n)switch(e){case"text":case"jump":case"sprite":case"spriteName":default:r=al.sanitizeInput(n,"text");break;case"label":r=al.sanitizeInput(n,"filename")}_(n=>kr(kr({},n),{},{[e]:r}))}catch(r){ol("Error al sanitizar entrada",{field:e,value:n,error:r.message}),_(r=>kr(kr({},r),{},{[e]:n}))}},I=async(e,n,r)=>{try{const o=new Cr,t=await o.uploadFile(e,n);t&&t.path?(console.log("Archivo subido exitosamente:",t.path),r(t.path)):(console.error("Error al subir archivo: No se recibi\xf3 respuesta v\xe1lida"),await h("Error al subir el archivo: No se recibi\xf3 respuesta v\xe1lida","Error de Subida","\u274c"))}catch(o){console.error("Error al subir archivo:",o),await h("Error al subir el archivo: "+o.message,"Error de Subida","\u274c")}},L=()=>{j(!1),x(null),y(""),_({type:"",text:"",character:"",background:"",choices:[],label:"",jump:"",sprite:"",showSprite:"",hideSprite:"",condition:"",variable:"",value:"",operator:"equals",file:"",displayType:"fullscreen",delay:"",loops:0,stopMusic:!0,spriteName:"",targetSceneFileId:null,insertIndex:null})},A=function(e,n){P(e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)},D=function(e,n){const r=new CustomEvent("openSidebarForElementCreation",{detail:{type:e,sceneFileId:n,insertIndex:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}});window.dispatchEvent(r),document.dispatchEvent(r),console.log("ScriptPanel: Disparando evento para abrir sidebar:",r.detail)};(0,n.useEffect)(()=>(window.addElementToScene=A,window.addElementToSceneWithInsertion=D,()=>{delete window.addElementToScene,delete window.addElementToSceneWithInsertion}),[]);const O=(e,n,r)=>{_(o=>kr(kr({},o),{},{choices:o.choices.map(o=>o.id===e?kr(kr({},o),{},{[n]:r}):o)}))},N=(0,n.useCallback)(e=>{var n,r;if(!ts(e.type))return e.text||"Sin contenido";switch(e.type){case"dialogue":const o=u.project.characters.find(n=>n.id===e.character),t=e.showSprite?" (".concat(e.showSprite,")"):"";return"".concat((null===o||void 0===o?void 0:o.name)||e.character).concat(t,": ").concat(e.text);case"narration":return e.text;case"scene":const a=e.backgroundTransition?" (transici\xf3n: ".concat(e.backgroundTransition,")"):"";return"Cambio de escena: ".concat(e.background||"Sin fondo").concat(a);case"show_sprite":const i=u.project.characters.find(n=>n.id===e.character),s=e.spriteTransition?" (transici\xf3n: ".concat(e.spriteTransition,")"):"",l=e.spritePosition?" en ".concat(e.spritePosition):"";return"Mostrar sprite: ".concat((null===i||void 0===i?void 0:i.name)||e.character," - ").concat(e.spriteName||"Sprite por defecto").concat(l).concat(s);case"hide_sprite":const c=u.project.characters.find(n=>n.id===e.character);return"Ocultar sprite: ".concat((null===c||void 0===c?void 0:c.name)||e.character);case"choice":const d=e.text?e.text.substring(0,30)+(e.text.length>30?"...":""):"Sin pregunta",p=(null===(n=e.choices)||void 0===n?void 0:n.filter(e=>e.condition).length)||0,h=p>0?" (".concat(p," con condiciones)"):"";return'Elecci\xf3n: "'.concat(d,'" (').concat((null===(r=e.choices)||void 0===r?void 0:r.length)||0," opciones").concat(h,")");case"jump":return"Salto a: ".concat(e.jump);case"label":return"Etiqueta: ".concat(e.label);case"condition":return"Si ".concat(e.condition||"condici\xf3n",": ").concat(e.text||"Sin contenido");case"variable":return"Variable ".concat(e.variableName||"sin_nombre"," = ").concat(e.variableValue||"valor");case"flag":return"Flag ".concat(e.flagName||"sin_nombre",": ").concat(e.flagValue?"Activado":"Desactivado");case"video":const g="fullscreen"===e.displayType?"Pantalla completa":"Displayable";return"Video: ".concat(e.file?e.file.split("/").pop():"Sin archivo"," (").concat(g,")");case"movie_sprite":return"Movie Sprite: ".concat(e.spriteName||"sin_nombre"," - ").concat(e.file?e.file.split("/").pop():"Sin archivo");case"movie_cutscene":const f=void 0!==e.loops?" (".concat(e.loops," loops)"):"";return"Movie Cutscene: ".concat(e.file?e.file.split("/").pop():"Sin archivo").concat(f);case"transition":const x=e.transitionDuration?" (".concat(e.transitionDuration,"s)"):"",m=ds().find(n=>n.id===e.transitionType),v=m?m.name:e.transitionType;return"Transici\xf3n: ".concat(v).concat(x);default:return e.text||"Sin contenido"}},[u.project.characters]);return(0,Ne.jsxs)(sl,{children:[(0,Ne.jsxs)(ll,{children:[(0,Ne.jsx)(cl,{children:"Elementos del Script"}),Object.entries(z).map(e=>{let[n,r]=e;return(0,Ne.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ne.jsx)("h4",{style:{color:"var(--color-textPrimary)",fontSize:"13px",fontWeight:"600",margin:"0 0 12px 0",padding:"8px 12px",background:"var(--color-backgroundSecondary)",borderRadius:"8px",border:"1px solid var(--color-border)"},children:os[n]}),(0,Ne.jsx)(zl,{children:r.map(e=>(0,Ne.jsxs)(Pl,{active:b===e.type,onClick:()=>P(e.type),title:"".concat(e.label," - ").concat(e.description),style:{borderLeft:"4px solid ".concat(e.color),background:b===e.type?"linear-gradient(135deg, ".concat(e.color,"20 0%, ").concat(e.color,"10 100%)"):"var(--color-surfaceSecondary)",transition:"all 0.3s ease"},children:[(0,Ne.jsx)("span",{style:{fontSize:"16px"},children:e.icon}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{style:{fontWeight:"600",fontSize:"12px"},children:e.label}),(0,Ne.jsx)("div",{style:{fontSize:"10px",opacity:.7,marginTop:"2px"},children:e.description})]})]},e.type))})]},n)}),(0,Ne.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid var(--color-border)",borderRadius:"4px",padding:"8px",backgroundColor:"var(--color-background)"},children:(0,n.useMemo)(()=>{const e=u.project.sceneFiles.find(e=>e.id===u.project.currentSceneFile);if(console.log("ScriptPanel - currentSceneFile:",e),console.log("ScriptPanel - currentSceneFileId:",u.project.currentSceneFile),console.log("ScriptPanel - sceneFiles:",u.project.sceneFiles),!e)return(0,Ne.jsx)("div",{style:{color:"var(--color-textTertiary)",padding:"20px",textAlign:"center"},children:"No hay archivo de escena seleccionado"});if(console.log("ScriptPanel - elements:",e.elements),console.log("ScriptPanel - elements length:",e.elements?e.elements.length:"undefined"),console.log("ScriptPanel - elements type:",typeof e.elements),!e.elements||!Array.isArray(e.elements))return console.log("ScriptPanel - elements no es un array v\xe1lido:",e.elements),(0,Ne.jsx)("div",{style:{color:"var(--color-textTertiary)",padding:"20px",textAlign:"center"},children:"Error: Los elementos no est\xe1n cargados correctamente"});const n=e.elements.filter(e=>!("scene"===e.type&&!e.showAsElement));return 0===n.length?(0,Ne.jsx)("div",{style:{color:"var(--color-textTertiary)",padding:"20px",textAlign:"center"},children:"No hay elementos en este archivo"}):n.map((e,n)=>{const r=N(e);return(0,Ne.jsxs)(hl,{onClick:()=>(e=>{const n={type:e.type,text:e.text||"",character:"dialogue"===e.type&&e.character||"",background:"scene"===e.type&&e.background||"",choices:"choice"===e.type&&e.choices||[],label:"label"===e.type&&e.label||"",jump:"jump"===e.type&&e.jump||"",spriteName:("show_sprite"===e.type||"hide_sprite"===e.type)&&e.spriteName||"",showSprite:"dialogue"===e.type&&e.showSprite||"",spritePosition:("dialogue"===e.type||"show_sprite"===e.type)&&e.spritePosition||"center",showAsElement:"scene"===e.type&&e.showAsElement||!1,condition:"condition"===e.type&&e.condition||"",variableName:"variable"===e.type&&e.variableName||"",variableValue:"variable"===e.type&&e.variableValue||"",flagName:"flag"===e.type&&e.flagName||"",flagValue:"flag"===e.type&&e.flagValue||!1,transitionType:"transition"===e.type&&e.transitionType||"dissolve",transitionDuration:"transition"===e.type&&e.transitionDuration||"",backgroundTransition:"scene"===e.type&&e.backgroundTransition||"",backgroundTransitionDuration:"scene"===e.type&&e.backgroundTransitionDuration||"",spriteTransition:("show_sprite"===e.type||"dialogue"===e.type)&&e.spriteTransition||"",spriteTransitionDuration:("show_sprite"===e.type||"dialogue"===e.type)&&e.spriteTransitionDuration||"",file:("video"===e.type||"movie_sprite"===e.type||"movie_cutscene"===e.type)&&e.file||"",displayType:"video"===e.type&&e.displayType||"fullscreen",delay:("video"===e.type||"movie_cutscene"===e.type)&&e.delay||"",loops:("video"===e.type||"movie_cutscene"===e.type)&&e.loops||0,stopMusic:"video"!==e.type&&"movie_cutscene"!==e.type||void 0===e.stopMusic||e.stopMusic,spriteName:"movie_sprite"===e.type&&e.spriteName||""};_(n),y(e.type),x(e),v(!0)})(e),children:[(0,Ne.jsx)(gl,{children:e.type}),(0,Ne.jsx)(fl,{children:r}),e.character&&(0,Ne.jsxs)(xl,{children:["Personaje: ",e.character]})]},e.id)})},[u.project.sceneFiles,u.project.currentSceneFile,N])})]}),w&&(0,Ne.jsx)(Nl,{onClick:L,children:(0,Ne.jsxs)(Rl,{onClick:e=>e.stopPropagation(),children:[(0,Ne.jsxs)(Fl,{children:[(0,Ne.jsxs)(Ml,{children:[null===(e=ts(b))||void 0===e?void 0:e.icon," ",f?"Editar Elemento":"Nuevo Elemento",!f&&S.targetSceneFileId&&S.targetSceneFileId!==u.project.currentSceneFile&&(0,Ne.jsxs)("span",{style:{fontSize:"12px",fontWeight:"400",opacity:.8,marginLeft:"8px"},children:["(en ",(null===(r=u.project.sceneFiles.find(e=>e.id===S.targetSceneFileId))||void 0===r?void 0:r.name)||"Escena",")"]})]}),(0,Ne.jsx)(Hl,{onClick:L,children:"\xd7"})]}),(0,Ne.jsxs)(Bl,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Tipo de elemento"}),(0,Ne.jsx)(yl,{value:b,onChange:e=>y(e.target.value),children:rs.filter(e=>{var n;return"protagonist_setup"!==e.type||(null===(n=u.project.protagonistConfig)||void 0===n?void 0:n.enabled)}).map(e=>(0,Ne.jsxs)("option",{value:e.type,children:[e.icon," ",e.label]},e.type))})]}),"dialogue"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Personaje"}),(0,Ne.jsxs)(yl,{value:S.character,onChange:e=>T("character",e.target.value),children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar personaje"}),u.project.characters.map(e=>(0,Ne.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),S.character&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Sprite a mostrar"}),(0,Ne.jsxs)(yl,{value:S.showSprite,onChange:e=>T("showSprite",e.target.value),children:[(0,Ne.jsx)("option",{value:"",children:"Sin sprite"}),null===(o=u.project.characters.find(e=>e.id===S.character))||void 0===o||null===(t=o.sprites)||void 0===t?void 0:t.map(e=>(0,Ne.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),S.showSprite&&(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Posici\xf3n del sprite"}),(0,Ne.jsxs)(yl,{value:S.spritePosition,onChange:e=>T("spritePosition",e.target.value),children:[(0,Ne.jsx)("option",{value:"left",children:"\u2b05\ufe0f Izquierda"}),(0,Ne.jsx)("option",{value:"center",children:"\u2b06\ufe0f Centro"}),(0,Ne.jsx)("option",{value:"right",children:"\u27a1\ufe0f Derecha"})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Posici\xf3n donde aparecer\xe1 el sprite en la pantalla"})]})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Texto del di\xe1logo"}),(0,Ne.jsx)(wl,{value:S.text,onChange:e=>T("text",e.target.value),placeholder:"Escribe el di\xe1logo aqu\xed..."})]})]}),"narration"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Texto de narraci\xf3n"}),(0,Ne.jsx)(wl,{value:S.text,onChange:e=>T("text",e.target.value),placeholder:"Escribe la narraci\xf3n aqu\xed..."})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Tama\xf1o del texto"}),(0,Ne.jsxs)(yl,{value:S.fontSize||"medium",onChange:e=>T("fontSize",e.target.value),children:[(0,Ne.jsx)("option",{value:"small",children:"Peque\xf1o (12px)"}),(0,Ne.jsx)("option",{value:"medium",children:"Mediano (16px)"}),(0,Ne.jsx)("option",{value:"large",children:"Grande (20px)"}),(0,Ne.jsx)("option",{value:"xlarge",children:"Muy Grande (24px)"})]})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Color del texto"}),(0,Ne.jsxs)(Tl,{children:[(0,Ne.jsx)(Il,{type:"color",value:S.textColor||"#ffffff",onChange:e=>T("textColor",e.target.value)}),(0,Ne.jsx)(Ll,{style:{backgroundColor:S.textColor||"#ffffff"}}),(0,Ne.jsx)(Al,{children:S.textColor||"#ffffff"})]})]})]}),"scene"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Fondo de escena"}),(0,Ne.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Ne.jsx)(bl,{value:S.background,onChange:e=>T("background",e.target.value),placeholder:"images/backgrounds/school.jpg",style:{flex:1}}),(0,Ne.jsx)(dl,{type:"button",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const n=e.target.files[0];n&&I(n,"backgrounds",e=>{_(n=>kr(kr({},n),{},{background:e}))})},e.click()},style:{padding:"8px 12px",fontSize:"12px"},children:"\ud83d\udcc1"})]}),C.backgrounds.length>0&&(0,Ne.jsxs)(pl,{children:[(0,Ne.jsx)("span",{style:{fontSize:"12px",color:"var(--color-textSecondary)"},children:"O seleccionar:"}),(0,Ne.jsxs)(ul,{value:"",onChange:e=>{e.target.value&&_(n=>kr(kr({},n),{},{background:e.target.value}))},children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar fondo..."}),C.backgrounds.map((e,n)=>(0,Ne.jsx)("option",{value:e.path,children:e.name},"bg-".concat(e.path,"-").concat(n)))]})]}),(0,Ne.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px",color:"var(--color-textSecondary)"},children:["Fondos disponibles: ",(null===(a=C.backgrounds)||void 0===a?void 0:a.length)||0]})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Transici\xf3n del fondo (opcional)"}),(0,Ne.jsxs)(yl,{value:S.backgroundTransition||"",onChange:e=>T("backgroundTransition",e.target.value),children:[(0,Ne.jsx)("option",{value:"",children:"Sin transici\xf3n"}),Object.entries(ps("backgrounds")).map(e=>{let[n,r]=e;return(0,Ne.jsx)("optgroup",{label:r.name,children:r.transitions.map(e=>(0,Ne.jsxs)("option",{value:e.id,children:[e.icon," ",e.name," (",e.duration,"s)"]},e.id))},n)})]}),S.backgroundTransition&&(0,Ne.jsx)(bl,{type:"number",step:"0.1",min:"0.1",max:"10",value:S.backgroundTransitionDuration||"",onChange:e=>T("backgroundTransitionDuration",e.target.value),placeholder:"Duraci\xf3n personalizada (opcional)",style:{marginTop:"8px"}}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Efecto de transici\xf3n al cambiar el fondo de escena"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("input",{type:"checkbox",id:"showAsElement",checked:S.showAsElement,onChange:e=>T("showAsElement",e.target.checked),style:{margin:0}}),(0,Ne.jsx)(vl,{htmlFor:"showAsElement",style:{margin:0,fontSize:"12px"},children:"Mostrar como elemento en el script"})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Si est\xe1 desmarcado, el fondo se aplicar\xe1 autom\xe1ticamente sin aparecer como elemento (como en Ren'Py)"})]})]}),"transition"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Tipo de transici\xf3n"}),(0,Ne.jsx)(yl,{value:S.transitionType||"dissolve",onChange:e=>T("transitionType",e.target.value),children:Object.entries(us()).map(e=>{let[n,r]=e;return(0,Ne.jsx)("optgroup",{label:r.name,children:r.transitions.map(e=>(0,Ne.jsxs)("option",{value:e.id,children:[e.icon," ",e.name," (",e.duration,"s)"]},e.id))},n)})}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:null===(i=ds().find(e=>e.id===(S.transitionType||"dissolve")))||void 0===i?void 0:i.description})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Duraci\xf3n personalizada (opcional)"}),(0,Ne.jsx)(bl,{type:"number",step:"0.1",min:"0.1",max:"10",value:S.transitionDuration||"",onChange:e=>T("transitionDuration",e.target.value),placeholder:"Dejar vac\xedo para usar duraci\xf3n por defecto"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Duraci\xf3n en segundos. Si se deja vac\xedo, se usar\xe1 la duraci\xf3n por defecto de la transici\xf3n."})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("input",{type:"checkbox",id:"showAsElement",checked:S.showAsElement,onChange:e=>T("showAsElement",e.target.checked),style:{margin:0}}),(0,Ne.jsx)(vl,{htmlFor:"showAsElement",style:{margin:0,fontSize:"12px"},children:"Mostrar como elemento en el script"})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Si est\xe1 desmarcado, la transici\xf3n se aplicar\xe1 autom\xe1ticamente sin aparecer como elemento"})]})]}),"protagonist_setup"===b&&(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)(ml,{children:(0,Ne.jsxs)("div",{style:{padding:"12px",backgroundColor:"rgba(255, 107, 107, 0.1)",borderRadius:"6px",border:"1px solid rgba(255, 107, 107, 0.3)"},children:[(0,Ne.jsx)("div",{style:{fontSize:"12px",color:"var(--color-primary)",fontWeight:"600",marginBottom:"8px"},children:"\ud83c\udfae Setup del Protagonista"}),(0,Ne.jsx)("div",{style:{fontSize:"11px",color:"var(--color-textSecondary)",marginBottom:"8px"},children:"Este elemento configurar\xe1 el nombre del protagonista cuando el jugador llegue a este punto de la historia."}),(0,Ne.jsxs)("div",{style:{fontSize:"10px",color:"var(--color-textTertiary)"},children:[(0,Ne.jsx)("strong",{children:"Configuraci\xf3n actual:"}),(0,Ne.jsx)("br",{}),"\u2022 Nombre por defecto: ",(null===(s=u.project.protagonistConfig)||void 0===s?void 0:s.defaultName)||"Jugador",(0,Ne.jsx)("br",{}),"\u2022 Texto de solicitud: ",(null===(l=u.project.protagonistConfig)||void 0===l?void 0:l.promptText)||"Por favor, introduce tu nombre:"]})]})})}),"jump"===b&&(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Etiqueta de destino"}),(0,Ne.jsx)(bl,{value:S.jump,onChange:e=>T("jump",e.target.value),placeholder:"nombre_etiqueta"})]}),"label"===b&&(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Nombre de la etiqueta"}),(0,Ne.jsx)(bl,{value:S.label,onChange:e=>T("label",e.target.value),placeholder:"nombre_etiqueta"})]}),"condition"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Condici\xf3n"}),(0,Ne.jsx)(bl,{value:S.condition,onChange:e=>T("condition",e.target.value),placeholder:"money >= 100, love_points > 5, flag_visited_school"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Condici\xf3n que se evaluar\xe1 (ej: money >= 100, love_points > 5)"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Contenido condicional"}),(0,Ne.jsx)(wl,{value:S.text,onChange:e=>T("text",e.target.value),placeholder:"Contenido que se mostrar\xe1 si la condici\xf3n es verdadera..."}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Este contenido se ejecutar\xe1 solo si la condici\xf3n es verdadera"})]})]}),"variable"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Nombre de la variable"}),(0,Ne.jsx)(bl,{value:S.variableName,onChange:e=>T("variableName",e.target.value),placeholder:"money, love_points, health"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Nombre de la variable (sin espacios, usar guiones bajos)"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Valor de la variable"}),(0,Ne.jsx)(bl,{value:S.variableValue,onChange:e=>T("variableValue",e.target.value),placeholder:"100, 5, true, 'texto'"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Valor inicial o nuevo valor para la variable"})]})]}),"flag"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Nombre del flag"}),(0,Ne.jsx)(bl,{value:S.flagName,onChange:e=>T("flagName",e.target.value),placeholder:"visited_school, met_character, completed_quest"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Nombre del flag (sin espacios, usar guiones bajos)"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Estado del flag"}),(0,Ne.jsxs)(yl,{value:S.flagValue?"true":"false",onChange:e=>T("flagValue","true"===e.target.value),children:[(0,Ne.jsx)("option",{value:"true",children:"Activado (True)"}),(0,Ne.jsx)("option",{value:"false",children:"Desactivado (False)"})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Estado del flag: activado o desactivado"})]})]}),"video"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Archivo de video"}),(0,Ne.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Ne.jsx)(bl,{value:S.file,onChange:e=>T("file",e.target.value),placeholder:"videos/cutscene.webm",style:{flex:1}}),(0,Ne.jsx)(dl,{type:"button",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="video/*",e.onchange=e=>{const n=e.target.files[0];n&&I(n,"videos",e=>{_(n=>kr(kr({},n),{},{file:e}))})},e.click()},style:{padding:"8px 12px"},children:"\ud83d\udcc1"})]}),C.videos.length>0&&(0,Ne.jsxs)(pl,{children:[(0,Ne.jsx)("span",{style:{fontSize:"12px",color:"var(--color-textSecondary)"},children:"O seleccionar:"}),(0,Ne.jsxs)(ul,{value:"",onChange:e=>{e.target.value&&_(n=>kr(kr({},n),{},{file:e.target.value}))},children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar video..."}),C.videos.map((e,n)=>(0,Ne.jsx)("option",{value:e.path,children:e.name},"video-".concat(e.path,"-").concat(n)))]})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Ruta al archivo de video (WebM, OGV, AVI, MP4)"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Tipo de visualizaci\xf3n"}),(0,Ne.jsxs)(yl,{value:S.displayType,onChange:e=>T("displayType",e.target.value),children:[(0,Ne.jsx)("option",{value:"fullscreen",children:"Pantalla completa (Movie Cutscene)"}),(0,Ne.jsx)("option",{value:"displayable",children:"Como displayable"})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"C\xf3mo se mostrar\xe1 el video en la escena"})]}),"fullscreen"===S.displayType&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Duraci\xf3n (segundos)"}),(0,Ne.jsx)(bl,{type:"number",value:S.delay,onChange:e=>T("delay",e.target.value),placeholder:"10"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Duraci\xf3n en segundos (dejar vac\xedo para duraci\xf3n autom\xe1tica)"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Repeticiones"}),(0,Ne.jsx)(bl,{type:"number",value:S.loops,onChange:e=>T("loops",parseInt(e.target.value)||0),placeholder:"0",min:"0"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"N\xfamero de repeticiones adicionales (0 = no repetir)"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Detener m\xfasica"}),(0,Ne.jsxs)(yl,{value:S.stopMusic,onChange:e=>T("stopMusic","true"===e.target.value),children:[(0,Ne.jsx)("option",{value:"true",children:"S\xed"}),(0,Ne.jsx)("option",{value:"false",children:"No"})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Si se debe detener la m\xfasica de fondo durante el video"})]})]})]}),"movie_sprite"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Archivo de video"}),(0,Ne.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Ne.jsx)(bl,{value:S.file,onChange:e=>T("file",e.target.value),placeholder:"videos/character_animation.webm",style:{flex:1}}),(0,Ne.jsx)(dl,{type:"button",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="video/*",e.onchange=e=>{const n=e.target.files[0];n&&I(n,"videos",e=>{_(n=>kr(kr({},n),{},{file:e}))})},e.click()},style:{padding:"8px 12px"},children:"\ud83d\udcc1"})]}),C.videos.length>0&&(0,Ne.jsxs)(pl,{children:[(0,Ne.jsx)("span",{style:{fontSize:"12px",color:"var(--color-textSecondary)"},children:"O seleccionar:"}),(0,Ne.jsxs)(ul,{value:"",onChange:e=>{e.target.value&&_(n=>kr(kr({},n),{},{file:e.target.value}))},children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar video..."}),C.videos.map((e,n)=>(0,Ne.jsx)("option",{value:e.path,children:e.name},"video-".concat(e.path,"-").concat(n)))]})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Ruta al archivo de video para el sprite animado"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Nombre del sprite"}),(0,Ne.jsx)(bl,{value:S.spriteName,onChange:e=>T("spriteName",e.target.value),placeholder:"eileen_animated"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Nombre \xfanico para el movie sprite (sin espacios)"})]})]}),"movie_cutscene"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Archivo de video"}),(0,Ne.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Ne.jsx)(bl,{value:S.file,onChange:e=>T("file",e.target.value),placeholder:"videos/opening_cutscene.webm",style:{flex:1}}),(0,Ne.jsx)(dl,{type:"button",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="video/*",e.onchange=e=>{const n=e.target.files[0];n&&I(n,"videos",e=>{_(n=>kr(kr({},n),{},{file:e}))})},e.click()},style:{padding:"8px 12px"},children:"\ud83d\udcc1"})]}),C.videos.length>0&&(0,Ne.jsxs)(pl,{children:[(0,Ne.jsx)("span",{style:{fontSize:"12px",color:"var(--color-textSecondary)"},children:"O seleccionar:"}),(0,Ne.jsxs)(ul,{value:"",onChange:e=>{e.target.value&&_(n=>kr(kr({},n),{},{file:e.target.value}))},children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar video..."}),C.videos.map((e,n)=>(0,Ne.jsx)("option",{value:e.path,children:e.name},"video-".concat(e.path,"-").concat(n)))]})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Ruta al archivo de video para la cinem\xe1tica"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Duraci\xf3n (segundos)"}),(0,Ne.jsx)(bl,{type:"number",value:S.delay,onChange:e=>T("delay",e.target.value),placeholder:"15"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Duraci\xf3n en segundos (dejar vac\xedo para duraci\xf3n autom\xe1tica)"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Repeticiones"}),(0,Ne.jsx)(bl,{type:"number",value:S.loops,onChange:e=>T("loops",parseInt(e.target.value)||0),placeholder:"0",min:"0"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"N\xfamero de repeticiones adicionales (0 = no repetir)"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Detener m\xfasica"}),(0,Ne.jsxs)(yl,{value:S.stopMusic,onChange:e=>T("stopMusic","true"===e.target.value),children:[(0,Ne.jsx)("option",{value:"true",children:"S\xed"}),(0,Ne.jsx)("option",{value:"false",children:"No"})]}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Si se debe detener la m\xfasica de fondo durante la cinem\xe1tica"})]})]}),"choice"===b&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Pregunta o texto de la elecci\xf3n"}),(0,Ne.jsx)(wl,{value:S.text,onChange:e=>T("text",e.target.value),placeholder:"\xbfQu\xe9 camino tomar\xe1s? \xbfAceptas la propuesta? \xbfQu\xe9 opci\xf3n prefieres?"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Este texto aparecer\xe1 antes de mostrar las opciones al jugador"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Opciones de elecci\xf3n (m\xe1ximo 4)"}),(0,Ne.jsxs)(jl,{children:[S.choices.map((e,n)=>(0,Ne.jsxs)(kl,{children:[(0,Ne.jsxs)(Sl,{children:[(0,Ne.jsxs)(_l,{children:["Opci\xf3n ",n+1]}),(0,Ne.jsx)(Cl,{onClick:()=>{return n=e.id,void _(e=>kr(kr({},e),{},{choices:e.choices.filter(e=>e.id!==n)}));var n},disabled:S.choices.length<=1,children:"\u2715"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Texto de la opci\xf3n"}),(0,Ne.jsx)(bl,{value:e.text,onChange:n=>O(e.id,"text",n.target.value),placeholder:"Opci\xf3n ".concat(n+1,"...")})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Etiqueta de destino (jump)"}),(0,Ne.jsx)(bl,{value:e.jump,onChange:n=>O(e.id,"jump",n.target.value),placeholder:"nombre_etiqueta"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Etiqueta a la que saltar\xe1 cuando se seleccione esta opci\xf3n"})]}),(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Condici\xf3n (opcional)"}),(0,Ne.jsx)(bl,{value:e.condition||"",onChange:n=>O(e.id,"condition",n.target.value),placeholder:"money >= 100, love_points > 5, flag_visited_school"}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Esta opci\xf3n solo aparecer\xe1 si la condici\xf3n es verdadera (dejar vac\xedo para mostrar siempre)"})]})]},e.id)),(0,Ne.jsx)(El,{onClick:async()=>{if(S.choices.length>=4)return void await h("M\xe1ximo 4 opciones permitidas","L\xedmite de Opciones","\u26a0\ufe0f");const e={id:Ft(),text:"",jump:"",condition:""};_(n=>kr(kr({},n),{},{choices:[...n.choices,e]}))},disabled:S.choices.length>=4,children:"+ Agregar Opci\xf3n"})]})]})]}),("show_sprite"===b||"hide_sprite"===b)&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Personaje"}),(0,Ne.jsxs)(yl,{value:S.character,onChange:e=>T("character",e.target.value),children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar personaje"}),u.project.characters.map(e=>(0,Ne.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),"show_sprite"===b&&(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Sprite"}),(0,Ne.jsxs)(yl,{value:S.sprite,onChange:e=>T("sprite",e.target.value),disabled:!S.character,children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar sprite"}),S.character&&(null===(c=u.project.characters.find(e=>e.id===S.character))||void 0===c||null===(d=c.sprites)||void 0===d?void 0:d.map(e=>(0,Ne.jsx)("option",{value:e.name,children:e.name},e.id)))]}),C.characters.length>0&&(0,Ne.jsxs)(pl,{children:[(0,Ne.jsx)("span",{style:{fontSize:"12px",color:"var(--color-textSecondary)"},children:"O agregar sprite:"}),(0,Ne.jsxs)(ul,{value:"",onChange:e=>{if(e.target.value&&S.character){const n=e.target.value.split("/").pop();if(u.project.characters.find(e=>e.id===S.character)){const r={id:Ft(),name:n.replace(/\.[^/.]+$/,""),file:e.target.value};p({type:"ADD_CHARACTER_SPRITE",payload:{characterId:S.character,sprite:r}}),_(e=>kr(kr({},e),{},{sprite:r.name}))}}},children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar archivo..."}),C.characters.map((e,n)=>(0,Ne.jsx)("option",{value:e.path,children:e.name},"char-".concat(e.path,"-").concat(n)))]})]})]}),"show_sprite"===b&&(0,Ne.jsxs)(ml,{children:[(0,Ne.jsx)(vl,{children:"Transici\xf3n del sprite (opcional)"}),(0,Ne.jsxs)(yl,{value:S.spriteTransition||"",onChange:e=>T("spriteTransition",e.target.value),children:[(0,Ne.jsx)("option",{value:"",children:"Sin transici\xf3n"}),Object.entries(ps("sprites")).map(e=>{let[n,r]=e;return(0,Ne.jsx)("optgroup",{label:r.name,children:r.transitions.map(e=>(0,Ne.jsxs)("option",{value:e.id,children:[e.icon," ",e.name," (",e.duration,"s)"]},e.id))},n)})]}),S.spriteTransition&&(0,Ne.jsx)(bl,{type:"number",step:"0.1",min:"0.1",max:"10",value:S.spriteTransitionDuration||"",onChange:e=>T("spriteTransitionDuration",e.target.value),placeholder:"Duraci\xf3n personalizada (opcional)",style:{marginTop:"8px"}}),(0,Ne.jsx)("div",{style:{marginTop:"4px",fontSize:"11px",color:"var(--color-textTertiary)"},children:"Efecto de transici\xf3n al mostrar el sprite"})]})]})]}),(0,Ne.jsxs)(Wl,{children:[(0,Ne.jsx)(Vl,{primary:!0,onClick:async()=>{try{var e;tl("Iniciando guardado de elemento",{type:S.type,hasText:!!S.text,hasCharacter:!!S.character});const n=kr(kr({},S),{},{text:al.sanitizeInput(S.text,"text"),jump:al.sanitizeInput(S.jump,"filename"),sprite:al.sanitizeInput(S.sprite,"filename"),label:al.sanitizeInput(S.label,"filename"),choices:null===(e=S.choices)||void 0===e?void 0:e.map(e=>kr(kr({},e),{},{text:al.sanitizeInput(e.text,"text"),jump:al.sanitizeInput(e.jump,"filename")}))}),r=al.validateElement(n);if(!r.isValid)return r.errors.forEach(e=>{nl("error",e)}),void ol("Validaci\xf3n fallida",{errors:r.errors});if(("video"===n.type||"movie_sprite"===n.type||"movie_cutscene"===n.type)&&!n.file)return void nl("error","Debes seleccionar un archivo de video");if("movie_sprite"===n.type&&!n.spriteName)return void nl("error","Debes especificar un nombre para el movie sprite");tl("Validaci\xf3n exitosa, procediendo con guardado");const o=kr(kr({},n),{},{id:(null===f||void 0===f?void 0:f.id)||Ft(),type:b}),t=n.targetSceneFileId||u.project.currentSceneFile,a=n.insertIndex;f?(tl("Actualizando elemento existente",{elementId:o.id}),p({type:"UPDATE_SCENE_FILE_ELEMENT",payload:{sceneFileId:u.project.currentSceneFile,element:o}}),nl("success","Elemento actualizado exitosamente")):(tl("Agregando nuevo elemento",{elementId:o.id,type:o.type,targetSceneFileId:t,insertIndex:a}),p({type:"ADD_SCENE_FILE_ELEMENT_AT_INDEX",payload:{sceneFileId:t,element:o,insertIndex:a}}),nl("success","Elemento creado exitosamente")),_({type:"",text:"",character:"",background:"",choices:[],label:"",jump:"",sprite:"",showSprite:"",hideSprite:"",condition:"",variable:"",value:"",operator:"equals",file:"",displayType:"fullscreen",delay:"",loops:0,stopMusic:!0,spriteName:"",targetSceneFileId:null,insertIndex:null}),y(""),x(null),v(!1),j(!1),tl("Elemento guardado exitosamente",{elementId:o.id,type:o.type})}catch(n){il.handle(n,"guardado de elemento")}},children:f?"Actualizar":"Crear"}),(0,Ne.jsx)(Vl,{onClick:()=>{L()},children:"Cancelar"}),f&&(0,Ne.jsx)(Vl,{onClick:()=>(async e=>{try{await g("\xbfEst\xe1s seguro de que quieres eliminar este elemento?","Confirmar Eliminaci\xf3n","\ud83d\uddd1\ufe0f")&&(tl("Eliminando elemento",{elementId:e}),p({type:"DELETE_SCENE_FILE_ELEMENT",payload:{sceneFileId:u.project.currentSceneFile,elementId:e}}),(null===f||void 0===f?void 0:f.id)===e&&(x(null),v(!1)),nl("success","Elemento eliminado exitosamente"),tl("Elemento eliminado exitosamente",{elementId:e}))}catch(n){il.handle(n,"eliminaci\xf3n de elemento")}})(f.id),style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"2px solid #ef4444"},children:"Eliminar"})]})]})})]})};var ql=r(159),Gl=r.n(ql),Yl=r(450);class $l{constructor(){this.assetStorage=new _r.AssetStorage,this.fileManager=new Cr,this.rynVersion="1.0.0"}async exportProjectAsRyn(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.log("\ud83d\udd04 Iniciando exportaci\xf3n .ryn...");const o=new(Gl()),t={rynVersion:this.rynVersion,editorVersion:"1.0.0",exportedAt:(new Date).toISOString(),projectName:e.name,projectVersion:e.version,author:e.author,description:e.description,totalSize:0,fileCount:0},a={project:e,currentScene:n.currentScene,selectedElement:n.selectedElement,previewMode:n.previewMode,isPlaying:n.isPlaying,lastActiveTab:this.getLastActiveTab(),lastScrollPosition:this.getLastScrollPosition()},i=await this.exportMediaFiles(),s=e.advancedConfig||{},l=this.getChangeHistory(),c=this.getUserPreferences();if(o.file("metadata.json",JSON.stringify(t,null,2)),o.file("editor_state.json",JSON.stringify(a,null,2)),o.file("advanced_config.json",JSON.stringify(s,null,2)),o.file("change_history.json",JSON.stringify(l,null,2)),o.file("user_preferences.json",JSON.stringify(c,null,2)),i.backgrounds.length>0){const e=o.folder("media/backgrounds");i.backgrounds.forEach(n=>{e.file(n.name,this.base64ToBlob(n.data,n.type))})}if(i.characters.length>0){const e=o.folder("media/characters");i.characters.forEach(n=>{e.file(n.name,this.base64ToBlob(n.data,n.type))})}if(i.videos.length>0){const e=o.folder("media/videos");i.videos.forEach(n=>{e.file(n.name,this.base64ToBlob(n.data,n.type))})}if(i.audio.length>0){const e=o.folder("media/audio");i.audio.forEach(n=>{e.file(n.name,this.base64ToBlob(n.data,n.type))})}const d=await this.generateRenPyScripts(e);d.main&&o.file("renpy/script.rpy",d.main),d.scenes&&Object.entries(d.scenes).forEach(e=>{let[n,r]=e;o.file("renpy/".concat(n),r)});const u=this.generateProjectReadme(e,t);o.file("README.md",u);const p={checksum:await this.generateChecksum(e),fileCount:this.countFiles(o),totalSize:this.calculateTotalSize(o),verifiedAt:(new Date).toISOString()};o.file("verification.json",JSON.stringify(p,null,2));const h=await o.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}),g=r||"".concat(e.name.replace(/[^a-zA-Z0-9]/g,"_"),"_").concat((new Date).toISOString().split("T")[0],".ryn");return(0,Yl.saveAs)(h,g),console.log("\u2705 Archivo .ryn exportado exitosamente:",g),{success:!0,filename:g,size:h.size}}catch(o){return console.error("\u274c Error al exportar .ryn:",o),{success:!1,error:o.message}}}async importProjectFromRyn(e){try{console.log("\ud83d\udd04 Iniciando importaci\xf3n .ryn...");const n=await Gl().loadAsync(e);if(!n.file("metadata.json"))throw new Error("Archivo .ryn inv\xe1lido: falta metadata.json");const r=JSON.parse(await n.file("metadata.json").async("text"));console.log("\ud83d\udccb Metadatos cargados:",r);const o=JSON.parse(await n.file("editor_state.json").async("text"));console.log("\ud83c\udfae Estado del editor cargado");const t=await this.importMediaFiles(n);console.log("\ud83d\udcc1 Archivos multimedia cargados:",t);JSON.parse(await n.file("advanced_config.json").async("text"));console.log("\u2699\ufe0f Configuraci\xf3n avanzada cargada");const a=JSON.parse(await n.file("verification.json").async("text")),i=await this.generateChecksum(o.project);a.checksum!==i&&console.warn("\u26a0\ufe0f Advertencia: El archivo puede estar corrupto");const s=JSON.parse(await n.file("user_preferences.json").async("text"));return this.restoreUserPreferences(s),console.log("\u2705 Proyecto .ryn importado exitosamente"),{success:!0,project:o.project,fullState:o,metadata:r,mediaFiles:t}}catch(n){return console.error("\u274c Error al importar .ryn:",n),{success:!1,error:n.message}}}async exportMediaFiles(){try{await this.assetStorage.init();const e=await this.assetStorage.getAllFiles(),n={backgrounds:[],characters:[],videos:[],audio:[],gui:[],effects:[]};return e.forEach(e=>{const r=e.category||"general";n[r]&&n[r].push({name:e.name,data:e.data,type:e.type,size:e.size,uploadedAt:e.uploadedAt})}),n}catch(e){return console.error("Error al exportar archivos multimedia:",e),{backgrounds:[],characters:[],videos:[],audio:[],gui:[],effects:[]}}}async importMediaFiles(e){const n={backgrounds:[],characters:[],videos:[],audio:[]};try{const r=e.folder("media/backgrounds");r&&r.forEach(async(e,r)=>{const o=await r.async("base64");n.backgrounds.push({name:e,data:"data:image/jpeg;base64,".concat(o),category:"backgrounds"})});const o=e.folder("media/characters");o&&o.forEach(async(e,r)=>{const o=await r.async("base64");n.characters.push({name:e,data:"data:image/png;base64,".concat(o),category:"characters"})});const t=e.folder("media/videos");t&&t.forEach(async(e,r)=>{const o=await r.async("base64");n.videos.push({name:e,data:"data:video/webm;base64,".concat(o),category:"videos"})});const a=e.folder("media/audio");return a&&a.forEach(async(e,r)=>{const o=await r.async("base64");n.audio.push({name:e,data:"data:audio/ogg;base64,".concat(o),category:"audio"})}),n}catch(r){return console.error("Error al importar archivos multimedia:",r),n}}async generateRenPyScripts(e){try{const{RenPyGenerator:n}=await Promise.resolve().then(r.bind(r,535)),o=new n,t=await o.generateScript(e);return{main:t,scenes:await o.generateSceneFiles(e)}}catch(n){return console.error("Error al generar scripts Ren'Py:",n),{main:"",scenes:{}}}}generateProjectReadme(e,n){var r,o,t,a,i;return"# ".concat(e.name,"\n\n## Informaci\xf3n del Proyecto\n- **Versi\xf3n**: ").concat(e.version,"\n- **Autor**: ").concat(e.author||"Sin especificar","\n- **Descripci\xf3n**: ").concat(e.description||"Sin descripci\xf3n","\n- **Creado**: ").concat(n.exportedAt,"\n- **Editor**: RynEditor v").concat(n.editorVersion,"\n\n## Estructura del Proyecto\n- **Personajes**: ").concat((null===(r=e.characters)||void 0===r?void 0:r.length)||0,"\n- **Escenas**: ").concat((null===(o=e.sceneFiles)||void 0===o?void 0:o.length)||0,"\n- **Elementos de script**: ").concat((null===(t=e.sceneFiles)||void 0===t||null===(a=t[0])||void 0===a||null===(i=a.elements)||void 0===i?void 0:i.length)||0,'\n\n## Archivos Incluidos\n- `metadata.json` - Metadatos del proyecto\n- `editor_state.json` - Estado completo del editor\n- `advanced_config.json` - Configuraci\xf3n avanzada\n- `media/` - Archivos multimedia organizados\n- `renpy/` - Scripts Ren\'Py generados\n- `verification.json` - Verificaci\xf3n de integridad\n\n## C\xf3mo Usar\n1. Abre RynEditor\n2. Ve a "Gesti\xf3n de Proyectos"\n3. Selecciona "Restaurar desde .ryn"\n4. Elige este archivo\n5. \xa1Tu proyecto estar\xe1 completamente restaurado!\n\n---\n*Archivo generado por RynEditor - Editor de Novelas Visuales*\n')}async generateChecksum(e){const n=JSON.stringify(e),r=(new TextEncoder).encode(n),o=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(o)).map(e=>e.toString(16).padStart(2,"0")).join("")}base64ToBlob(e,n){const r=atob(e.split(",")[1]),o=new Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a);const t=new Uint8Array(o);return new Blob([t],{type:n})}countFiles(e){let n=0;return e.forEach(()=>n++),n}calculateTotalSize(e){let n=0;return e.forEach((e,r)=>{n+=r._data?r._data.uncompressedSize:0}),n}getChangeHistory(){try{return JSON.parse(localStorage.getItem("visual_novel_change_history")||"[]")}catch(e){return[]}}getUserPreferences(){try{return{lastActiveTab:localStorage.getItem("visual_novel_last_tab_sidebar")||"project",lastScrollPosition:JSON.parse(localStorage.getItem("visual_novel_scroll_position")||'{"x":0,"y":0}'),theme:localStorage.getItem("visual_novel_theme")||"dark",language:localStorage.getItem("visual_novel_language")||"es"}}catch(e){return{}}}restoreUserPreferences(e){try{e.lastActiveTab&&localStorage.setItem("visual_novel_last_tab_sidebar",e.lastActiveTab),e.lastScrollPosition&&localStorage.setItem("visual_novel_scroll_position",JSON.stringify(e.lastScrollPosition)),e.theme&&localStorage.setItem("visual_novel_theme",e.theme),e.language&&localStorage.setItem("visual_novel_language",e.language)}catch(n){console.error("Error al restaurar preferencias:",n)}}getLastActiveTab(){return localStorage.getItem("visual_novel_last_tab_sidebar")||"project"}getLastScrollPosition(){try{return JSON.parse(localStorage.getItem("visual_novel_scroll_position")||'{"x":0,"y":0}')}catch(e){return{x:0,y:0}}}}var Jl,Zl,Kl,Ql,Xl,ec,nc=r(535);class rc{constructor(){this.guiContent=""}generateGuiFile(e){const n=e.advancedConfig||{};return this.guiContent="################################################################################\n## Inicializaci\xf3n\n################################################################################\n\n## La sentencia 'init offset' da preferencia a las sentencias de inicializaci\xf3n\n## de este archivo respecto a otros archivos.\ninit offset = -2\n\n## Llamando 'gui.init' se resetean los estilos a los valores por defecto y se\n## establecen la anchura y altura del juego.\ninit python:\n    gui.init(".concat(n.screenWidth||1280,", ").concat(n.screenHeight||720,")\n\n## Habilitar comprobaciones de propiedades no v\xe1lidas o inestables en pantallas\n## o transformaciones.\ndefine config.check_conflicting_properties = True\n\n\n################################################################################\n## Variables de configuraci\xf3n de la interfaz.\n################################################################################\n\n\n## Colores #####################################################################\n##\n## Los colores del texto de la interfaz\n\n## El color enfatizado usado en la interfaz para subrayar texto.\ndefine gui.accent_color = '").concat(n.accentColor||"#0099cc","'\n\n## El color del bot\xf3n de texto cuando no est\xe1 seleccionado ni enfocado.\ndefine gui.idle_color = '").concat(n.idleColor||"#888888","'\n\n## El color 'small' se usa para el texto peque\xf1o, que necesita destacar m\xe1s.\ndefine gui.idle_small_color = '").concat(n.idleColor||"#aaaaaa","'\n\n## El color usado en botones y barras que ganan foco.\ndefine gui.hover_color = '").concat(n.hoverColor||"#66c1e0","'\n\n## El color del bot\xf3n de texto seleccionado pero no enfocado.\ndefine gui.selected_color = '").concat(n.selectedColor||"#ffffff","'\n\n## El color de los botones de texto que no pueden ser seleccionados.\ndefine gui.insensitive_color = '").concat(n.idleColor||"#888888","7f'\n\n## Colores de la parte vac\xeda de las barras.\ndefine gui.muted_color = '#003d51'\ndefine gui.hover_muted_color = '#005b7a'\n\n## Colores del texto del di\xe1logo y men\xfa.\ndefine gui.text_color = '").concat(n.textColor||"#ffffff","'\ndefine gui.interface_text_color = '").concat(n.textColor||"#ffffff","'\n\n\n## Tipos y tama\xf1os de letra ####################################################\n\n## El tipo de letra del texto del juego\ndefine gui.text_font = \"").concat(n.textFont||"DejaVuSans.ttf",'"\n\n## El tipo de letra de los nombres de personajes\ndefine gui.name_text_font = "').concat(n.nameFont||"DejaVuSans.ttf",'"\n\n## El tipo de letra del texto externo al juego.\ndefine gui.interface_text_font = "').concat(n.interfaceFont||"DejaVuSans.ttf",'"\n\n## El tama\xf1o normal del texto del di\xe1logo.\ndefine gui.text_size = ').concat(n.textSize||22,"\n\n## El tama\xf1o de los nombres de los personajes\ndefine gui.name_text_size = ").concat(n.nameTextSize||30,"\n\n## El tama\xf1o del texto en la interfaz.\ndefine gui.interface_text_size = ").concat(n.interfaceTextSize||22,'\n\n## El tama\xf1o de etiquetas en la interfaz.\ndefine gui.label_text_size = 24\n\n## El tama\xf1o del texto en las notificaciones.\ndefine gui.notify_text_size = 16\n\n## El tama\xf1o del t\xedtulo del juego.\ndefine gui.title_text_size = 50\n\n\n## Men\xfa principal y men\xfas del juego ############################################\n\n## Im\xe1genes del men\xfa principal y men\xfas del juego.\ndefine gui.main_menu_background = "gui/main_menu.png"\ndefine gui.game_menu_background = "gui/game_menu.png"\n\n\n## Di\xe1logo #####################################################################\n##\n## Estas variables controlan c\xf3mo se muestra el di\xe1logo en la pantalla.\n\n## Altura de la caja de texto que contiene el di\xe1logo.\ndefine gui.textbox_height = ').concat(n.textboxHeight||185,"\n\n## Colocaci\xf3n vertical de la caja de texto en la pantalla. 0.0 para la parte\n## superior, 0.5 para el centro y 1.0 para la parte inferior.\ndefine gui.textbox_yalign = ").concat(n.textboxYAlign||1,"\n\n\n## Colocaci\xf3n del nombre del personaje hablante, relativa a la caja de texto.\ndefine gui.name_xpos = ").concat(n.nameXPos||240,"\ndefine gui.name_ypos = ").concat(n.nameYPos||0,"\n\n## La alineaci\xf3n horizontal del nombre del personaje.\ndefine gui.name_xalign = 0.0\n\n## La anchura, altura y bordes de la caja que contiene el nombre del personaje.\ndefine gui.namebox_width = None\ndefine gui.namebox_height = None\n\n## Los bordes de la caja que contiene el nombre del personaje.\ndefine gui.namebox_borders = Borders(5, 5, 5, 5)\n\n## Si es 'True', el fondo de la caja del nombre ser\xe1 en mosaico.\ndefine gui.namebox_tile = False\n\n\n## Colocaci\xf3n del di\xe1logo relativa a la caja de texto.\ndefine gui.dialogue_xpos = ").concat(n.dialogueXPos||268,"\ndefine gui.dialogue_ypos = ").concat(n.dialogueYPos||50,"\n\n## La anchura m\xe1xima del texto del di\xe1logo, en p\xedxels.\ndefine gui.dialogue_width = ").concat(n.dialogueWidth||744,"\n\n## La alineaci\xf3n horizontal del texto del di\xe1logo.\ndefine gui.dialogue_text_xalign = 0.0\n\n\n## Botones #####################################################################\n##\n## Estas variables controlan el aspecto de los botones.\n\n## La anchura y altura del bot\xf3n, en p\xedxels.\ndefine gui.button_width = ").concat(n.buttonWidth||"None","\ndefine gui.button_height = ").concat(n.buttonHeight||"None","\n\n## Los bordes de cada lado del bot\xf3n.\ndefine gui.button_borders = Borders(4, 4, 4, 4)\n\n## Si es 'True', la imagen de fondo ser\xe1 en mosaico.\ndefine gui.button_tile = False\n\n## Tipo de letra del bot\xf3n.\ndefine gui.button_text_font = gui.interface_text_font\n\n## Tama\xf1o de letra del bot\xf3n.\ndefine gui.button_text_size = gui.interface_text_size\n\n## El color del texto del bot\xf3n en varios estados.\ndefine gui.button_text_idle_color = gui.idle_color\ndefine gui.button_text_hover_color = gui.hover_color\ndefine gui.button_text_selected_color = gui.selected_color\ndefine gui.button_text_insensitive_color = gui.insensitive_color\n\n## La alineaci\xf3n horizontal del texto del bot\xf3n.\ndefine gui.button_text_xalign = 0.0\n\n\n## Botones de opci\xf3n ###########################################################\n\n## Los botones de opci\xf3n se utilizan en los men\xfas del juego.\ndefine gui.choice_button_width = ").concat(n.choiceButtonWidth||790,"\ndefine gui.choice_button_height = None\ndefine gui.choice_button_tile = False\ndefine gui.choice_button_borders = Borders(100, 5, 100, 5)\ndefine gui.choice_button_text_font = gui.text_font\ndefine gui.choice_button_text_size = gui.text_size\ndefine gui.choice_button_text_xalign = 0.5\ndefine gui.choice_button_text_idle_color = '#888888'\ndefine gui.choice_button_text_hover_color = \"#ffffff\"\ndefine gui.choice_button_text_insensitive_color = '#8888887f'\n\n\n## Botones de partidas #########################################################\n\n## Bot\xf3n de guardar partida\ndefine gui.slot_button_width = 276\ndefine gui.slot_button_height = 206\ndefine gui.slot_button_borders = Borders(10, 10, 10, 10)\ndefine gui.slot_button_text_size = 14\ndefine gui.slot_button_text_xalign = 0.5\ndefine gui.slot_button_text_idle_color = gui.idle_small_color\ndefine gui.slot_button_text_selected_idle_color = gui.selected_color\ndefine gui.slot_button_text_selected_hover_color = gui.hover_color\n\n## La anchura y altura de las miniaturas de las partidas guardadas.\ndefine config.thumbnail_width = ").concat(n.thumbnailWidth||256,"\ndefine config.thumbnail_height = ").concat(n.thumbnailHeight||144,"\n\n## N\xfamero de columnas y filas de la cuadr\xedcula de partidas guardadas.\ndefine gui.file_slot_cols = ").concat(n.fileSlotCols||3,"\ndefine gui.file_slot_rows = ").concat(n.fileSlotRows||2,"\n\n\n## Posicionamiento y espacios ##################################################\n\n## Posici\xf3n del lado izquierdo de los botones de navegaci\xf3n.\ndefine gui.navigation_xpos = 40\n\n## Posici\xf3n vertical del indicador de salto.\ndefine gui.skip_ypos = 10\n\n## Posici\xf3n vertical de la pantalla de notificaci\xf3n.\ndefine gui.notify_ypos = 45\n\n## Espacio entre opciones de men\xfa.\ndefine gui.choice_spacing = 22\n\n## Botones en la secci\xf3n de navegaci\xf3n del men\xfa principal.\ndefine gui.navigation_spacing = 4\n\n## Controla el espacio entre preferencias.\ndefine gui.pref_spacing = 10\n\n## Controla el espacio entre botones de preferencia.\ndefine gui.pref_button_spacing = 0\n\n## Espacio entre botones de p\xe1gina.\ndefine gui.page_spacing = 0\n\n## Espacio entre huecos de guardado.\ndefine gui.slot_spacing = 10\n\n## Posici\xf3n del texto del men\xfa principal.\ndefine gui.main_menu_text_xalign = 1.0\n\n\n## Marcos ######################################################################\n\n## Marcos gen\xe9ricos\ndefine gui.frame_borders = Borders(4, 4, 4, 4)\n\n## Marco usado en la pantalla de confirmaci\xf3n.\ndefine gui.confirm_frame_borders = Borders(40, 40, 40, 40)\n\n## Marco usado en la pantalla de salto.\ndefine gui.skip_frame_borders = Borders(16, 5, 50, 5)\n\n## Marco usado en la pantalla de notificaci\xf3n.\ndefine gui.notify_frame_borders = Borders(16, 5, 40, 5)\n\n## \xbfEl fondo del marco debe ser en mosaico?\ndefine gui.frame_tile = False\n\n\n## Barras, barras de desplazamiento y deslizadores #############################\n\n## Altura de las barras, barras de deslizamiento y deslizadores horizontales.\ndefine gui.bar_size = 25\ndefine gui.scrollbar_size = 12\ndefine gui.slider_size = 25\n\n## 'True' si la imagen de las barras debe ser en mosaico.\ndefine gui.bar_tile = False\ndefine gui.scrollbar_tile = False\ndefine gui.slider_tile = False\n\n## Bordes horizontales.\ndefine gui.bar_borders = Borders(4, 4, 4, 4)\ndefine gui.scrollbar_borders = Borders(4, 4, 4, 4)\ndefine gui.slider_borders = Borders(4, 4, 4, 4)\n\n## Bordes verticales.\ndefine gui.vbar_borders = Borders(4, 4, 4, 4)\ndefine gui.vscrollbar_borders = Borders(4, 4, 4, 4)\ndefine gui.vslider_borders = Borders(4, 4, 4, 4)\n\n## Qu\xe9 hacer con las barras de desplazamiento no desplegables.\ndefine gui.unscrollable = \"hide\"\n\n\n## Historial ###################################################################\n\n## N\xfamero de bloques de historial de di\xe1logo que Ren'Py conserva.\ndefine config.history_length = ").concat(n.historyLength||250,"\n\n## Altura de una entrada de la pantalla de historial.\ndefine gui.history_height = ").concat(n.historyHeight||140,"\n\n## Espacio adicional para a\xf1adir entre las entradas de la pantalla de historial.\ndefine gui.history_spacing = 0\n\n## Posici\xf3n, anchura y alineaci\xf3n de la etiqueta con el nombre del personaje.\ndefine gui.history_name_xpos = 155\ndefine gui.history_name_ypos = 0\ndefine gui.history_name_width = 155\ndefine gui.history_name_xalign = 1.0\n\n## Posici\xf3n, anchura y alineaci\xf3n del texto del di\xe1logo.\ndefine gui.history_text_xpos = 170\ndefine gui.history_text_ypos = 2\ndefine gui.history_text_width = 740\ndefine gui.history_text_xalign = 0.0\n\n\n## Modo-NVL ####################################################################\n\n## Bordes del fondo de la ventana del modo NVL.\ndefine gui.nvl_borders = Borders(0, 10, 0, 20)\n\n## M\xe1ximo n\xfamero de entradas en modo NVL que Ren'Py presentar\xe1.\ndefine gui.nvl_list_length = 6\n\n## Altura de una entrada en modo NVL.\ndefine gui.nvl_height = 115\n\n## Espacio entre entradas en modo NVL.\ndefine gui.nvl_spacing = 10\n\n## Posici\xf3n, anchura y alineaci\xf3n de la etiqueta con el nombre del personaje.\ndefine gui.nvl_name_xpos = 430\ndefine gui.nvl_name_ypos = 0\ndefine gui.nvl_name_width = 150\ndefine gui.nvl_name_xalign = 1.0\n\n## Posici\xf3n, anchura y alineaci\xf3n del texto del di\xe1logo.\ndefine gui.nvl_text_xpos = 450\ndefine gui.nvl_text_ypos = 8\ndefine gui.nvl_text_width = 590\ndefine gui.nvl_text_xalign = 0.0\n\n## Posici\xf3n, anchura y alineaci\xf3n del texto 'nvl_thought'.\ndefine gui.nvl_thought_xpos = 240\ndefine gui.nvl_thought_ypos = 0\ndefine gui.nvl_thought_width = 780\ndefine gui.nvl_thought_xalign = 0.0\n\n## Posici\xf3n de los botones de men\xfa NVL.\ndefine gui.nvl_button_xpos = 450\ndefine gui.nvl_button_xalign = 0.0\n\n\n## Localizaci\xf3n ################################################################\n\n## Esto controla donde se permite un salto de l\xednea.\ndefine gui.language = \"").concat(n.language||"unicode",'"\n\n\n################################################################################\n## Dispositivos M\xf3viles\n################################################################################\n\ninit python:\n\n    ## Esto aumenta el tama\xf1o de los botones r\xe1pidos para facilitar su acceso\n    ## en tablets y tel\xe9fonos.\n    @gui.variant\n    def touch():\n\n        gui.quick_button_borders = Borders(40, 14, 40, 0)\n\n    ## Esto cambia el tama\xf1o y espaciado de varios elementos de la GUI para\n    ## asegurar que sean f\xe1cilmente visibles en los tel\xe9fonos.\n    @gui.variant\n    def small():\n\n        ## Tama\xf1os de letra.\n        gui.text_size = 30\n        gui.name_text_size = 36\n        gui.notify_text_size = 25\n        gui.interface_text_size = 30\n        gui.button_text_size = 30\n        gui.label_text_size = 34\n\n        ## Ajusta la colocaci\xf3n de la caja de texto.\n        gui.textbox_height = 240\n        gui.name_xpos = 80\n        gui.dialogue_xpos = 90\n        gui.dialogue_width = 1100\n\n        ## Cambia el tama\xf1o y espaciado de varios elementos.\n        gui.slider_size = 36\n\n        gui.choice_button_width = 1240\n        gui.choice_button_text_size = 30\n\n        gui.navigation_spacing = 20\n        gui.pref_button_spacing = 10\n\n        gui.history_height = 190\n        gui.history_text_width = 690\n\n        gui.quick_button_text_size = 20\n\n        ## Distribuci\xf3n de botones de archivo.\n        gui.file_slot_cols = 2\n        gui.file_slot_rows = 2\n\n        ## Modo-NVL\n        gui.nvl_height = 170\n\n        gui.nvl_name_width = 305\n        gui.nvl_name_xpos = 325\n\n        gui.nvl_text_width = 915\n        gui.nvl_text_xpos = 345\n        gui.nvl_text_ypos = 5\n\n        gui.nvl_thought_width = 1240\n        gui.nvl_thought_xpos = 20\n\n        gui.nvl_button_width = 1240\n        gui.nvl_button_xpos = 20\n'),this.guiContent}}class oc{constructor(){this.screensContent=""}generateScreensFile(e){return this.screensContent='################################################################################\n## Inicializaci\xf3n\n################################################################################\n\ninit offset = -1\n\n\n################################################################################\n## Estilos\n################################################################################\n\nstyle default:\n    properties gui.text_properties()\n    language gui.language\n\nstyle input:\n    properties gui.text_properties("input", accent=True)\n    adjust_spacing False\n\nstyle hyperlink_text:\n    properties gui.text_properties("hyperlink", accent=True)\n    hover_underline True\n\nstyle gui_text:\n    properties gui.text_properties("interface")\n\nstyle button:\n    properties gui.button_properties("button")\n\nstyle button_text is gui_text:\n    properties gui.text_properties("button")\n    yalign 0.5\n\nstyle label_text is gui_text:\n    properties gui.text_properties("label", accent=True)\n\nstyle prompt_text is gui_text:\n    properties gui.text_properties("prompt")\n\nstyle bar:\n    ysize gui.bar_size\n    left_bar Frame("gui/bar/left.png", gui.bar_borders, tile=gui.bar_tile)\n    right_bar Frame("gui/bar/right.png", gui.bar_borders, tile=gui.bar_tile)\n\nstyle vbar:\n    xsize gui.bar_size\n    top_bar Frame("gui/bar/top.png", gui.vbar_borders, tile=gui.bar_tile)\n    bottom_bar Frame("gui/bar/bottom.png", gui.vbar_borders, tile=gui.bar_tile)\n\nstyle scrollbar:\n    ysize gui.scrollbar_size\n    base_bar Frame("gui/scrollbar/horizontal_idle_bar.png", gui.scrollbar_borders, tile=gui.scrollbar_tile)\n    thumb Frame("gui/scrollbar/horizontal_idle_thumb.png", gui.scrollbar_borders, tile=gui.scrollbar_tile)\n\nstyle vscrollbar:\n    xsize gui.scrollbar_size\n    base_bar Frame("gui/scrollbar/vertical_idle_bar.png", gui.vscrollbar_borders, tile=gui.scrollbar_tile)\n    thumb Frame("gui/scrollbar/vertical_idle_thumb.png", gui.vscrollbar_borders, tile=gui.scrollbar_tile)\n\nstyle slider:\n    ysize gui.slider_size\n    base_bar Frame("gui/slider/horizontal_idle_bar.png", gui.slider_borders, tile=gui.slider_tile)\n    thumb "gui/slider/horizontal_idle_thumb.png"\n\nstyle vslider:\n    xsize gui.slider_size\n    base_bar Frame("gui/slider/vertical_idle_bar.png", gui.vslider_borders, tile=gui.slider_tile)\n    thumb "gui/slider/vertical_idle_thumb.png"\n\nstyle frame:\n    padding gui.frame_borders.padding\n    background Frame("gui/frame.png", gui.frame_borders, tile=gui.frame_tile)\n\n\n################################################################################\n## Pantallas principales\n################################################################################\n\n## Pantalla de di\xe1logo #########################################################\n##\n## La pantalla de di\xe1logo se usa para mostrar el di\xe1logo al jugador. Toma dos\n## par\xe1metros, who y what, el nombre del personaje hablante y el texto que se\n## muestra, respectivamente.\n\nscreen say(who, what):\n    style_prefix "say"\n\n    window:\n        id "window"\n\n        if who is not None:\n\n            window:\n                id "namebox"\n                style "namebox"\n                text who id "who"\n\n        text what id "what"\n\n\n## Asegura que el nombre del personaje nunca se muestre en la misma caja que el\n## texto del personaje.\nstyle window is default\nstyle say_label is default\nstyle say_dialogue is default\nstyle say_thought is say_dialogue\n\nstyle namebox is default\nstyle namebox_label is say_label\n\n\nstyle window:\n    xalign 0.5\n    xfill True\n    yalign gui.textbox_yalign\n    ysize gui.textbox_height\n\n    background Image("gui/textbox.png", xalign=0.5, yalign=1.0)\n\nstyle namebox:\n    xpos gui.name_xpos\n    xanchor gui.name_xalign\n    xsize gui.namebox_width\n    ypos gui.name_ypos\n    ysize gui.namebox_height\n\n    background Frame("gui/namebox.png", gui.namebox_borders, tile=gui.namebox_tile, xalign=gui.name_xalign)\n    padding gui.namebox_borders.padding\n\nstyle say_label:\n    properties gui.text_properties("name", accent=True)\n    xalign gui.name_xalign\n    yalign 0.5\n\nstyle say_dialogue:\n    properties gui.text_properties("dialogue")\n\n    xpos gui.dialogue_xpos\n    xsize gui.dialogue_width\n    ypos gui.dialogue_ypos\n\n    adjust_spacing False\n\n\n## Pantalla de entrada #########################################################\n##\n## Esta pantalla se usa para mostrar renpy.input. El par\xe1metro prompt se usa\n## para pasar un texto de solicitud.\n##\n## Esta pantalla debe crear una entrada de entrada con el id "input" para\n## aceptar los varios par\xe1metros de entrada.\n\nscreen input(prompt):\n    style_prefix "input"\n\n    window:\n\n        vbox:\n            xanchor gui.dialogue_text_xalign\n            xpos gui.dialogue_xpos\n            xsize gui.dialogue_width\n            ypos gui.dialogue_ypos\n\n            text prompt style "input_prompt"\n            input id "input"\n\nstyle input_prompt is default\n\nstyle input_prompt:\n    xalign gui.dialogue_text_xalign\n    properties gui.text_properties("input_prompt")\n\nstyle input:\n    xalign gui.dialogue_text_xalign\n    xmaximum gui.dialogue_width\n\n\n## Pantalla de elecci\xf3n ########################################################\n##\n## Esta pantalla se usa para mostrar las opciones de men\xfa presentadas dentro del\n## juego. El \xfanico par\xe1metro, items, es una lista de objetos, cada uno con\n## campos de texto y acci\xf3n.\n\nscreen choice(items):\n    style_prefix "choice"\n\n    vbox:\n        for i in items:\n            textbutton i.caption action i.action\n\n\n## Cuando es verdadero, el men\xfa de navegaci\xf3n puede ser navegado con el teclado.\n## Nota: config.navigate_with_choice no es una configuraci\xf3n v\xe1lida en Ren\'Py 8.4\n\nstyle choice_vbox is vbox\nstyle choice_button is button\nstyle choice_button_text is button_text\n\nstyle choice_vbox:\n    xalign 0.5\n    ypos 405\n    yanchor 0.5\n\n    spacing gui.choice_spacing\n\nstyle choice_button is default:\n    properties gui.button_properties("choice_button")\n\nstyle choice_button_text is default:\n    properties gui.button_text_properties("choice_button")\n\n\n## Pantalla de men\xfa principal ##################################################\n##\n## Se usa para mostrar el men\xfa principal cuando Ren\'Py comienza.\n##\n## https://www.renpy.org/doc/html/screen_special.html#main-menu\n\nscreen main_menu():\n\n    ## Esto asegura que cualquier otra pantalla de men\xfa sea reemplazada.\n    tag menu\n\n    add gui.main_menu_background\n\n    ## Este marco vac\xedo oscurece el men\xfa principal.\n    frame:\n        style "main_menu_frame"\n\n    ## El uso de la declaraci\xf3n incluye incluye la pantalla de navegaci\xf3n dentro\n    ## de esta pantalla. El id vbox es el contenedor para la pantalla de\n    ## navegaci\xf3n.\n    use navigation\n\n    if gui.show_name:\n\n        vbox:\n            style "main_menu_vbox"\n\n            text "[config.name!t]":\n                style "main_menu_title"\n\n            text "[config.version]":\n                style "main_menu_version"\n\n\nstyle main_menu_frame is empty\nstyle main_menu_vbox is vbox\nstyle main_menu_text is gui_text\nstyle main_menu_title is main_menu_text\nstyle main_menu_version is main_menu_text\n\nstyle main_menu_frame:\n    xsize 420\n    yfill True\n\n    background "gui/overlay/main_menu.png"\n\nstyle main_menu_vbox:\n    xalign 1.0\n    xoffset -30\n    xmaximum 1200\n    yalign 1.0\n    yoffset -30\n\nstyle main_menu_text:\n    properties gui.text_properties("main_menu", accent=True)\n\nstyle main_menu_title:\n    properties gui.text_properties("title")\n\nstyle main_menu_version:\n    properties gui.text_properties("version")\n\n\n## Pantalla de navegaci\xf3n ######################################################\n##\n## Esta pantalla se incluye en la pantalla del men\xfa principal y del men\xfa del\n## juego, y proporciona navegaci\xf3n de fondo y el men\xfa principal.\n\nscreen navigation():\n\n    vbox:\n        style_prefix "navigation"\n\n        xpos gui.navigation_xpos\n        yalign 0.5\n\n        spacing gui.navigation_spacing\n\n        if main_menu:\n\n            textbutton _("Comenzar") action Start()\n\n        else:\n\n            textbutton _("Historial") action ShowMenu("history")\n\n            textbutton _("Guardar") action ShowMenu("save")\n\n        textbutton _("Cargar") action ShowMenu("load")\n\n        textbutton _("Preferencias") action ShowMenu("preferences")\n\n        if _in_replay:\n\n            textbutton _("Finalizar Replay") action EndReplay(confirm=True)\n\n        elif not main_menu:\n\n            textbutton _("Men\xfa Principal") action MainMenu()\n\n        textbutton _("Acerca de") action ShowMenu("about")\n\n        if renpy.variant("pc"):\n\n            ## Ayuda no es necesaria en m\xf3viles.\n            textbutton _("Ayuda") action ShowMenu("help")\n\n            ## El bot\xf3n de salir est\xe1 prohibido en iOS y no es necesario en\n            ## Android y en la web.\n            textbutton _("Salir") action Quit(confirm=not main_menu)\n\n\nstyle navigation_button is gui_button\nstyle navigation_button_text is gui_button_text\n\nstyle navigation_button:\n    size_group "navigation"\n    properties gui.button_properties("navigation_button")\n\nstyle navigation_button_text:\n    properties gui.button_text_properties("navigation_button")\n\n\n## Pantalla de men\xfa del juego ##################################################\n##\n## Esto establece la estructura com\xfan de una pantalla de men\xfa del juego. Se\n## llama con el t\xedtulo de la pantalla, y muestra el fondo, el t\xedtulo y la\n## navegaci\xf3n.\n\nscreen game_menu(title, scroll=None, yinitial=0.0):\n\n    style_prefix "game_menu"\n\n    if main_menu:\n        add gui.main_menu_background\n    else:\n        add gui.game_menu_background\n\n    frame:\n        style "game_menu_outer_frame"\n\n        hbox:\n\n            ## Reserva espacio para la secci\xf3n de navegaci\xf3n.\n            frame:\n                style "game_menu_navigation_frame"\n\n            frame:\n                style "game_menu_content_frame"\n\n                if scroll == "viewport":\n\n                    viewport:\n                        yinitial yinitial\n                        scrollbars "vertical"\n                        mousewheel True\n                        draggable True\n                        pagekeys True\n\n                        side_yfill True\n\n                        vbox:\n                            transclude\n\n                elif scroll == "vpgrid":\n\n                    vpgrid:\n                        cols 1\n                        yinitial yinitial\n\n                        scrollbars "vertical"\n                        mousewheel True\n                        draggable True\n                        pagekeys True\n\n                        side_yfill True\n\n                        transclude\n\n                else:\n\n                    transclude\n\n    use navigation\n\n    textbutton _("Volver"):\n        style "return_button"\n\n        action Return()\n\n    label title\n\n    if main_menu:\n        key "game_menu" action ShowMenu("main_menu")\n\n\nstyle game_menu_outer_frame is empty\nstyle game_menu_navigation_frame is empty\nstyle game_menu_content_frame is empty\nstyle game_menu_viewport is gui_viewport\nstyle game_menu_side is gui_side\nstyle game_menu_scrollbar is gui_vscrollbar\n\nstyle game_menu_label is gui_label\nstyle game_menu_label_text is gui_label_text\n\nstyle return_button is navigation_button\nstyle return_button_text is navigation_button_text\n\nstyle game_menu_outer_frame:\n    bottom_padding 45\n    top_padding 45\n\n    background "gui/overlay/game_menu.png"\n\nstyle game_menu_navigation_frame:\n    xsize 420\n    yfill True\n\nstyle game_menu_content_frame:\n    left_margin 60\n    right_margin 30\n    top_margin 15\n\nstyle game_menu_viewport:\n    xsize 1380\n\nstyle game_menu_vscrollbar:\n    unscrollable gui.unscrollable\n\nstyle game_menu_side:\n    spacing 15\n\nstyle game_menu_label:\n    xpos 75\n    ysize 180\n\nstyle game_menu_label_text:\n    size gui.title_text_size\n    color gui.accent_color\n    yalign 0.5\n\nstyle return_button:\n    xpos gui.navigation_xpos\n    yalign 1.0\n    yoffset -45\n\n\n## Pantalla de confirmaci\xf3n ####################################################\n##\n## Se llama cuando Ren\'Py quiere preguntar al jugador una pregunta de s\xed o no.\n##\n## https://www.renpy.org/doc/html/screen_special.html#confirm\n\nscreen confirm(message, yes_action, no_action):\n\n    ## Asegura que otras pantallas no reciban entrada mientras se muestra esta\n    ## pantalla.\n    modal True\n\n    zorder 200\n\n    style_prefix "confirm"\n\n    add "gui/overlay/confirm.png"\n\n    frame:\n\n        vbox:\n            xalign .5\n            yalign .5\n            spacing 45\n\n            label _(message):\n                style "confirm_prompt"\n                xalign 0.5\n\n            hbox:\n                xalign 0.5\n                spacing 150\n\n                textbutton _("S\xed") action yes_action\n                textbutton _("No") action no_action\n\n    ## Clic derecho y escape responden "no".\n    key "game_menu" action no_action\n\n\nstyle confirm_frame is gui_frame\nstyle confirm_prompt is gui_prompt\nstyle confirm_prompt_text is gui_prompt_text\nstyle confirm_button is gui_medium_button\nstyle confirm_button_text is gui_medium_button_text\n\nstyle confirm_frame:\n    background Frame([ "gui/confirm_frame.png", "gui/frame.png"], gui.confirm_frame_borders, tile=gui.frame_tile)\n    padding gui.confirm_frame_borders.padding\n    xalign .5\n    yalign .5\n\nstyle confirm_prompt_text:\n    text_align 0.5\n    layout "subtitle"\n\nstyle confirm_button:\n    properties gui.button_properties("confirm_button")\n\nstyle confirm_button_text:\n    properties gui.button_text_properties("confirm_button")\n\n\n## Pantalla de salto ###########################################################\n##\n## Esta pantalla se muestra para indicar que el jugador est\xe1 en modo de salto.\n##\n## https://www.renpy.org/doc/html/screen_special.html#skip\n\nscreen skip_indicator():\n\n    zorder 100\n    style_prefix "skip"\n\n    frame:\n\n        hbox:\n            spacing 9\n\n            text _("Saltando")\n\n            text "\u25b8" at delayed_blink(0.0, 1.0) style "skip_triangle"\n            text "\u25b8" at delayed_blink(0.2, 1.0) style "skip_triangle"\n            text "\u25b8" at delayed_blink(0.4, 1.0) style "skip_triangle"\n\n\n## Esta transformaci\xf3n se usa para parpadear las flechas una despu\xe9s de la otra.\ntransform delayed_blink(delay, cycle):\n    alpha .5\n\n    pause delay\n\n    block:\n        linear .2 alpha 1.0\n        pause .2\n        linear .2 alpha 0.5\n        pause (cycle - .4)\n        repeat\n\n\nstyle skip_frame is empty\nstyle skip_text is gui_text\nstyle skip_triangle is skip_text\n\nstyle skip_frame:\n    ypos gui.skip_ypos\n    background Frame("gui/skip.png", gui.skip_frame_borders, tile=gui.frame_tile)\n    padding gui.skip_frame_borders.padding\n\nstyle skip_text:\n    size gui.notify_text_size\n\nstyle skip_triangle:\n    ## Tenemos que usar un car\xe1cter de fuente que est\xe9 presente en todos los\n    ## sistemas.\n    font "DejaVuSans.ttf"\n\n\n## Pantalla de notificaci\xf3n ####################################################\n##\n## Se usa para mostrar mensajes al jugador.\n\nscreen notify(message):\n\n    zorder 100\n    style_prefix "notify"\n\n    frame at notify_appear:\n        text "[message!tq]"\n\n    timer 3.25 action Hide(\'notify\')\n\n\ntransform notify_appear:\n    on show:\n        alpha 0\n        linear .25 alpha 1.0\n    on hide:\n        linear .5 alpha 0.0\n\n\nstyle notify_frame is empty\nstyle notify_text is gui_text\n\nstyle notify_frame:\n    ypos gui.notify_ypos\n\n    background Frame("gui/notify.png", gui.notify_frame_borders, tile=gui.frame_tile)\n    padding gui.notify_frame_borders.padding\n\nstyle notify_text:\n    properties gui.text_properties("notify")\n\n\n## Pantalla NVL ################################################################\n##\n## Esta pantalla se usa para el di\xe1logo y los men\xfas en modo NVL.\n\nscreen nvl(dialogue, items=None):\n\n    window:\n        style "nvl_window"\n\n        has vbox:\n            spacing gui.nvl_spacing\n\n        ## Muestra el di\xe1logo en un vpgrid o en un vbox.\n        if gui.nvl_height:\n\n            vpgrid:\n                cols 1\n                yinitial 1.0\n\n                use nvl_dialogue(dialogue)\n\n        else:\n\n            use nvl_dialogue(dialogue)\n\n        ## Muestra el men\xfa, si se da. El men\xfa puede mostrarse incorrectamente si\n        ## config.narrator_menu est\xe1 configurado en True, como se muestra arriba.\n        for i in items:\n\n            textbutton i.caption:\n                action i.action\n                style "nvl_button"\n\n    add SideImage() xalign 0.0 yalign 1.0\n\n\nscreen nvl_dialogue(dialogue):\n\n    for d in dialogue:\n\n        window:\n            id d.window_id\n\n            fixed:\n                yfit gui.nvl_height is None\n\n                if d.who is not None:\n\n                    text d.who:\n                        id d.who_id\n\n                text d.what:\n                    id d.what_id\n\n\n## Esto controla el n\xfamero m\xe1ximo de entradas NVL que se pueden mostrar al\n## mismo tiempo.\ndefine config.nvl_list_length = gui.nvl_list_length\n\nstyle nvl_window is default\nstyle nvl_entry is default\n\nstyle nvl_label is say_label\nstyle nvl_dialogue is say_dialogue\n\nstyle nvl_button is button\nstyle nvl_button_text is button_text\n\nstyle nvl_window:\n    xfill True\n    yfill True\n\n    background "gui/nvl.png"\n    padding gui.nvl_borders.padding\n\nstyle nvl_entry:\n    xfill True\n    ysize gui.nvl_height\n\nstyle nvl_label:\n    xpos gui.nvl_name_xpos\n    xanchor gui.nvl_name_xalign\n    ypos gui.nvl_name_ypos\n    yanchor 0.0\n    xsize gui.nvl_name_width\n    min_width gui.nvl_name_width\n    text_align gui.nvl_name_xalign\n\nstyle nvl_dialogue:\n    xpos gui.nvl_text_xpos\n    xanchor gui.nvl_text_xalign\n    ypos gui.nvl_text_ypos\n    xsize gui.nvl_text_width\n    min_width gui.nvl_text_width\n    text_align gui.nvl_text_xalign\n    layout ("subtitle" if gui.nvl_text_xalign else "tex")\n\nstyle nvl_thought:\n    xpos gui.nvl_thought_xpos\n    xanchor gui.nvl_thought_xalign\n    ypos gui.nvl_thought_ypos\n    xsize gui.nvl_thought_width\n    min_width gui.nvl_thought_width\n    text_align gui.nvl_thought_xalign\n    layout ("subtitle" if gui.nvl_thought_xalign else "tex")\n\nstyle nvl_button:\n    properties gui.button_properties("nvl_button")\n    xpos gui.nvl_button_xpos\n    xanchor gui.nvl_button_xalign\n\nstyle nvl_button_text:\n    properties gui.button_text_properties("nvl_button")\n\n\n################################################################################\n## Variantes m\xf3viles\n################################################################################\n\nstyle pref_vbox:\n    variant "medium"\n    xsize 675\n\n## Como tenemos un men\xfa de navegaci\xf3n en la parte superior, los botones en la\n## parte inferior son innecesarios en m\xf3viles.\nstyle game_menu_outer_frame:\n    variant "small"\n    bottom_padding 30\n    top_padding 120\n\nstyle game_menu_navigation_frame:\n    variant "small"\n    xsize 510\n\nstyle game_menu_content_frame:\n    variant "small"\n    left_margin 60\n    right_margin 60\n    top_margin 15\n\nstyle game_menu_viewport:\n    variant "small"\n    xsize 1380\n\nstyle game_menu_vscrollbar:\n    variant "small"\n    unscrollable gui.unscrollable\n\nstyle game_menu_side:\n    variant "small"\n    spacing 15\n\nstyle game_menu_label:\n    variant "small"\n    xpos 75\n    ysize 180\n\nstyle game_menu_label_text:\n    variant "small"\n    size gui.title_text_size\n    color gui.accent_color\n    yalign 0.5\n\nstyle return_button:\n    variant "small"\n    xpos gui.navigation_xpos\n    yalign 1.0\n    yoffset -30\n',this.screensContent}}class tc{constructor(){this.generator=new nc.RenPyGenerator,this.guiGenerator=new rc,this.screensGenerator=new oc,this.fileManager=new Cr,this.assetStorage=new _r.AssetStorage,this.rynBackupManager=new $l,this.templatePath="/template/the_question/game/"}async readTemplateFile(e){try{const n=await fetch(this.templatePath+e);return n.ok?await n.text():null}catch(n){return console.warn("No se pudo leer el archivo del template: ".concat(e),n),null}}applyUserConfigurations(e,n,r){const o=r.advancedConfig;switch(n){case"options.rpy":return this.modifyOptionsFile(e,r,o);case"gui.rpy":return this.modifyGuiFile(e,o);default:return e}}modifyOptionsFile(e,n,r){let o=e;o=o.replace(/define config\.name = _\(".*?"\)/,'define config.name = _("'.concat(n.name,'")')),o=o.replace(/define config\.version = .*/,'define config.version = "'.concat(n.version,'"')),o=o.replace(/define build\.name = ".*?"/,'define build.name = "'.concat(r.buildName||n.name.replace(/\s+/g,"_").toLowerCase(),'"')),o=o.replace(/define config\.has_sound = .*/,"define config.has_sound = ".concat(r.hasSound?"True":"False")),o=o.replace(/define config\.has_music = .*/,"define config.has_music = ".concat(r.hasMusic?"True":"False")),o=o.replace(/define config\.has_voice = .*/,"define config.has_voice = ".concat(r.hasVoice?"True":"False")),o=o.replace(/define config\.enter_transition = .*/,"define config.enter_transition = ".concat(r.enterTransition)),o=o.replace(/define config\.exit_transition = .*/,"define config.exit_transition = ".concat(r.exitTransition)),o=o.replace(/define config\.window = ".*?"/,'define config.window = "'.concat(r.windowMode,'"'));const t=r.saveDirectory||n.name.replace(/\s+/g,"_").toLowerCase();return o=o.replace(/define config\.save_directory = ".*?"/,'define config.save_directory = "'.concat(t,'"')),o}modifyGuiFile(e,n){let r=e;return r=r.replace(/define gui\.accent_color = '.*?'/,"define gui.accent_color = '".concat(n.accentColor,"'")),r=r.replace(/define gui\.idle_color = '.*?'/,"define gui.idle_color = '".concat(n.idleColor,"'")),r=r.replace(/define gui\.hover_color = '.*?'/,"define gui.hover_color = '".concat(n.hoverColor,"'")),r=r.replace(/define gui\.selected_color = '.*?'/,"define gui.selected_color = '".concat(n.selectedColor,"'")),r=r.replace(/define gui\.text_color = '.*?'/,"define gui.text_color = '".concat(n.textColor,"'")),r=r.replace(/define gui\.text_font = ".*?"/,'define gui.text_font = "'.concat(n.textFont,'"')),r=r.replace(/define gui\.name_text_font = ".*?"/,'define gui.name_text_font = "'.concat(n.nameFont,'"')),r=r.replace(/define gui\.interface_text_font = ".*?"/,'define gui.interface_text_font = "'.concat(n.interfaceFont,'"')),r=r.replace(/define gui\.text_size = .*/,"define gui.text_size = ".concat(n.textSize)),r=r.replace(/define gui\.name_text_size = .*/,"define gui.name_text_size = ".concat(n.nameTextSize)),r=r.replace(/define gui\.interface_text_size = .*/,"define gui.interface_text_size = ".concat(n.interfaceTextSize)),r=r.replace(/define config\.screen_width = .*/,"define config.screen_width = ".concat(n.screenWidth)),r=r.replace(/define config\.screen_height = .*/,"define config.screen_height = ".concat(n.screenHeight)),r}async generateDefinitionsFile(e){try{await this.assetStorage.init();const n=await this.assetStorage.getAllFiles();let r="# Definiciones autom\xe1ticas de im\xe1genes y audio\n";r+="# Generado autom\xe1ticamente por el editor\n\n";const o={characters:[],backgrounds:[],gui:[],effects:[],music:[],sounds:[],voice:[]};return n.forEach(e=>{o[e.category]&&o[e.category].push(e)}),o.characters.length>0&&(r+="# Definiciones de personajes\n",o.characters.forEach(n=>{console.log("Generando definici\xf3n para personaje:",n);const o=e.characters.find(e=>e.sprites&&e.sprites.some(e=>e.name===n.name.replace(/\.[^/.]+$/,"")));if(o){const e=n.name.replace(/\.[^/.]+$/,"").toLowerCase(),t="".concat(o.id," ").concat(e),a="images/characters/".concat(n.name);console.log("Personaje encontrado:",o),console.log("Nombre de imagen:",t),console.log("Ruta de imagen:",a),r+="image ".concat(t,' = "').concat(a,'"\n')}else{const e=this.generateImageName(n.name,n.category),o="images/characters/".concat(n.name);console.log("Personaje no encontrado, usando nombre autom\xe1tico:",e),r+="image ".concat(e,' = "').concat(o,'"\n')}}),r+="\n"),o.backgrounds.length>0&&(r+="# Definiciones de fondos\n",o.backgrounds.forEach(e=>{console.log("Generando definici\xf3n para fondo:",e);const n=this.generateImageName(e.name,e.category),o="images/backgrounds/".concat(e.name);console.log("Nombre de imagen:",n),console.log("Ruta de imagen:",o),r+="image ".concat(n,' = "').concat(o,'"\n')}),r+="\n"),o.gui.length>0&&(r+="# Definiciones de GUI\n",o.gui.forEach(e=>{const n=this.generateImageName(e.name,e.category);r+="image ".concat(n,' = "images/gui/').concat(e.name,'"\n')}),r+="\n"),o.effects.length>0&&(r+="# Definiciones de efectos\n",o.effects.forEach(e=>{const n=this.generateImageName(e.name,e.category);r+="image ".concat(n,' = "images/effects/').concat(e.name,'"\n')}),r+="\n"),o.music.length>0&&(r+="# Definiciones de m\xfasica\n",o.music.forEach(e=>{const n=this.generateAudioName(e.name,e.category);r+="define audio.".concat(n,' = "images/audio/music/').concat(e.name,'"\n')}),r+="\n"),o.sounds.length>0&&(r+="# Definiciones de efectos de sonido\n",o.sounds.forEach(e=>{const n=this.generateAudioName(e.name,e.category);r+="define audio.".concat(n,' = "images/audio/sounds/').concat(e.name,'"\n')}),r+="\n"),o.voice.length>0&&(r+="# Definiciones de voces\n",o.voice.forEach(e=>{const n=this.generateAudioName(e.name,e.category);r+="define audio.".concat(n,' = "images/audio/voice/').concat(e.name,'"\n')}),r+="\n"),r}catch(n){return console.error("Error al generar archivo definitions.rpy:",n),"# Error al generar definiciones\n"}}generateImageName(e,n){let r=e.replace(/\.[^/.]+$/,"");switch(r=r.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),n){case"characters":return"char_".concat(r);case"backgrounds":return"bg_".concat(r);case"gui":return"gui_".concat(r);case"effects":return"fx_".concat(r);default:return r}}generateAudioName(e,n){let r=e.replace(/\.[^/.]+$/,"");switch(r=r.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,""),n){case"music":return"music_".concat(r);case"sounds":return"sfx_".concat(r);case"voice":return"voice_".concat(r);default:return r}}async includeUserAssets(e,n){try{await this.assetStorage.init();const e=await this.assetStorage.getAllFiles();console.log("Archivos del usuario encontrados:",e.length),console.log("Detalles de archivos:",e);for(const o of e)try{const e=await this.assetStorage.getFile(o.id);if(e&&e.data){console.log("\ud83d\uddbc\ufe0f Procesando archivo: ".concat(o.name)),console.log("\ud83d\udcc1 Tipo de archivo: ".concat(e.type)),console.log("\ud83d\udcca Tama\xf1o de datos: ".concat(e.data.length||"N/A"));let r,t="images/";switch(o.category){case"characters":t+="characters/";break;case"backgrounds":t+="backgrounds/";break;case"gui":t+="gui/";break;case"effects":t+="effects/";break;case"music":t+="audio/music/";break;case"sounds":t+="audio/sounds/";break;case"voice":t+="audio/voice/";break;default:t+="general/"}if("string"===typeof e.data)if(console.log("\ud83d\udd04 Procesando como data URL"),e.data.startsWith("data:")){const n=await fetch(e.data);r=await n.blob()}else{const n=e.data.split(",")[1]||e.data,o=atob(n),t=new Uint8Array(o.length);for(let e=0;e<o.length;e++)t[e]=o.charCodeAt(e);r=new Blob([t],{type:e.type||"application/octet-stream"})}else e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?(console.log("\ud83d\udd04 Procesando como ArrayBuffer/Uint8Array"),r=new Blob([e.data],{type:e.type||"application/octet-stream"})):(console.log("\ud83d\udd04 Procesando con fallback"),r=new Blob([e.data],{type:e.type||"application/octet-stream"}));const a=t+o.name;n.file(a,r),console.log("\u2705 Archivo agregado exitosamente: ".concat(a)),console.log("\ud83d\udccf Tama\xf1o del blob: ".concat(r.size," bytes")),console.log("\ud83c\udfaf Tipo MIME: ".concat(r.type))}else console.warn("\u26a0\ufe0f Archivo ".concat(o.name," no tiene datos v\xe1lidos"))}catch(r){console.warn("Error al procesar archivo ".concat(o.name,":"),r)}console.log("Assets del usuario incluidos en la exportaci\xf3n")}catch(r){console.error("Error al incluir assets del usuario:",r)}}async copyTemplateFiles(e,n,r){const o=["options.rpy","gui.rpy","screens.rpy"];for(const i of o){const e=await this.readTemplateFile(i);if(e){const o=this.applyUserConfigurations(e,i,r);n.file(i,o)}}const t=["gui/bar/bottom.png","gui/bar/left.png","gui/bar/right.png","gui/bar/top.png","gui/button/check_foreground.png","gui/button/check_selected_foreground.png","gui/button/choice_hover_background.png","gui/button/choice_idle_background.png","gui/button/hover_background.png","gui/button/idle_background.png","gui/button/quick_hover_background.png","gui/button/quick_idle_background.png","gui/button/radio_foreground.png","gui/button/radio_selected_foreground.png","gui/button/slot_hover_background.png","gui/button/slot_idle_background.png","gui/frame.png","gui/namebox.png","gui/notify.png","gui/nvl.png","gui/overlay/confirm.png","gui/overlay/game_menu.png","gui/overlay/main_menu.png","gui/phone/nvl.png","gui/phone/overlay/game_menu.png","gui/phone/overlay/main_menu.png","gui/phone/textbox.png","gui/scrollbar/horizontal_hover_bar.png","gui/scrollbar/horizontal_hover_thumb.png","gui/scrollbar/horizontal_idle_bar.png","gui/scrollbar/horizontal_idle_thumb.png","gui/scrollbar/vertical_hover_bar.png","gui/scrollbar/vertical_hover_thumb.png","gui/scrollbar/vertical_idle_bar.png","gui/scrollbar/vertical_idle_thumb.png","gui/skip.png","gui/slider/horizontal_hover_bar.png","gui/slider/horizontal_hover_thumb.png","gui/slider/horizontal_idle_bar.png","gui/slider/horizontal_idle_thumb.png","gui/slider/vertical_hover_bar.png","gui/slider/vertical_hover_thumb.png","gui/slider/vertical_idle_bar.png","gui/slider/vertical_idle_thumb.png","gui/textbox.png"];for(const i of t)try{const e=await fetch(this.templatePath+i);if(e.ok){const r=await e.blob();n.file(i,r)}}catch(a){console.warn("No se pudo copiar archivo GUI: ".concat(i),a)}}async exportProject(e){try{var n;console.log("\ud83d\udce6 Iniciando exportaci\xf3n del proyecto:",null===e||void 0===e?void 0:e.name);const r=new(Gl());console.log("\ud83d\udd27 Inicializando AssetStorage..."),await this.assetStorage.init(),this.generator.setAssetStorage(this.assetStorage),this.generator.setProject(e),console.log("\ud83d\udd0d ProjectExporter - Verificando configuraci\xf3n del protagonista:"),console.log("\ud83d\udd0d project.protagonistConfig:",e.protagonistConfig),console.log("\ud83d\udd0d enabled:",null===(n=e.protagonistConfig)||void 0===n?void 0:n.enabled),console.log("\ud83d\udcdd Generando script principal...");const o=await this.generator.generateScript(e);console.log("\ud83c\udfac Generando archivos de escenas...");const t=await this.generator.generateSceneFiles(e),a=r.folder("game");a.file("script.rpy",o),console.log("\ud83d\udccb Copiando archivos del template..."),await this.copyTemplateFiles(r,a,e),console.log("\ud83d\uddbc\ufe0f Incluyendo assets del usuario..."),await this.includeUserAssets(r,a),console.log("\ud83d\udcda Generando archivo de definiciones...");const i=await this.generateDefinitionsFile(e);a.file("definitions.rpy",i),console.log("\ud83c\udfad Agregando archivos de escenas..."),Object.entries(t).forEach(e=>{let[n,r]=e;a.file(n,r)}),console.log("\ud83d\udcc4 Creando informaci\xf3n del proyecto...");const s={name:e.name,version:e.version,author:e.author,description:e.description,created:(new Date).toISOString(),exported:(new Date).toISOString()};r.file("project.json",JSON.stringify(s,null,2)),console.log("\ud83d\udcd6 Generando README...");const l=this.generateReadme(e,t);r.file("README.md",l),console.log("\ud83d\udddc\ufe0f Generando archivo ZIP...");const c=await r.generateAsync({type:"blob"}),d="".concat(e.name.replace(/\s+/g,"_"),"_renpy_project.zip");return console.log("\ud83d\udcbe Descargando archivo:",d),(0,Yl.saveAs)(c,d),console.log("\u2705 Exportaci\xf3n completada exitosamente"),d}catch(r){throw console.error("\u274c Error durante la exportaci\xf3n del proyecto:",r),console.error("Detalles del error:",{message:r.message,name:r.name,stack:r.stack,project:null===e||void 0===e?void 0:e.name}),r}}async exportProjectAsRyn(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{console.log("\ud83d\udd04 Exportando proyecto como archivo .ryn...");const r=await this.rynBackupManager.exportProjectAsRyn(e,n);return console.log("\u2705 Proyecto exportado como .ryn exitosamente"),r}catch(r){throw console.error("\u274c Error al exportar proyecto como .ryn:",r),new Error("Error al exportar proyecto como .ryn: ".concat(r.message))}}generateReadme(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"# ".concat(e.name,"\n\n").concat(e.description||"Una novela visual creada con Visual Novel Creator","\n\n## Informaci\xf3n del Proyecto\n\n- **Autor**: ").concat(e.author||"No especificado","\n- **Versi\xf3n**: ").concat(e.version,"\n- **Fecha de creaci\xf3n**: ").concat((new Date).toLocaleDateString("es-ES"),"\n\n## Instrucciones de Uso\n\n1. Extrae este archivo ZIP en una carpeta\n2. Aseg\xfarate de tener Ren'Py instalado en tu sistema\n3. Abre Ren'Py Launcher\n4. Selecciona \"Add Project\" y navega a la carpeta extra\xedda\n5. \xa1Tu novela visual estar\xe1 lista para ejecutar!\n\n## Estructura del Proyecto\n\n- `game/` - Contiene los archivos de script de Ren'Py\n  - `game/images/` - Im\xe1genes y sprites (agrega tus archivos aqu\xed)\n  - `game/audio/` - M\xfasica y efectos de sonido (agrega tus archivos aqu\xed)\n\n## Personalizaci\xf3n\n\nPuedes modificar los archivos en la carpeta `game/` para personalizar tu novela visual:\n\n- `script.rpy` - Script principal de la historia\n- `options.rpy` - Configuraci\xf3n del juego\n- `gui.rpy` - Configuraci\xf3n de la interfaz gr\xe1fica\n- `screens.rpy` - Definici\xf3n de pantallas y estilos\n").concat(Object.keys(n).length>0?"\n## Archivos de Escenas\n\nEste proyecto incluye los siguientes archivos de escenas organizados por cap\xedtulos:\n\n".concat(Object.keys(n).map(n=>{var r;return"- `".concat(n,"` - ").concat((null===(r=e.sceneFiles.find(e=>e.name===n))||void 0===r?void 0:r.displayName)||"Escena")}).join("\n"),"\n\nCada archivo de escena contiene elementos espec\xedficos de esa parte de la historia. Puedes modificar estos archivos para personalizar cada cap\xedtulo por separado.\n"):"","\n\n## Recursos Necesarios\n\nAseg\xfarate de agregar los siguientes archivos a sus carpetas correspondientes:\n\n### Im\xe1genes\n").concat(this.generator.getResources().images.map(e=>"- game/images/".concat(e.replace("images/",""))).join("\n")||"- Ninguna imagen especificada","\n\n### Audio\n").concat(this.generator.getResources().audio.map(e=>"- game/audio/".concat(e.replace("audio/",""))).join("\n")||"- Ning\xfan archivo de audio especificado","\n\n\xa1Disfruta creando tu novela visual!\n")}async exportScript(e){try{const n=await this.generator.generateScriptFile(e),r=new Blob([n],{type:"text/plain"}),o="".concat(e.name.replace(/\s+/g,"_"),"_script.rpy");return(0,Yl.saveAs)(r,o),o}catch(n){throw console.error("Error al exportar el script:",n),new Error("Error al exportar el script: ".concat(n.message))}}async exportSelectedScript(e,n){try{const r=e.sceneFiles.find(e=>e.id===n);if(!r)throw new Error("Archivo de escena no encontrado");let o;o=r.isMain?await this.generator.generateScriptFile(e):await this.generator.generateSceneFile(r);const t=new Blob([o],{type:"text/plain"}),a=r.name||"".concat(r.displayName.replace(/\s+/g,"_"),".rpy");return(0,Yl.saveAs)(t,a),a}catch(r){throw console.error("Error al exportar el script seleccionado:",r),new Error("Error al exportar el script seleccionado: ".concat(r.message))}}exportOptions(e){const n=this.generator.generateOptions(e),r=new Blob([n],{type:"text/plain"}),o="".concat(e.name.replace(/\s+/g,"_"),"_options.rpy");return(0,Yl.saveAs)(r,o),o}validateProject(e){const n=[],r=[];e.name&&""!==e.name.trim()||n.push("El nombre del proyecto es obligatorio"),e.version&&""!==e.version.trim()||n.push("La versi\xf3n del proyecto es obligatoria");const o=new Set;return e.characters.forEach((e,r)=>{e.id&&""!==e.id.trim()?o.has(e.id)?n.push("Personaje ".concat(r+1,': ID duplicado "').concat(e.id,'"')):o.add(e.id):n.push("Personaje ".concat(r+1,": ID es obligatorio")),e.name&&""!==e.name.trim()||n.push("Personaje ".concat(r+1,": Nombre es obligatorio"))}),e.script.forEach((e,t)=>{"dialogue"!==e.type||e.text||n.push("Elemento ".concat(t+1,": Texto de di\xe1logo es obligatorio")),"dialogue"===e.type&&e.character&&!o.has(e.character)&&r.push("Elemento ".concat(t+1,': Personaje "').concat(e.character,'" no est\xe1 definido'))}),{isValid:0===n.length,errors:n,warnings:r}}async addFilesToZip(e){try{console.log("\ud83c\udfb5 Iniciando addFilesToZip...");const r=this.fileManager.getAllFiles();if(console.log("\ud83d\udcc1 Archivos encontrados en FileManager:",r.length),!r||0===r.length)return void console.log("\u26a0\ufe0f No hay archivos para agregar al ZIP");const o={};r.forEach((e,n)=>{try{if(console.log("\ud83d\udcc4 Procesando archivo ".concat(n+1,":"),e),!e)return void console.warn("\u26a0\ufe0f Archivo ".concat(n+1," es null o undefined"));if(!e.name)return void console.warn("\u26a0\ufe0f Archivo ".concat(n+1," no tiene nombre"));if(!e.url&&!e.hasData)return void console.warn("\u26a0\ufe0f Archivo ".concat(n+1," (").concat(e.name,") no tiene datos (URL: ").concat(e.url,", hasData: ").concat(e.hasData,")"));const r=e.folderPath||"game/images/".concat(e.category||"general");console.log("\ud83d\udcc2 Carpeta para ".concat(e.name,": ").concat(r)),o[r]||(o[r]=[]),o[r].push(e)}catch(r){console.error("\u274c Error procesando archivo ".concat(n+1,":"),r)}}),console.log("\ud83d\udcc1 Carpetas organizadas:",Object.keys(o));for(const[t,a]of Object.entries(o))try{console.log("\ud83d\udcc1 Procesando carpeta: ".concat(t," (").concat(a.length," archivos)"));const r=e.folder(t);for(const e of a)try{if(console.log("\ud83d\udcc4 Agregando archivo: ".concat(e.name)),!e.url||"string"!==typeof e.url){console.warn("\u26a0\ufe0f URL inv\xe1lida para ".concat(e.name,":"),e.url);continue}if(!e.url.startsWith("data:")){console.warn("\u26a0\ufe0f URL no es data URL para ".concat(e.name,":"),e.url);continue}const n=e.url.split(",");if(n.length<2){console.warn("\u26a0\ufe0f Data URL malformada para ".concat(e.name));continue}const o=n[1];if(!o){console.warn("\u26a0\ufe0f No hay datos base64 para ".concat(e.name));continue}const a=atob(o),i=new Uint8Array(a.length);for(let e=0;e<a.length;e++)i[e]=a.charCodeAt(e);r.file(e.name,i),console.log("\u2705 Archivo agregado: ".concat(t,"/").concat(e.name))}catch(n){console.error("\u274c Error agregando archivo ".concat(e.name,":"),n)}}catch(n){console.error("\u274c Error procesando carpeta ".concat(t,":"),n)}console.log("\u2705 addFilesToZip completado exitosamente")}catch(n){throw console.error("\u274c Error en addFilesToZip:",n),new Error("Error al agregar archivos al ZIP: ".concat(n.message))}}}const ac=Oe.div(Jl||(Jl=t(["\n  background: rgba(23, 162, 184, 0.1);\n  border: 1px solid rgba(23, 162, 184, 0.3);\n  border-radius: 8px;\n  padding: 16px;\n  margin: 16px 0;\n"]))),ic=Oe.h4(Zl||(Zl=t(["\n  color: var(--color-info);\n  font-size: 16px;\n  margin: 0 0 12px 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n"]))),sc=Oe.ul(Kl||(Kl=t(["\n  margin: 0;\n  padding-left: 20px;\n  color: #cccccc;\n  font-size: 14px;\n  line-height: 1.6;\n"]))),lc=Oe.li(Ql||(Ql=t(["\n  margin-bottom: 8px;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),cc=Oe.span(Xl||(Xl=t(["\n  color: #4a9eff;\n  font-weight: 600;\n"]))),dc=Oe.code(ec||(ec=t(["\n  background: rgba(0, 0, 0, 0.3);\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-family: 'Courier New', monospace;\n  font-size: 12px;\n  color: #ffffff;\n"])));const uc=function(){return(0,Ne.jsxs)(ac,{children:[(0,Ne.jsx)(ic,{children:"\u2139\ufe0f Informaci\xf3n sobre archivos .ryn"}),(0,Ne.jsxs)(sc,{children:[(0,Ne.jsxs)(lc,{children:[(0,Ne.jsx)(cc,{children:"Archivo completo:"})," Contiene todo el proyecto con archivos multimedia"]}),(0,Ne.jsxs)(lc,{children:[(0,Ne.jsx)(cc,{children:"Formato ZIP:"})," Archivo comprimido con estructura organizada"]}),(0,Ne.jsxs)(lc,{children:[(0,Ne.jsx)(cc,{children:"Metadatos:"})," Informaci\xf3n del proyecto, versi\xf3n y fecha de exportaci\xf3n"]}),(0,Ne.jsxs)(lc,{children:[(0,Ne.jsx)(cc,{children:"Estado del editor:"})," Configuraci\xf3n, pesta\xf1as activas y preferencias"]}),(0,Ne.jsxs)(lc,{children:[(0,Ne.jsx)(cc,{children:"Archivos multimedia:"})," Im\xe1genes, videos y audio organizados por categor\xeda"]}),(0,Ne.jsxs)(lc,{children:[(0,Ne.jsx)(cc,{children:"Scripts Ren'Py:"})," C\xf3digo generado para referencia"]}),(0,Ne.jsxs)(lc,{children:[(0,Ne.jsx)(cc,{children:"Verificaci\xf3n:"})," Checksum para verificar integridad del archivo"]}),(0,Ne.jsxs)(lc,{children:[(0,Ne.jsx)(cc,{children:"Portabilidad:"})," Funciona en cualquier instalaci\xf3n de RynEditor"]})]}),(0,Ne.jsxs)("div",{style:{marginTop:"16px",fontSize:"12px",color:"#aaaaaa"},children:[(0,Ne.jsx)("strong",{children:"Estructura del archivo .ryn:"}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(dc,{children:"metadata.json"})," - Informaci\xf3n del proyecto",(0,Ne.jsx)("br",{}),(0,Ne.jsx)(dc,{children:"editor_state.json"})," - Estado completo del editor",(0,Ne.jsx)("br",{}),(0,Ne.jsx)(dc,{children:"media/"})," - Archivos multimedia organizados",(0,Ne.jsx)("br",{}),(0,Ne.jsx)(dc,{children:"renpy/"})," - Scripts Ren'Py generados",(0,Ne.jsx)("br",{}),(0,Ne.jsx)(dc,{children:"verification.json"})," - Verificaci\xf3n de integridad"]})]})};var pc,hc,gc,fc,xc,mc,vc,bc,yc,wc,jc,kc,Sc,_c,Cc,Ec,zc,Pc,Tc,Ic;const Lc=Oe.div(pc||(pc=t(["\n  background: var(--color-gradientSecondary);\n  border-radius: 12px;\n  padding: 24px;\n  margin: 20px 0;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 8px 32px var(--color-shadowStrong);\n  transition: background 0.3s ease, border-color 0.3s ease;\n"]))),Ac=Oe.h2(hc||(hc=t(["\n  color: var(--color-textPrimary);\n  font-size: 24px;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n"]))),Dc=Oe.p(gc||(gc=t(["\n  color: var(--color-textSecondary);\n  font-size: 14px;\n  margin-bottom: 24px;\n  transition: color 0.3s ease;\n"]))),Oc=Oe.div(fc||(fc=t(["\n  margin-bottom: 24px;\n"]))),Nc=Oe.h3(xc||(xc=t(["\n  color: var(--color-primary);\n  font-size: 18px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n"]))),Rc=Oe.div(mc||(mc=t(["\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n"]))),Fc=Oe.button(vc||(vc=t(["\n  background: linear-gradient(135deg, #4a9eff 0%, #3a8eef 100%);\n  color: #ffffff;\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  min-width: 140px;\n  justify-content: center;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(74, 158, 255, 0.3);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n"]))),Mc=(Oe(Fc)(bc||(bc=t(["\n  background: linear-gradient(135deg, #28a745 0%, #218838 100%);\n  \n  &:hover {\n    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);\n  }\n"]))),Oe(Fc)(yc||(yc=t(["\n  background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);\n  color: #333;\n  \n  &:hover {\n    box-shadow: 0 8px 25px rgba(255, 193, 7, 0.3);\n  }\n"])))),Hc=Oe.input(wc||(wc=t(["\n  display: none;\n"]))),Bc=Oe.div(jc||(jc=t(["\n  padding: 12px 16px;\n  border-radius: 8px;\n  margin-top: 16px;\n  font-size: 14px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Wc=Oe(Bc)(kc||(kc=t(["\n  background: rgba(40, 167, 69, 0.1);\n  border: 1px solid rgba(40, 167, 69, 0.3);\n  color: #28a745;\n"]))),Vc=Oe(Bc)(Sc||(Sc=t(["\n  background: rgba(220, 53, 69, 0.1);\n  border: 1px solid rgba(220, 53, 69, 0.3);\n  color: #dc3545;\n"]))),Uc=Oe(Bc)(_c||(_c=t(["\n  background: rgba(23, 162, 184, 0.1);\n  border: 1px solid rgba(23, 162, 184, 0.3);\n  color: #17a2b8;\n"]))),qc=Oe.div(Cc||(Cc=t(["\n  background: rgba(74, 158, 255, 0.1);\n  border: 1px solid rgba(74, 158, 255, 0.3);\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 20px;\n"]))),Gc=Oe.div(Ec||(Ec=t(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 8px;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),Yc=Oe.span(zc||(zc=t(["\n  color: #cccccc;\n  font-weight: 500;\n"]))),$c=Oe.span(Pc||(Pc=t(["\n  color: #ffffff;\n  font-weight: 600;\n"]))),Jc=Oe.div(Tc||(Tc=t(["\n  width: 100%;\n  height: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 4px;\n  overflow: hidden;\n  margin: 12px 0;\n"]))),Zc=Oe.div(Ic||(Ic=t(["\n  height: 100%;\n  background: linear-gradient(90deg, #4a9eff, #3a8eef);\n  width: ","%;\n  transition: width 0.3s ease;\n"])),e=>e.progress);const Kc=function(){const{state:e,dispatch:r}=jo(),[o,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(0),u=(0,n.useRef)(null),p=new $l,h=new tc,g=(()=>{var n,r,o,t,a;return{characters:(null===(n=e.project.characters)||void 0===n?void 0:n.length)||0,sceneFiles:(null===(r=e.project.sceneFiles)||void 0===r?void 0:r.length)||0,totalElements:(null===(o=e.project.sceneFiles)||void 0===o?void 0:o.reduce((e,n)=>{var r;return e+((null===(r=n.elements)||void 0===r?void 0:r.length)||0)},0))||0,variables:(null===(t=e.project.variables)||void 0===t?void 0:t.length)||0,flags:(null===(a=e.project.flags)||void 0===a?void 0:a.length)||0}})();return(0,Ne.jsxs)(Lc,{children:[(0,Ne.jsx)(Ac,{children:"\ud83d\udcbe Sistema de Backup .ryn"}),(0,Ne.jsx)(Dc,{children:"Guarda y restaura tus proyectos completos con todos los archivos multimedia"}),(0,Ne.jsxs)(Oc,{children:[(0,Ne.jsx)(Nc,{children:"\ud83d\udcca Informaci\xf3n del Proyecto Actual"}),(0,Ne.jsxs)(qc,{children:[(0,Ne.jsxs)(Gc,{children:[(0,Ne.jsx)(Yc,{children:"Nombre:"}),(0,Ne.jsx)($c,{children:e.project.name})]}),(0,Ne.jsxs)(Gc,{children:[(0,Ne.jsx)(Yc,{children:"Versi\xf3n:"}),(0,Ne.jsx)($c,{children:e.project.version})]}),(0,Ne.jsxs)(Gc,{children:[(0,Ne.jsx)(Yc,{children:"Personajes:"}),(0,Ne.jsx)($c,{children:g.characters})]}),(0,Ne.jsxs)(Gc,{children:[(0,Ne.jsx)(Yc,{children:"Archivos de escena:"}),(0,Ne.jsx)($c,{children:g.sceneFiles})]}),(0,Ne.jsxs)(Gc,{children:[(0,Ne.jsx)(Yc,{children:"Elementos de script:"}),(0,Ne.jsx)($c,{children:g.totalElements})]}),(0,Ne.jsxs)(Gc,{children:[(0,Ne.jsx)(Yc,{children:"Variables:"}),(0,Ne.jsx)($c,{children:g.variables})]}),(0,Ne.jsxs)(Gc,{children:[(0,Ne.jsx)(Yc,{children:"Flags:"}),(0,Ne.jsx)($c,{children:g.flags})]})]})]}),(0,Ne.jsxs)(Oc,{children:[(0,Ne.jsx)(Nc,{children:"\ud83d\udce4 Exportar Proyecto"}),(0,Ne.jsx)(Rc,{children:(0,Ne.jsx)(Fc,{onClick:async()=>{try{t(!0),l({type:"info",text:"\ud83d\udd04 Preparando exportaci\xf3n..."}),d(10),d(30),l({type:"info",text:"\ud83d\udce6 Empaquetando proyecto..."});const n=await h.exportProjectAsRyn(e.project,e);d(70),l({type:"info",text:"\ud83d\udcbe Generando archivo .ryn..."}),d(100),l({type:"success",text:"\u2705 Proyecto exportado exitosamente: ".concat(n)})}catch(n){l({type:"error",text:"\u274c Error inesperado: ".concat(n.message)})}finally{t(!1),setTimeout(()=>d(0),2e3)}},disabled:o||a,children:o?"\ud83d\udd04 Exportando...":"\ud83d\udcbe Exportar como .ryn"})}),o&&(0,Ne.jsx)(Jc,{children:(0,Ne.jsx)(Zc,{progress:c})})]}),(0,Ne.jsxs)(Oc,{children:[(0,Ne.jsx)(Nc,{children:"\ud83d\udce5 Importar Proyecto"}),(0,Ne.jsx)(Rc,{children:(0,Ne.jsx)(Mc,{onClick:()=>{var e;null===(e=u.current)||void 0===e||e.click()},disabled:o||a,children:a?"\ud83d\udd04 Importando...":"\ud83d\udcc1 Seleccionar archivo .ryn"})}),(0,Ne.jsx)(Hc,{ref:u,type:"file",accept:".ryn",onChange:async e=>{const n=e.target.files[0];if(n)if(n.name.endsWith(".ryn"))try{i(!0),l({type:"info",text:"\ud83d\udd04 Cargando archivo .ryn..."});const e=await p.importProjectFromRyn(n);e.success?(l({type:"success",text:"\u2705 Proyecto importado exitosamente: ".concat(e.metadata.projectName)}),r({type:"LOAD_FULL_STATE",payload:e.fullState}),e.mediaFiles&&console.log("Archivos multimedia restaurados:",e.mediaFiles)):l({type:"error",text:"\u274c Error al importar: ".concat(e.error)})}catch(o){l({type:"error",text:"\u274c Error inesperado: ".concat(o.message)})}finally{i(!1)}else l({type:"error",text:"\u274c Por favor selecciona un archivo .ryn v\xe1lido"})}})]}),s&&(0,Ne.jsxs)(Ne.Fragment,{children:["success"===s.type&&(0,Ne.jsx)(Wc,{children:s.text}),"error"===s.type&&(0,Ne.jsx)(Vc,{children:s.text}),"info"===s.type&&(0,Ne.jsx)(Uc,{children:s.text})]}),(0,Ne.jsx)(uc,{})]})};var Qc,Xc,ed,nd,rd,od,td,ad,id,sd,ld,cd;const dd=Oe.div(Qc||(Qc=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"]))),ud=Oe.div(Xc||(Xc=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  padding: 16px;\n  transition: background-color 0.3s ease;\n"]))),pd=Oe.h3(ed||(ed=t(["\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  color: var(--color-primary);\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 8px;\n  transition: color 0.3s ease, border-color 0.3s ease;\n"]))),hd=Oe.div(nd||(nd=t(["\n  margin-bottom: 12px;\n"]))),gd=Oe.label(rd||(rd=t(["\n  display: block;\n  margin-bottom: 4px;\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  transition: color 0.3s ease;\n"]))),fd=Oe.input(od||(od=t(["\n  width: 100%;\n  background-color: var(--color-border);\n  border: 1px solid var(--color-borderSecondary);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),xd=Oe.textarea(td||(td=t(["\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  min-height: 80px;\n  resize: vertical;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),md=(Oe.div(ad||(ad=t(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n"]))),Oe.div(id||(id=t(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  gap: 6px;\n  margin-bottom: 8px;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"])))),vd=Oe.div(sd||(sd=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  padding: 8px;\n  border-radius: 6px;\n  text-align: center;\n  min-height: 60px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-border);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"]))),bd=Oe.div(ld||(ld=t(["\n  font-size: 18px;\n  font-weight: bold;\n  color: var(--color-primary);\n  line-height: 1.2;\n  transition: color 0.3s ease;\n"]))),yd=Oe.div(cd||(cd=t(["\n  font-size: 10px;\n  color: var(--color-textSecondary);\n  margin-top: 4px;\n  line-height: 1.2;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  hyphens: auto;\n  transition: color 0.3s ease;\n"])));const wd=function(){const{state:e,dispatch:n}=jo(),r=(()=>{var n,r,o,t,a,i,s,l;return{characters:(null===(n=e.project.characters)||void 0===n?void 0:n.length)||0,sceneFiles:(null===(r=e.project.sceneFiles)||void 0===r?void 0:r.length)||0,totalElements:(null===(o=e.project.sceneFiles)||void 0===o?void 0:o.reduce((e,n)=>{var r;return e+((null===(r=n.elements)||void 0===r?void 0:r.length)||0)},0))||0,dialogues:(null===(t=e.project.sceneFiles)||void 0===t?void 0:t.reduce((e,n)=>{var r;return e+((null===(r=n.elements)||void 0===r?void 0:r.filter(e=>"dialogue"===e.type).length)||0)},0))||0,choices:(null===(a=e.project.sceneFiles)||void 0===a?void 0:a.reduce((e,n)=>{var r;return e+((null===(r=n.elements)||void 0===r?void 0:r.filter(e=>"choice"===e.type).length)||0)},0))||0,sceneChanges:(null===(i=e.project.sceneFiles)||void 0===i?void 0:i.reduce((e,n)=>{var r;return e+((null===(r=n.elements)||void 0===r?void 0:r.filter(e=>"scene"===e.type).length)||0)},0))||0,variables:(null===(s=e.project.variables)||void 0===s?void 0:s.length)||0,flags:(null===(l=e.project.flags)||void 0===l?void 0:l.length)||0}})(),o=(()=>{var n,r,o;const t=null===(n=e.project.sceneFiles)||void 0===n?void 0:n.find(n=>n.id===e.project.currentSceneFile),a=e.project.lastModified?new Date(e.project.lastModified).toLocaleString():"No disponible",i=e.autoSaveEnabled?"Activo":"Inactivo",s=e.selectedElement?"".concat(e.selectedElement.type," (l\xednea ").concat(e.selectedElementIndex+1,")"):"Ninguno";return{currentSceneFile:(null===t||void 0===t?void 0:t.displayName)||"Ninguna",currentSceneFileId:(null===t||void 0===t?void 0:t.id)||null,lastModified:a,autoSaveStatus:i,currentElement:s,totalSceneFiles:(null===(r=e.project.sceneFiles)||void 0===r?void 0:r.length)||0,currentSceneFileElements:(null===t||void 0===t||null===(o=t.elements)||void 0===o?void 0:o.length)||0}})();return(0,Ne.jsxs)(dd,{children:[(0,Ne.jsxs)(ud,{children:[(0,Ne.jsx)(pd,{children:"Informaci\xf3n del Proyecto"}),(0,Ne.jsxs)(hd,{children:[(0,Ne.jsx)(gd,{children:"Autor"}),(0,Ne.jsx)(fd,{value:e.project.author,onChange:e=>{n({type:"SET_PROJECT_AUTHOR",payload:e.target.value})},placeholder:"Nombre del autor"})]}),(0,Ne.jsxs)(hd,{children:[(0,Ne.jsx)(gd,{children:"Versi\xf3n"}),(0,Ne.jsx)(fd,{value:e.project.version,onChange:e=>{n({type:"SET_PROJECT_VERSION",payload:e.target.value})},placeholder:"1.0.0"})]}),(0,Ne.jsxs)(hd,{children:[(0,Ne.jsx)(gd,{children:"Descripci\xf3n"}),(0,Ne.jsx)(xd,{value:e.project.description,onChange:e=>{n({type:"SET_PROJECT_DESCRIPTION",payload:e.target.value})},placeholder:"Descripci\xf3n de la novela visual..."})]})]}),(0,Ne.jsxs)(ud,{children:[(0,Ne.jsxs)(pd,{children:["\ud83d\udcca Estad\xedsticas del Proyecto",(0,Ne.jsx)("span",{style:{fontSize:"10px",color:"var(--color-primary)",marginLeft:"8px",fontWeight:"normal"},children:"(Actualizaci\xf3n en tiempo real)"})]}),(0,Ne.jsxs)(md,{children:[(0,Ne.jsxs)(vd,{children:[(0,Ne.jsx)(bd,{children:r.characters}),(0,Ne.jsx)(yd,{children:"Personajes"})]}),(0,Ne.jsxs)(vd,{children:[(0,Ne.jsx)(bd,{children:r.sceneFiles}),(0,Ne.jsx)(yd,{children:"Archivos de Escena"})]}),(0,Ne.jsxs)(vd,{children:[(0,Ne.jsx)(bd,{children:r.totalElements}),(0,Ne.jsx)(yd,{children:"Elementos"})]}),(0,Ne.jsxs)(vd,{children:[(0,Ne.jsx)(bd,{children:r.dialogues}),(0,Ne.jsx)(yd,{children:"Di\xe1logos"})]})]}),(0,Ne.jsxs)(md,{children:[(0,Ne.jsxs)(vd,{children:[(0,Ne.jsx)(bd,{children:r.choices}),(0,Ne.jsx)(yd,{children:"Decisiones"})]}),(0,Ne.jsxs)(vd,{children:[(0,Ne.jsx)(bd,{children:r.sceneChanges}),(0,Ne.jsx)(yd,{children:"Cambios de Escena"})]}),(0,Ne.jsxs)(vd,{children:[(0,Ne.jsx)(bd,{children:r.variables}),(0,Ne.jsx)(yd,{children:"Variables"})]}),(0,Ne.jsxs)(vd,{children:[(0,Ne.jsx)(bd,{children:r.flags}),(0,Ne.jsx)(yd,{children:"Flags"})]})]})]}),(0,Ne.jsxs)(ud,{children:[(0,Ne.jsxs)(pd,{children:["\ud83d\udd04 Estado del Proyecto",(0,Ne.jsx)("span",{style:{fontSize:"10px",color:"var(--color-primary)",marginLeft:"8px",fontWeight:"normal"},children:"(Sincronizado en tiempo real)"})]}),(0,Ne.jsxs)("div",{style:{fontSize:"12px",color:"var(--color-textSecondary)",lineHeight:"1.6"},children:[(0,Ne.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"var(--color-border)",borderRadius:"4px"},children:[(0,Ne.jsx)("strong",{style:{color:"var(--color-primary)"},children:"\ud83d\udcdd Modo de Trabajo:"})," ",e.previewMode?"Vista Previa":"Edici\xf3n"]}),(0,Ne.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"var(--color-border)",borderRadius:"4px"},children:[(0,Ne.jsx)("strong",{style:{color:"var(--color-primary)"},children:"\ud83d\udcc4 Archivo de Escena Actual:"})," ",o.currentSceneFile,o.currentSceneFileElements>0&&(0,Ne.jsxs)("span",{style:{color:"var(--color-success)",marginLeft:"8px"},children:["(",o.currentSceneFileElements," elementos)"]})]}),(0,Ne.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"var(--color-border)",borderRadius:"4px"},children:[(0,Ne.jsx)("strong",{style:{color:"var(--color-primary)"},children:"\ud83c\udfaf Elemento Seleccionado:"})," ",o.currentElement]}),(0,Ne.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"var(--color-border)",borderRadius:"4px"},children:[(0,Ne.jsx)("strong",{style:{color:"var(--color-primary)"},children:"\ud83d\udcbe Auto-guardado:"}),(0,Ne.jsx)("span",{style:{color:"Activo"===o.autoSaveStatus?"var(--color-success)":"var(--color-error)",marginLeft:"8px"},children:o.autoSaveStatus})]}),(0,Ne.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"var(--color-border)",borderRadius:"4px"},children:[(0,Ne.jsx)("strong",{style:{color:"var(--color-primary)"},children:"\u23f0 \xdaltima Modificaci\xf3n:"})," ",o.lastModified]}),(0,Ne.jsxs)("div",{style:{padding:"8px",backgroundColor:"var(--color-border)",borderRadius:"4px"},children:[(0,Ne.jsx)("strong",{style:{color:"var(--color-primary)"},children:"\ud83d\udcca Progreso del Proyecto:"}),(0,Ne.jsxs)("span",{style:{marginLeft:"8px"},children:[o.totalSceneFiles," archivos de escena, ",r.totalElements," elementos totales"]})]})]})]}),(0,Ne.jsx)(Kc,{})]})};var jd,kd,Sd,_d,Cd,Ed,zd,Pd,Td,Id,Ld,Ad,Dd;const Od=Oe.div(jd||(jd=t(["\n  padding: 20px;\n  background-color: var(--color-surface);\n  border-radius: 8px;\n  margin-bottom: 20px;\n  transition: background-color 0.3s ease;\n"]))),Nd=Oe.h3(kd||(kd=t(["\n  color: var(--color-primary);\n  margin-bottom: 15px;\n  font-size: 16px;\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 8px;\n  transition: color 0.3s ease, border-color 0.3s ease;\n"]))),Rd=Oe.div(Sd||(Sd=t(["\n  margin-bottom: 15px;\n"]))),Fd=Oe.label(_d||(_d=t(["\n  display: block;\n  color: var(--color-textPrimary);\n  margin-bottom: 5px;\n  font-size: 14px;\n  transition: color 0.3s ease;\n"]))),Md=Oe.input(Cd||(Cd=t(["\n  width: 100%;\n  padding: 8px;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),Hd=Oe.select(Ed||(Ed=t(["\n  width: 100%;\n  padding: 8px;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),Bd=Oe.textarea(zd||(zd=t(["\n  width: 100%;\n  padding: 8px;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  border-radius: 4px;\n  font-size: 14px;\n  min-height: 80px;\n  resize: vertical;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),Wd=Oe.input(Pd||(Pd=t(["\n  width: 60px;\n  height: 30px;\n  padding: 0;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),Vd=Oe.div(Td||(Td=t(["\n  display: flex;\n  gap: 15px;\n  align-items: center;\n"]))),Ud=Oe.button(Id||(Id=t(["\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  border: 1px solid var(--color-primary);\n  padding: 10px 18px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  margin-right: 10px;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-primaryHover);\n    border-color: var(--color-primaryHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n\n  &.secondary {\n    background-color: var(--color-border);\n    border-color: var(--color-border);\n    \n    &:hover {\n      background-color: var(--color-borderSecondary);\n      border-color: var(--color-borderSecondary);\n    }\n  }\n"]))),qd=Oe.div(Ld||(Ld=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Gd=Oe.input(Ad||(Ad=t(["\n  width: 16px;\n  height: 16px;\n"]))),Yd=Oe.p(Dd||(Dd=t(["\n  color: var(--color-textTertiary);\n  font-size: 12px;\n  margin-top: 5px;\n  font-style: italic;\n  transition: color 0.3s ease;\n"])));const $d=function(){const{state:e,dispatch:r}=jo(),[o,t]=(0,n.useState)({name:e.name||"",version:e.version||"1.0",author:e.author||"",description:e.description||"",screenWidth:1280,screenHeight:720,accentColor:"#0099cc",idleColor:"#888888",hoverColor:"#66c1e0",selectedColor:"#ffffff",textColor:"#ffffff",textFont:"DejaVuSans.ttf",nameFont:"DejaVuSans.ttf",interfaceFont:"DejaVuSans.ttf",textSize:22,nameTextSize:30,interfaceTextSize:22,textboxHeight:185,textboxYAlign:1,nameXPos:240,nameYPos:0,dialogueXPos:268,dialogueYPos:50,dialogueWidth:744,buttonWidth:null,buttonHeight:null,choiceButtonWidth:790,hasSound:!0,hasMusic:!0,hasVoice:!0,enterTransition:"dissolve",exitTransition:"dissolve",intraTransition:"dissolve",windowMode:"auto",historyLength:250,historyHeight:140,saveDirectory:"",thumbnailWidth:256,thumbnailHeight:144,fileSlotCols:3,fileSlotRows:2,language:"unicode",buildName:"",googlePlayKey:"",itchProject:""});(0,n.useEffect)(()=>{const n=e.project.advancedConfig||{},r={name:e.project.name||"",version:e.project.version||"",author:e.project.author||"",description:e.project.description||""};t(e=>kr(kr(kr({},e),n),r))},[e.project]);const a=(e,n)=>{t(r=>kr(kr({},r),{},{[e]:n}))};return(0,Ne.jsxs)(Od,{children:[(0,Ne.jsx)(Nd,{children:"Configuraci\xf3n Avanzada de Ren'Py"}),(0,Ne.jsx)(Nd,{children:"Informaci\xf3n del Proyecto"}),(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Nombre del Juego:"}),(0,Ne.jsx)(Md,{type:"text",value:o.name,onChange:e=>a("name",e.target.value),placeholder:"Nombre de tu novela visual"})]}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Versi\xf3n:"}),(0,Ne.jsx)(Md,{type:"text",value:o.version,onChange:e=>a("version",e.target.value),placeholder:"1.0"})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Autor:"}),(0,Ne.jsx)(Md,{type:"text",value:o.author,onChange:e=>a("author",e.target.value),placeholder:"Tu nombre"})]})]}),(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Descripci\xf3n:"}),(0,Ne.jsx)(Bd,{value:o.description,onChange:e=>a("description",e.target.value),placeholder:"Descripci\xf3n de tu novela visual"})]}),(0,Ne.jsx)(Nd,{children:"Configuraci\xf3n de Pantalla"}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Ancho de Pantalla:"}),(0,Ne.jsx)(Md,{type:"number",value:o.screenWidth,onChange:e=>a("screenWidth",parseInt(e.target.value))})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Alto de Pantalla:"}),(0,Ne.jsx)(Md,{type:"number",value:o.screenHeight,onChange:e=>a("screenHeight",parseInt(e.target.value))})]})]}),(0,Ne.jsx)(Nd,{children:"Colores de Interfaz"}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Color Principal:"}),(0,Ne.jsx)(Wd,{type:"color",value:o.accentColor,onChange:e=>a("accentColor",e.target.value)})]}),(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Color Inactivo:"}),(0,Ne.jsx)(Wd,{type:"color",value:o.idleColor,onChange:e=>a("idleColor",e.target.value)})]}),(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Color Hover:"}),(0,Ne.jsx)(Wd,{type:"color",value:o.hoverColor,onChange:e=>a("hoverColor",e.target.value)})]}),(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Color Seleccionado:"}),(0,Ne.jsx)(Wd,{type:"color",value:o.selectedColor,onChange:e=>a("selectedColor",e.target.value)})]})]}),(0,Ne.jsx)(Nd,{children:"Fuentes"}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Fuente de Texto:"}),(0,Ne.jsx)(Md,{type:"text",value:o.textFont,onChange:e=>a("textFont",e.target.value),placeholder:"DejaVuSans.ttf"})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Fuente de Nombres:"}),(0,Ne.jsx)(Md,{type:"text",value:o.nameFont,onChange:e=>a("nameFont",e.target.value),placeholder:"DejaVuSans.ttf"})]})]}),(0,Ne.jsx)(Nd,{children:"Tama\xf1os de Texto"}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Tama\xf1o de Texto:"}),(0,Ne.jsx)(Md,{type:"number",value:o.textSize,onChange:e=>a("textSize",parseInt(e.target.value))})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Tama\xf1o de Nombres:"}),(0,Ne.jsx)(Md,{type:"number",value:o.nameTextSize,onChange:e=>a("nameTextSize",parseInt(e.target.value))})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Tama\xf1o de Interfaz:"}),(0,Ne.jsx)(Md,{type:"number",value:o.interfaceTextSize,onChange:e=>a("interfaceTextSize",parseInt(e.target.value))})]})]}),(0,Ne.jsx)(Nd,{children:"Configuraci\xf3n de Di\xe1logo"}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Altura de Caja de Texto:"}),(0,Ne.jsx)(Md,{type:"number",value:o.textboxHeight,onChange:e=>a("textboxHeight",parseInt(e.target.value))})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Posici\xf3n Vertical (0.0-1.0):"}),(0,Ne.jsx)(Md,{type:"number",step:"0.1",min:"0",max:"1",value:o.textboxYAlign,onChange:e=>a("textboxYAlign",parseFloat(e.target.value))})]})]}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Posici\xf3n X del Nombre:"}),(0,Ne.jsx)(Md,{type:"number",value:o.nameXPos,onChange:e=>a("nameXPos",parseInt(e.target.value))})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Posici\xf3n Y del Nombre:"}),(0,Ne.jsx)(Md,{type:"number",value:o.nameYPos,onChange:e=>a("nameYPos",parseInt(e.target.value))})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Ancho del Di\xe1logo:"}),(0,Ne.jsx)(Md,{type:"number",value:o.dialogueWidth,onChange:e=>a("dialogueWidth",parseInt(e.target.value))})]})]}),(0,Ne.jsx)(Nd,{children:"Configuraci\xf3n de Audio"}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(qd,{children:[(0,Ne.jsx)(Gd,{type:"checkbox",checked:o.hasSound,onChange:e=>a("hasSound",e.target.checked)}),(0,Ne.jsx)(Fd,{children:"Habilitar Sonidos"})]}),(0,Ne.jsxs)(qd,{children:[(0,Ne.jsx)(Gd,{type:"checkbox",checked:o.hasMusic,onChange:e=>a("hasMusic",e.target.checked)}),(0,Ne.jsx)(Fd,{children:"Habilitar M\xfasica"})]}),(0,Ne.jsxs)(qd,{children:[(0,Ne.jsx)(Gd,{type:"checkbox",checked:o.hasVoice,onChange:e=>a("hasVoice",e.target.checked)}),(0,Ne.jsx)(Fd,{children:"Habilitar Voces"})]})]}),(0,Ne.jsx)(Nd,{children:"Transiciones"}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Transici\xf3n de Entrada:"}),(0,Ne.jsxs)(Hd,{value:o.enterTransition,onChange:e=>a("enterTransition",e.target.value),children:[(0,Ne.jsx)("option",{value:"dissolve",children:"Dissolve"}),(0,Ne.jsx)("option",{value:"fade",children:"Fade"}),(0,Ne.jsx)("option",{value:"pixellate",children:"Pixellate"}),(0,Ne.jsx)("option",{value:"vpunch",children:"Vpunch"}),(0,Ne.jsx)("option",{value:"hpunch",children:"Hpunch"}),(0,Ne.jsx)("option",{value:"None",children:"None"})]})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Transici\xf3n de Salida:"}),(0,Ne.jsxs)(Hd,{value:o.exitTransition,onChange:e=>a("exitTransition",e.target.value),children:[(0,Ne.jsx)("option",{value:"dissolve",children:"Dissolve"}),(0,Ne.jsx)("option",{value:"fade",children:"Fade"}),(0,Ne.jsx)("option",{value:"pixellate",children:"Pixellate"}),(0,Ne.jsx)("option",{value:"vpunch",children:"Vpunch"}),(0,Ne.jsx)("option",{value:"hpunch",children:"Hpunch"}),(0,Ne.jsx)("option",{value:"None",children:"None"})]})]})]}),(0,Ne.jsx)(Nd,{children:"Configuraci\xf3n de Guardado"}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Ancho de Miniatura:"}),(0,Ne.jsx)(Md,{type:"number",value:o.thumbnailWidth,onChange:e=>a("thumbnailWidth",parseInt(e.target.value))})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Alto de Miniatura:"}),(0,Ne.jsx)(Md,{type:"number",value:o.thumbnailHeight,onChange:e=>a("thumbnailHeight",parseInt(e.target.value))})]})]}),(0,Ne.jsxs)(Vd,{children:[(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Columnas de Guardado:"}),(0,Ne.jsx)(Md,{type:"number",value:o.fileSlotCols,onChange:e=>a("fileSlotCols",parseInt(e.target.value))})]}),(0,Ne.jsxs)(Rd,{style:{flex:1},children:[(0,Ne.jsx)(Fd,{children:"Filas de Guardado:"}),(0,Ne.jsx)(Md,{type:"number",value:o.fileSlotRows,onChange:e=>a("fileSlotRows",parseInt(e.target.value))})]})]}),(0,Ne.jsx)(Nd,{children:"Configuraci\xf3n de Build"}),(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Nombre de Build:"}),(0,Ne.jsx)(Md,{type:"text",value:o.buildName,onChange:e=>a("buildName",e.target.value),placeholder:"Nombre para el ejecutable"}),(0,Ne.jsx)(Yd,{children:"Nombre breve para ejecutables y directorios (solo ASCII, sin espacios)"})]}),(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Clave de Google Play (opcional):"}),(0,Ne.jsx)(Md,{type:"text",value:o.googlePlayKey,onChange:e=>a("googlePlayKey",e.target.value),placeholder:"Clave para compras en Google Play"})]}),(0,Ne.jsxs)(Rd,{children:[(0,Ne.jsx)(Fd,{children:"Proyecto de Itch.io (opcional):"}),(0,Ne.jsx)(Md,{type:"text",value:o.itchProject,onChange:e=>a("itchProject",e.target.value),placeholder:"usuario/proyecto"}),(0,Ne.jsx)(Yd,{children:"Formato: usuario/proyecto"})]}),(0,Ne.jsxs)("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:[(0,Ne.jsx)(Ud,{onClick:()=>{r({type:"UPDATE_PROJECT_CONFIG",payload:o}),r({type:"SET_PROJECT_NAME",payload:o.name}),r({type:"SET_PROJECT_VERSION",payload:o.version}),r({type:"SET_PROJECT_AUTHOR",payload:o.author}),r({type:"SET_PROJECT_DESCRIPTION",payload:o.description}),alert("Configuraci\xf3n guardada correctamente")},children:"Guardar Configuraci\xf3n"}),(0,Ne.jsx)(Ud,{className:"secondary",onClick:()=>{window.confirm("\xbfEst\xe1s seguro de que quieres resetear la configuraci\xf3n a los valores por defecto?")&&t(kr(kr({},o),{},{screenWidth:1280,screenHeight:720,accentColor:"#0099cc",idleColor:"#888888",hoverColor:"#66c1e0",selectedColor:"#ffffff",textColor:"#ffffff",textFont:"DejaVuSans.ttf",nameFont:"DejaVuSans.ttf",interfaceFont:"DejaVuSans.ttf",textSize:22,nameTextSize:30,interfaceTextSize:22,textboxHeight:185,textboxYAlign:1,nameXPos:240,nameYPos:0,dialogueXPos:268,dialogueYPos:50,dialogueWidth:744,buttonWidth:null,buttonHeight:null,choiceButtonWidth:790,hasSound:!0,hasMusic:!0,hasVoice:!0,enterTransition:"dissolve",exitTransition:"dissolve",intraTransition:"dissolve",windowMode:"auto",historyLength:250,historyHeight:140,saveDirectory:"",thumbnailWidth:256,thumbnailHeight:144,fileSlotCols:3,fileSlotRows:2,language:"unicode",buildName:"",googlePlayKey:"",itchProject:""}))},children:"Resetear a Valores por Defecto"})]})]})};const Jd=new class{constructor(){this.ws=null,this.roomCode=null,this.isHost=!1,this.isConnected=!1,this.users=new Map,this.cursorPositions=new Map,this.messageHandlers=new Map,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3}connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:3002/collaboration";return new Promise((n,r)=>{try{this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("\ud83d\udd17 Conectado al servidor de colaboraci\xf3n"),this.isConnected=!0,this.reconnectAttempts=0,n()},this.ws.onmessage=e=>{this.handleMessage(e)},this.ws.onclose=e=>{console.log("\ud83d\udd0c Desconectado del servidor de colaboraci\xf3n"),this.isConnected=!1,this.handleDisconnection(e)},this.ws.onerror=e=>{console.error("\u274c Error en conexi\xf3n WebSocket:",e),r(e)}}catch(o){console.error("\u274c Error creando conexi\xf3n WebSocket:",o),r(o)}})}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.isConnected=!1,this.roomCode=null,this.isHost=!1,this.users.clear(),this.cursorPositions.clear()}createRoom(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Host";if(!this.isConnected)throw new Error("No conectado al servidor");this.sendMessage({type:"create_room",payload:{projectData:e,username:n}})}joinRoom(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Usuario";if(!this.isConnected)throw new Error("No conectado al servidor");this.sendMessage({type:"join_room",payload:{roomCode:e.toUpperCase(),username:n}})}leaveRoom(){this.roomCode&&this.sendMessage({type:"leave_room",payload:{}})}sendSyncOperation(e,n){this.roomCode?this.sendMessage({type:"sync_operation",payload:{operation:e,data:n,timestamp:Date.now()}}):console.warn("\u26a0\ufe0f No est\xe1s en una sala")}updateCursor(e){this.roomCode&&this.sendMessage({type:"update_cursor",payload:{cursor:e}})}sendChatMessage(e){this.roomCode&&this.sendMessage({type:"send_chat",payload:{message:e}})}updateUsername(e){this.roomCode&&this.sendMessage({type:"update_username",payload:{username:e}})}sendMessage(e){if(this.ws&&this.ws.readyState===WebSocket.OPEN)try{this.ws.send(JSON.stringify(e))}catch(n){console.error("\u274c Error enviando mensaje:",n)}else console.warn("\u26a0\ufe0f WebSocket no conectado")}handleMessage(e){try{const n=JSON.parse(e.data);switch(n.type){case"connected":this.handleConnected(n);break;case"room_created":this.handleRoomCreated(n);break;case"room_joined":this.handleRoomJoined(n);break;case"user_joined":this.handleUserJoined(n);break;case"user_left":this.handleUserLeft(n);break;case"sync_operation":this.handleSyncOperation(n);break;case"cursor_update":this.handleCursorUpdate(n);break;case"chat_message":this.handleChatMessage(n);break;case"username_updated":this.handleUsernameUpdated(n);break;case"host_transferred":this.handleHostTransferred(n);break;case"room_closed":this.handleRoomClosed(n);break;case"error":this.handleError(n);break;default:console.log("\u26a0\ufe0f Tipo de mensaje no reconocido:",n.type)}}catch(n){console.error("\u274c Error procesando mensaje:",n)}}handleConnected(e){console.log("\u2705 Conectado:",e.message),this.triggerEvent("connected",e)}handleRoomCreated(e){this.roomCode=e.roomCode,this.isHost=!0,console.log("\ud83c\udfe0 Sala creada:",e.roomCode),this.triggerEvent("roomCreated",e)}handleRoomJoined(e){this.roomCode=e.roomCode,this.isHost=!1,console.log("\ud83d\udc64 Unido a sala:",e.roomCode),e.users.forEach(e=>{this.users.set(e.id,e)}),this.triggerEvent("roomJoined",e)}handleUserJoined(e){this.users.set(e.user.id,e.user),console.log("\ud83d\udc64 Usuario se uni\xf3:",e.user.username),this.triggerEvent("userJoined",e)}handleUserLeft(e){this.users.delete(e.user.id),this.cursorPositions.delete(e.user.id),console.log("\ud83d\udc4b Usuario se fue:",e.user.username),this.triggerEvent("userLeft",e)}handleSyncOperation(e){console.log("\ud83d\udd04 Operaci\xf3n de sincronizaci\xf3n:",e.operation),this.triggerEvent("syncOperation",e)}handleCursorUpdate(e){this.cursorPositions.set(e.userId,kr(kr({},e.cursor),{},{username:e.username})),this.triggerEvent("cursorUpdate",e)}handleChatMessage(e){console.log("\ud83d\udcac Chat:",e.username,e.message),this.triggerEvent("chatMessage",e)}handleUsernameUpdated(e){this.users.has(e.userId)&&(this.users.get(e.userId).username=e.newUsername),console.log("\ud83d\udcdd Usuario cambi\xf3 nombre:",e.oldUsername,"\u2192",e.newUsername),this.triggerEvent("usernameUpdated",e)}handleHostTransferred(e){e.newHost.id===this.getUserId()&&(this.isHost=!0,console.log("\ud83d\udc51 Eres el nuevo host")),this.triggerEvent("hostTransferred",e)}handleRoomClosed(e){console.log("\ud83d\uddd1\ufe0f Sala cerrada:",e.message),this.roomCode=null,this.isHost=!1,this.users.clear(),this.cursorPositions.clear(),this.triggerEvent("roomClosed",e)}handleError(e){console.error("\u274c Error del servidor:",e.message),this.triggerEvent("error",e)}handleDisconnection(e){if(this.triggerEvent("disconnected",e),!e.wasClean&&this.roomCode&&this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const e=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log("\ud83d\udd04 Intentando reconectar en ".concat(e,"ms (intento ").concat(this.reconnectAttempts,")")),setTimeout(()=>{this.connect().catch(e=>{console.error("\u274c Error reconectando:",e)})},e)}else this.roomCode||console.log("\ud83d\udd0c Sin sala activa, no se intentar\xe1 reconectar")}on(e,n){this.messageHandlers.has(e)||this.messageHandlers.set(e,[]),this.messageHandlers.get(e).push(n)}off(e,n){if(this.messageHandlers.has(e)){const r=this.messageHandlers.get(e),o=r.indexOf(n);o>-1&&r.splice(o,1)}}triggerEvent(e,n){this.messageHandlers.has(e)&&this.messageHandlers.get(e).forEach(r=>{try{r(n)}catch(o){console.error("\u274c Error en handler de ".concat(e,":"),o)}})}getUserId(){return this.ws?this.ws.userId:null}getRoomCode(){return this.roomCode}getIsHost(){return this.isHost}getIsConnected(){return this.isConnected}getUsers(){return Array.from(this.users.values())}getCursorPositions(){return Array.from(this.cursorPositions.values())}getServerIP(){if(this.ws&&this.ws.url){const e=new URL(this.ws.url);return"".concat(e.hostname,":").concat(e.port)}return null}};const Zd=new class{constructor(){this.publicIP=null,this.localIP=null,this.isDetecting=!1,this.callbacks=[]}async detectPublicIP(){if(this.isDetecting)return new Promise(e=>{this.callbacks.push(e)});this.isDetecting=!0,this.callbacks=[];const e=["https://api.ipify.org?format=json","https://ipapi.co/json/","https://api.myip.com","https://ipinfo.io/json","https://api.ip.sb/geoip"];for(const r of e)try{const e=await fetch(r,{method:"GET",timeout:5e3});if(e.ok){const n=await e.json();if(this.publicIP=n.ip||n.query||n.ipAddress,this.publicIP)return console.log("\ud83c\udf10 IP p\xfablica detectada:",this.publicIP),this.isDetecting=!1,this.notifyCallbacks(this.publicIP),this.publicIP}}catch(n){console.warn("\u26a0\ufe0f Error detectando IP con ".concat(r,":"),n);continue}try{const e=await this.detectIPWithWebRTC();if(e)return this.publicIP=e,console.log("\ud83c\udf10 IP p\xfablica detectada con WebRTC:",this.publicIP),this.isDetecting=!1,this.notifyCallbacks(this.publicIP),this.publicIP}catch(n){console.warn("\u26a0\ufe0f Error detectando IP con WebRTC:",n)}return this.isDetecting=!1,this.notifyCallbacks(null),null}async detectIPWithWebRTC(){return new Promise(e=>{const n=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}]});n.createDataChannel(""),n.createOffer().then(e=>n.setLocalDescription(e)),n.onicecandidate=r=>{if(r.candidate){const o=r.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3})/);if(o){const r=o[1];if(!this.isPrivateIP(r)&&!this.isLocalIP(r))return n.close(),void e(r)}}},setTimeout(()=>{n.close(),e(null)},5e3)})}detectLocalIP(){return new Promise(e=>{const n=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});n.createDataChannel(""),n.createOffer().then(e=>n.setLocalDescription(e));const r=new Set;n.onicecandidate=e=>{if(e.candidate){const n=e.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3})/);if(n){const e=n[1];(this.isPrivateIP(e)||this.isLocalIP(e))&&r.add(e)}}},setTimeout(()=>{n.close();const o=Array.from(r).filter(e=>e.startsWith("192.168.")||e.startsWith("10."));this.localIP=o[0]||Array.from(r)[0],e(this.localIP)},3e3)})}isPrivateIP(e){const n=e.split(".").map(Number);return 192===n[0]&&168===n[1]||(10===n[0]||172===n[0]&&n[1]>=16&&n[1]<=31)}isLocalIP(e){const n=e.split(".").map(Number);return 127===n[0]||169===n[0]&&254===n[1]}notifyCallbacks(e){this.callbacks.forEach(n=>n(e)),this.callbacks=[]}getPublicIP(){return this.publicIP}getLocalIP(){return this.localIP}generateServerURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3002;const n=this.getPublicIP(),r=this.getLocalIP();return n?{public:"ws://".concat(n,":").concat(e,"/collaboration"),local:r?"ws://".concat(r,":").concat(e,"/collaboration"):null,display:"".concat(n,":").concat(e)}:r?{public:null,local:"ws://".concat(r,":").concat(e,"/collaboration"),display:"".concat(r,":").concat(e)}:{public:null,local:null,display:"localhost:3002"}}async detectAllIPs(){const[e,n]=await Promise.all([this.detectPublicIP(),this.detectLocalIP()]);return{public:e,local:n}}};const Kd=new class{constructor(){this.secretKey="ryn-editor-2024",this.generatedCodes=new Map}base64Encode(e){return"undefined"!==typeof btoa?btoa(e):Buffer.from(e,"utf8").toString("base64")}base64Decode(e){return"undefined"!==typeof atob?atob(e):Buffer.from(e,"base64").toString("utf8")}encodeConnectionInfo(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3002;try{const r="".concat(e,":").concat(n,":").concat(Date.now()),o=this.base64Encode(r),t=o.substring(0,12).toUpperCase(),a=this.generateChecksum(t),i="".concat(t,"-").concat(a);return this.generatedCodes.set(i,{ip:e,port:n,timestamp:Date.now(),fullEncoded:o}),i}catch(r){return console.error("Error codificando IP:",r),null}}decodeConnectionInfo(e){try{if(!e||"string"!==typeof e)throw new Error("C\xf3digo inv\xe1lido");const n=e.split("-");if(2!==n.length)throw new Error("Formato de c\xf3digo inv\xe1lido");const[r,o]=n;if(!this.verifyChecksum(r,o))throw new Error("C\xf3digo corrupto o inv\xe1lido");if(this.generatedCodes.has(e)){const n=this.generatedCodes.get(e),r=864e5;if(Date.now()-n.timestamp>r)throw new Error("C\xf3digo expirado");return{ip:n.ip,port:n.port,timestamp:n.timestamp,valid:!0}}const t=this.attemptDecode(r);if(t){const[e,n,r]=t.split(":");if(e&&n){const o=864e5;if(Date.now()-parseInt(r)>o)throw new Error("C\xf3digo expirado");return{ip:e,port:parseInt(n),timestamp:parseInt(r),valid:!0}}}throw new Error("No se pudo decodificar el c\xf3digo")}catch(n){return console.error("Error decodificando c\xf3digo:",n),{valid:!1,error:n.message}}}attemptDecode(e){try{return this.base64Decode(e)}catch(n){try{const n=e+"==";return this.base64Decode(n)}catch(r){try{const n=e+"====";return this.base64Decode(n)}catch(o){return console.error("Error en attemptDecode:",o),null}}}}generateChecksum(e){let n=0;for(let r=0;r<e.length;r++){n=(n<<5)-n+e.charCodeAt(r),n&=n}return Math.abs(n).toString(36).toUpperCase().substring(0,6).padEnd(6,"0")}verifyChecksum(e,n){return this.generateChecksum(e)===n}validateCodeFormat(e){if(!e||"string"!==typeof e)return!1;return/^[A-Z0-9]{12}-[A-Z0-9]{6}$/.test(e)}generateExampleCode(){return this.encodeConnectionInfo("192.168.1.100",3002)}getCodeInfo(e){try{if(!this.validateCodeFormat(e))return{valid:!1,error:"Formato inv\xe1lido"};const n=e.split("-"),[r,o]=n;return this.verifyChecksum(r,o)?{valid:!0,format:"correcto",length:e.length,checksum:"v\xe1lido"}:{valid:!1,error:"Checksum inv\xe1lido"}}catch(n){return{valid:!1,error:n.message}}}cleanupExpiredCodes(){const e=Date.now();for(const[n,r]of this.generatedCodes.entries())e-r.timestamp>864e5&&this.generatedCodes.delete(n)}};var Qd;const Xd=Oe.div(Qd||(Qd=t(["\n  background-color: var(--color-background);\n  border: 2px solid var(--color-primary);\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 16px;\n  \n  .instructions-title {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--color-primary);\n    margin-bottom: 12px;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n  \n  .instructions-content {\n    font-size: 12px;\n    color: var(--color-textPrimary);\n    line-height: 1.5;\n  }\n  \n  .step {\n    margin-bottom: 8px;\n    padding-left: 20px;\n    position: relative;\n    \n    &::before {\n      content: counter(step-counter);\n      counter-increment: step-counter;\n      position: absolute;\n      left: 0;\n      top: 0;\n      background-color: var(--color-primary);\n      color: var(--color-textInverse);\n      width: 16px;\n      height: 16px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 10px;\n      font-weight: 600;\n    }\n  }\n  \n  .steps-list {\n    counter-reset: step-counter;\n  }\n  \n  .highlight {\n    background-color: var(--color-primary);\n    color: var(--color-textInverse);\n    padding: 2px 6px;\n    border-radius: 4px;\n    font-family: 'Courier New', monospace;\n    font-weight: 600;\n  }\n  \n  .toggle-button {\n    background-color: var(--color-surfaceElevated);\n    color: var(--color-textPrimary);\n    border: 1px solid var(--color-border);\n    padding: 6px 12px;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 11px;\n    margin-bottom: 12px;\n    \n    &:hover {\n      background-color: var(--color-borderSecondary);\n    }\n  }\n"])));const eu=function(e){let{serverInfo:r,isHost:o}=e;const[t,a]=(0,n.useState)(!1);return r?(0,Ne.jsxs)(Xd,{children:[(0,Ne.jsxs)("div",{className:"instructions-title",children:["\ud83d\udccb Instrucciones de Conexi\xf3n",(0,Ne.jsx)("button",{className:"toggle-button",onClick:()=>a(!t),children:t?"\ud83d\udc46 Ocultar":"\ud83d\udc47 Mostrar"})]}),t&&(0,Ne.jsx)("div",{className:"instructions-content",children:o?(0,Ne.jsxs)("div",{className:"steps-list",children:[(0,Ne.jsxs)("div",{className:"step",children:[(0,Ne.jsx)("strong",{children:"Comparte esta informaci\xf3n:"})," ",(0,Ne.jsx)("span",{className:"highlight",children:r.display})]}),(0,Ne.jsx)("div",{className:"step",children:"Los otros usuarios deben usar esta IP para conectarse"}),(0,Ne.jsxs)("div",{className:"step",children:["Aseg\xfarate de que el puerto ",(0,Ne.jsx)("span",{className:"highlight",children:"3002"})," est\xe9 abierto en tu firewall"]}),(0,Ne.jsx)("div",{className:"step",children:"Si usas IP local, solo funciona en la misma red WiFi"}),(0,Ne.jsx)("div",{className:"step",children:"Si usas IP p\xfablica, funciona desde cualquier lugar"})]}):(0,Ne.jsxs)("div",{className:"steps-list",children:[(0,Ne.jsxs)("div",{className:"step",children:[(0,Ne.jsx)("strong",{children:"Conecta usando:"})," ",(0,Ne.jsx)("span",{className:"highlight",children:r.display})]}),(0,Ne.jsx)("div",{className:"step",children:'Pega esta IP en el campo "URL del servidor"'}),(0,Ne.jsxs)("div",{className:"step",children:["Agrega ",(0,Ne.jsx)("span",{className:"highlight",children:"ws://"})," al inicio y ",(0,Ne.jsx)("span",{className:"highlight",children:"/collaboration"})," al final"]}),(0,Ne.jsxs)("div",{className:"step",children:["Ejemplo: ",(0,Ne.jsxs)("span",{className:"highlight",children:["ws://",r.display,"/collaboration"]})]}),(0,Ne.jsx)("div",{className:"step",children:"Si no funciona, verifica que el host est\xe9 ejecutando el servidor"})]})})]}):null};var nu,ru,ou,tu,au,iu;const su=Oe.div(nu||(nu=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  border-radius: 12px;\n  padding: 16px;\n  margin-bottom: 16px;\n  color: var(--color-textInverse);\n  box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);\n"]))),lu=Oe.h3(ru||(ru=t(["\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #000000 !important;\n  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);\n  \n  /* Asegurar que el color negro se mantenga */\n  * {\n    color: #000000 !important;\n  }\n"]))),cu=Oe.div(ou||(ou=t(["\n  font-size: 12px;\n  line-height: 1.4;\n"]))),du=Oe.div(tu||(tu=t(["\n  margin-bottom: 8px;\n  padding-left: 20px;\n  position: relative;\n  \n  &::before {\n    content: '","';\n    position: absolute;\n    left: 0;\n    top: 0;\n    background-color: rgba(255, 255, 255, 0.2);\n    color: var(--color-textInverse);\n    width: 16px;\n    height: 16px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 10px;\n    font-weight: 600;\n  }\n"])),e=>e.number),uu=Oe.button(au||(au=t(["\n  background-color: rgba(255, 255, 255, 0.2);\n  color: var(--color-textInverse);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  padding: 6px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 11px;\n  font-weight: 600;\n  margin-top: 8px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: rgba(255, 255, 255, 0.3);\n    border-color: rgba(255, 255, 255, 0.5);\n  }\n"]))),pu=Oe.button(iu||(iu=t(["\n  background-color: rgba(255, 255, 255, 0.9);\n  color: #000000;\n  border: 1px solid #000000;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 600;\n  padding: 4px 8px;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: #000000;\n    color: #ffffff;\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n"])));const hu=function(e){let{onStartRealServer:r}=e;const[o,t]=(0,n.useState)(!1);return(0,Ne.jsxs)(su,{children:[(0,Ne.jsxs)(lu,{children:["\ud83e\udd1d Gu\xeda de Colaboraci\xf3n",(0,Ne.jsx)(pu,{onClick:()=>t(!o),children:o?"\ud83d\udc46 Ocultar":"\ud83d\udc47 Mostrar"})]}),o&&(0,Ne.jsxs)(cu,{children:[(0,Ne.jsxs)(du,{number:"1",children:[(0,Ne.jsx)("strong",{children:"Activa la colaboraci\xf3n"})," usando el bot\xf3n de arriba"]}),(0,Ne.jsxs)(du,{number:"2",children:[(0,Ne.jsx)("strong",{children:"Inicia el servidor real:"}),' Haz clic en "Iniciar Servidor Real" para ver las instrucciones']}),(0,Ne.jsxs)(du,{number:"3",children:[(0,Ne.jsx)("strong",{children:"Navega a la carpeta del editor"})," en la terminal (muy importante)"]}),(0,Ne.jsxs)(du,{number:"4",children:[(0,Ne.jsx)("strong",{children:"Ejecuta el comando"})," que aparece en las instrucciones"]}),(0,Ne.jsxs)(du,{number:"5",children:[(0,Ne.jsx)("strong",{children:"Crea una sala"})," y comparte el c\xf3digo con otros"]}),(0,Ne.jsxs)(du,{number:"6",children:[(0,Ne.jsx)("strong",{children:"\xa1Colabora!"})," Los cambios se sincronizan en tiempo real"]}),(0,Ne.jsxs)(du,{number:"7",children:[(0,Ne.jsx)("strong",{children:"\ud83d\udd10 C\xf3digos seguros:"})," El editor genera c\xf3digos que ocultan tu IP real (ej: ABC123-XYZ789)"]}),(0,Ne.jsxs)(du,{number:"8",children:[(0,Ne.jsx)("strong",{children:"Seguridad:"})," Comparte el c\xf3digo seguro en lugar de tu IP p\xfablica"]}),(0,Ne.jsxs)(du,{number:"9",children:[(0,Ne.jsx)("strong",{children:"\ud83d\udd04 Sincronizaci\xf3n:"})," Todos los cambios se sincronizan autom\xe1ticamente en tiempo real"]}),(0,Ne.jsxs)(du,{number:"10",children:[(0,Ne.jsx)("strong",{children:"\u2728 Colaboraci\xf3n:"})," Edita personajes, script y escenas simult\xe1neamente con otros usuarios"]}),(0,Ne.jsxs)("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[(0,Ne.jsx)(uu,{onClick:r,children:"\ud83c\udfe0 Iniciar Servidor Real"}),(0,Ne.jsx)(uu,{onClick:async()=>{try{await navigator.clipboard.writeText("npm run server:collaboration"),alert("\ud83d\udccb Comando copiado al portapapeles")}catch(e){console.log("No se pudo copiar al portapapeles")}},children:"\ud83d\udccb Copiar Comando"})]})]})]})};var gu,fu,xu,mu,vu,bu,yu,wu,ju,ku,Su,_u,Cu,Eu,zu,Pu,Tu,Iu,Lu,Au,Du,Ou;const Nu=De(gu||(gu=t(["\n  from {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]))),Ru=De(fu||(fu=t(["\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),Fu=De(xu||(xu=t(["\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n  100% {\n    transform: scale(1);\n  }\n"]))),Mu=Oe.div(mu||(mu=t(["\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 1000;\n  \n  @media (max-width: 768px) {\n    bottom: 10px;\n    right: 10px;\n  }\n"]))),Hu=Oe.button(vu||(vu=t(["\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  border: 3px solid var(--color-surface);\n  color: var(--color-textInverse);\n  font-size: 24px;\n  cursor: pointer;\n  box-shadow: 0 8px 24px var(--color-shadowElevated);\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.05);\n    box-shadow: 0 12px 32px var(--color-shadowHover);\n  }\n  \n  &:active {\n    transform: translateY(-1px) scale(1.02);\n  }\n  \n  @media (max-width: 768px) {\n    width: 50px;\n    height: 50px;\n    font-size: 20px;\n  }\n  \n  ","\n"])),e=>e.hasNewMessages&&be(bu||(bu=t(["\n    animation: "," 2s infinite;\n  "])),Fu)),Bu=Oe.div(yu||(yu=t(["\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  width: 20px;\n  height: 20px;\n  background: var(--color-error);\n  color: var(--color-textInverse);\n  border-radius: 50%;\n  font-size: 12px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 2px solid var(--color-surface);\n  \n  @media (max-width: 768px) {\n    width: 16px;\n    height: 16px;\n    font-size: 10px;\n  }\n"]))),Wu=Oe.div(wu||(wu=t(["\n  position: absolute;\n  bottom: 70px;\n  right: 0;\n  width: 350px;\n  height: 400px;\n  background: var(--color-surface);\n  border: 2px solid var(--color-primary);\n  border-radius: 16px;\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\n  display: flex;\n  flex-direction: column;\n  animation: ",";\n  overflow: hidden;\n  \n  @media (max-width: 768px) {\n    width: 280px;\n    height: 350px;\n    bottom: 60px;\n    right: -10px;\n  }\n  \n  @media (max-width: 480px) {\n    width: calc(100vw - 20px);\n    height: 300px;\n    right: 10px;\n    left: 10px;\n    bottom: 60px;\n  }\n"])),be(ju||(ju=t([""," 0.3s ease-out"])),Ru)),Vu=Oe.div(ku||(ku=t(["\n  background: var(--color-primary);\n  color: var(--color-textInverse);\n  padding: 12px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 600;\n  font-size: 14px;\n"]))),Uu=Oe.button(Su||(Su=t(["\n  background: none;\n  border: none;\n  color: var(--color-textInverse);\n  font-size: 18px;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: background-color 0.2s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n  }\n"]))),qu=Oe.div(_u||(_u=t(["\n  flex: 1;\n  padding: 12px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  \n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: var(--color-backgroundSecondary);\n    border-radius: 3px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: var(--color-border);\n    border-radius: 3px;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: var(--color-borderSecondary);\n  }\n"]))),Gu=Oe.div(Cu||(Cu=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  animation: ",";\n"])),be(Eu||(Eu=t([""," 0.3s ease-out"])),Nu)),Yu=Oe.div(zu||(zu=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 11px;\n  color: var(--color-textSecondary);\n"]))),$u=Oe.span(Pu||(Pu=t(["\n  font-weight: 600;\n  color: ",";\n"])),e=>e.isOwn?"var(--color-primary)":"var(--color-textSecondary)"),Ju=Oe.span(Tu||(Tu=t(["\n  font-size: 10px;\n  opacity: 0.7;\n"]))),Zu=Oe.div(Iu||(Iu=t(["\n  background: ",";\n  color: ",";\n  padding: 8px 12px;\n  border-radius: 12px;\n  font-size: 13px;\n  line-height: 1.4;\n  max-width: 80%;\n  align-self: ",";\n  word-wrap: break-word;\n  box-shadow: ",";\n"])),e=>e.isOwn?"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)":"var(--color-surfaceSecondary)",e=>e.isOwn?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.isOwn?"flex-end":"flex-start",e=>e.isOwn?"0 2px 8px rgba(0, 0, 0, 0.1)":"0 1px 4px rgba(0, 0, 0, 0.1)"),Ku=Oe.div(Lu||(Lu=t(["\n  padding: 12px;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  gap: 8px;\n  align-items: center;\n"]))),Qu=Oe.input(Au||(Au=t(["\n  flex: 1;\n  padding: 8px 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 20px;\n  background: var(--color-backgroundSecondary);\n  color: var(--color-textPrimary);\n  font-size: 13px;\n  outline: none;\n  transition: border-color 0.2s ease;\n  \n  &:focus {\n    border-color: var(--color-primary);\n  }\n  \n  &::placeholder {\n    color: var(--color-textTertiary);\n  }\n"]))),Xu=Oe.button(Du||(Du=t(["\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  color: var(--color-textInverse);\n  border: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  transition: all 0.2s ease;\n  \n  &:hover:not(:disabled) {\n    background: var(--color-primaryHover);\n    transform: scale(1.05);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),ep=Oe.div(Ou||(Ou=t(["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  text-align: center;\n  padding: 20px;\n"])));const np=function(e){let{messages:r=[],onSendMessage:o,currentUser:t="Usuario",isConnected:a=!1,roomCode:i=""}=e;const[s,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),[u,p]=(0,n.useState)(!1),h=(0,n.useRef)(null),g=(0,n.useRef)(null);(0,n.useEffect)(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[r]),(0,n.useEffect)(()=>{r.length>0&&!s&&p(!0)},[r,s]),(0,n.useEffect)(()=>{s&&p(!1)},[s]);const f=()=>{c.trim()&&o&&(o(c.trim()),d(""))};return a||i?(0,Ne.jsxs)(Mu,{children:[(0,Ne.jsxs)(Hu,{onClick:()=>l(!s),hasNewMessages:u,title:s?"Cerrar chat":"Abrir chat",children:["\ud83d\udcac",u&&(0,Ne.jsx)(Bu,{children:r.length})]}),s&&(0,Ne.jsxs)(Wu,{children:[(0,Ne.jsxs)(Vu,{children:[(0,Ne.jsxs)("span",{children:["\ud83d\udcac Chat - Sala ",i]}),(0,Ne.jsx)(Uu,{onClick:()=>l(!1),children:"\xd7"})]}),(0,Ne.jsxs)(qu,{ref:g,children:[0===r.length?(0,Ne.jsx)(ep,{children:(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"\ud83d\udcac"}),(0,Ne.jsx)("div",{children:"\xa1Empieza la conversaci\xf3n!"}),(0,Ne.jsx)("div",{style:{fontSize:"11px",opacity:.7,marginTop:"4px"},children:"Escribe un mensaje para tus colaboradores"})]})}):r.map((e,n)=>{return(0,Ne.jsxs)(Gu,{children:[(0,Ne.jsxs)(Yu,{children:[(0,Ne.jsx)($u,{isOwn:e.user===t,children:e.user===t?"T\xfa":e.user}),(0,Ne.jsx)(Ju,{children:(r=e.timestamp,new Date(r).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}))})]}),(0,Ne.jsx)(Zu,{isOwn:e.user===t,children:e.text})]},n);var r}),(0,Ne.jsx)("div",{ref:h})]}),(0,Ne.jsxs)(Ku,{children:[(0,Ne.jsx)(Qu,{value:c,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:"Escribe un mensaje...",disabled:!a}),(0,Ne.jsx)(Xu,{onClick:f,disabled:!c.trim()||!a,children:"\u27a4"})]})]})]}):null};const rp=new class{constructor(){this.isEnabled=!1,this.currentUserId=null,this.pendingOperations=new Set,this.operationQueue=[],this.isProcessingQueue=!1,this.config={debounceDelay:300,maxRetries:3,retryDelay:1e3,conflictResolution:"last-write-wins"}}initialize(e){this.currentUserId=e,this.isEnabled=!0,Jd.on("syncOperation",this.handleIncomingSync.bind(this)),Jd.on("connected",()=>{console.log("\ud83d\udd04 Sistema de sincronizaci\xf3n activado")}),console.log("\ud83d\udd04 SyncManager inicializado para usuario:",e)}disable(){this.isEnabled=!1,this.currentUserId=null,this.pendingOperations.clear(),this.operationQueue=[],Jd.off("syncOperation",this.handleIncomingSync.bind(this)),console.log("\ud83d\udd04 Sistema de sincronizaci\xf3n desactivado")}sendSyncOperation(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isEnabled||!Jd.isConnected)return void console.warn("\u26a0\ufe0f Sincronizaci\xf3n desactivada o sin conexi\xf3n");const o=this.generateOperationId(),t={type:"sync_operation",operation:e,data:n,metadata:kr(kr({},r),{},{operationId:o,userId:this.currentUserId,timestamp:Date.now()})};this.pendingOperations.has(o)?console.log("\ud83d\udd04 Operaci\xf3n ya en cola:",o):(this.pendingOperations.add(o),this.operationQueue.push(t),this.debounceProcessQueue(),console.log("\ud83d\udd04 Operaci\xf3n enviada:",e,n))}debounceProcessQueue(){this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.processQueue()},this.config.debounceDelay)}async processQueue(){if(!this.isProcessingQueue&&0!==this.operationQueue.length){this.isProcessingQueue=!0;try{const e=this.operationQueue.splice(0,10);for(const n of e)await this.sendOperationToServer(n),this.pendingOperations.delete(n.metadata.operationId);this.operationQueue.length>0&&setTimeout(()=>this.processQueue(),50)}catch(e){console.error("\u274c Error procesando cola de sincronizaci\xf3n:",e),this.retryFailedOperations()}finally{this.isProcessingQueue=!1}}}async sendOperationToServer(e){return new Promise((n,r)=>{try{Jd.sendMessage(e),n()}catch(o){r(o)}})}retryFailedOperations(){console.log("\ud83d\udd04 Reintentando operaciones fallidas...")}handleIncomingSync(e){this.isEnabled&&e.metadata&&e.metadata.userId!==this.currentUserId&&(console.log("\ud83d\udd04 Operaci\xf3n recibida:",e.operation,"de usuario:",e.metadata.userId),this.emitSyncEvent(e))}emitSyncEvent(e){const n=new CustomEvent("collaborationSync",{detail:{operation:e.operation,data:e.data,metadata:e.metadata}});window.dispatchEvent(n)}generateOperationId(){return"op_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}syncProjectUpdate(e){this.sendSyncOperation("project_update",e,{description:"Actualizaci\xf3n completa del proyecto"})}syncCharacterAdd(e){this.sendSyncOperation("character_add",e,{description:"Personaje agregado: ".concat(e.name)})}syncCharacterEdit(e){this.sendSyncOperation("character_edit",e,{description:"Personaje editado: ".concat(e.name)})}syncCharacterDelete(e){this.sendSyncOperation("character_delete",{id:e},{description:"Personaje eliminado"})}syncScriptElementAdd(e){this.sendSyncOperation("script_element_add",e,{description:"Elemento agregado: ".concat(e.type)})}syncScriptElementEdit(e){this.sendSyncOperation("script_element_edit",e,{description:"Elemento editado: ".concat(e.type)})}syncScriptElementDelete(e){this.sendSyncOperation("script_element_delete",{id:e},{description:"Elemento eliminado"})}syncScriptElementMove(e,n){this.sendSyncOperation("script_element_move",{id:e,newIndex:n},{description:"Elemento movido"})}syncSceneAdd(e){this.sendSyncOperation("scene_add",e,{description:"Escena agregada: ".concat(e.name)})}syncSceneEdit(e){this.sendSyncOperation("scene_edit",e,{description:"Escena editada: ".concat(e.name)})}syncSceneDelete(e){this.sendSyncOperation("scene_delete",{id:e},{description:"Escena eliminada"})}syncProtagonistConfig(e){this.sendSyncOperation("protagonist_config",e,{description:"Configuraci\xf3n del protagonista actualizada"})}},op=(e,r)=>{const{state:o,dispatch:t}=jo(),a=(0,n.useRef)(null),i=(0,n.useRef)(!1);(0,n.useEffect)(()=>(e&&r?(rp.initialize(r),i.current=!0):i.current&&(rp.disable(),i.current=!1),()=>{i.current&&(rp.disable(),i.current=!1)}),[e,r]),(0,n.useEffect)(()=>{if(!e)return;const n=e=>{const{operation:n,data:r,metadata:o}=e.detail;switch(console.log("\ud83d\udd04 Sincronizaci\xf3n recibida:",n,r),n){case"project_update":s(r);break;case"character_add":l(r);break;case"character_edit":c(r);break;case"character_delete":d(r.id);break;case"script_element_add":u(r);break;case"script_element_edit":p(r);break;case"script_element_delete":h(r.id);break;case"script_element_move":g(r.id,r.newIndex);break;case"scene_add":f(r);break;case"scene_edit":x(r);break;case"scene_delete":m(r.id);break;case"protagonist_config":v(r);break;default:console.warn("\u26a0\ufe0f Operaci\xf3n de sincronizaci\xf3n desconocida:",n)}};return window.addEventListener("collaborationSync",n),()=>{window.removeEventListener("collaborationSync",n)}},[e,t]);const s=(0,n.useCallback)(e=>{t({type:"LOAD_PROJECT",payload:e})},[t]),l=(0,n.useCallback)(e=>{t({type:"ADD_CHARACTER",payload:e})},[t]),c=(0,n.useCallback)(e=>{t({type:"UPDATE_CHARACTER",payload:e})},[t]),d=(0,n.useCallback)(e=>{t({type:"DELETE_CHARACTER",payload:e})},[t]),u=(0,n.useCallback)(e=>{t({type:"ADD_SCRIPT_ELEMENT",payload:e})},[t]),p=(0,n.useCallback)(e=>{t({type:"UPDATE_SCRIPT_ELEMENT",payload:e})},[t]),h=(0,n.useCallback)(e=>{t({type:"DELETE_SCRIPT_ELEMENT",payload:e})},[t]),g=(0,n.useCallback)((e,n)=>{t({type:"MOVE_SCRIPT_ELEMENT",payload:{id:e,newIndex:n}})},[t]),f=(0,n.useCallback)(e=>{t({type:"ADD_SCENE",payload:e})},[t]),x=(0,n.useCallback)(e=>{t({type:"UPDATE_SCENE",payload:e})},[t]),m=(0,n.useCallback)(e=>{t({type:"DELETE_SCENE",payload:e})},[t]),v=(0,n.useCallback)(e=>{t({type:"SET_PROTAGONIST_CONFIG",payload:e})},[t]);(0,n.useEffect)(()=>{if(!e||!i.current)return;const n=o,r=a.current;if(r){if(JSON.stringify(n.characters)!==JSON.stringify(r.characters)){console.log("\ud83d\udd04 Cambios detectados en personajes");const e=n.characters,o=r.characters;e.filter(e=>!o.find(n=>n.id===e.id)).forEach(e=>{rp.syncCharacterAdd(e)}),e.forEach(e=>{const n=o.find(n=>n.id===e.id);n&&JSON.stringify(e)!==JSON.stringify(n)&&rp.syncCharacterEdit(e)});o.filter(n=>!e.find(e=>e.id===n.id)).forEach(e=>{rp.syncCharacterDelete(e.id)})}if(JSON.stringify(n.script)!==JSON.stringify(r.script)){console.log("\ud83d\udd04 Cambios detectados en script");const e=n.script,o=r.script;e.filter(e=>!o.find(n=>n.id===e.id)).forEach(e=>{rp.syncScriptElementAdd(e)}),e.forEach(e=>{const n=o.find(n=>n.id===e.id);n&&JSON.stringify(e)!==JSON.stringify(n)&&rp.syncScriptElementEdit(e)});o.filter(n=>!e.find(e=>e.id===n.id)).forEach(e=>{rp.syncScriptElementDelete(e.id)}),e.length===o.length&&e.forEach((e,n)=>{const r=o.findIndex(n=>n.id===e.id);-1!==r&&r!==n&&rp.syncScriptElementMove(e.id,n)})}if(JSON.stringify(n.scenes)!==JSON.stringify(r.scenes)){console.log("\ud83d\udd04 Cambios detectados en escenas");const e=n.scenes,o=r.scenes;e.filter(e=>!o.find(n=>n.id===e.id)).forEach(e=>{rp.syncSceneAdd(e)}),e.forEach(e=>{const n=o.find(n=>n.id===e.id);n&&JSON.stringify(e)!==JSON.stringify(n)&&rp.syncSceneEdit(e)});o.filter(n=>!e.find(e=>e.id===n.id)).forEach(e=>{rp.syncSceneDelete(e.id)})}JSON.stringify(n.protagonistConfig)!==JSON.stringify(r.protagonistConfig)&&(console.log("\ud83d\udd04 Cambios detectados en configuraci\xf3n del protagonista"),rp.syncProtagonistConfig(n.protagonistConfig))}a.current=JSON.parse(JSON.stringify(n))},[o,e]);return{syncFullProject:(0,n.useCallback)(()=>{e&&i.current&&(console.log("\ud83d\udd04 Sincronizaci\xf3n manual del proyecto completo"),rp.syncProjectUpdate(o.project))},[o.project,e]),isSyncEnabled:e&&i.current}};var tp,ap,ip,sp,lp,cp,dp,up,pp,hp,gp,fp,xp,mp;const vp=De(tp||(tp=t(["\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n"]))),bp=Oe.div(ap||(ap=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  height: 100%;\n  overflow-y: auto;\n  \n  /* Responsive para m\xf3viles */\n  @media (max-width: 768px) {\n    gap: 12px;\n    padding: 8px;\n  }\n  \n  @media (max-width: 480px) {\n    gap: 8px;\n    padding: 4px;\n  }\n"]))),yp=Oe.div(ip||(ip=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  padding: 16px;\n  transition: background-color 0.3s ease;\n  \n  /* Responsive para m\xf3viles */\n  @media (max-width: 768px) {\n    padding: 12px;\n    border-radius: 6px;\n  }\n  \n  @media (max-width: 480px) {\n    padding: 8px;\n    border-radius: 4px;\n  }\n"]))),wp=Oe.h3(sp||(sp=t(["\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  color: var(--color-primary);\n  border-bottom: 1px solid var(--color-border);\n  padding-bottom: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: color 0.3s ease, border-color 0.3s ease;\n  \n  /* Responsive para m\xf3viles */\n  @media (max-width: 768px) {\n    font-size: 13px;\n    margin: 0 0 8px 0;\n    padding-bottom: 6px;\n  }\n  \n  @media (max-width: 480px) {\n    font-size: 12px;\n    margin: 0 0 6px 0;\n    padding-bottom: 4px;\n  }\n"]))),jp=Oe.div(lp||(lp=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  border-radius: 6px;\n  background-color: ",";\n  color: var(--color-textInverse);\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 16px;\n  \n  .indicator-dot {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background-color: var(--color-textInverse);\n    animation: ",";\n  }\n"])),e=>e.connected?"var(--color-success)":e.connecting?"var(--color-warning)":"var(--color-error)",e=>e.connecting?be(cp||(cp=t([""," 1.5s infinite"])),vp):"none"),kp=Oe.button(dp||(dp=t(["\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  border: none;\n  padding: 8px 16px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  width: 100%;\n  margin-bottom: 8px;\n  \n  &:hover:not(:disabled) {\n    background-color: var(--color-primaryHover);\n    transform: translateY(-1px);\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n  \n  &.secondary {\n    background-color: var(--color-surfaceElevated);\n    color: var(--color-textPrimary);\n    border: 1px solid var(--color-border);\n    \n    &:hover:not(:disabled) {\n      background-color: var(--color-borderSecondary);\n    }\n  }\n  \n  &.danger {\n    background-color: var(--color-error);\n    \n    &:hover:not(:disabled) {\n      background-color: var(--color-errorHover);\n    }\n  }\n"]))),Sp=Oe.input(up||(up=t(["\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background-color: var(--color-surface);\n  color: var(--color-textPrimary);\n  font-size: 12px;\n  margin-bottom: 8px;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 2px rgba(74, 158, 255, 0.2);\n  }\n  \n  &::placeholder {\n    color: var(--color-textTertiary);\n  }\n"]))),_p=Oe.div(pp||(pp=t(["\n  background-color: var(--color-background);\n  border: 2px solid var(--color-primary);\n  border-radius: 8px;\n  padding: 12px;\n  text-align: center;\n  margin-bottom: 16px;\n  \n  .room-code {\n    font-size: 24px;\n    font-weight: 700;\n    color: var(--color-primary);\n    letter-spacing: 2px;\n    margin-bottom: 8px;\n  }\n  \n  .room-info {\n    font-size: 11px;\n    color: var(--color-textSecondary);\n  }\n"]))),Cp=Oe.div(hp||(hp=t(["\n  max-height: 200px;\n  overflow-y: auto;\n  margin-bottom: 16px;\n"]))),Ep=Oe.div(gp||(gp=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 8px;\n  border-radius: 4px;\n  background-color: ",";\n  color: ",";\n  font-size: 11px;\n  margin-bottom: 4px;\n  transition: all 0.3s ease;\n  \n  .user-avatar {\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    background-color: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 10px;\n  }\n  \n  .user-name {\n    flex: 1;\n    font-weight: 500;\n  }\n  \n  .user-status {\n    font-size: 10px;\n    opacity: 0.8;\n  }\n"])),e=>e.isHost?"var(--color-primary)":"var(--color-background)",e=>e.isHost?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.isHost?"var(--color-textInverse)":"var(--color-primary)"),zp=Oe.button(fp||(fp=t(["\n  background-color: var(--color-success);\n  color: var(--color-textInverse);\n  border: none;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 10px;\n  margin-left: 8px;\n  \n  &:hover {\n    background-color: var(--color-successHover);\n  }\n"]))),Pp=Oe.div(xp||(xp=t(["\n  background-color: var(--color-background);\n  border: 2px solid var(--color-primary);\n  border-radius: 8px;\n  padding: 12px;\n  margin-bottom: 16px;\n  \n  .server-title {\n    font-size: 12px;\n    font-weight: 600;\n    color: var(--color-primary);\n    margin-bottom: 8px;\n    display: flex;\n    align-items: center;\n    gap: 6px;\n  }\n  \n  .server-ip {\n    font-size: 14px;\n    font-weight: 700;\n    color: var(--color-textPrimary);\n    font-family: 'Courier New', monospace;\n    margin-bottom: 4px;\n  }\n  \n  .server-type {\n    font-size: 10px;\n    color: var(--color-textSecondary);\n    margin-bottom: 8px;\n  }\n  \n  .server-actions {\n    display: flex;\n    gap: 8px;\n  }\n"]))),Tp=Oe.button(mp||(mp=t(["\n  background-color: var(--color-warning);\n  color: var(--color-textInverse);\n  border: none;\n  padding: 6px 12px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 11px;\n  font-weight: 600;\n  \n  &:hover:not(:disabled) {\n    background-color: var(--color-warningHover);\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"])));const Ip=function(){const{state:e,dispatch:r}=jo(),{showAlert:o,showConfirm:t}=Zo(),{showServerStatus:a,showSuccess:i,showError:s,showWarning:l,showInfo:c}=(()=>{const e=(0,n.useContext)(Ct);if(!e)throw new Error("useNotification debe usarse dentro de NotificationProvider");return e})(),[d,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[g,f]=(0,n.useState)(""),[x,m]=(0,n.useState)(!1),[v,b]=(0,n.useState)([]),[y,w]=(0,n.useState)([]),[j,k]=(0,n.useState)(""),[S,_]=(0,n.useState)("Usuario"),[C,E]=(0,n.useState)("ws://localhost:3002/collaboration"),[z,P]=(0,n.useState)(()=>"true"===localStorage.getItem("collaborationEnabled")),[T,I]=(0,n.useState)(null),[L,A]=(0,n.useState)(null),[D,O]=(0,n.useState)(!1),[N,R]=(0,n.useState)(null),[F,M]=(0,n.useState)(null),{syncFullProject:H,isSyncEnabled:B}=op(z&&d,S),W=(0,n.useCallback)(async()=>{try{h(!0),await Jd.connect(C),u(!0),h(!1),a("Conectado al servidor de colaboraci\xf3n","success","\u2705")}catch(e){h(!1),a("Error conectando al servidor: "+e.message,"error","\u274c")}},[C,a]),V=(0,n.useCallback)(()=>{Jd.disconnect(),u(!1),f(""),m(!1),b([]),w([]),a("Desconectado del servidor","info","\ud83d\udd0c")},[a]),U=(0,n.useCallback)(()=>{try{Jd.createRoom(e.project,S),a("Creando sala de colaboraci\xf3n...","info","\ud83c\udfe0")}catch(n){a("Error creando sala: "+n.message,"error","\u274c")}},[e.project,S,a]),q=(0,n.useCallback)(()=>{if(!g.trim())return void l("Ingresa un c\xf3digo de sala","C\xf3digo Requerido","\u26a0\ufe0f");const e=g.trim();if(Kd.validateCodeFormat(e)){const n=Kd.decodeConnectionInfo(e);if(n.valid){const e="ws://".concat(n.ip,":").concat(n.port,"/collaboration");return E(e),a("C\xf3digo decodificado. Conectando a servidor...","info","\ud83d\udd10"),void W()}return void l("C\xf3digo inv\xe1lido: ".concat(n.error),"Error de C\xf3digo","\u274c")}try{Jd.joinRoom(e,S),a("Uni\xe9ndose a la sala...","info","\ud83d\udc64")}catch(n){a("Error uni\xe9ndose a la sala: "+n.message,"error","\u274c")}},[g,S,l,a,W]),G=(0,n.useCallback)(()=>{Jd.leaveRoom(),f(""),m(!1),b([]),w([]),c("Abandonaste la sala","Sala Abandonada","\ud83d\udc4b")},[c]),Y=(0,n.useCallback)(async()=>{try{await navigator.clipboard.writeText(Jd.getRoomCode()),i("C\xf3digo copiado al portapapeles","C\xf3digo Copiado","\ud83d\udccb")}catch(e){s("Error copiando c\xf3digo","Error","\u274c")}},[i,s]),$=(0,n.useCallback)(e=>{e&&e.trim()&&Jd.sendChatMessage(e.trim())},[]),J=(0,n.useCallback)(async()=>{try{O(!0),a("Detectando IPs...","info","\ud83d\udd0d");const e=await Zd.detectAllIPs();I(e.public),A(e.local);const n=Zd.generateServerURL(3002);if(R(n),e.public){const n=Kd.encodeConnectionInfo(e.public,3002);M(n),a("IP p\xfablica detectada y codificada","success","\ud83c\udf10")}else if(e.local){const n=Kd.encodeConnectionInfo(e.local,3002);M(n),a("IP local detectada y codificada","success","\ud83c\udfe0")}else a("No se pudo detectar IP autom\xe1ticamente","warning","\u26a0\ufe0f")}catch(e){console.error("Error detectando IPs:",e),a("Error detectando IPs","error","\u274c")}finally{O(!1)}},[a]),Z=(0,n.useCallback)(async()=>{if(!N)return;const e=N.display;try{await navigator.clipboard.writeText(e),i("".concat(e," copiado al portapapeles"),"IP Copiada","\ud83d\udccb")}catch(n){a("Error copiando informaci\xf3n del servidor","error","\u274c")}},[N,i,a]),K=(0,n.useCallback)(async()=>{if(F)try{await navigator.clipboard.writeText(F),i("C\xf3digo de conexi\xf3n copiado: ".concat(F),"C\xf3digo Copiado","\ud83d\udd10")}catch(e){a("Error copiando c\xf3digo de conexi\xf3n","error","\u274c")}},[F,i,a]),Q=(0,n.useCallback)(async()=>{try{a("Iniciando servidor real de colaboraci\xf3n...","info","\ud83c\udfe0");if(await t("Para iniciar el servidor real, necesitas ejecutar un comando en la terminal.\n\n\xbfQuieres que te muestre las instrucciones paso a paso?","Iniciar Servidor Real","\ud83c\udfe0")){o('\ud83d\ude80 GU\xcdA COMPLETA PARA INICIAR SERVIDOR REAL:\n\n\ud83d\udcc1 PASO 1 - Abrir Terminal en la Carpeta Correcta:\n   \u2022 Presiona Win + R, escribe "cmd" y presiona Enter\n   \u2022 O busca "S\xedmbolo del sistema" en el men\xfa inicio\n   \u2022 Navega a la carpeta del editor:\n     cd C:\\Users\\[TuUsuario]\\Documents\\editor20212\n   \u2022 O si descargaste el editor, ve a donde lo descomprimiste\n\n\ud83d\udcc1 PASO 2 - Verificar que est\xe1s en la carpeta correcta:\n   \u2022 Debes ver archivos como: package.json, collaboration-server.js\n   \u2022 Si ves "El sistema no puede encontrar la ruta", revisa la ubicaci\xf3n\n\n\ud83d\ude80 PASO 3 - Ejecutar el servidor:\n   npm run server:collaboration\n\n\ud83d\udd27 PASO 4 - Alternativa (si npm no funciona):\n   node collaboration-server.js\n\n\u2705 PASO 5 - Verificar que funciona:\n   \u2022 Debes ver: "\ud83d\ude80 Servidor de colaboraci\xf3n iniciado en 0.0.0.0:3002"\n   \u2022 Si hay errores, revisa que Node.js est\xe9 instalado\n\n\ud83d\udca1 IMPORTANTE: Mant\xe9n esta ventana abierta mientras colaboras',"Instrucciones del Servidor","\ud83d\udccb");try{await navigator.clipboard.writeText("npm run server:collaboration"),i("Comando copiado al portapapeles","Comando Copiado","\ud83d\udccb")}catch(e){console.log("No se pudo copiar al portapapeles")}}}catch(e){console.error("Error iniciando servidor real:",e),a("Error mostrando instrucciones del servidor","error","\u274c")}},[a,t]),X=(0,n.useCallback)(async()=>{const e=!z;P(e),localStorage.setItem("collaborationEnabled",e.toString()),e?(a('Colaboraci\xf3n activada - Usa "Iniciar Servidor Real" para comenzar',"info","\ud83e\udd1d"),J()):(d&&V(),a("Colaboraci\xf3n desactivada","info","\ud83d\udeab"))},[z,d,V,a,J]);return(0,n.useEffect)(()=>{const e=e=>{f(e.roomCode),m(!0),i("Sala ".concat(e.roomCode," creada exitosamente"),"Sala Creada","\ud83c\udfe0")},n=e=>{f(e.roomCode),m(!1),b(e.users),i("Te uniste a la sala ".concat(e.roomCode),"Sala Unida","\ud83d\udc64")},r=e=>{b(n=>[...n,e.user]),w(n=>[...n,{type:"system",user:"Sistema",text:"".concat(e.user.username," se uni\xf3 a la sala"),timestamp:Date.now()}])},o=e=>{b(n=>n.filter(n=>n.id!==e.user.id)),w(n=>[...n,{type:"system",user:"Sistema",text:"".concat(e.user.username," abandon\xf3 la sala"),timestamp:Date.now()}])},t=e=>{w(n=>[...n,{type:"user",user:e.username,text:e.message,timestamp:e.timestamp}])},l=e=>{console.log("\ud83d\udd04 Operaci\xf3n de sincronizaci\xf3n recibida:",e.operation,e.data),e.metadata&&e.metadata.description&&a("Sincronizado: ".concat(e.metadata.description),"info","\ud83d\udd04")},c=e=>{s("Error: "+e.message,"Error de Colaboraci\xf3n","\u274c")},d=()=>{u(!1),f(""),m(!1),b([]),w([])};return Jd.on("roomCreated",e),Jd.on("roomJoined",n),Jd.on("userJoined",r),Jd.on("userLeft",o),Jd.on("chatMessage",t),Jd.on("syncOperation",l),Jd.on("error",c),Jd.on("disconnected",d),()=>{Jd.off("roomCreated",e),Jd.off("roomJoined",n),Jd.off("userJoined",r),Jd.off("userLeft",o),Jd.off("chatMessage",t),Jd.off("syncOperation",l),Jd.off("error",c),Jd.off("disconnected",d)}},[i,s]),(0,Ne.jsxs)(bp,{children:[(0,Ne.jsxs)(yp,{children:[(0,Ne.jsxs)(wp,{children:["\ud83e\udd1d Colaboraci\xf3n",(0,Ne.jsx)(kp,{onClick:X,className:z?"danger":"secondary",style:{width:"auto",padding:"4px 8px",fontSize:"10px",margin:0,minHeight:"auto"},children:z?"\ud83d\udeab Desactivar":"\u2705 Activar"})]}),z?(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsxs)(jp,{connected:d,connecting:p,children:[(0,Ne.jsx)("div",{className:"indicator-dot"}),p?"Conectando...":d?"Conectado al servidor":"Desconectado del servidor"]})}):(0,Ne.jsxs)("div",{style:{padding:"12px",backgroundColor:"var(--color-backgroundSecondary)",borderRadius:"6px",textAlign:"center",color:"var(--color-textSecondary)",fontSize:"12px",border:"1px dashed var(--color-border)"},children:[(0,Ne.jsx)("div",{style:{marginBottom:"8px",fontSize:"16px"},children:"\ud83e\udd1d"}),(0,Ne.jsx)("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Colaboraci\xf3n Desactivada"}),(0,Ne.jsx)("div",{style:{fontSize:"11px",opacity:.8,marginBottom:"8px"},children:"Activa la colaboraci\xf3n para trabajar en equipo"}),(0,Ne.jsx)("div",{style:{fontSize:"10px",opacity:.7,fontStyle:"italic",marginBottom:"8px"},children:'\ud83d\udca1 Para colaboraci\xf3n real, activa la colaboraci\xf3n y usa "Iniciar Servidor Real"'}),(0,Ne.jsx)("div",{style:{fontSize:"9px",opacity:.6,fontStyle:"italic"},children:"\ud83d\udd27 Usuarios avanzados: npm run server:collaboration"})]}),z&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(hu,{onStartRealServer:Q}),N&&(0,Ne.jsxs)(Pp,{children:[(0,Ne.jsx)("div",{className:"server-title",children:"\ud83c\udf10 Servidor de Colaboraci\xf3n"}),(0,Ne.jsx)("div",{className:"server-ip",children:N.display}),(0,Ne.jsx)("div",{className:"server-type",children:T?"IP P\xfablica":L?"IP Local":"Localhost"}),(0,Ne.jsxs)("div",{className:"server-actions",children:[(0,Ne.jsx)(zp,{onClick:Z,children:"\ud83d\udccb Copiar IP"}),(0,Ne.jsx)(Tp,{onClick:J,disabled:D,children:D?"\ud83d\udd0d Detectando...":"\ud83d\udd04 Actualizar IP"})]}),F&&(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsxs)("div",{style:{borderTop:"1px solid var(--color-border)",marginTop:"12px",paddingTop:"12px"},children:[(0,Ne.jsx)("div",{className:"server-title",children:"\ud83d\udd10 C\xf3digo de Conexi\xf3n Seguro"}),(0,Ne.jsx)("div",{style:{fontFamily:"monospace",fontSize:"14px",fontWeight:"bold",color:"var(--color-success)",marginBottom:"8px"},children:F}),(0,Ne.jsx)("div",{style:{fontSize:"11px",opacity:.8,marginBottom:"8px",fontStyle:"italic"},children:"\ud83d\udca1 Comparte este c\xf3digo en lugar de la IP real"}),(0,Ne.jsx)(zp,{onClick:K,children:"\ud83d\udd10 Copiar C\xf3digo Seguro"})]})})]}),z&&(0,Ne.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap"},children:[(0,Ne.jsx)(kp,{onClick:Q,className:"primary",style:{backgroundColor:"var(--color-success)"},children:"\ud83c\udfe0 Iniciar Servidor Real"}),(0,Ne.jsx)(kp,{onClick:J,disabled:D,className:"secondary",children:D?"\ud83d\udd0d Detectando...":"\ud83c\udf10 Detectar IP"})]}),N&&(0,Ne.jsx)(eu,{serverInfo:N,isHost:!1}),d?(0,Ne.jsxs)(Ne.Fragment,{children:[g?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(_p,{children:[(0,Ne.jsx)("div",{className:"room-code",children:g}),(0,Ne.jsx)("div",{className:"room-info",children:x?"Sala creada por ti":"Sala de colaboraci\xf3n"})]}),(0,Ne.jsx)(kp,{className:"secondary",onClick:Y,children:"\ud83d\udccb Copiar C\xf3digo"}),(0,Ne.jsx)(Cp,{children:v.map(e=>(0,Ne.jsxs)(Ep,{isHost:e.isHost,children:[(0,Ne.jsx)("div",{className:"user-avatar",children:e.username.charAt(0).toUpperCase()}),(0,Ne.jsx)("div",{className:"user-name",children:e.username}),e.isHost&&(0,Ne.jsx)("div",{className:"user-status",children:"Host"})]},e.id))}),(0,Ne.jsx)(kp,{className:"danger",onClick:G,children:"\ud83d\udeaa Abandonar Sala"})]}):(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(Sp,{type:"text",placeholder:"C\xf3digo de sala o c\xf3digo seguro",value:g,onChange:e=>f(e.target.value)}),(0,Ne.jsx)("div",{style:{fontSize:"10px",opacity:.7,marginTop:"4px",marginBottom:"8px",fontStyle:"italic"},children:"\ud83d\udca1 Acepta c\xf3digos normales (ABC123) o c\xf3digos seguros (ABC123-XYZ789)"}),(0,Ne.jsx)(kp,{onClick:U,children:"\ud83c\udfe0 Crear Sala"}),(0,Ne.jsx)(kp,{className:"secondary",onClick:q,children:"\ud83d\udc64 Unirse a Sala"})]}),B&&(0,Ne.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px",padding:"8px",backgroundColor:"rgba(74, 158, 255, 0.1)",borderRadius:"6px",border:"1px solid rgba(74, 158, 255, 0.3)"},children:[(0,Ne.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#4ade80",animation:"pulse 2s infinite"}}),(0,Ne.jsx)("span",{style:{fontSize:"12px",color:"var(--color-primary)",fontWeight:"600"},children:"Sincronizaci\xf3n Activa"}),(0,Ne.jsx)(kp,{onClick:H,style:{fontSize:"10px",padding:"4px 8px",backgroundColor:"var(--color-primary)",color:"white"},children:"\ud83d\udd04 Sincronizar"})]}),(0,Ne.jsx)(kp,{className:"danger",onClick:V,children:"\ud83d\udd0c Desconectar"})]}):(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(Sp,{type:"text",placeholder:"URL del servidor (ej: ws://localhost:3002/collaboration)",value:C,onChange:e=>E(e.target.value)}),(0,Ne.jsx)(Sp,{type:"text",placeholder:"Tu nombre de usuario",value:S,onChange:e=>_(e.target.value)}),(0,Ne.jsx)(kp,{onClick:W,disabled:p,children:p?"Conectando...":"Conectar"})]})]})]}),(g||x)&&(0,Ne.jsx)(np,{messages:y,onSendMessage:$,currentUser:S,isConnected:d,roomCode:g})]})},Lp=e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 9H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 13H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 17H13",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Ap=e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"9",cy:"7",r:"4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M23 21V19C23 18.1645 22.7155 17.3541 22.2094 16.7006C21.7033 16.0471 20.9999 15.5904 20.2 15.4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45768C17.623 10.1593 16.8604 10.6597 16 10.88",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Dp=e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 9H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 15H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 21H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Op=e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 13H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 17H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 9H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Np=e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"9",cy:"7",r:"4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M23 21V19C23 18.1645 22.7155 17.3541 22.2094 16.7006C21.7033 16.0471 20.9999 15.5904 20.2 15.4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45768C17.623 10.1593 16.8604 10.6597 16 10.88",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 12L16 8L20 12",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Rp=e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14.7 6.3C15.1 5.9 15.1 5.3 14.7 4.9L13.8 4C13.4 3.6 12.8 3.6 12.4 4L11.5 4.9C11.1 5.3 11.1 5.9 11.5 6.3L14.7 6.3Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M20.1 12.9L19.2 12C18.8 11.6 18.2 11.6 17.8 12L16.9 12.9C16.5 13.3 16.5 13.9 16.9 14.3L20.1 12.9Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8.3 18.7L7.4 17.8C7 17.4 6.4 17.4 6 17.8L5.1 18.7C4.7 19.1 4.7 19.7 5.1 20.1L8.3 18.7Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 12L12 8L16 12",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 2V6",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 18V22",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Fp=e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M7 10L12 15L17 10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 15V3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Mp=e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.2569 9.77251 19.9859C9.5799 19.7148 9.31074 19.5053 9 19.38C8.69838 19.2469 8.36381 19.2072 8.03941 19.266C7.71502 19.3248 7.41568 19.4795 7.18 19.71L7.12 19.77C6.93425 19.956 6.71368 20.1035 6.47088 20.2041C6.22808 20.3048 5.96783 20.3566 5.705 20.3566C5.44217 20.3566 5.18192 20.3048 4.93912 20.2041C4.69632 20.1035 4.47575 19.956 4.29 19.77C4.10405 19.5843 3.95653 19.3637 3.85588 19.1209C3.75523 18.8781 3.70343 18.6178 3.70343 18.355C3.70343 18.0922 3.75523 17.8319 3.85588 17.5891C3.95653 17.3463 4.10405 17.1257 4.29 16.94L4.35 16.88C4.58054 16.6443 4.73519 16.345 4.794 16.0206C4.85282 15.6962 4.81312 15.3616 4.68 15.06C4.55324 14.7642 4.34276 14.512 4.07447 14.3343C3.80618 14.1566 3.49179 14.0613 3.17 14.06H3C2.46957 14.06 1.96086 14.2707 1.58579 14.6458C1.21071 15.0209 1 15.5296 1 16.06C1 16.5904 1.21071 17.0991 1.58579 17.4742C1.96086 17.8493 2.46957 18.06 3 18.06H3.09C3.42099 18.0677 3.743 18.1749 4.014 18.3675C4.285 18.5601 4.49453 18.8293 4.62 19.14L4.68 19.2C4.81312 19.5016 4.85282 19.8362 4.794 20.1606C4.73519 20.485 4.58054 20.7843 4.35 21.02L4.29 21.08C4.10405 21.266 3.88348 21.4135 3.64068 21.5141C3.39788 21.6148 3.13763 21.6666 2.8748 21.6666C2.61197 21.6666 2.35172 21.6148 2.10892 21.5141C1.86612 21.4135 1.64555 21.266 1.4598 21.08C1.27385 20.8943 1.12633 20.6737 1.02568 20.4309C0.92503 20.1881 0.87323 19.9278 0.87323 19.665C0.87323 19.4022 0.92503 19.1419 1.02568 18.8991C1.12633 18.6563 1.27385 18.4357 1.4598 18.25L1.5198 18.19C1.75537 17.9595 1.91002 17.6602 1.96884 17.3358C2.02765 17.0114 1.98795 16.6768 1.8548 16.375V16.375Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Hp=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M8 3H5C4.46957 3 3.96086 3.21071 3.58579 3.58579C3.21071 3.96086 3 4.46957 3 5V8M21 8V5C21 4.46957 20.7893 3.96086 20.4142 3.58579C20.0391 3.21071 19.5304 3 19 3H16M16 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V16M3 16V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 8L16 12L12 16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 12H16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Bp=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M9 12L11 14L15 10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Wp=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ne.jsx)("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},Vp=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M21 16V8C21 7.46957 20.7893 6.96086 20.4142 6.58579C20.0391 6.21071 19.5304 6 19 6H5C4.46957 6 3.96086 6.21071 3.58579 6.58579C3.21071 6.96086 3 7.46957 3 8V16C3 16.5304 3.21071 17.0391 3.58579 17.4142C3.96086 17.7893 4.46957 18 5 18H19C19.5304 18 20.0391 17.7893 20.4142 17.4142C20.7893 17.0391 21 16.5304 21 16Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M7 10H17",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M7 14H13",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Up=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M18 20V10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 20V4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M6 20V14",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},qp=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 13H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 17H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 9H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Gp=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 15L16 10L5 21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Yp=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 13H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 17H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 9H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},$p=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M2 17L12 22L22 17",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M2 12L12 17L22 12",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Jp=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 8V12L15 15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})};var Zp,Kp,Qp,Xp,eh,nh,rh,oh,th,ah,ih,sh,lh,ch,dh,uh,ph,hh,gh,fh,xh,mh,vh,bh,yh,wh,jh,kh,Sh;const _h=De(Zp||(Zp=t(["\n  0%, 100% { transform: translateY(-50%) scale(1); }\n  50% { transform: translateY(-50%) scale(1.05); }\n"]))),Ch=(De(Kp||(Kp=t(["\n  from {\n    transform: translateX(-100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n"]))),De(Qp||(Qp=t(["\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n"])))),Eh=Oe.div(Xp||(Xp=t(["\n  position: fixed;\n  left: 0;\n  top: 80px; /* M\xe1s abajo para no tapar el logo */\n  bottom: 0;\n  width: ",";\n  background-color: var(--color-surface);\n  border-right: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 100;\n  box-shadow: ",";\n  \n  /* Esquinas redondeadas din\xe1micas */\n  border-radius: ",";\n  \n  /* Efecto de suavizado en los bordes */\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n"])),e=>e.activePanel?"420px":e.expanded?"280px":"60px",e=>e.expanded?"0 4px 20px var(--color-shadow)":"0 2px 8px var(--color-shadow)",e=>e.activePanel?"0 16px 16px 0":e.expanded?"0 12px 12px 0":"0 8px 8px 0"),zh=Oe.div(eh||(eh=t(["\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  width: 32px;\n  height: 32px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  border: 3px solid var(--color-surface);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: var(--color-textInverse);\n  font-size: 14px;\n  font-weight: bold;\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 101;\n  box-shadow: 0 4px 16px rgba(74, 158, 255, 0.3);\n  \n  /* Efecto de brillo sutil */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    right: 2px;\n    height: 40%;\n    background: linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);\n    border-radius: 50% 50% 0 0;\n    pointer-events: none;\n  }\n\n  &:hover {\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n    transform: scale(1.15) rotate(5deg);\n    box-shadow: 0 6px 20px rgba(74, 158, 255, 0.4);\n    border-width: 4px;\n  }\n\n  &:active {\n    transform: scale(1.05) rotate(2deg);\n    box-shadow: 0 2px 12px rgba(74, 158, 255, 0.3);\n  }\n"]))),Ph=Oe.div(nh||(nh=t(["\n  display: flex;\n  flex-direction: column;\n  padding: 16px 0; // Reducir padding para mejor aprovechamiento del espacio\n  gap: 8px; // Aumentar gap para mejor separaci\xf3n\n  transition: all 0.3s ease;\n"]))),Th=Oe.div(rh||(rh=t(["\n  display: flex;\n  height: 100%;\n  flex: 1;\n"]))),Ih=Oe.div(oh||(oh=t(["\n  width: ",";\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  display: flex;\n  flex-direction: column;\n  border-right: ",";\n"])),e=>e.activePanel?"60px":"100%",e=>e.activePanel?"1px solid var(--color-border)":"none"),Lh=Oe.div(th||(th=t(["\n  flex: 1;\n  display: ",";\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n  height: 100%;\n"])),e=>e.activePanel?"flex":"none"),Ah=Oe.button(ah||(ah=t(["\n  display: flex;\n  align-items: center;\n  padding: ","; // Padding uniforme para tabs compactos\n  background-color: ",";\n  color: ",";\n  border: none;\n  cursor: pointer;\n  font-size: ",";\n  font-weight: 500;\n  transition: all 0.3s ease;\n  border-radius: ",";\n  margin: ",";\n  width: ",";\n  height: ","; // Mantener altura consistente\n  justify-content: ",";\n  position: relative;\n  overflow: hidden;\n\n  &:hover {\n    background-color: ",";\n    transform: ",";\n  }\n\n  &:active {\n    transform: ",";\n  }\n"])),e=>e.compact?"10px":"12px 16px",e=>e.active?"var(--color-primary)":"transparent",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.compact?"12px":"14px",e=>e.compact?"50%":e.expanded?"0 20px 20px 0":"50%",e=>e.compact?"0 auto":e.expanded?"0 8px 0 0":"0 auto",e=>e.compact?"44px":e.expanded?"auto":"44px",e=>(e.compact,"44px"),e=>e.expanded&&!e.compact?"flex-start":"center",e=>e.active?"var(--color-primaryHover)":"var(--color-backgroundSecondary)",e=>e.compact?"scale(1.1)":e.expanded?"translateX(4px)":"scale(1.1)",e=>e.compact?"scale(0.95)":e.expanded?"translateX(2px)":"scale(0.95)"),Dh=Oe.span(ih||(ih=t(["\n  font-size: ","; // Mantener tama\xf1o consistente para mejor visibilidad\n  min-width: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  line-height: 1;\n"])),e=>(e.compact,"18px"),e=>(e.compact,"20px")),Oh=Oe.span(sh||(sh=t(["\n  margin-left: 12px;\n  opacity: ",";\n  transform: translateX(",");\n  transition: all 0.3s ease;\n  white-space: nowrap;\n  display: ",";\n"])),e=>e.expanded&&!e.compact?1:0,e=>e.expanded&&!e.compact?"0":"-10px",e=>e.compact?"none":"block"),Nh=Oe.div(lh||(lh=t(["\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 16px;\n  background-color: var(--color-backgroundSecondary);\n  border-left: 1px solid var(--color-border);\n  position: relative;\n  height: 100%;\n  \n  /* Scroll suave y personalizado */\n  scroll-behavior: auto; /* Cambiar a auto para mejor control manual */\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-border) transparent;\n  \n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background-color: var(--color-border);\n    border-radius: 3px;\n    transition: background-color 0.3s ease;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background-color: var(--color-primary);\n  }\n  \n  /* Estilos para mejor legibilidad */\n  h3 {\n    font-size: 16px;\n    margin-bottom: 16px;\n    color: var(--color-primary);\n    font-weight: 600;\n  }\n  \n  /* Mejorar spacing en formularios */\n  .form-group {\n    margin-bottom: 16px;\n  }\n  \n  label {\n    display: block;\n    font-size: 13px;\n    font-weight: 500;\n    margin-bottom: 6px;\n    color: var(--color-textSecondary);\n  }\n  \n  input, textarea, select {\n    width: 100%;\n    font-size: 13px;\n    padding: 8px 12px;\n  }\n  \n  button {\n    font-size: 12px;\n    padding: 6px 12px;\n  }\n"]))),Rh=Oe.div(ch||(ch=t(["\n  position: absolute;\n  left: 60px;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: var(--color-backgroundElevated);\n  color: var(--color-textPrimary);\n  padding: 8px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n  white-space: nowrap;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.2s ease;\n  pointer-events: none;\n  z-index: 1000;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &::before {\n    content: '';\n    position: absolute;\n    right: 100%;\n    top: 50%;\n    transform: translateY(-50%);\n    border: 5px solid transparent;\n    border-right-color: var(--color-border);\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    right: 100%;\n    top: 50%;\n    transform: translateY(-50%) translateX(1px);\n    border: 4px solid transparent;\n    border-right-color: var(--color-backgroundElevated);\n  }\n\n  ",":hover & {\n    opacity: ",";\n    visibility: ",";\n  }\n"])),Ah,e=>e.expanded?0:1,e=>e.expanded?"hidden":"visible"),Fh=Oe.div(dh||(dh=t(["\n  position: fixed;\n  top: 72px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.08);\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.3s ease;\n  z-index: 99;\n  pointer-events: none;\n"])),e=>e.visible?1:0,e=>e.visible?"visible":"hidden"),Mh=Oe.div(uh||(uh=t(["\n  position: absolute;\n  top: 50%;\n  right: 8px;\n  transform: translateY(-50%);\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  border-radius: 16px;\n  font-size: 11px;\n  font-weight: 600;\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  pointer-events: none;\n  z-index: 102;\n  white-space: nowrap;\n  box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  \n  /* Efecto de pulso sutil */\n  animation: ",";\n"])),e=>e.visible?.9:0,e=>e.visible?"visible":"hidden",e=>e.visible?be(ph||(ph=t([""," 2s ease-in-out infinite"])),_h):"none"),Hh=Oe.div(hh||(hh=t(["\n  position: absolute;\n  bottom: 16px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n  color: var(--color-textSecondary);\n  padding: 10px 14px;\n  border-radius: 20px;\n  font-size: 11px;\n  font-weight: 500;\n  border: 1px solid var(--color-border);\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  pointer-events: none;\n  z-index: 102;\n  white-space: nowrap;\n  box-shadow: 0 4px 16px var(--color-shadow);\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n  \n  &::before {\n    content: '\ud83d\uddb1\ufe0f';\n    margin-right: 8px;\n    font-size: 12px;\n  }\n  \n  /* Animaci\xf3n de entrada suave */\n  transform: ",";\n"])),e=>e.visible?.95:0,e=>e.visible?"visible":"hidden",e=>e.visible?"translateX(-50%) translateY(0) scale(1)":"translateX(-50%) translateY(10px) scale(0.9)"),Bh=Oe.div(gh||(gh=t(["\n  display: flex;\n  flex-direction: column;\n  background-color: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  margin: 8px 12px;\n  padding: 8px;\n  gap: 4px;\n  box-shadow: 0 4px 12px var(--color-shadow);\n"]))),Wh=Oe.button(fh||(fh=t(["\n  display: flex;\n  align-items: center;\n  padding: 10px 14px;\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  text-align: left;\n  \n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px var(--color-shadow);\n    color: ",";\n  }\n  \n  &:active {\n    transform: scale(0.98);\n  }\n"])),e=>e.active?"var(--color-primary)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-primary)":"var(--color-border)",e=>e.active?"var(--color-primaryHover)":"var(--color-surfaceElevated)",e=>e.active?"var(--color-primaryHover)":"var(--color-borderSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)"),Vh=Oe.span(xh||(xh=t(["\n  font-size: 14px;\n  margin-right: 8px;\n  min-width: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Uh=Oe.span(mh||(mh=t(["\n  font-size: 11px;\n  font-weight: 500;\n"]))),qh=Oe.div(vh||(vh=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n"])),e=>e.visible?"flex":"none"),Gh=Oe.div(bh||(bh=t(["\n  background-color: var(--color-surface);\n  border-radius: 16px;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  max-width: 400px;\n  width: 90%;\n  padding: 24px;\n  animation: ",";\n"])),be(yh||(yh=t([""," 0.3s ease-out"])),Ch)),Yh=Oe.h3(wh||(wh=t(["\n  margin: 0 0 16px 0;\n  color: var(--color-textPrimary);\n  font-size: 18px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),$h=Oe.p(jh||(jh=t(["\n  margin: 0 0 20px 0;\n  color: var(--color-textSecondary);\n  font-size: 14px;\n  line-height: 1.5;\n"]))),Jh=Oe.div(kh||(kh=t(["\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n"]))),Zh=Oe.button(Sh||(Sh=t(["\n  padding: 10px 20px;\n  border-radius: 8px;\n  border: none;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &.primary {\n    background-color: var(--color-primary);\n    color: var(--color-textInverse);\n    \n    &:hover {\n      background-color: var(--color-primaryHover);\n      transform: translateY(-1px);\n    }\n  }\n  \n  &.secondary {\n    background-color: transparent;\n    color: var(--color-textSecondary);\n    border: 1px solid var(--color-border);\n    \n    &:hover {\n      background-color: var(--color-backgroundSecondary);\n      color: var(--color-textPrimary);\n    }\n  }\n"])));const Kh=function(){const{storage:e}=jo(),[r,o]=(0,n.useState)(()=>e.getLastActiveTab()),[t,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[p,h]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1),[x,m]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),y=(0,n.useRef)(null),w=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=e=>{const{type:n,sceneFileId:r,insertIndex:t}=e.detail;console.log("Sidebar: Recibido evento para abrir sidebar:",{type:n,sceneFileId:r,insertIndex:t}),a(!0),u("script"),o("script"),setTimeout(()=>{window.addElementToScene&&window.addElementToScene(n,r,t)},200)};return window.addEventListener("openSidebarForElementCreation",e),document.addEventListener("openSidebarForElementCreation",e),()=>{window.removeEventListener("openSidebarForElementCreation",e),document.removeEventListener("openSidebarForElementCreation",e)}},[]);const j=(0,n.useRef)(null),k=[{id:"project",label:"Proyecto",icon:Lp},{id:"characters",label:"Personajes",icon:Ap},{id:"scenes",label:"Escenas",icon:Dp},{id:"script",label:"Script",icon:Op},{id:"collaboration",label:"Colaboraci\xf3n",icon:Np},{id:"tools",label:"Herramientas",icon:Rp,hasSubmenu:!0},{id:"downloads",label:"Descargas",icon:Fp,hasSubmenu:!0},{id:"config",label:"Configuraci\xf3n",icon:Mp}],S=e=>{switch(e){case"tools":return"converter";case"downloads":return"templates";default:return null}};(0,n.useEffect)(()=>{if(d&&w.current){w.current.scrollHeight>w.current.clientHeight&&(f(!0),j.current=setTimeout(()=>{f(!1)},3e3))}else f(!1);return()=>{j.current&&clearTimeout(j.current)}},[d]),(0,n.useEffect)(()=>{const e=e=>{const n=w.current;if(!n)return;n.scrollHeight>n.clientHeight&&(m(!0),f(!1),setTimeout(()=>{m(!1)},1e3))},n=w.current;return d&&n&&n.addEventListener("wheel",e),()=>{n&&n.removeEventListener("wheel",e)}},[d]),(0,n.useEffect)(()=>()=>{l&&clearTimeout(l)},[l]);const _=e=>{switch(e){case"tools":return[{id:"converter",label:"Convertidor",icon:Hp},{id:"validator",label:"Validador",icon:Bp},{id:"optimizer",label:"Optimizador",icon:Wp},{id:"backup",label:"Respaldo",icon:Vp},{id:"analytics",label:"An\xe1lisis",icon:Up}];case"downloads":return[{id:"templates",label:"Plantillas",icon:qp},{id:"assets",label:"Recursos",icon:Gp},{id:"scripts",label:"Scripts",icon:Yp},{id:"extensions",label:"Extensiones",icon:$p},{id:"updates",label:"Actualizaciones/Descargas",icon:Jp}];default:return[]}},C=()=>{var e;return(0,Ne.jsxs)("div",{style:{padding:"16px",textAlign:"center"},children:[(0,Ne.jsx)("h3",{style:{marginBottom:"16px",color:"var(--color-primary)"},children:"\ud83d\udd27 Herramientas"}),(0,Ne.jsxs)("div",{style:{padding:"20px",backgroundColor:"var(--color-backgroundTertiary)",borderRadius:"8px",border:"1px solid var(--color-border)"},children:[(0,Ne.jsx)("p",{style:{color:"var(--color-textSecondary)",marginBottom:"16px"},children:"Selecciona una herramienta del submen\xfa para comenzar"}),p&&(0,Ne.jsxs)("div",{style:{padding:"12px",backgroundColor:"var(--color-primary)",color:"var(--color-textInverse)",borderRadius:"6px",fontSize:"12px"},children:[null===(e=_("tools").find(e=>e.id===p))||void 0===e?void 0:e.label," - Pr\xf3ximamente"]})]})]})},E=()=>{var e;return"updates"===p?z():(0,Ne.jsxs)("div",{style:{padding:"16px",textAlign:"center"},children:[(0,Ne.jsx)("h3",{style:{marginBottom:"16px",color:"var(--color-primary)"},children:"\u2b07\ufe0f Descargas"}),(0,Ne.jsxs)("div",{style:{padding:"20px",backgroundColor:"var(--color-backgroundTertiary)",borderRadius:"8px",border:"1px solid var(--color-border)"},children:[(0,Ne.jsx)("p",{style:{color:"var(--color-textSecondary)",marginBottom:"16px"},children:"Selecciona una categor\xeda del submen\xfa para descargar recursos"}),p&&(0,Ne.jsxs)("div",{style:{padding:"12px",backgroundColor:"var(--color-primary)",color:"var(--color-textInverse)",borderRadius:"6px",fontSize:"12px"},children:[null===(e=_("downloads").find(e=>e.id===p))||void 0===e?void 0:e.label," - Pr\xf3ximamente"]})]})]})},z=()=>(0,Ne.jsxs)("div",{style:{padding:"16px"},children:[(0,Ne.jsx)("h3",{style:{marginBottom:"16px",color:"var(--color-primary)"},children:"\ud83d\udd04 Actualizaciones"}),(0,Ne.jsxs)("div",{style:{backgroundColor:"var(--color-backgroundTertiary)",borderRadius:"12px",border:"1px solid var(--color-border)",overflow:"hidden",marginBottom:"16px",boxShadow:"0 2px 8px var(--color-shadow)"},children:[(0,Ne.jsxs)("div",{style:{background:"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)",padding:"12px 16px",color:"var(--color-textInverse)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udcbb"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h4",{style:{margin:0,fontSize:"14px",fontWeight:"600"},children:"Editor Offline"}),(0,Ne.jsx)("p",{style:{margin:0,fontSize:"11px",opacity:.9},children:"Versi\xf3n v1.0.1 - \xdaltima actualizaci\xf3n"})]})]}),(0,Ne.jsxs)("div",{style:{padding:"16px"},children:[(0,Ne.jsx)("p",{style:{color:"var(--color-textSecondary)",fontSize:"12px",marginBottom:"16px",lineHeight:"1.4"},children:"Descarga RynEditor para usar sin conexi\xf3n a internet. Incluye todas las funcionalidades del editor web."}),(0,Ne.jsxs)("div",{style:{backgroundColor:"var(--color-background)",padding:"12px",borderRadius:"8px",border:"1px solid var(--color-borderSecondary)",marginBottom:"16px"},children:[(0,Ne.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,Ne.jsx)("span",{style:{fontSize:"11px",color:"var(--color-textSecondary)"},children:"\ud83d\udce6 Archivo: RynEditor_v1.0.1.zip"}),(0,Ne.jsx)("span",{style:{fontSize:"11px",color:"var(--color-primary)",fontWeight:"500"},children:"31.1 MB"})]}),(0,Ne.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ne.jsx)("span",{style:{fontSize:"11px",color:"var(--color-textSecondary)"},children:"\ud83d\udda5\ufe0f Compatible: Windows, macOS, Linux"}),(0,Ne.jsx)("span",{style:{fontSize:"11px",color:"var(--color-success)",fontWeight:"500"},children:"\u2705 Listo"})]})]}),(0,Ne.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Ne.jsxs)("button",{onClick:()=>P("mirror"),style:{width:"100%",padding:"10px 16px",backgroundColor:"var(--color-primary)",color:"var(--color-textInverse)",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.target.style.backgroundColor="var(--color-primaryHover)",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor="var(--color-primary)",e.target.style.transform="translateY(0)"},children:[(0,Ne.jsx)("span",{children:"\u2b07\ufe0f"}),"Descargar (Mirror Principal)"]}),(0,Ne.jsxs)("button",{onClick:()=>P("external"),style:{width:"100%",padding:"10px 16px",backgroundColor:"transparent",color:"var(--color-primary)",border:"1px solid var(--color-primary)",borderRadius:"8px",fontSize:"12px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.target.style.backgroundColor="var(--color-primary)",e.target.style.color="var(--color-textInverse)",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="var(--color-primary)",e.target.style.transform="translateY(0)"},children:[(0,Ne.jsx)("span",{children:"\ud83c\udf10"}),"Descargar (Enlace Externo)"]})]}),(0,Ne.jsxs)("div",{style:{marginTop:"12px",padding:"10px",backgroundColor:"var(--color-background)",borderRadius:"6px",border:"1px solid var(--color-borderSecondary)"},children:[(0,Ne.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px"},children:[(0,Ne.jsx)("span",{style:{fontSize:"12px"},children:"\u2139\ufe0f"}),(0,Ne.jsx)("span",{style:{fontSize:"11px",color:"var(--color-textSecondary)",fontWeight:"500"},children:"Instrucciones:"})]}),(0,Ne.jsxs)("ul",{style:{margin:0,paddingLeft:"16px",fontSize:"10px",color:"var(--color-textTertiary)",lineHeight:"1.3"},children:[(0,Ne.jsx)("li",{children:"Extrae el archivo ZIP en cualquier carpeta"}),(0,Ne.jsx)("li",{children:"Ejecuta el archivo index.html en tu navegador"}),(0,Ne.jsx)("li",{children:"\xa1Listo! El editor funcionar\xe1 sin internet"})]})]})]})]}),(0,Ne.jsx)("div",{style:{backgroundColor:"var(--color-backgroundTertiary)",borderRadius:"8px",border:"1px solid var(--color-border)",padding:"12px",textAlign:"center"},children:(0,Ne.jsx)("p",{style:{color:"var(--color-textSecondary)",fontSize:"11px",margin:0},children:"\ud83d\udd04 M\xe1s actualizaciones pr\xf3ximamente..."})})]}),P=e=>{"mirror"===e?b(!0):"external"===e&&window.open("https://bit.ly/46kUtwr","_blank")};return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(Fh,{visible:t&&d}),(0,Ne.jsxs)(Eh,{ref:y,expanded:t,activePanel:d,onMouseEnter:()=>{s(!0),d||a(!0),l&&(clearTimeout(l),c(null))},onMouseLeave:()=>{if(s(!1),!d){const e=setTimeout(()=>{i||d||a(!1)},1500);c(e)}},children:[(0,Ne.jsx)(zh,{onClick:()=>{d?(u(null),a(!1)):a(!t),l&&(clearTimeout(l),c(null))},children:d?"\xd7":t?"\u2039":"\u203a"}),(0,Ne.jsxs)(Th,{children:[(0,Ne.jsx)(Ih,{activePanel:d,children:(0,Ne.jsx)(Ph,{children:k.map(n=>{const i=!t||d&&d!==n.id,s=n.icon;return(0,Ne.jsxs)(Ah,{active:r===n.id,expanded:t,compact:i,onClick:()=>(n=>{const r=k.find(e=>e.id===n);o(n),e.setLastActiveTab(n),d===n?(u(null),h(null),a(!1)):(u(n),a(!0),null!==r&&void 0!==r&&r.hasSubmenu?h(S(n)):h(null)),l&&(clearTimeout(l),c(null))})(n.id),children:[(0,Ne.jsx)(Dh,{compact:i,children:(0,Ne.jsx)(s,{size:18,color:"currentColor"})}),(0,Ne.jsx)(Oh,{expanded:t,compact:i,children:n.label}),i&&(0,Ne.jsx)(Rh,{expanded:t,children:n.label})]},n.id)})})}),(0,Ne.jsxs)(Lh,{activePanel:d,children:[d&&(e=>{const n=_(e);return 0===n.length?null:(0,Ne.jsx)(Bh,{children:n.map(e=>{const n=e.icon;return(0,Ne.jsxs)(Wh,{active:p===e.id,onClick:()=>{return n=e.id,void h(n);var n},children:[(0,Ne.jsx)(Vh,{children:(0,Ne.jsx)(n,{size:14,color:"currentColor"})}),(0,Ne.jsx)(Uh,{children:e.label})]},e.id)})})})(d),(0,Ne.jsx)(Nh,{ref:w,children:(()=>{switch(r){case"project":default:return(0,Ne.jsx)(wd,{});case"characters":return(0,Ne.jsx)(ci,{});case"scenes":return(0,Ne.jsx)(ns,{});case"script":return(0,Ne.jsx)(Ul,{});case"collaboration":return(0,Ne.jsx)(Ip,{});case"tools":return C();case"downloads":return E();case"config":return(0,Ne.jsx)($d,{})}})()}),(0,Ne.jsx)(Mh,{visible:x,children:"Desplazando..."}),(0,Ne.jsx)(Hh,{visible:g,children:"Usa la rueda del mouse para navegar"})]})]})]}),(0,Ne.jsx)(qh,{visible:v,onClick:()=>b(!1),children:(0,Ne.jsxs)(Gh,{onClick:e=>e.stopPropagation(),children:[(0,Ne.jsx)(Yh,{children:"\ud83d\udd17 Enlace Externo"}),(0,Ne.jsx)($h,{children:"Tambi\xe9n puedes descargar RynEditor desde nuestro enlace externo que nos ayuda con los acortadores. Este enlace te llevar\xe1 directamente a GitHub Releases donde podr\xe1s descargar la \xfaltima versi\xf3n del editor."}),(0,Ne.jsxs)(Jh,{children:[(0,Ne.jsx)(Zh,{className:"secondary",onClick:()=>b(!1),children:"Cancelar"}),(0,Ne.jsx)(Zh,{className:"primary",onClick:()=>{window.open("https://github.com/ryn-editor/editor.github.io/releases/latest","_blank"),b(!1)},children:"Continuar Descarga"})]})]})})]})},Qh={scroll:{sensitivity:4,timeout:200,arrowScrollAmount:300,pageScrollAmount:600,spaceScrollAmount:400},hints:{showDelay:1e3,hideDelay:4e3},animations:{fadeInDuration:300,slideInDuration:500,pulseDuration:2e3},forms:{textareaMinHeight:80,inputPadding:"10px 12px",borderRadius:8},performance:{maxElementsToRender:100,debounceDelay:100,throttleDelay:16}};var Xh,eg,ng,rg,og,tg,ag,ig,sg,lg,cg,dg,ug,pg,hg,gg,fg,xg,mg,vg,bg,yg,wg,jg,kg,Sg,_g,Cg,Eg,zg,Pg,Tg,Ig,Lg,Ag,Dg,Og,Ng,Rg,Fg,Mg,Hg,Bg,Wg,Vg,Ug,qg,Gg,Yg,$g,Jg,Zg,Kg,Qg,Xg,ef,nf,rf,of,tf,af,sf,lf,cf,df,uf,pf,hf,gf,ff,xf,mf,vf,bf,yf,wf,jf,kf;const Sf=De(Xh||(Xh=t(["\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),_f=De(eg||(eg=t(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),Cf=De(ng||(ng=t(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n"]))),Ef=(De(rg||(rg=t(["\n  0% {\n    background-position: -200px 0;\n  }\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"]))),Oe.div(og||(og=t(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  max-height: 100vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 20px;\n  padding-right: 28px;\n  box-sizing: border-box;\n  outline: none;\n  cursor: default;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundSecondary) 100%);\n  border-radius: 16px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  animation: "," 0.5s ease-out;\n  \n  &:focus {\n    outline: 2px solid var(--color-primary);\n    outline-offset: -2px;\n  }\n  \n  /* Estilos de scrollbar personalizados */\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: var(--color-surface);\n    border-radius: 6px;\n    margin: 8px 0;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    border-radius: 6px;\n    transition: all 0.3s ease;\n    border: 2px solid var(--color-surface);\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n    transform: scale(1.05);\n  }\n  \n  /* Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-primary) var(--color-surface);\n"])),Sf)),zf=Oe.div(tg||(tg=t(["\n  flex: 1;\n  display: ",";\n  flex-direction: ",";\n  grid-template-columns: ",";\n  gap: 12px;\n  padding-bottom: 100px;\n  transition: all 0.3s ease;\n"])),e=>e.isGridMode?"grid":"flex",e=>e.isGridMode?"unset":"column",e=>e.isGridMode?"repeat(".concat(e.columns,", 1fr)"):"unset"),Pf=Oe.div(ag||(ag=t(["\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid ",";\n  border-radius: ",";\n  padding: ",";\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: visible;\n  box-shadow: ",";\n  animation: "," 0.3s ease-out;\n  max-width: ",";\n\n  /* Solo aplicar hover si NO est\xe1 en modo de edici\xf3n */\n  &:hover:not([data-editing=\"true\"]) {\n    border-color: var(--color-primary);\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      opacity: 1;\n    }\n\n    /* Indicador de navegaci\xf3n */\n    &::after {\n      content: '\ud83d\udc41\ufe0f Vista Previa';\n      position: absolute;\n      top: 8px;\n      right: 12px;\n      background: var(--color-primary);\n      color: white;\n      padding: 4px 8px;\n      border-radius: 12px;\n      font-size: 10px;\n      font-weight: 600;\n      opacity: 0;\n      transform: translateY(-4px);\n      transition: all 0.3s ease;\n      z-index: 10;\n      pointer-events: none;\n    }\n\n    &::after {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover), var(--color-primary));\n    border-radius: 16px 16px 0 0;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n  \n  ","\n\n  ","\n"])),e=>e.editing?"var(--color-success)":e.selected?"var(--color-primary)":"var(--color-border)",e=>e.isGridMode?"12px":"16px",e=>e.isGridMode?"8px 12px":"20px",e=>e.isGridMode?"0 2px 8px rgba(0, 0, 0, 0.1)":"0 4px 16px rgba(0, 0, 0, 0.1)",_f,e=>e.isGridMode?"100%":"none",e=>e.selected&&!e.editing&&be(ig||(ig=t(["\n    border-color: var(--color-primary);\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\n    animation: "," 2s ease-in-out infinite;\n    \n    &::before {\n      opacity: 1;\n    }\n  "])),Cf),e=>e.editing&&be(sg||(sg=t(["\n    border-color: var(--color-success);\n    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, var(--color-surface) 100%);\n    box-shadow: 0 8px 24px rgba(34, 197, 94, 0.2);\n    cursor: default;\n    transform: none;\n    \n    &::before {\n      background: linear-gradient(90deg, var(--color-success), var(--color-successHover), var(--color-success));\n      opacity: 1;\n    }\n    \n    /* Deshabilitar hover cuando est\xe1 editando */\n  &:hover {\n      transform: none;\n      box-shadow: 0 8px 24px rgba(34, 197, 94, 0.2);\n  }\n  "])))),Tf=Oe.div(lg||(lg=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n"]))),If=Oe.span(cg||(cg=t(["\n  background: ",";\n  color: #ffffff;\n  padding: 6px 12px;\n  border-radius: 8px;\n  font-size: 11px;\n  text-transform: uppercase;\n  font-weight: 700;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.05);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  }\n"])),e=>e.color?"linear-gradient(135deg, ".concat(e.color," 0%, ").concat(e.color,"dd 100%)"):"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)"),Lf=Oe.div(dg||(dg=t(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n"]))),Af=Oe.button(ug||(ug=t(["\n  background: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 10px 14px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 3px 10px var(--color-shadow);\n  \n  &:hover:not(:disabled) {\n    background: ",";\n    color: ",";\n    border-color: ",";\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n    \n    &::before {\n      opacity: 1;\n    }\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: all 0.3s ease;\n    opacity: 0;\n  }\n"])),e=>e.danger?"linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%)":"linear-gradient(135deg, var(--color-surfaceElevated) 0%, var(--color-surface) 100%)",e=>e.danger?"#ffffff":"var(--color-textPrimary)",e=>e.danger?"#ff6b6b":"var(--color-border)",e=>e.danger?"linear-gradient(135deg, #ff5252 0%, #ff6b6b 100%)":"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)",e=>e.danger?"#ffffff":"var(--color-textInverse)",e=>e.danger?"#ff5252":"var(--color-primary)"),Df=Oe.div(pg||(pg=t(["\n  color: #ffffff;\n  line-height: 1.6;\n  margin-bottom: 8px;\n  font-size: 14px;\n"]))),Of=Oe.div(hg||(hg=t(["\n  color: var(--color-primary);\n  font-weight: 700;\n  margin-bottom: ",";\n  font-size: ",";\n  display: flex;\n  align-items: center;\n  gap: ",";\n  line-height: 1.2;\n"])),e=>e.isGridMode?"4px":"6px",e=>e.isGridMode?"10px":"15px",e=>e.isGridMode?"4px":"8px"),Nf=Oe.div(gg||(gg=t(["\n  color: var(--color-textSecondary);\n  font-size: ",";\n  line-height: ",";\n  max-height: ",";\n  overflow: ",";\n  text-overflow: ",";\n  display: ",";\n  -webkit-line-clamp: ",";\n  -webkit-box-orient: ",";\n"])),e=>e.isGridMode?"9px":"13px",e=>e.isGridMode?"1.3":"1.5",e=>e.isGridMode?"60px":"none",e=>e.isGridMode?"hidden":"visible",e=>e.isGridMode?"ellipsis":"clip",e=>e.isGridMode?"-webkit-box":"block",e=>e.isGridMode?"3":"unset",e=>e.isGridMode?"vertical":"unset"),Rf=Oe.div(fg||(fg=t(["\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  padding: 8px 16px;\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 600;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-surface);\n  z-index: 1000;\n  backdrop-filter: blur(10px);\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.3s ease;\n  animation: ",";\n"])),e=>e.visible?1:0,e=>e.visible?"visible":"hidden",e=>e.visible?be(xg||(xg=t([""," 1s ease-in-out infinite"])),Cf):"none"),Ff=Oe.div(mg||(mg=t(["\n  position: fixed;\n  top: 80px;\n  right: 20px;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  color: var(--color-text);\n  padding: 12px 16px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: 600;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);\n  border: 2px solid var(--color-border);\n  z-index: 999;\n  backdrop-filter: blur(10px);\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.3s ease;\n  transform: ",";\n"])),e=>e.visible?1:0,e=>e.visible?"visible":"hidden",e=>e.visible?"translateX(0)":"translateX(100%)"),Mf=Oe.div(vg||(vg=t(["\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: "," 0.5s ease-out;\n"])),_f),Hf=Oe.h4(bg||(bg=t(["\n  color: var(--color-primary);\n  font-size: 16px;\n  font-weight: 700;\n  margin: 0 0 12px 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Bf=Oe.p(yg||(yg=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 0 0 12px 0;\n"]))),Wf=Oe.ul(wg||(wg=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 0;\n  padding-left: 20px;\n"]))),Vf=Oe.li(jg||(jg=t(["\n  margin-bottom: 6px;\n"]))),Uf=(Oe.button(kg||(kg=t(["\n  background-color: #4a9eff;\n  color: #ffffff;\n  border: none;\n  padding: 12px 20px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  margin: 20px;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: #3a8eef;\n  }\n"]))),Oe.div(Sg||(Sg=t(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 200px;\n  color: #888888;\n  text-align: center;\n"])))),qf=Oe.div(_g||(_g=t(["\n  font-size: 48px;\n  margin-bottom: 16px;\n"]))),Gf=Oe.div(Cg||(Cg=t(["\n  font-size: 16px;\n  margin-bottom: 8px;\n"]))),Yf=Oe.div(Eg||(Eg=t(["\n  font-size: 14px;\n  color: #666666;\n"]))),$f=Oe.div(zg||(zg=t(["\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n  border: 2px solid var(--color-primary);\n  border-radius: 16px;\n  padding: 20px;\n  margin-top: 12px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\n  animation: "," 0.3s ease-out;\n  position: relative;\n  z-index: 10;\n  pointer-events: auto;\n  user-select: text;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n"])),_f),Jf=Oe.div(Pg||(Pg=t(["\n  margin-bottom: 16px;\n"]))),Zf=Oe.label(Tg||(Tg=t(["\n  display: block;\n  color: var(--color-primary);\n  font-size: 13px;\n  font-weight: 600;\n  margin-bottom: 6px;\n"]))),Kf=Oe.input(Ig||(Ig=t(["\n  width: 100%;\n  padding: 10px 12px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface);\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 20;\n  pointer-events: auto;\n  user-select: text;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\n  }\n  \n  &:hover {\n    border-color: var(--color-primary);\n  }\n  \n  &::selection {\n    background: var(--color-primary);\n    color: white;\n  }\n  \n  /* Prevenir que se pierda el foco */\n  &:focus-visible {\n    outline: none;\n  }\n"]))),Qf=Oe.textarea(Lg||(Lg=t(["\n  width: 100%;\n  min-height: 80px;\n  padding: 10px 12px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface);\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  font-family: inherit;\n  resize: vertical;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 20;\n  pointer-events: auto;\n  user-select: text;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\n  }\n  \n  &:hover {\n    border-color: var(--color-primary);\n  }\n  \n  &::selection {\n    background: var(--color-primary);\n    color: white;\n  }\n  \n  /* Prevenir que se pierda el foco */\n  &:focus-visible {\n    outline: none;\n  }\n"]))),Xf=Oe.select(Ag||(Ag=t(["\n  width: 100%;\n  padding: 10px 12px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  background: var(--color-surface);\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 20;\n  pointer-events: auto;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\n  }\n  \n  &:hover {\n    border-color: var(--color-primary);\n  }\n"]))),ex=Oe.div(Dg||(Dg=t(["\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n  margin-top: 16px;\n"]))),nx=Oe.button(Og||(Og=t(["\n  padding: 8px 16px;\n  border: 2px solid;\n  border-radius: 8px;\n  font-size: 12px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  \n  ","\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),e=>e.primary?"\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    color: white;\n    border-color: var(--color-primary);\n    \n    &:hover:not(:disabled) {\n      background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n      transform: translateY(-2px);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    }\n  ":"\n    background: linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%);\n    color: white;\n    border-color: var(--color-border);\n    \n    &:hover:not(:disabled) {\n      background: linear-gradient(135deg, var(--color-borderSecondary) 0%, var(--color-border) 100%);\n      transform: translateY(-2px);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    }\n  "),rx=Oe.div(Ng||(Ng=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 8px;\n  padding: 8px;\n  background: var(--color-surface);\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n"]))),ox=Oe.input(Rg||(Rg=t(["\n  flex: 1;\n  padding: 6px 8px;\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  background: var(--color-background);\n  color: var(--color-text);\n  font-size: 12px;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),tx=Oe.div(Fg||(Fg=t(["\n  display: flex;\n  gap: 4px;\n"]))),ax=Oe.button(Mg||(Mg=t(["\n  padding: 4px 6px;\n  border: 1px solid ",";\n  border-radius: 4px;\n  background: ",";\n  color: white;\n  font-size: 10px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.05);\n  }\n"])),e=>e.danger?"#ff6b6b":"var(--color-border)",e=>e.danger?"linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%)":"linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%)"),ix=Oe.button(Hg||(Hg=t(["\n  width: 100%;\n  padding: 8px;\n  border: 2px dashed var(--color-border);\n  border-radius: 6px;\n  background: transparent;\n  color: var(--color-textSecondary);\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    border-color: var(--color-primary);\n    color: var(--color-primary);\n    background: rgba(var(--color-primary-rgb), 0.05);\n  }\n"]))),sx=Oe.div(Bg||(Bg=t(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),lx=Oe(Kf)(Wg||(Wg=t(["\n  flex: 1;\n"]))),cx=Oe.div(Vg||(Vg=t(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n"]))),dx=Oe.button(Ug||(Ug=t(["\n  padding: 8px 12px;\n  border: 2px solid var(--color-primary);\n  border-radius: 6px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  font-size: 12px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  \n  &:hover {\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n"]))),ux=Oe.div(qg||(qg=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-top: 8px;\n  max-height: 200px;\n  overflow-y: auto;\n"]))),px=Oe.div(Gg||(Gg=t(["\n  position: relative;\n  width: 80px;\n  height: 60px;\n  border: 2px solid ",";\n  border-radius: 6px;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    border-color: var(--color-primary);\n    transform: scale(1.05);\n  }\n  \n  ","\n"])),e=>e.selected?"var(--color-primary)":"var(--color-border)",e=>e.selected&&"\n    box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.3);\n  "),hx=Oe.img(Yg||(Yg=t(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),gx=Oe.div($g||($g=t(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  font-size: 10px;\n  padding: 2px 4px;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),fx=Oe.div(Jg||(Jg=t(["\n  color: var(--color-textTertiary);\n  font-size: 12px;\n  text-align: center;\n  padding: 20px;\n  font-style: italic;\n"]))),xx=Oe.div(Zg||(Zg=t(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    border-color: var(--color-primary);\n  }\n"]))),mx=Oe.input(Kg||(Kg=t(["\n  width: 40px;\n  height: 40px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  background: none;\n  \n  &::-webkit-color-swatch-wrapper {\n    padding: 0;\n  }\n  \n  &::-webkit-color-swatch {\n    border: 2px solid var(--color-border);\n    border-radius: 4px;\n  }\n"]))),vx=Oe.div(Qg||(Qg=t(["\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  border: 2px solid var(--color-border);\n  transition: all 0.3s ease;\n"]))),bx=Oe.span(Xg||(Xg=t(["\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  font-family: monospace;\n  background: var(--color-surfaceSecondary);\n  padding: 4px 8px;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  transition: all 0.3s ease;\n"]))),yx=e=>{let{value:r,onChange:o,placeholder:t}=e;const[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1),u=(0,n.useMemo)(()=>new Cr,[]),p=(0,n.useCallback)(async()=>{d(!0);try{const e=await u.getFilesByCategory("backgrounds");l(e)}catch(e){console.error("Error loading backgrounds:",e),l([])}finally{d(!1)}},[u]);(0,n.useEffect)(()=>{a&&p()},[a,p]);return(0,Ne.jsxs)(sx,{children:[(0,Ne.jsxs)(cx,{children:[(0,Ne.jsx)(lx,{type:"text",value:r,onChange:e=>{o(e.target.value)},placeholder:t}),(0,Ne.jsxs)(dx,{onClick:()=>i(!a),children:[(0,Ne.jsx)("span",{children:"\ud83d\udcc1"}),a?"Ocultar":"Seleccionar"]})]}),a&&(0,Ne.jsx)(ux,{children:c?(0,Ne.jsx)(fx,{children:"Cargando fondos..."}):s.length>0?s.map(e=>(0,Ne.jsxs)(px,{selected:r===e.name.replace(/\.[^/.]+$/,""),onClick:()=>(e=>{const n=e.name.replace(/\.[^/.]+$/,"");o(n),i(!1)})(e),title:e.name,children:[(0,Ne.jsx)(hx,{src:e.url||e.data,alt:e.name,onError:e=>{e.target.style.display="none"}}),(0,Ne.jsx)(gx,{children:e.name})]},e.id)):(0,Ne.jsxs)(fx,{children:["No hay fondos disponibles.",(0,Ne.jsx)("br",{}),'Sube im\xe1genes en la categor\xeda "backgrounds" desde el gestor de archivos.']})})]})},wx=Oe.div(ef||(ef=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(4px);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: "," 0.3s ease-out;\n"])),_f),jx=Oe.div(nf||(nf=t(["\n  background: var(--color-surface);\n  border: 2px solid var(--color-primary);\n  border-radius: 16px;\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\n  padding: 20px;\n  max-width: 400px;\n  width: 90%;\n  animation: "," 0.4s ease-out;\n  position: relative;\n"])),Sf),kx=Oe.div(rf||(rf=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  padding: 16px 20px;\n  border-radius: 14px 14px 0 0;\n  margin: -20px -20px 20px -20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid var(--color-primary);\n"]))),Sx=Oe.h3(of||(of=t(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: 700;\n  color: #ffffff;\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);\n"]))),_x=Oe.button(tf||(tf=t(["\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: scale(1.1);\n  }\n"]))),Cx=Oe.p(af||(af=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.5;\n  margin: 0 0 16px 0;\n  text-align: center;\n"]))),Ex=Oe.div(sf||(sf=t(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n  margin-bottom: 16px;\n"]))),zx=Oe.button(lf||(lf=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  background: ",";\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    background: ",";\n    border-color: ",";\n    transform: translateY(-2px) scale(1.02);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\n  }\n\n  &:active {\n    transform: translateY(-1px) scale(1.01);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n"])),e=>e.color||"var(--color-surfaceSecondary)",e=>e.textColor||"var(--color-textPrimary)",e=>e.borderColor||"var(--color-border)",e=>e.hoverColor||"var(--color-border)",e=>e.hoverBorderColor||"var(--color-borderSecondary)"),Px=Oe.div(cf||(cf=t(["\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n  border-top: 1px solid var(--color-border);\n  padding-top: 16px;\n"]))),Tx=Oe.button(df||(df=t(["\n  padding: 8px 16px;\n  border: 2px solid ",";\n  border-radius: 6px;\n  background: ",";\n  color: ",";\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  font-size: 12px;\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 3px 8px ",";\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)":"var(--color-surface)",e=>e.primary?"white":"var(--color-textPrimary)",e=>e.primary?"rgba(74, 158, 255, 0.3)":"rgba(0, 0, 0, 0.1)"),Ix=Oe.div(uf||(uf=t(["\n  position: fixed;\n  top: 160px;\n  right: 1000px;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 16px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\n  z-index: 50;\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  min-width: 200px;\n  opacity: ",";\n  visibility: ",";\n  transform: ",";\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n"])),e=>e.visible?1:0,e=>e.visible?"visible":"hidden",e=>e.visible?"translateX(0) scale(1)":"translateX(100%) scale(0.8)"),Lx=Oe.div(pf||(pf=t(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n"]))),Ax=Oe.h4(hf||(hf=t(["\n  color: var(--color-primary);\n  font-size: 14px;\n  font-weight: 600;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Dx=Oe.button(gf||(gf=t(["\n  background: rgba(255, 255, 255, 0.1);\n  border: none;\n  color: var(--color-textSecondary);\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n    color: var(--color-textPrimary);\n    transform: scale(1.1);\n  }\n"]))),Ox=Oe.div(ff||(ff=t(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 12px;\n"]))),Nx=Oe.input(xf||(xf=t(["\n  flex: 1;\n  height: 6px;\n  border-radius: 3px;\n  background: var(--color-border);\n  outline: none;\n  cursor: pointer;\n  \n  &::-webkit-slider-thumb {\n    appearance: none;\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    cursor: pointer;\n    border: 2px solid var(--color-surface);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.3s ease;\n  }\n  \n  &::-webkit-slider-thumb:hover {\n    transform: scale(1.2);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  }\n  \n  &::-moz-range-thumb {\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    cursor: pointer;\n    border: 2px solid var(--color-surface);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  }\n"]))),Rx=Oe.div(mf||(mf=t(["\n  background: var(--color-primary);\n  color: white;\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 11px;\n  font-weight: 600;\n  min-width: 40px;\n  text-align: center;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n"]))),Fx=Oe.div(vf||(vf=t(["\n  display: flex;\n  gap: 6px;\n  justify-content: center;\n"]))),Mx=Oe.button(bf||(bf=t(["\n  padding: 4px 8px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: ",";\n  color: ",";\n  font-size: 10px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ",";\n    color: white;\n    transform: scale(1.05);\n  }\n"])),e=>e.active?"var(--color-primary)":"var(--color-surface)",e=>e.active?"white":"var(--color-textSecondary)",e=>e.active?"var(--color-primaryHover)":"var(--color-border)"),Hx=Oe.button(yf||(yf=t(["\n  position: fixed;\n  top: 160px;\n  right: 1350px;\n  width: 48px;\n  height: 48px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  border: 3px solid var(--color-surface);\n  border-radius: 50%;\n  color: white;\n  font-size: 18px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 16px rgba(74, 158, 255, 0.3);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 51;\n  \n  &:hover {\n    transform: scale(1.1) rotate(5deg);\n    box-shadow: 0 6px 20px rgba(74, 158, 255, 0.4);\n  }\n  \n  &:active {\n    transform: scale(1.05) rotate(2deg);\n  }\n"]))),Bx=Oe.div(wf||(wf=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  padding: 16px;\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n  }\n"]))),Wx=Oe.div(jf||(jf=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 8px;\n"]))),Vx=Oe.div(kf||(kf=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"])));const Ux=function(){const{state:e,dispatch:r}=jo(),{showConfirm:o}=Zo(),[t,a]=(0,n.useState)(null),[i,s]=(0,n.useState)(null),[l,c]=(0,n.useState)({}),[d,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),[x,m]=(0,n.useState)(null),[v,b]=(0,n.useState)(!1),[y,w]=(0,n.useState)(100),[j,k]=(0,n.useState)(!1),[S,_]=(0,n.useState)(1),C=(0,n.useRef)(null),E=(0,n.useRef)(null),z=(0,n.useRef)(!1),P=(0,n.useCallback)(e=>{(null===i||void 0===i?void 0:i.id)!==e.id&&(a(e.id===(null===t||void 0===t?void 0:t.id)?null:e),m(e),T(e))},[t,i]),T=(0,n.useCallback)(n=>{console.log("ScriptEditor: Iniciando navegaci\xf3n al elemento:",n);const o=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(console.log("ScriptEditor: Archivo de escena actual:",o),!o||!o.elements)return void console.warn("ScriptEditor: No se pudo navegar al elemento - archivo de escena no encontrado");const t=o.elements.findIndex(e=>e.id===n.id);if(console.log("ScriptEditor: \xcdndice encontrado:",t,"de",o.elements.length,"elementos"),-1===t)return void console.warn("ScriptEditor: No se pudo navegar al elemento - elemento no encontrado en el archivo actual");const a=new CustomEvent("navigateToElement",{detail:{elementIndex:t,elementId:n.id,sceneFileId:o.id}});console.log("ScriptEditor: Disparando evento navigateToElement:",a.detail),window.dispatchEvent(a),document.dispatchEvent(a),console.log("ScriptEditor: Evento disparado exitosamente"),e.previewMode||(console.log("ScriptEditor: Activando vista previa autom\xe1ticamente"),r({type:"TOGGLE_PREVIEW"}))},[e.project.sceneFiles,e.project.currentSceneFile]),I=(0,n.useCallback)((n,r)=>{if(window.addElementToSceneWithInsertion){const o=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(!o||!o.elements)return void console.warn("ScriptEditor: No se pudo insertar elemento - archivo de escena no encontrado");const t=o.elements.findIndex(e=>e.id===r);if(-1===t)return void console.warn("ScriptEditor: No se pudo insertar elemento - elemento de referencia no encontrado");window.addElementToSceneWithInsertion(n,e.project.currentSceneFile,t+1),m(null)}else console.warn("ScriptEditor: La funci\xf3n addElementToSceneWithInsertion no est\xe1 disponible")},[e.project.sceneFiles,e.project.currentSceneFile]),L=(0,n.useCallback)(e=>{console.log("\u270f\ufe0f Editando elemento:",e),s(e),c(kr({},e)),z.current=!0},[]);(0,n.useEffect)(()=>{if(i&&E.current){const e=E.current.querySelector("input, textarea, select");e&&setTimeout(()=>{e.focus()},100)}},[i]);const A=(0,n.useCallback)(()=>{s(null),c({}),z.current=!1},[]),D=(0,n.useCallback)(()=>{if(!i)return;const n=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(n){const e=n.elements.map(e=>e.id===i.id?kr(kr({},e),l):e);r({type:"UPDATE_SCENE_FILE",payload:kr(kr({},n),{},{elements:e})})}s(null),c({}),z.current=!1},[i,l,e.project.sceneFiles,e.project.currentSceneFile,r]),O=(0,n.useCallback)((e,n)=>{c(r=>kr(kr({},r),{},{[e]:n}))},[]),N=(0,n.useCallback)((e,n)=>{const r=[...l.choices||[]];r[e]=n,O("choices",r)},[l.choices,O]),R=(0,n.useCallback)(()=>{const e=[...l.choices||[],""];O("choices",e)},[l.choices,O]),F=(0,n.useCallback)(e=>{const n=[...l.choices||[]];n.splice(e,1),O("choices",n)},[l.choices,O]),M=(0,n.useCallback)(e=>{w(e);const n=e<100;if(k(n),n){let n=1;e<=25?n=6:e<=50?n=4:e<=75?n=3:e<=90&&(n=2),_(n)}else _(1)},[]),H=(0,n.useCallback)(e=>{w(e);const n=e<100;if(k(n),n){let n=1;e<=25?n=6:e<=50?n=4:e<=75?n=3:e<=90&&(n=2),_(n)}else _(1)},[]),B=(0,n.useCallback)(()=>{b(e=>!e)},[]),W=((0,n.useCallback)(()=>{w(100),k(!1),_(1)},[]),(0,n.useCallback)(async(n,i)=>{i.stopPropagation();await o("\xbfEst\xe1s seguro de que quieres eliminar este elemento?","Confirmar Eliminaci\xf3n","\ud83d\uddd1\ufe0f")&&(r({type:"DELETE_SCENE_FILE_ELEMENT",payload:{sceneFileId:e.project.currentSceneFile,elementId:n}}),(null===t||void 0===t?void 0:t.id)===n&&a(null))},[r,e.project.currentSceneFile,t])),V=(0,n.useCallback)((n,o)=>{o.stopPropagation();const t=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(!t)return;const a=t.elements.findIndex(e=>e.id===n);if(a>0){const e=[...t.elements];[e[a],e[a-1]]=[e[a-1],e[a]],r({type:"UPDATE_SCENE_FILE",payload:kr(kr({},t),{},{elements:e})})}},[e.project.sceneFiles,e.project.currentSceneFile,r]),U=(0,n.useCallback)((n,o)=>{o.stopPropagation();const t=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(!t)return;const a=t.elements.findIndex(e=>e.id===n);if(a<t.elements.length-1){const e=[...t.elements];[e[a],e[a+1]]=[e[a+1],e[a]],r({type:"UPDATE_SCENE_FILE",payload:kr(kr({},t),{},{elements:e})})}},[e.project.sceneFiles,e.project.currentSceneFile,r]),q=function(n){var r;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(n.type){case"dialogue":const t=e.project.characters.find(e=>e.id===n.character),a={left:"\u2b05\ufe0f",center:"\u2b06\ufe0f",right:"\u27a1\ufe0f"};return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," ",null!==t&&void 0!==t&&t.isProtagonist?"Protagonista":(null===t||void 0===t?void 0:t.name)||n.character,n.showSprite&&(0,Ne.jsxs)("span",{style:{color:"var(--color-primary)",fontSize:o?"8px":"12px",marginLeft:"8px"},children:["(",n.showSprite," ",a[n.spritePosition]||"\u2b06\ufe0f",")"]})]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:['"',n.text.replace(/\[mc_name\]/g,"Protagonista"),'"']})]});case"narration":return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Narraci\xf3n",(n.fontSize||n.textColor)&&(0,Ne.jsxs)("span",{style:{color:"var(--color-primary)",fontSize:o?"9px":"11px",marginLeft:"8px",fontWeight:"normal"},children:["(",n.fontSize||"medium"," \u2022 ",n.textColor||"#ffffff",")"]})]}),(0,Ne.jsx)(Nf,{isGridMode:o,children:n.text.replace(/\[mc_name\]/g,"Protagonista")})]});case"scene":const i=n.backgroundTransition?" (transici\xf3n: ".concat(n.backgroundTransition,")"):"";return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Cambio de Escena"]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:["Fondo: ",n.background||"Sin fondo",i]})]});case"transition":const s=n.transitionDuration?" (".concat(n.transitionDuration,"s)"):"",l=ds().find(e=>e.id===n.transitionType),c=l?l.name:n.transitionType;return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Transici\xf3n"]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:[c,s]})]});case"choice":return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Elecci\xf3n"]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:[(null===(r=n.choices)||void 0===r?void 0:r.length)||0," opciones disponibles"]})]});case"jump":return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Salto"]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:["Destino: ",n.jump]})]});case"label":return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Etiqueta"]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:["Punto: ",n.label]})]});case"show_sprite":const d=e.project.characters.find(e=>e.id===n.character);return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Mostrar Sprite"]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:[(null===d||void 0===d?void 0:d.name)||n.character," - ",n.spriteName||"Sprite por defecto",(0,Ne.jsxs)("div",{style:{fontSize:o?"7px":"10px",color:"var(--color-textSecondary)",marginTop:"4px",fontStyle:"italic"},children:["Posici\xf3n: ",n.spritePosition||"center"]})]})]});case"hide_sprite":const u=e.project.characters.find(e=>e.id===n.character);return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Ocultar Sprite"]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:[(null===u||void 0===u?void 0:u.name)||n.character,(0,Ne.jsx)("div",{style:{fontSize:o?"7px":"10px",color:"var(--color-textSecondary)",marginTop:"4px",fontStyle:"italic"},children:"El sprite se ocultar\xe1 de la escena"})]})]});case"protagonist_setup":return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," Setup del Protagonista"]}),(0,Ne.jsxs)(Nf,{isGridMode:o,children:["Configuraci\xf3n del nombre del protagonista",(0,Ne.jsx)("div",{style:{fontSize:o?"7px":"10px",color:"var(--color-textSecondary)",marginTop:"4px",fontStyle:"italic"},children:"El jugador elegir\xe1 su nombre en este punto"})]})]});default:return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(Of,{isGridMode:o,children:[is(n.type)," ",as(n.type)]}),(0,Ne.jsx)(Nf,{isGridMode:o,children:n.text||"Sin contenido"})]})}},G=(0,n.useCallback)(e=>{e.stopPropagation()},[]),Y=(0,n.useCallback)((e,n)=>{n.stopPropagation(),O(e,n.target.value)},[O]),$=(0,n.useCallback)(n=>{switch(n.type){case"dialogue":return(0,Ne.jsxs)($f,{onClick:G,onMouseDown:G,children:[(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Personaje:"}),(0,Ne.jsxs)(Xf,{value:l.character||"",onChange:e=>Y("character",e),children:[(0,Ne.jsx)("option",{value:"",children:"Seleccionar personaje"}),e.project.characters.map(e=>(0,Ne.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Texto del di\xe1logo:"}),(0,Ne.jsx)(Qf,{value:l.text||"",onChange:e=>Y("text",e),placeholder:"Escribe el di\xe1logo aqu\xed..."})]}),(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Mostrar sprite:"}),(0,Ne.jsx)(Kf,{type:"text",value:l.showSprite||"",onChange:e=>Y("showSprite",e),placeholder:"Nombre del sprite (ej: happy, sad, angry)"})]}),(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Posici\xf3n del sprite:"}),(0,Ne.jsxs)(Xf,{value:l.spritePosition||"center",onChange:e=>Y("spritePosition",e),children:[(0,Ne.jsx)("option",{value:"left",children:"Izquierda"}),(0,Ne.jsx)("option",{value:"center",children:"Centro"}),(0,Ne.jsx)("option",{value:"right",children:"Derecha"})]})]}),(0,Ne.jsxs)(ex,{children:[(0,Ne.jsx)(nx,{onClick:A,children:"Cancelar"}),(0,Ne.jsx)(nx,{primary:!0,onClick:D,children:"Guardar"})]})]});case"narration":return(0,Ne.jsxs)($f,{onClick:G,onMouseDown:G,children:[(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Texto de narraci\xf3n:"}),(0,Ne.jsx)(Qf,{value:l.text||"",onChange:e=>O("text",e.target.value),placeholder:"Escribe la narraci\xf3n aqu\xed..."})]}),(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Tama\xf1o del texto:"}),(0,Ne.jsxs)(Xf,{value:l.fontSize||"medium",onChange:e=>O("fontSize",e.target.value),children:[(0,Ne.jsx)("option",{value:"small",children:"Peque\xf1o (12px)"}),(0,Ne.jsx)("option",{value:"medium",children:"Mediano (16px)"}),(0,Ne.jsx)("option",{value:"large",children:"Grande (20px)"}),(0,Ne.jsx)("option",{value:"xlarge",children:"Muy Grande (24px)"})]})]}),(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Color del texto:"}),(0,Ne.jsxs)(xx,{children:[(0,Ne.jsx)(mx,{type:"color",value:l.textColor||"#ffffff",onChange:e=>O("textColor",e.target.value)}),(0,Ne.jsx)(vx,{style:{backgroundColor:l.textColor||"#ffffff"}}),(0,Ne.jsx)(bx,{children:l.textColor||"#ffffff"})]})]}),(0,Ne.jsxs)(ex,{children:[(0,Ne.jsx)(nx,{onClick:A,children:"Cancelar"}),(0,Ne.jsx)(nx,{primary:!0,onClick:D,children:"Guardar"})]})]});case"scene":return(0,Ne.jsxs)($f,{onClick:G,onMouseDown:G,children:[(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Fondo de escena:"}),(0,Ne.jsx)(yx,{value:l.background||"",onChange:e=>O("background",e),placeholder:"Nombre del fondo (ej: bedroom, street, forest)"})]}),(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Transici\xf3n del fondo (opcional):"}),(0,Ne.jsxs)(Xf,{value:l.backgroundTransition||"",onChange:e=>O("backgroundTransition",e.target.value),children:[(0,Ne.jsx)("option",{value:"",children:"Sin transici\xf3n"}),Object.entries(ps("backgrounds")).map(e=>{let[n,r]=e;return(0,Ne.jsx)("optgroup",{label:r.name,children:r.transitions.map(e=>(0,Ne.jsxs)("option",{value:e.id,children:[e.icon," ",e.name," (",e.duration,"s)"]},e.id))},n)})]}),l.backgroundTransition&&(0,Ne.jsx)(Kf,{type:"number",step:"0.1",min:"0.1",max:"10",value:l.backgroundTransitionDuration||"",onChange:e=>O("backgroundTransitionDuration",e.target.value),placeholder:"Duraci\xf3n personalizada (opcional)",style:{marginTop:"8px"}})]}),(0,Ne.jsxs)(ex,{children:[(0,Ne.jsx)(nx,{onClick:A,children:"Cancelar"}),(0,Ne.jsx)(nx,{primary:!0,onClick:D,children:"Guardar"})]})]});case"transition":return(0,Ne.jsxs)($f,{onClick:G,onMouseDown:G,children:[(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Tipo de transici\xf3n:"}),(0,Ne.jsx)(Xf,{value:l.transitionType||"dissolve",onChange:e=>O("transitionType",e.target.value),children:Object.entries(us()).map(e=>{let[n,r]=e;return(0,Ne.jsx)("optgroup",{label:r.name,children:r.transitions.map(e=>(0,Ne.jsxs)("option",{value:e.id,children:[e.icon," ",e.name," (",e.duration,"s)"]},e.id))},n)})})]}),(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Duraci\xf3n personalizada (opcional):"}),(0,Ne.jsx)(Kf,{type:"number",step:"0.1",min:"0.1",max:"10",value:l.transitionDuration||"",onChange:e=>O("transitionDuration",e.target.value),placeholder:"Dejar vac\xedo para usar duraci\xf3n por defecto"})]}),(0,Ne.jsxs)(ex,{children:[(0,Ne.jsx)(nx,{onClick:A,children:"Cancelar"}),(0,Ne.jsx)(nx,{primary:!0,onClick:D,children:"Guardar"})]})]});case"choice":return(0,Ne.jsxs)($f,{onClick:G,onMouseDown:G,children:[(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Pregunta/Elecci\xf3n:"}),(0,Ne.jsx)(Qf,{value:l.question||"",onChange:e=>O("question",e.target.value),placeholder:"Escribe la pregunta o situaci\xf3n aqu\xed..."})]}),(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Opciones:"}),(l.choices||[]).map((e,n)=>{var r;return(0,Ne.jsxs)(rx,{children:[(0,Ne.jsx)(ox,{value:e,onChange:e=>N(n,e.target.value),placeholder:"Opci\xf3n ".concat(n+1)}),(0,Ne.jsx)(tx,{children:(0,Ne.jsx)(ax,{danger:!0,onClick:()=>F(n),title:"Eliminar opci\xf3n",children:"\ud83d\uddd1\ufe0f"})})]},"choice-".concat(n,"-").concat((null===(r=e.text)||void 0===r?void 0:r.slice(0,10))||"empty"))}),(0,Ne.jsx)(ix,{onClick:R,children:"+ Agregar opci\xf3n"})]}),(0,Ne.jsxs)(ex,{children:[(0,Ne.jsx)(nx,{onClick:A,children:"Cancelar"}),(0,Ne.jsx)(nx,{primary:!0,onClick:D,children:"Guardar"})]})]});case"jump":return(0,Ne.jsxs)($f,{onClick:G,onMouseDown:G,children:[(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Etiqueta de destino:"}),(0,Ne.jsx)(Kf,{type:"text",value:l.jump||"",onChange:e=>O("jump",e.target.value),placeholder:"Nombre de la etiqueta de destino"})]}),(0,Ne.jsxs)(ex,{children:[(0,Ne.jsx)(nx,{onClick:A,children:"Cancelar"}),(0,Ne.jsx)(nx,{primary:!0,onClick:D,children:"Guardar"})]})]});case"label":return(0,Ne.jsxs)($f,{onClick:G,onMouseDown:G,children:[(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Nombre de la etiqueta:"}),(0,Ne.jsx)(Kf,{type:"text",value:l.label||"",onChange:e=>O("label",e.target.value),placeholder:"Nombre \xfanico para esta etiqueta"})]}),(0,Ne.jsxs)(ex,{children:[(0,Ne.jsx)(nx,{onClick:A,children:"Cancelar"}),(0,Ne.jsx)(nx,{primary:!0,onClick:D,children:"Guardar"})]})]});default:return(0,Ne.jsxs)($f,{children:[(0,Ne.jsxs)(Jf,{children:[(0,Ne.jsx)(Zf,{children:"Contenido:"}),(0,Ne.jsx)(Qf,{value:l.text||"",onChange:e=>O("text",e.target.value),placeholder:"Escribe el contenido aqu\xed..."})]}),(0,Ne.jsxs)(ex,{children:[(0,Ne.jsx)(nx,{onClick:A,children:"Cancelar"}),(0,Ne.jsx)(nx,{primary:!0,onClick:D,children:"Guardar"})]})]})}},[l,O,G,Y,A,D,e.project.characters]);(0,n.useEffect)(()=>{const n=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if((n?n.elements:[]).length>0){const e=setTimeout(()=>{u(!0)},Qh.hints.showDelay),n=setTimeout(()=>{u(!1)},Qh.hints.hideDelay);return()=>{clearTimeout(e),clearTimeout(n)}}},[e.project.currentSceneFile]),(0,n.useEffect)(()=>{const e=C.current;if(!e)return;let n;const r=()=>{n&&clearTimeout(n)},o=()=>{r(),n=setTimeout(()=>{h(!1)},Qh.scroll.timeout)},t=n=>{n.preventDefault();const r=n.deltaY*Qh.scroll.sensitivity;e.scrollBy({top:r,behavior:"smooth"}),h(!0),o()},a=e=>{h(!0),o()},i=n=>{if("ArrowDown"===n.key||"ArrowUp"===n.key){n.preventDefault();const r="ArrowDown"===n.key?Qh.scroll.arrowScrollAmount:-Qh.scroll.arrowScrollAmount;e.scrollBy({top:r,behavior:"smooth"}),h(!0),o()}if("PageDown"===n.key||"PageUp"===n.key){n.preventDefault();const r="PageDown"===n.key?Qh.scroll.pageScrollAmount:-Qh.scroll.pageScrollAmount;e.scrollBy({top:r,behavior:"smooth"}),h(!0),o()}"Home"===n.key&&(n.preventDefault(),e.scrollTo({top:0,behavior:"smooth"}),h(!0),o()),"End"===n.key&&(n.preventDefault(),e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),h(!0),o())," "!==n.key||n.target.matches('input, textarea, [contenteditable="true"]')||(n.preventDefault(),e.scrollBy({top:Qh.scroll.spaceScrollAmount,behavior:"smooth"}),h(!0),o())," "===n.key&&n.shiftKey&&!n.target.matches('input, textarea, [contenteditable="true"]')&&(n.preventDefault(),e.scrollBy({top:-Qh.scroll.spaceScrollAmount,behavior:"smooth"}),h(!0),o())};return e.addEventListener("wheel",t,{passive:!1}),e.addEventListener("scroll",a),e.addEventListener("keydown",i),e.setAttribute("tabindex","0"),()=>{e.removeEventListener("wheel",t),e.removeEventListener("scroll",a),e.removeEventListener("keydown",i),r()}},[]);const J=()=>(0,Ne.jsxs)(Mf,{children:[(0,Ne.jsx)(Hf,{children:"\ud83d\udcdd Gu\xeda del Editor de Script"}),(0,Ne.jsx)(Bf,{children:"El Editor de Script te permite visualizar y gestionar todos los elementos de tu historia:"}),(0,Ne.jsxs)(Wf,{children:[(0,Ne.jsxs)(Vf,{children:[(0,Ne.jsx)("strong",{children:"Visualizaci\xf3n:"})," Ve todos los elementos en orden secuencial"]}),(0,Ne.jsxs)(Vf,{children:[(0,Ne.jsx)("strong",{children:"Selecci\xf3n:"})," Haz clic en cualquier elemento para seleccionarlo"]}),(0,Ne.jsxs)(Vf,{children:[(0,Ne.jsx)("strong",{children:"Edici\xf3n Inline:"})," Haz doble clic en cualquier elemento para editarlo directamente"]}),(0,Ne.jsxs)(Vf,{children:[(0,Ne.jsx)("strong",{children:"Reordenamiento:"})," Usa los botones \u2191/\u2193 para mover elementos"]}),(0,Ne.jsxs)(Vf,{children:[(0,Ne.jsx)("strong",{children:"Eliminaci\xf3n:"})," Usa el bot\xf3n \ud83d\uddd1\ufe0f para eliminar elementos"]}),(0,Ne.jsxs)(Vf,{children:[(0,Ne.jsx)("strong",{children:"Tipos de Elementos:"})," Cada elemento muestra su tipo con color distintivo"]})]}),(0,Ne.jsxs)(Bf,{children:[(0,Ne.jsx)("strong",{children:"\ud83d\udca1 Consejos:"})," Los elementos se sincronizan autom\xe1ticamente con la Vista de L\xednea de Tiempo y el Mapa de Decisiones. La edici\xf3n inline te permite modificar elementos sin abrir el men\xfa lateral."]})]}),Z=(0,n.useMemo)(()=>e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile),[e.project.sceneFiles,e.project.currentSceneFile]),K=(0,n.useMemo)(()=>Z?Z.elements:[],[Z]),Q=(0,n.useMemo)(()=>{if(!j||!K.length)return K;const e=[];let n=null,r=[];return K.forEach((o,t)=>{"scene"===o.type?(r.length>0&&e.push({type:"scene_group",scene:n,elements:r,id:"scene_".concat(n||"default","_").concat(e.length)}),n=o.background||"Escena ".concat(e.length+1),r=[o]):r.push(o)}),r.length>0&&e.push({type:"scene_group",scene:n,elements:r,id:"scene_".concat(n||"default","_").concat(e.length)}),e},[K,j]),X=(0,n.useMemo)(()=>n.memo(e=>{let{group:n,onElementClick:r,onElementDoubleClick:o,onMoveUp:t,onMoveDown:a,onDelete:i,onRenderContent:s,onRenderEditForm:l,selectedElement:c,editingElement:d,zoomLevel:u}=e;return(0,Ne.jsxs)(Bx,{children:[(0,Ne.jsxs)(Wx,{children:["\ud83c\udfad ",n.scene||"Escena Principal"]}),(0,Ne.jsx)(Vx,{children:n.elements.map((e,n)=>(0,Ne.jsx)(ee,{element:e,index:n,isSelected:(null===c||void 0===c?void 0:c.id)===e.id,isEditing:(null===d||void 0===d?void 0:d.id)===e.id,zoomLevel:u,isGridMode:!0,onElementClick:r,onElementDoubleClick:o,onMoveUp:t,onMoveDown:a,onDelete:i,onRenderContent:s,onRenderEditForm:l},e.id))})]})}),[]),ee=(0,n.useMemo)(()=>n.memo(e=>{let{element:n,index:r,isSelected:o,isEditing:t,zoomLevel:a,isGridMode:i,onElementClick:s,onElementDoubleClick:l,onMoveUp:c,onMoveDown:d,onDelete:u,onRenderContent:p,onRenderEditForm:h}=e;return(0,Ne.jsxs)(Pf,{selected:o,editing:t,isGridMode:i,"data-editing":t,onClick:()=>s(n),children:[(0,Ne.jsxs)(Tf,{children:[(0,Ne.jsxs)(If,{color:ss(n.type),children:[is(n.type)," ",as(n.type)]}),(0,Ne.jsxs)(Lf,{children:[(0,Ne.jsx)(Af,{onClick:e=>{e.stopPropagation(),c(n.id,e)},disabled:0===r,title:"Mover hacia arriba",children:"\u2191"}),(0,Ne.jsx)(Af,{onClick:e=>{e.stopPropagation(),d(n.id,e)},disabled:r===K.length-1,title:"Mover hacia abajo",children:"\u2193"}),(0,Ne.jsx)(Af,{onClick:e=>{e.stopPropagation(),l(n)},title:"Editar elemento",children:"\u270f\ufe0f"}),(0,Ne.jsx)(Af,{danger:!0,onClick:e=>{e.stopPropagation(),u(n.id,e)},title:"Eliminar elemento",children:"\ud83d\uddd1\ufe0f"})]})]}),(0,Ne.jsx)(Df,{children:p(n,i)}),t&&(0,Ne.jsx)("div",{ref:E,onClick:e=>e.stopPropagation(),children:h(n)})]})}),[]);return 0===K.length?(0,Ne.jsxs)(Ef,{ref:C,children:[(0,Ne.jsxs)(Uf,{children:[(0,Ne.jsx)(qf,{children:"\ud83d\udcdd"}),(0,Ne.jsxs)(Gf,{children:["No hay elementos en ",(null===Z||void 0===Z?void 0:Z.displayName)||"el script"]}),(0,Ne.jsx)(Yf,{children:"Usa la barra lateral para agregar personajes, escenas y elementos del script"})]}),J()]}):(0,Ne.jsxs)(Ef,{ref:C,children:[(0,Ne.jsx)(Ff,{visible:d,children:"\ud83d\udcdc Mouse: rueda | Teclado: \u2191\u2193, Page Up/Down, Home/End, Espacio"}),(0,Ne.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,Ne.jsx)("h3",{style:{color:"var(--color-primary)",fontSize:"24px",fontWeight:"700",margin:"0",display:"flex",alignItems:"center",gap:"12px"},children:"\ud83d\udcdd Editor de Script"}),(0,Ne.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[j&&(0,Ne.jsx)("div",{style:{background:"linear-gradient(135deg, var(--color-success) 0%, var(--color-successHover) 100%)",color:"white",padding:"6px 12px",borderRadius:"16px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.3)"},children:"\ud83d\udcca Vista Grid Activa"}),(0,Ne.jsx)("button",{onClick:()=>f(!g),style:{background:"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)",color:"white",border:"2px solid var(--color-primary)",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease"},children:g?"\u274c Ocultar Gu\xeda":"\u2753 Ver Gu\xeda"})]})]}),g&&J(),(0,Ne.jsx)(zf,{isGridMode:j,columns:S,children:j?Q.map((e,n)=>(0,Ne.jsx)(X,{group:e,onElementClick:P,onElementDoubleClick:L,onMoveUp:V,onMoveDown:U,onDelete:W,onRenderContent:q,onRenderEditForm:$,selectedElement:t,editingElement:i,zoomLevel:y},e.id||n)):K.map((e,n)=>(0,Ne.jsx)(ee,{element:e,index:n,isSelected:(null===t||void 0===t?void 0:t.id)===e.id,isEditing:(null===i||void 0===i?void 0:i.id)===e.id,zoomLevel:y,isGridMode:j,onElementClick:P,onElementDoubleClick:L,onMoveUp:V,onMoveDown:U,onDelete:W,onRenderContent:q,onRenderEditForm:$},e.id))}),(0,Ne.jsx)(Rf,{visible:p,children:"\ud83d\uddb1\ufe0f Navegando por el script..."}),(0,Ne.jsx)(Hx,{onClick:B,children:"\ud83d\udd0d"}),(0,Ne.jsxs)(Ix,{visible:v,children:[(0,Ne.jsxs)(Lx,{children:[(0,Ne.jsx)(Ax,{children:"\ud83d\udd0d Control de Zoom"}),(0,Ne.jsx)(Dx,{onClick:()=>b(!1),children:"\xd7"})]}),(0,Ne.jsxs)(Ox,{children:[(0,Ne.jsx)(Nx,{type:"range",min:"25",max:"200",value:y,onChange:e=>M(parseInt(e.target.value))}),(0,Ne.jsxs)(Rx,{children:[y,"%"]})]}),(0,Ne.jsxs)(Fx,{children:[(0,Ne.jsx)(Mx,{active:25===y,onClick:()=>H(25),children:"25%"}),(0,Ne.jsx)(Mx,{active:50===y,onClick:()=>H(50),children:"50%"}),(0,Ne.jsx)(Mx,{active:75===y,onClick:()=>H(75),children:"75%"}),(0,Ne.jsx)(Mx,{active:100===y,onClick:()=>H(100),children:"100%"}),(0,Ne.jsx)(Mx,{active:125===y,onClick:()=>H(125),children:"125%"}),(0,Ne.jsx)(Mx,{active:150===y,onClick:()=>H(150),children:"150%"})]})]}),x&&(0,Ne.jsx)(wx,{onClick:()=>m(null),children:(0,Ne.jsxs)(jx,{onClick:e=>e.stopPropagation(),children:[(0,Ne.jsxs)(kx,{children:[(0,Ne.jsx)(Sx,{children:"\u2795 Insertar Elemento"}),(0,Ne.jsx)(_x,{onClick:()=>m(null),children:"\xd7"})]}),(0,Ne.jsxs)(Cx,{children:["\xbfQu\xe9 tipo de elemento quieres insertar ",(0,Ne.jsx)("strong",{children:"despu\xe9s"}),' de "',x.type,'"?']}),(0,Ne.jsxs)(Ex,{children:[(0,Ne.jsx)(zx,{onClick:()=>I("dialogue",x.id),color:"var(--color-success)",textColor:"white",borderColor:"var(--color-success)",hoverColor:"var(--color-successHover)",hoverBorderColor:"var(--color-successHover)",children:"\ud83d\udcac Di\xe1logo"}),(0,Ne.jsx)(zx,{onClick:()=>I("narration",x.id),color:"var(--color-info)",textColor:"white",borderColor:"var(--color-info)",hoverColor:"var(--color-infoHover)",hoverBorderColor:"var(--color-infoHover)",children:"\ud83d\udcdd Narraci\xf3n"}),(0,Ne.jsx)(zx,{onClick:()=>I("choice",x.id),color:"var(--color-warning)",textColor:"white",borderColor:"var(--color-warning)",hoverColor:"var(--color-warningHover)",hoverBorderColor:"var(--color-warningHover)",children:"\u2753 Elecci\xf3n"}),(0,Ne.jsx)(zx,{onClick:()=>I("scene",x.id),color:"var(--color-primary)",textColor:"white",borderColor:"var(--color-primary)",hoverColor:"var(--color-primaryHover)",hoverBorderColor:"var(--color-primaryHover)",children:"\ud83c\udfad Escena"})]}),(0,Ne.jsx)(Px,{children:(0,Ne.jsx)(Tx,{onClick:()=>m(null),children:"Cancelar"})})]})})]})};var qx,Gx,Yx,$x,Jx,Zx,Kx,Qx,Xx,em,nm,rm,om,tm,am,im,sm,lm,cm,dm,um,pm,hm,gm,fm,xm,mm,vm,bm,ym,wm;const jm=De(qx||(qx=t(["\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),km=De(Gx||(Gx=t(["\n  from {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n"]))),Sm=De(Yx||(Yx=t(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n"]))),_m=Oe.div($x||($x=t(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n"]))),Cm=Oe.div(Jx||(Jx=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  padding: 20px 24px;\n  border-bottom: 2px solid var(--color-primary);\n  position: relative;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 1px;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  }\n"]))),Em=Oe.h3(Zx||(Zx=t(["\n  margin: 0;\n  color: white;\n  font-size: 18px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n"]))),zm=Oe.div(Kx||(Kx=t(["\n  margin-top: 8px;\n  color: rgba(255, 255, 255, 0.9);\n  font-size: 13px;\n  font-weight: 500;\n"]))),Pm=Oe.div(Qx||(Qx=t(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px;\n  background: var(--color-surface);\n  \n  /* Scrollbar personalizado */\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: var(--color-backgroundSecondary);\n    border-radius: 4px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: var(--color-primary);\n    border-radius: 4px;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: var(--color-primaryHover);\n  }\n"]))),Tm=Oe.div(Xx||(Xx=t(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n  padding: 16px;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border-radius: 12px;\n  border-left: 4px solid ",";\n  border: 1px solid var(--color-border);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  cursor: pointer;\n  animation: "," 0.4s ease-out;\n  animation-delay: ","s;\n  animation-fill-mode: both;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n    border-left-color: ",";\n    border-left-width: 6px;\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),e=>e.color||"#4a9eff",km,e=>.1*e.index,e=>e.color||"#4a9eff"),Im=Oe.div(em||(em=t(["\n  font-size: 20px;\n  margin-right: 16px;\n  min-width: 40px;\n  text-align: center;\n  padding: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  transition: all 0.3s ease;\n\n  ",":hover & {\n    background: rgba(255, 255, 255, 0.2);\n    transform: scale(1.1);\n  }\n"])),Tm),Lm=Oe.div(nm||(nm=t(["\n  flex: 1;\n"]))),Am=Oe.div(rm||(rm=t(["\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  font-weight: 500;\n  margin-bottom: 6px;\n  line-height: 1.4;\n"]))),Dm=Oe.div(om||(om=t(["\n  color: var(--color-textSecondary);\n  font-size: 12px;\n  font-weight: 400;\n  opacity: 0.8;\n"]))),Om=Oe.div(tm||(tm=t(["\n  color: var(--color-textTertiary);\n  font-size: 11px;\n  font-weight: 600;\n  margin-left: 16px;\n  min-width: 60px;\n  text-align: right;\n  background: var(--color-backgroundSecondary);\n  padding: 4px 8px;\n  border-radius: 6px;\n  border: 1px solid var(--color-border);\n"]))),Nm=Oe.div(am||(am=t(["\n  width: 2px;\n  height: 20px;\n  background: linear-gradient(180deg, var(--color-primary) 0%, transparent 100%);\n  margin: 0 auto 12px auto;\n  opacity: 0.6;\n"]))),Rm=Oe.div(im||(im=t(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 300px;\n  color: var(--color-textSecondary);\n  text-align: center;\n  animation: "," 0.6s ease-out;\n"])),jm),Fm=Oe.div(sm||(sm=t(["\n  font-size: 64px;\n  margin-bottom: 20px;\n  opacity: 0.6;\n  animation: "," 2s ease-in-out infinite;\n"])),Sm),Mm=Oe.div(lm||(lm=t(["\n  font-size: 18px;\n  font-weight: 600;\n  margin-bottom: 8px;\n  color: var(--color-textPrimary);\n"]))),Hm=Oe.div(cm||(cm=t(["\n  font-size: 14px;\n  color: var(--color-textTertiary);\n  max-width: 300px;\n  line-height: 1.5;\n"]))),Bm=Oe.div(dm||(dm=t(["\n  padding: 16px 24px;\n  background: var(--color-backgroundSecondary);\n  border-bottom: 1px solid var(--color-border);\n  display: flex;\n  gap: 12px;\n  align-items: center;\n  flex-wrap: wrap;\n"]))),Wm=Oe.button(um||(um=t(["\n  padding: 6px 12px;\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  background: ",";\n  color: ",";\n  font-size: 12px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: ",";\n    transform: translateY(-1px);\n  }\n"])),e=>e.active?"var(--color-primary)":"var(--color-surface)",e=>e.active?"white":"var(--color-textPrimary)",e=>e.active?"var(--color-primaryHover)":"var(--color-backgroundElevated)"),Vm=Oe.div(pm||(pm=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(4px);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: "," 0.3s ease-out;\n"])),jm),Um=Oe.div(hm||(hm=t(["\n  background: var(--color-surface);\n  border: 2px solid var(--color-primary);\n  border-radius: 16px;\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\n  padding: 20px;\n  max-width: 400px;\n  width: 90%;\n  animation: "," 0.4s ease-out;\n  position: relative;\n"])),km),qm=Oe.div(gm||(gm=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  padding: 16px 20px;\n  border-radius: 14px 14px 0 0;\n  margin: -20px -20px 20px -20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid var(--color-primary);\n"]))),Gm=Oe.h3(fm||(fm=t(["\n  margin: 0;\n  font-size: 16px;\n  font-weight: 700;\n  color: #ffffff;\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);\n"]))),Ym=Oe.button(xm||(xm=t(["\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: scale(1.1);\n  }\n"]))),$m=Oe.p(mm||(mm=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.5;\n  margin: 0 0 16px 0;\n  text-align: center;\n"]))),Jm=Oe.div(vm||(vm=t(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n  margin-bottom: 16px;\n"]))),Zm=Oe.button(bm||(bm=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  background: ",";\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    background: ",";\n    border-color: ",";\n    transform: translateY(-2px) scale(1.02);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\n  }\n\n  &:active {\n    transform: translateY(-1px) scale(1.01);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n"])),e=>e.color||"var(--color-surfaceSecondary)",e=>e.textColor||"var(--color-textPrimary)",e=>e.borderColor||"var(--color-border)",e=>e.hoverColor||"var(--color-border)",e=>e.hoverBorderColor||"var(--color-borderSecondary)"),Km=Oe.div(ym||(ym=t(["\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n  border-top: 1px solid var(--color-border);\n  padding-top: 16px;\n"]))),Qm=Oe.button(wm||(wm=t(["\n  padding: 8px 16px;\n  border: 2px solid ",";\n  border-radius: 6px;\n  background: ",";\n  color: ",";\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  font-size: 12px;\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 3px 8px ",";\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)":"var(--color-surface)",e=>e.primary?"white":"var(--color-textPrimary)",e=>e.primary?"rgba(74, 158, 255, 0.3)":"rgba(0, 0, 0, 0.1)");const Xm=function(){const{state:e}=jo(),[r,o]=(0,n.useState)("all"),[t,a]=(0,n.useState)(null),i=is,s=ss,l=n=>{var r;switch(n.type){case"dialogue":const o=e.project.characters.find(e=>e.id===n.character),t=n.showSprite?" (".concat(n.showSprite,")"):"";return"".concat((null===o||void 0===o?void 0:o.name)||n.character).concat(t,': "').concat(n.text,'"');case"narration":return n.text;case"scene":return"Cambio de escena: ".concat(n.background||"Sin fondo");case"choice":return"Elecci\xf3n: ".concat((null===(r=n.choices)||void 0===r?void 0:r.length)||0," opciones");case"jump":return"Salto a: ".concat(n.jump);case"label":return"Etiqueta: ".concat(n.label);default:return n.text||"Sin contenido"}},c=e=>{var n;switch(e.type){case"dialogue":const r=e.showSprite?" \u2022 Sprite: ".concat(e.showSprite):"";return"Di\xe1logo \u2022 Personaje: ".concat(e.character).concat(r);case"narration":return"Narraci\xf3n";case"scene":return"Cambio de escena";case"choice":return"Elecci\xf3n \u2022 ".concat((null===(n=e.choices)||void 0===n?void 0:n.length)||0," opciones");case"jump":return"Salto \u2022 Destino: ".concat(e.jump);case"label":return"Etiqueta \u2022 ".concat(e.label);default:return e.type}},d=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile),u=d?d.elements:[],p=(0,n.useMemo)(()=>({total:u.length,dialogue:u.filter(e=>"dialogue"===e.type).length,narration:u.filter(e=>"narration"===e.type).length,scene:u.filter(e=>"scene"===e.type).length,choice:u.filter(e=>"choice"===e.type).length,jump:u.filter(e=>"jump"===e.type).length,label:u.filter(e=>"label"===e.type).length,other:u.filter(e=>!["dialogue","narration","scene","choice","jump","label"].includes(e.type)).length}),[u]),h=(0,n.useMemo)(()=>"all"===r?u:u.filter(e=>e.type===r),[u,r]),g=[{id:"all",label:"Todos",count:p.total},{id:"dialogue",label:"Di\xe1logos",count:p.dialogue},{id:"narration",label:"Narraciones",count:p.narration},{id:"scene",label:"Escenas",count:p.scene},{id:"choice",label:"Elecciones",count:p.choice},{id:"jump",label:"Saltos",count:p.jump},{id:"label",label:"Etiquetas",count:p.label}],f=(n,r)=>{if(window.addElementToSceneWithInsertion){const o=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(!o||!o.elements)return void console.warn("TimelineView: No se pudo insertar elemento - archivo de escena no encontrado");const t=o.elements.findIndex(e=>e.id===r);if(-1===t)return void console.warn("TimelineView: No se pudo insertar elemento - elemento de referencia no encontrado");window.addElementToSceneWithInsertion(n,e.project.currentSceneFile,t+1),a(null)}else console.warn("TimelineView: La funci\xf3n addElementToSceneWithInsertion no est\xe1 disponible")};return 0===u.length?(0,Ne.jsxs)(_m,{children:[(0,Ne.jsxs)(Cm,{children:[(0,Ne.jsx)(Em,{children:"\u23f1\ufe0f L\xednea de Tiempo"}),(0,Ne.jsx)(zm,{children:"No hay elementos en este archivo"})]}),(0,Ne.jsxs)(Rm,{children:[(0,Ne.jsx)(Fm,{children:"\u23f1\ufe0f"}),(0,Ne.jsx)(Mm,{children:"No hay elementos en la l\xednea de tiempo"}),(0,Ne.jsx)(Hm,{children:"Agrega elementos al script para verlos aqu\xed de forma cronol\xf3gica"})]})]}):(0,Ne.jsxs)(_m,{children:[(0,Ne.jsxs)(Cm,{children:[(0,Ne.jsx)(Em,{children:"\u23f1\ufe0f L\xednea de Tiempo"}),(0,Ne.jsxs)(zm,{children:[h.length," de ",u.length," elementos","all"!==r&&" (".concat(r,")")]})]}),u.length>3&&(0,Ne.jsx)(Bm,{children:g.map(e=>(0,Ne.jsxs)(Wm,{active:r===e.id,onClick:()=>o(e.id),children:[e.label," (",e.count,")"]},e.id))}),(0,Ne.jsx)(Pm,{children:h.map((r,o)=>(0,Ne.jsxs)(n.Fragment,{children:[(0,Ne.jsxs)(Tm,{color:s(r.type),index:o,onClick:()=>{(n=>{const r=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(!r||!r.elements)return void console.warn("TimelineView: No se pudo navegar al elemento - archivo de escena no encontrado");const o=r.elements.findIndex(e=>e.id===n.id);if(-1===o)return void console.warn("TimelineView: No se pudo navegar al elemento - elemento no encontrado en el archivo actual");const t=new CustomEvent("navigateToElement",{detail:{elementIndex:o,elementId:n.id,sceneFileId:r.id}});a(n),console.log("TimelineView: Disparando evento navigateToElement:",t.detail),window.dispatchEvent(t),document.dispatchEvent(t),console.log("TimelineView: Navegando a elemento",o,":",n)})(r)},children:[(0,Ne.jsx)(Im,{children:i(r.type)}),(0,Ne.jsxs)(Lm,{children:[(0,Ne.jsx)(Am,{children:l(r)}),(0,Ne.jsx)(Dm,{children:c(r)})]}),(0,Ne.jsxs)(Om,{children:["#",u.indexOf(r)+1]})]}),o<h.length-1&&(0,Ne.jsx)(Nm,{})]},r.id))}),t&&(0,Ne.jsx)(Vm,{onClick:()=>a(null),children:(0,Ne.jsxs)(Um,{onClick:e=>e.stopPropagation(),children:[(0,Ne.jsxs)(qm,{children:[(0,Ne.jsx)(Gm,{children:"\u2795 Insertar Elemento"}),(0,Ne.jsx)(Ym,{onClick:()=>a(null),children:"\xd7"})]}),(0,Ne.jsxs)($m,{children:["\xbfQu\xe9 tipo de elemento quieres insertar ",(0,Ne.jsx)("strong",{children:"despu\xe9s"}),' de "',t.type,'"?']}),(0,Ne.jsxs)(Jm,{children:[(0,Ne.jsx)(Zm,{onClick:()=>f("dialogue",t.id),color:"var(--color-success)",textColor:"white",borderColor:"var(--color-success)",hoverColor:"var(--color-successHover)",hoverBorderColor:"var(--color-successHover)",children:"\ud83d\udcac Di\xe1logo"}),(0,Ne.jsx)(Zm,{onClick:()=>f("narration",t.id),color:"var(--color-info)",textColor:"white",borderColor:"var(--color-info)",hoverColor:"var(--color-infoHover)",hoverBorderColor:"var(--color-infoHover)",children:"\ud83d\udcdd Narraci\xf3n"}),(0,Ne.jsx)(Zm,{onClick:()=>f("choice",t.id),color:"var(--color-warning)",textColor:"white",borderColor:"var(--color-warning)",hoverColor:"var(--color-warningHover)",hoverBorderColor:"var(--color-warningHover)",children:"\u2753 Elecci\xf3n"}),(0,Ne.jsx)(Zm,{onClick:()=>f("scene",t.id),color:"var(--color-primary)",textColor:"white",borderColor:"var(--color-primary)",hoverColor:"var(--color-primaryHover)",hoverBorderColor:"var(--color-primaryHover)",children:"\ud83c\udfad Escena"})]}),(0,Ne.jsx)(Km,{children:(0,Ne.jsx)(Qm,{onClick:()=>a(null),children:"Cancelar"})})]})})]})};var ev,nv,rv,ov,tv,av,iv,sv,lv,cv,dv,uv,pv,hv,gv,fv,xv,mv,vv,bv,yv,wv,jv,kv,Sv,_v,Cv,Ev,zv,Pv,Tv,Iv,Lv,Av,Dv,Ov,Nv,Rv,Fv,Mv,Hv,Bv,Wv,Vv;const Uv=De(ev||(ev=t(["\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),qv=De(nv||(nv=t(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),Gv=De(rv||(rv=t(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n"]))),Yv=De(ov||(ov=t(["\n  0% {\n    background-position: -200px 0;\n  }\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"]))),$v=Oe.div(tv||(tv=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  animation: "," 0.5s ease-out;\n  height: 100vh;\n  max-height: 100vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 20px;\n  padding-right: 28px;\n  box-sizing: border-box;\n  outline: none;\n  cursor: default;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundSecondary) 100%);\n  border-radius: 16px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  \n  &:focus {\n    outline: 2px solid var(--color-primary);\n    outline-offset: -2px;\n  }\n  \n  /* Estilos de scrollbar personalizados */\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: var(--color-surface);\n    border-radius: 6px;\n    margin: 8px 0;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    border-radius: 6px;\n    transition: all 0.3s ease;\n    border: 2px solid var(--color-surface);\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n    transform: scale(1.05);\n  }\n  \n  /* Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-primary) var(--color-surface);\n"])),Uv),Jv=Oe.h3(av||(av=t(["\n  color: var(--color-primary);\n  margin: 0 0 20px 0;\n  font-size: 24px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: all 0.3s ease;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  \n  &:hover {\n    transform: translateX(5px);\n    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n"]))),Zv=Oe.div(iv||(iv=t(["\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid ",";\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: "," 0.3s ease-out;\n\n  &:hover {\n    border-color: var(--color-primary);\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      opacity: 1;\n    }\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover), var(--color-primary));\n    border-radius: 16px 16px 0 0;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n  \n  ","\n"])),e=>e.isSelected?"var(--color-primary)":"var(--color-border)",qv,e=>e.isSelected&&be(sv||(sv=t(["\n    border-color: var(--color-primary);\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\n    animation: "," 2s ease-in-out infinite;\n    \n    &::before {\n      opacity: 1;\n    }\n  "])),Gv)),Kv=Oe.div(lv||(lv=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 12px;\n"]))),Qv=Oe.div(cv||(cv=t(["\n  color: #ffffff;\n  font-weight: bold;\n  font-size: 14px;\n  flex: 1;\n"]))),Xv=Oe.div(dv||(dv=t(["\n  background-color: #4a9eff;\n  color: #ffffff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-weight: bold;\n"]))),eb=Oe.div(uv||(uv=t(["\n  color: #cccccc;\n  font-size: 13px;\n  margin-bottom: 12px;\n  line-height: 1.4;\n  font-style: italic;\n"]))),nb=Oe.div(pv||(pv=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),rb=Oe.div(hv||(hv=t(["\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 12px 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    border-color: var(--color-primary);\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surfaceSecondary) 100%);\n    transform: translateX(5px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      opacity: 1;\n    }\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 3px;\n    height: 100%;\n    background: linear-gradient(180deg, var(--color-primary), var(--color-primaryHover));\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n"]))),ob=Oe.div(gv||(gv=t(["\n  color: #ffffff;\n  font-size: 12px;\n  flex: 1;\n  margin-right: 12px;\n"]))),tb=Oe.div(fv||(fv=t(["\n  background: ",";\n  color: #ffffff;\n  padding: 6px 12px;\n  border-radius: 8px;\n  font-size: 11px;\n  font-weight: 700;\n  min-width: 70px;\n  text-align: center;\n  position: relative;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.05);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  }\n  \n  &::after {\n    content: '","';\n    position: absolute;\n    top: -4px;\n    right: -4px;\n    background: ",";\n    color: white;\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    font-size: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 2px solid var(--color-surface);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  }\n"])),e=>e.exists?"linear-gradient(135deg, #4a9eff 0%, #3a8eef 100%)":"linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%)",e=>e.exists?"\u2713":"\u2717",e=>e.exists?"linear-gradient(135deg, #4a9eff 0%, #3a8eef 100%)":"linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%)"),ab=Oe.div(xv||(xv=t(["\n  background-color: #ff9500;\n  color: #ffffff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-weight: bold;\n  margin: 4px 0;\n  display: inline-block;\n"]))),ib=Oe.div(mv||(mv=t(["\n  background-color: #2a2a2a;\n  border: 1px solid #555555;\n  border-radius: 6px;\n  padding: 8px;\n  margin-top: 8px;\n  font-size: 11px;\n  color: #cccccc;\n"]))),sb=Oe.div(vv||(vv=t(["\n  color: ",";\n  font-weight: bold;\n  margin-bottom: 4px;\n"])),e=>e.exists?"#4a9eff":"#ff6b6b"),lb=Oe.div(bv||(bv=t(["\n  color: #888888;\n  font-size: 10px;\n"]))),cb=Oe.div(yv||(yv=t(["\n  text-align: center;\n  color: #888888;\n  padding: 40px 20px;\n"]))),db=Oe.div(wv||(wv=t(["\n  font-size: 48px;\n  margin-bottom: 16px;\n"]))),ub=Oe.div(jv||(jv=t(["\n  font-size: 16px;\n  margin-bottom: 8px;\n"]))),pb=Oe.div(kv||(kv=t(["\n  font-size: 14px;\n  color: #666666;\n"]))),hb=Oe.div(Sv||(Sv=t(["\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  align-items: center;\n"]))),gb=Oe.button(_v||(_v=t(["\n  background: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 10px 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    background: ",";\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      opacity: 1;\n    }\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: all 0.3s ease;\n    opacity: 0;\n  }\n  \n  ","\n"])),e=>e.active?"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)":"linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%)",e=>e.active?"#ffffff":"var(--color-textSecondary)",e=>e.active?"var(--color-primary)":"var(--color-border)",e=>e.active?"linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%)":"linear-gradient(135deg, var(--color-borderSecondary) 0%, var(--color-border) 100%)",e=>e.active&&be(Cv||(Cv=t(["\n    animation: "," 2s ease-in-out infinite;\n  "])),Gv)),fb=Oe.div(Ev||(Ev=t(["\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-around;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: "," 0.5s ease-out;\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n    animation: "," 3s ease-in-out infinite;\n  }\n"])),qv,Yv),xb=Oe.div(zv||(zv=t(["\n  text-align: center;\n"]))),mb=Oe.div(Pv||(Pv=t(["\n  color: #4a9eff;\n  font-size: 18px;\n  font-weight: bold;\n"]))),vb=Oe.div(Tv||(Tv=t(["\n  color: #cccccc;\n  font-size: 11px;\n  margin-top: 4px;\n"]))),bb=Oe.div(Iv||(Iv=t(["\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: "," 0.5s ease-out;\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n    animation: "," 3s ease-in-out infinite;\n  }\n"])),qv,Yv),yb=Oe.div(Lv||(Lv=t(["\n  color: #4a9eff;\n  font-weight: bold;\n  font-size: 14px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),wb=Oe.div(Av||(Av=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n"]))),jb=Oe.div(Dv||(Dv=t(["\n  background-color: #4a9eff;\n  color: #ffffff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n"]))),kb=Oe.span(Ov||(Ov=t(["\n  background-color: rgba(255, 255, 255, 0.2);\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-size: 10px;\n"]))),Sb=Oe.div(Nv||(Nv=t(["\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  padding: 8px 16px;\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 600;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-surface);\n  z-index: 1000;\n  backdrop-filter: blur(10px);\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.3s ease;\n  animation: ",";\n"])),e=>e.visible?1:0,e=>e.visible?"visible":"hidden",e=>e.visible?be(Rv||(Rv=t([""," 1s ease-in-out infinite"])),Gv):"none"),_b=Oe.div(Fv||(Fv=t(["\n  position: fixed;\n  top: 80px;\n  right: 20px;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  color: var(--color-text);\n  padding: 12px 16px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: 600;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);\n  border: 2px solid var(--color-border);\n  z-index: 999;\n  backdrop-filter: blur(10px);\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.3s ease;\n  transform: ",";\n"])),e=>e.visible?1:0,e=>e.visible?"visible":"hidden",e=>e.visible?"translateX(0)":"translateX(100%)"),Cb=Oe.div(Mv||(Mv=t(["\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: "," 0.5s ease-out;\n"])),qv),Eb=Oe.h4(Hv||(Hv=t(["\n  color: var(--color-primary);\n  font-size: 16px;\n  font-weight: 700;\n  margin: 0 0 12px 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),zb=Oe.p(Bv||(Bv=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 0 0 12px 0;\n"]))),Pb=Oe.ul(Wv||(Wv=t(["\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 0;\n  padding-left: 20px;\n"]))),Tb=Oe.li(Vv||(Vv=t(["\n  margin-bottom: 6px;\n"])));const Ib=function(){const{state:e}=jo(),[r,o]=(0,n.useState)(null),[t,a]=(0,n.useState)("all"),[i,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),p=(0,n.useRef)(null),h=(0,n.useMemo)(()=>{const n=[];return e.project.sceneFiles.forEach(e=>{e.elements.forEach(r=>{"choice"===r.type&&n.push(kr(kr({},r),{},{sceneFile:e.displayName,sceneFileId:e.id}))})}),n},[e.project.sceneFiles]),g=(0,n.useMemo)(()=>{const n=[];return e.project.sceneFiles.forEach(e=>{e.elements.forEach(r=>{"label"===r.type&&n.push({name:r.label||r.name,type:"manual",sceneFile:e.displayName})})}),e.project.sceneFiles.forEach(e=>{e.isMain||n.push({name:e.id,type:"sceneFile",sceneFile:e.displayName})}),n},[e.project.sceneFiles]),f=(0,n.useMemo)(()=>{switch(t){case"withJumps":return h.filter(e=>{var n;return null===(n=e.choices)||void 0===n?void 0:n.some(e=>e.jump&&e.jump.trim())});case"withoutJumps":return h.filter(e=>{var n;return!(null!==(n=e.choices)&&void 0!==n&&n.some(e=>e.jump&&e.jump.trim()))});default:return h}},[h,t]),x=(0,n.useMemo)(()=>({totalDecisions:h.length,decisionsWithJumps:h.filter(e=>{var n;return null===(n=e.choices)||void 0===n?void 0:n.some(e=>e.jump&&e.jump.trim())}).length,totalJumps:h.reduce((e,n)=>{var r;return e+((null===(r=n.choices)||void 0===r?void 0:r.filter(e=>e.jump&&e.jump.trim()).length)||0)},0),orphanJumps:h.reduce((e,n)=>{var r;return e+((null===(r=n.choices)||void 0===r?void 0:r.filter(e=>e.jump&&e.jump.trim()&&!g.includes(e.jump)).length)||0)},0)}),[h,g]);(0,n.useEffect)(()=>{if(h.length>0){const e=setTimeout(()=>{s(!0)},1e3),n=setTimeout(()=>{s(!1)},4e3);return()=>{clearTimeout(e),clearTimeout(n)}}},[h.length]),(0,n.useEffect)(()=>{const e=p.current;if(!e)return;const n=n=>{n.preventDefault();const r=4*n.deltaY;e.scrollBy({top:r,behavior:"smooth"}),c(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{c(!1)},200)},r=e=>{c(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{c(!1)},200)},o=n=>{if("ArrowDown"===n.key||"ArrowUp"===n.key){n.preventDefault();const r="ArrowDown"===n.key?300:-300;e.scrollBy({top:r,behavior:"smooth"}),c(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{c(!1)},200)}if("PageDown"===n.key||"PageUp"===n.key){n.preventDefault();const r="PageDown"===n.key?600:-600;e.scrollBy({top:r,behavior:"smooth"}),c(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{c(!1)},200)}"Home"===n.key&&(n.preventDefault(),e.scrollTo({top:0,behavior:"smooth"}),c(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{c(!1)},200)),"End"===n.key&&(n.preventDefault(),e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),c(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{c(!1)},200))," "===n.key&&(n.preventDefault(),e.scrollBy({top:400,behavior:"smooth"}),c(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{c(!1)},200))," "===n.key&&n.shiftKey&&(n.preventDefault(),e.scrollBy({top:-400,behavior:"smooth"}),c(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{c(!1)},200))};return e.addEventListener("wheel",n,{passive:!1}),e.addEventListener("scroll",r),e.addEventListener("keydown",o),e.setAttribute("tabindex","0"),()=>{e.removeEventListener("wheel",n),e.removeEventListener("scroll",r),e.removeEventListener("keydown",o),clearTimeout(window.scrollTimeout)}},[]);const m=()=>(0,Ne.jsxs)(Cb,{children:[(0,Ne.jsx)(Eb,{children:"\ud83d\uddfa\ufe0f Gu\xeda del Mapa de Decisiones"}),(0,Ne.jsx)(zb,{children:"El Mapa de Decisiones te ayuda a visualizar y gestionar todas las decisiones de tu novela visual:"}),(0,Ne.jsxs)(Pb,{children:[(0,Ne.jsxs)(Tb,{children:[(0,Ne.jsx)("strong",{children:"Estad\xedsticas:"})," Ve el resumen general de tus decisiones y jumps"]}),(0,Ne.jsxs)(Tb,{children:[(0,Ne.jsx)("strong",{children:"Labels Disponibles:"})," Lista de todos los puntos de salto definidos"]}),(0,Ne.jsxs)(Tb,{children:[(0,Ne.jsx)("strong",{children:"Filtros:"})," Organiza las decisiones por tipo (Todas, Con Jumps, Sin Jumps)"]}),(0,Ne.jsxs)(Tb,{children:[(0,Ne.jsx)("strong",{children:"Validaci\xf3n:"})," Los jumps hu\xe9rfanos se marcan en rojo (\u274c)"]}),(0,Ne.jsxs)(Tb,{children:[(0,Ne.jsx)("strong",{children:"Navegaci\xf3n:"})," Haz clic en cualquier decisi\xf3n para expandirla"]})]}),(0,Ne.jsxs)(zb,{children:[(0,Ne.jsx)("strong",{children:"\ud83d\udca1 Consejos:"})," Revisa regularmente los jumps hu\xe9rfanos para mantener la coherencia narrativa."]})]});return 0===h.length?(0,Ne.jsxs)($v,{ref:p,children:[(0,Ne.jsx)(Jv,{children:"\ud83d\uddfa\ufe0f Mapa de Decisiones"}),(0,Ne.jsxs)(cb,{children:[(0,Ne.jsx)(db,{children:"\ud83c\udfaf"}),(0,Ne.jsx)(ub,{children:"No hay decisiones creadas"}),(0,Ne.jsx)(pb,{children:"Crea elementos de elecci\xf3n en el script para ver el mapa de decisiones"})]}),m()]}):(0,Ne.jsxs)($v,{ref:p,children:[(0,Ne.jsx)(_b,{visible:i,children:"\ud83d\udcdc Mouse: rueda | Teclado: \u2191\u2193, Page Up/Down, Home/End, Espacio"}),(0,Ne.jsxs)(Jv,{children:["\ud83d\uddfa\ufe0f Mapa de Decisiones",(0,Ne.jsx)("div",{style:{display:"flex",gap:"8px",marginLeft:"auto"},children:(0,Ne.jsx)("button",{onClick:()=>u(!d),style:{background:"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)",color:"white",border:"2px solid var(--color-primary)",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s ease"},children:d?"\u274c Ocultar Gu\xeda":"\u2753 Ver Gu\xeda"})})]}),d&&m(),(0,Ne.jsxs)(fb,{children:[(0,Ne.jsxs)(xb,{children:[(0,Ne.jsx)(mb,{children:x.totalDecisions}),(0,Ne.jsx)(vb,{children:"Decisiones"})]}),(0,Ne.jsxs)(xb,{children:[(0,Ne.jsx)(mb,{children:x.decisionsWithJumps}),(0,Ne.jsx)(vb,{children:"Con Jumps"})]}),(0,Ne.jsxs)(xb,{children:[(0,Ne.jsx)(mb,{children:x.totalJumps}),(0,Ne.jsx)(vb,{children:"Total Jumps"})]}),(0,Ne.jsxs)(xb,{children:[(0,Ne.jsx)(mb,{style:{color:x.orphanJumps>0?"#ff6b6b":"#4a9eff"},children:x.orphanJumps}),(0,Ne.jsx)(vb,{children:"Jumps Hu\xe9rfanos"})]})]}),g.length>0&&(0,Ne.jsxs)(bb,{children:[(0,Ne.jsxs)(yb,{children:["\ud83c\udff7\ufe0f Labels Disponibles (",g.length,")"]}),(0,Ne.jsx)(wb,{children:g.map((e,n)=>(0,Ne.jsxs)(jb,{children:[e.name,(0,Ne.jsxs)(kb,{children:[e.sceneFile,"sceneFile"===e.type&&" (Archivo)"]})]},n))})]}),(0,Ne.jsxs)(hb,{children:[(0,Ne.jsxs)(gb,{active:"all"===t,onClick:()=>a("all"),children:["Todas (",h.length,")"]}),(0,Ne.jsxs)(gb,{active:"withJumps"===t,onClick:()=>a("withJumps"),children:["Con Jumps (",x.decisionsWithJumps,")"]}),(0,Ne.jsxs)(gb,{active:"withoutJumps"===t,onClick:()=>a("withoutJumps"),children:["Sin Jumps (",x.totalDecisions-x.decisionsWithJumps,")"]})]}),f.map((n,t)=>{var a;return(0,Ne.jsxs)(Zv,{isSelected:(null===r||void 0===r?void 0:r.id)===n.id,onClick:()=>(e=>{o((null===r||void 0===r?void 0:r.id)===e.id?null:e)})(n),children:[(0,Ne.jsxs)(Kv,{children:[(0,Ne.jsxs)(Qv,{children:["Decisi\xf3n #",t+1," - ",n.sceneFile]}),(0,Ne.jsx)(Xv,{children:"CHOICE"})]}),n.text&&(0,Ne.jsxs)(eb,{children:['"',n.text,'"']}),(0,Ne.jsx)(nb,{children:null===(a=n.choices)||void 0===a?void 0:a.map((n,r)=>{const o=(t=n.jump,!!g.some(e=>e.name===t)&&(console.log('\u2705 Jump "'.concat(t,'" v\xe1lido')),!0));var t;const a=(n=>{for(const o of e.project.sceneFiles)if(o.elements.find(e=>"label"===e.type&&e.label===n))return{sceneFile:o.displayName,sceneFileId:o.id,exists:!0,type:"manual"};const r=e.project.sceneFiles.find(e=>e.id===n);return r?(console.log('\ud83d\udccd Label "'.concat(n,'" encontrado como archivo de escena: ').concat(r.displayName)),{sceneFile:r.displayName,sceneFileId:r.id,exists:!0,type:"sceneFile"}):{exists:!1}})(n.jump);return(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(rb,{children:[(0,Ne.jsxs)(ob,{children:[r+1,". ",n.text]}),n.condition&&(0,Ne.jsxs)(ab,{children:["\ud83d\udd00 Si: ",n.condition]}),(0,Ne.jsx)(tb,{exists:o,children:n.jump||"Sin jump"})]}),n.jump&&(0,Ne.jsxs)(ib,{children:[(0,Ne.jsx)(sb,{exists:o,children:o?"\u2192 ".concat(n.jump):"\u2192 ".concat(n.jump," (NO ENCONTRADO)")}),o&&(0,Ne.jsxs)(lb,{children:["\ud83d\udcc1 Ubicaci\xf3n: ",a.sceneFile]})]})]},n.id||r)})})]},n.id)}),(0,Ne.jsx)(Sb,{visible:l,children:"\ud83d\uddb1\ufe0f Navegando por el mapa..."})]})};var Lb,Ab,Db,Ob,Nb,Rb,Fb,Mb,Hb,Bb,Wb,Vb,Ub,qb,Gb,Yb,$b,Jb,Zb,Kb,Qb,Xb,ey,ny,ry,oy,ty,ay,iy,sy,ly,cy,dy;const uy=De(Lb||(Lb=t(["\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),py=De(Ab||(Ab=t(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),hy=De(Db||(Db=t(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n"]))),gy=De(Ob||(Ob=t(["\n  0% {\n    background-position: -200% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n"]))),fy=Oe.div(Nb||(Nb=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  animation: "," 0.5s ease-out;\n  height: 90vh;\n  max-height: none;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 20px;\n  padding-right: 28px;\n  box-sizing: border-box;\n  outline: none;\n  cursor: default;\n  \n  &:focus {\n    outline: 2px solid var(--color-primary);\n    outline-offset: -2px;\n  }\n  \n  /* Estilos de scrollbar personalizados para el panel principal */\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: var(--color-surface);\n    border-radius: 6px;\n    margin: 8px 0;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    border-radius: 6px;\n    transition: all 0.3s ease;\n    border: 2px solid var(--color-surface);\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n    transform: scale(1.05);\n  }\n  \n  /* Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-primary) var(--color-surface);\n"])),uy),xy=Oe.div(Rb||(Rb=t(["\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  padding: 20px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  position: relative;\n  overflow: visible;\n  min-height: auto;\n  width: 100%;\n  box-sizing: border-box;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n    transition: left 0.5s;\n    pointer-events: none;\n  }\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n    border-color: var(--color-borderSecondary);\n\n    &::before {\n      left: 100%;\n    }\n  }\n"]))),my=Oe.h3(Fb||(Fb=t(["\n  margin: 0 0 16px 0;\n  font-size: 16px;\n  color: var(--color-primary);\n  border-bottom: 2px solid var(--color-border);\n  padding-bottom: 12px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: all 0.3s ease;\n  font-weight: 600;\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    width: 30%;\n    height: 2px;\n    background: linear-gradient(90deg, var(--color-primary), transparent);\n    transition: width 0.3s ease;\n  }\n\n  &:hover::after {\n    width: 100%;\n  }\n"]))),vy=Oe.button(Mb||(Mb=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: var(--color-textInverse);\n  border: 1px solid var(--color-primary);\n  padding: 10px 16px;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n  min-height: 36px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.5s;\n  }\n\n  &:hover {\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      left: 100%;\n    }\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n\n  &:disabled {\n    background: linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%);\n    color: var(--color-textTertiary);\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n\n    &::before {\n      display: none;\n    }\n  }\n"]))),by=Oe.div(Hb||(Hb=t(["\n  margin-bottom: 16px;\n  animation: "," 0.4s ease-out;\n"])),py),yy=Oe.label(Bb||(Bb=t(["\n  display: block;\n  margin-bottom: 8px;\n  font-size: 13px;\n  color: var(--color-textSecondary);\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n"]))),wy=Oe.input(Wb||(Wb=t(["\n  width: 100%;\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-background) 100%);\n  border: 2px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 12px 16px;\n  border-radius: 10px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\n    transform: translateY(-1px);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-style: italic;\n  }\n"]))),jy=Oe.select(Vb||(Vb=t(["\n  width: 100%;\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-background) 100%);\n  border: 2px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 12px 16px;\n  border-radius: 10px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\n    transform: translateY(-1px);\n  }\n\n  option {\n    background: var(--color-surfaceSecondary);\n    color: var(--color-textPrimary);\n  }\n"]))),ky=Oe.div(Ub||(Ub=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n"]))),Sy=Oe.div(qb||(qb=t(["\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-background) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n    transition: left 0.5s;\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n\n    &::before {\n      left: 100%;\n    }\n  }\n"]))),_y=Oe.div(Gb||(Gb=t(["\n  flex: 1;\n"]))),Cy=Oe.div(Yb||(Yb=t(["\n  font-weight: 700;\n  color: var(--color-textPrimary);\n  margin-bottom: 6px;\n  font-size: 14px;\n  transition: color 0.3s ease;\n"]))),Ey=Oe.div($b||($b=t(["\n  font-size: 12px;\n  color: var(--color-textTertiary);\n  transition: color 0.3s ease;\n  font-weight: 500;\n"]))),zy=Oe.div(Jb||(Jb=t(["\n  display: flex;\n  gap: 8px;\n"]))),Py=Oe.button(Zb||(Zb=t(["\n  background: ",";\n  color: var(--color-textInverse);\n  border: 1px solid ",";\n  padding: 8px 12px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    background: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),e=>e.danger?"linear-gradient(135deg, var(--color-error) 0%, var(--color-errorHover) 100%)":"linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%)",e=>e.danger?"var(--color-error)":"var(--color-border)",e=>e.danger?"linear-gradient(135deg, var(--color-errorHover) 0%, var(--color-error) 100%)":"linear-gradient(135deg, var(--color-borderSecondary) 0%, var(--color-border) 100%)"),Ty=Oe.div(Kb||(Kb=t(["\n  text-align: center;\n  color: var(--color-textTertiary);\n  font-style: italic;\n  padding: 20px;\n  transition: color 0.3s ease;\n"]))),Iy=Oe.div(Qb||(Qb=t(["\n  display: flex;\n  gap: 8px;\n  margin-top: 12px;\n"]))),Ly=Oe.div(Xb||(Xb=t(["\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-surface) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 24px;\n  margin-top: 20px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  position: relative;\n  animation: "," 0.4s ease-out;\n  width: 100%;\n  min-height: auto;\n  overflow: visible;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover), var(--color-primary));\n    background-size: 200% 100%;\n    animation: "," 3s ease-in-out infinite;\n    z-index: 1;\n  }\n"])),uy,gy),Ay=Oe.div(ey||(ey=t(["\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 16px;\n  margin-bottom: 20px;\n  position: relative;\n  animation: "," 0.5s ease-out;\n"])),py),Dy=Oe.h4(ny||(ny=t(["\n  margin: 0 0 12px 0;\n  color: var(--color-primary);\n  font-size: 14px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Oy=Oe.p(ry||(ry=t(["\n  margin: 0 0 8px 0;\n  color: var(--color-textSecondary);\n  font-size: 12px;\n  line-height: 1.5;\n"]))),Ny=Oe.ul(oy||(oy=t(["\n  margin: 8px 0;\n  padding-left: 16px;\n  color: var(--color-textSecondary);\n  font-size: 12px;\n  line-height: 1.6;\n"]))),Ry=Oe.li(ty||(ty=t(["\n  margin-bottom: 4px;\n"]))),Fy=Oe.code(ay||(ay=t(["\n  background: var(--color-surface);\n  color: var(--color-primary);\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-family: 'Courier New', monospace;\n  border: 1px solid var(--color-border);\n"]))),My=Oe.div(iy||(iy=t(["\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: var(--color-textInverse);\n  padding: 12px 20px;\n  border-radius: 25px;\n  font-size: 14px;\n  font-weight: 700;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);\n  opacity: ",";\n  transition: all 0.3s ease;\n  pointer-events: none;\n  z-index: 1000;\n  animation: "," 2s ease-in-out infinite;\n  backdrop-filter: blur(10px);\n  border: 2px solid rgba(255, 255, 255, 0.2);\n"])),e=>e.visible?1:0,e=>e.visible?hy:"none"),Hy=Oe.div(sy||(sy=t(["\n  position: fixed;\n  top: 80px;\n  right: 20px;\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  color: var(--color-textSecondary);\n  padding: 10px 16px;\n  border-radius: 20px;\n  font-size: 13px;\n  font-weight: 700;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);\n  opacity: ",";\n  transform: translateY(",");\n  transition: all 0.4s ease;\n  pointer-events: none;\n  z-index: 999;\n  backdrop-filter: blur(10px);\n"])),e=>e.visible?1:0,e=>e.visible?"0":"-20px"),By=Oe.div(ly||(ly=t(["\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  padding: 8px;\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n"]))),Wy=Oe.button(cy||(cy=t(["\n  background: ",";\n  color: ",";\n  border: ",";\n  padding: 12px 20px;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  overflow: hidden;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  box-shadow: ",";\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.5s;\n  }\n\n  &:hover {\n    background: ",";\n    transform: translateY(-2px);\n    box-shadow: ",";\n    \n    &::before {\n      left: 100%;\n    }\n  }\n\n  &:active {\n    transform: translateY(-1px);\n  }\n\n  ","\n"])),e=>e.active?"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)":"linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.05) 100%)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"1px solid var(--color-primary)":"1px solid transparent",e=>e.active?"0 4px 12px rgba(74, 158, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.05)",e=>e.active?"linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%)":"linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%)",e=>e.active?"0 6px 16px rgba(74, 158, 255, 0.4)":"0 4px 12px rgba(0, 0, 0, 0.1)",e=>e.active&&be(dy||(dy=t(["\n    animation: "," 2s ease-in-out infinite;\n  "])),hy));var Vy,Uy,qy,Gy,Yy,$y,Jy;const Zy=[{id:"script",label:"Editor de Script",icon:"\ud83d\udcdd",color:"#4a9eff",description:"Crear y editar elementos de la historia",component:Ux},{id:"timeline",label:"Vista de L\xednea de Tiempo",icon:"\u23f1\ufe0f",color:"#9eff4a",description:"Ver la secuencia temporal de elementos",component:Xm},{id:"decisions",label:"Mapa de Decisiones",icon:"\ud83d\uddfa\ufe0f",color:"#ff9e4a",description:"Visualizar el flujo de decisiones",component:Ib},{id:"variables",label:"Variables y Flags",icon:"\ud83d\udcca",color:"#ff4a9e",description:"Gestionar variables del juego",component:()=>{const{state:e,dispatch:r}=jo(),[o,t]=(0,n.useState)("variables"),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),[c,d]=(0,n.useState)({name:"",value:"",type:"number",description:""}),[u,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),f=(0,n.useRef)(null),x=e.project.variables||[],m=e.project.flags||[];(0,n.useEffect)(()=>{if(a){const e=setTimeout(()=>{p(!0)},1e3),n=setTimeout(()=>{p(!1)},4e3);return()=>{clearTimeout(e),clearTimeout(n)}}p(!1)},[a]),(0,n.useEffect)(()=>{const e=f.current;if(!e)return;const n=n=>{n.preventDefault();const r=4*n.deltaY;e.scrollBy({top:r,behavior:"smooth"}),g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},200)},r=e=>{g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},200)},o=n=>{if("ArrowDown"===n.key||"ArrowUp"===n.key){n.preventDefault();const r="ArrowDown"===n.key?300:-300;e.scrollBy({top:r,behavior:"smooth"}),g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},200)}if("PageDown"===n.key||"PageUp"===n.key){n.preventDefault();const r="PageDown"===n.key?600:-600;e.scrollBy({top:r,behavior:"smooth"}),g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},200)}"Home"===n.key&&(n.preventDefault(),e.scrollTo({top:0,behavior:"smooth"}),g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},200)),"End"===n.key&&(n.preventDefault(),e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},200))," "===n.key&&(n.preventDefault(),e.scrollBy({top:400,behavior:"smooth"}),g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},200))," "===n.key&&n.shiftKey&&(n.preventDefault(),e.scrollBy({top:-400,behavior:"smooth"}),g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},200))};return e.addEventListener("wheel",n,{passive:!1}),e.addEventListener("scroll",r),e.addEventListener("keydown",o),e.setAttribute("tabindex","0"),()=>{e.removeEventListener("wheel",n),e.removeEventListener("scroll",r),e.removeEventListener("keydown",o),clearTimeout(window.scrollTimeout)}},[]);const v=(e,n)=>{d(r=>kr(kr({},r),{},{[e]:n}))},b=e=>{t(e),d({name:"",value:"flags"!==e&&"",type:"variables"===e?"number":"boolean",description:""}),l(null),i(!0)},y=(e,n)=>{t(n),d({name:e.name,value:e.value,type:e.type||("flags"===n?"boolean":"number"),description:e.description||""}),l(e),i(!0)},w=(e,n)=>{window.confirm("\xbfEst\xe1s seguro de que quieres eliminar ".concat(e.name,"?"))&&r("variables"===n?{type:"DELETE_VARIABLE",payload:e.id}:{type:"DELETE_FLAG",payload:e.id})},j=e=>"boolean"===e.type?e.value?"Activado (True)":"Desactivado (False)":"string"===e.type?'"'.concat(e.value,'"'):e.value;return(0,Ne.jsxs)(fy,{ref:f,children:[(0,Ne.jsx)(Hy,{visible:u,children:"\ud83d\udcdc Mouse: rueda | Teclado: \u2191\u2193, Page Up/Down, Home/End, Espacio"}),(0,Ne.jsxs)(xy,{children:[(0,Ne.jsxs)(my,{children:["\ud83d\udcca Variables y Flags",(0,Ne.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Ne.jsx)(vy,{onClick:()=>b("variables"),children:"+ Variable"}),(0,Ne.jsx)(vy,{onClick:()=>b("flags"),children:"+ Flag"})]})]}),(0,Ne.jsxs)(By,{children:[(0,Ne.jsxs)(Wy,{active:"variables"===o,onClick:()=>t("variables"),children:[(0,Ne.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udcca"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{style:{fontSize:"13px",fontWeight:"700"},children:"Variables"}),(0,Ne.jsxs)("div",{style:{fontSize:"10px",opacity:.8,marginTop:"2px"},children:["Datos din\xe1micos (",x.length,")"]})]})]}),(0,Ne.jsxs)(Wy,{active:"flags"===o,onClick:()=>t("flags"),children:[(0,Ne.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udea9"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{style:{fontSize:"13px",fontWeight:"700"},children:"Flags"}),(0,Ne.jsxs)("div",{style:{fontSize:"10px",opacity:.8,marginTop:"2px"},children:["Estados del juego (",m.length,")"]})]})]})]}),"variables"===o&&(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)(ky,{children:0===x.length?(0,Ne.jsxs)(Ty,{children:[(0,Ne.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udcca"}),(0,Ne.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"No hay variables definidas"}),(0,Ne.jsx)("div",{style:{fontSize:"14px"},children:"Crea tu primera variable para comenzar a personalizar tu juego"}),(0,Ne.jsx)("div",{style:{fontSize:"12px",marginTop:"8px",opacity:.7},children:"Las variables son perfectas para sistemas de puntuaci\xf3n, inventario y estad\xedsticas"})]}):x.map(e=>(0,Ne.jsxs)(Sy,{children:[(0,Ne.jsxs)(_y,{children:[(0,Ne.jsx)(Cy,{children:e.name}),(0,Ne.jsxs)(Ey,{children:[j(e)," (",e.type,")",e.description&&" - ".concat(e.description)]})]}),(0,Ne.jsxs)(zy,{children:[(0,Ne.jsx)(Py,{onClick:()=>y(e,"variables"),children:"\u270f\ufe0f"}),(0,Ne.jsx)(Py,{danger:!0,onClick:()=>w(e,"variables"),children:"\ud83d\uddd1\ufe0f"})]})]},e.id))})}),"flags"===o&&(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)(ky,{children:0===m.length?(0,Ne.jsxs)(Ty,{children:[(0,Ne.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udea9"}),(0,Ne.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"No hay flags definidos"}),(0,Ne.jsx)("div",{style:{fontSize:"14px"},children:"Crea tu primer flag para comenzar a rastrear eventos y estados"}),(0,Ne.jsx)("div",{style:{fontSize:"12px",marginTop:"8px",opacity:.7},children:"Los flags son ideales para recordar encuentros, logros y progreso del juego"})]}):m.map(e=>(0,Ne.jsxs)(Sy,{children:[(0,Ne.jsxs)(_y,{children:[(0,Ne.jsx)(Cy,{children:e.name}),(0,Ne.jsxs)(Ey,{children:[j(e),e.description&&" - ".concat(e.description)]})]}),(0,Ne.jsxs)(zy,{children:[(0,Ne.jsx)(Py,{onClick:()=>y(e,"flags"),children:"\u270f\ufe0f"}),(0,Ne.jsx)(Py,{danger:!0,onClick:()=>w(e,"flags"),children:"\ud83d\uddd1\ufe0f"})]})]},e.id))})}),a&&(0,Ne.jsxs)(Ly,{children:[(0,Ne.jsxs)("h4",{style:{margin:"0 0 20px 0",color:"var(--color-primary)",fontSize:"18px",fontWeight:"700"},children:[s?"\u270f\ufe0f Editar":"\u2795 Agregar"," ","variables"===o?"Variable":"Flag"]}),"variables"===o?(0,Ne.jsxs)(Ay,{children:[(0,Ne.jsxs)(Dy,{children:[(0,Ne.jsx)("span",{children:"\ud83d\udcca"}),"Gu\xeda de Variables"]}),(0,Ne.jsxs)(Oy,{children:["Las ",(0,Ne.jsx)("strong",{children:"variables"})," almacenan datos que pueden cambiar durante el juego. Son perfectas para sistemas de puntuaci\xf3n, inventario, o cualquier valor num\xe9rico o de texto."]}),(0,Ne.jsxs)(Ny,{children:[(0,Ne.jsxs)(Ry,{children:[(0,Ne.jsx)("strong",{children:"N\xfamero:"})," Para puntuaciones, dinero, estad\xedsticas (ej: ",(0,Ne.jsx)(Fy,{children:"player_money = 100"}),")"]}),(0,Ne.jsxs)(Ry,{children:[(0,Ne.jsx)("strong",{children:"Texto:"})," Para nombres, descripciones, mensajes (ej: ",(0,Ne.jsx)(Fy,{children:'player_name = "Alex"'}),")"]}),(0,Ne.jsxs)(Ry,{children:[(0,Ne.jsx)("strong",{children:"Booleano:"})," Para estados simples (ej: ",(0,Ne.jsx)(Fy,{children:"has_key = true"}),")"]})]}),(0,Ne.jsxs)(Oy,{children:[(0,Ne.jsx)("strong",{children:"\ud83d\udca1 Tip:"})," Usa nombres descriptivos con guiones bajos: ",(0,Ne.jsx)(Fy,{children:"love_points"}),", ",(0,Ne.jsx)(Fy,{children:"current_chapter"})]})]}):(0,Ne.jsxs)(Ay,{children:[(0,Ne.jsxs)(Dy,{children:[(0,Ne.jsx)("span",{children:"\ud83d\udea9"}),"Gu\xeda de Flags"]}),(0,Ne.jsxs)(Oy,{children:["Los ",(0,Ne.jsx)("strong",{children:"flags"})," son variables booleanas (true/false) que recuerdan eventos o estados espec\xedficos del juego. Son ideales para desbloquear contenido o rastrear progreso."]}),(0,Ne.jsxs)(Ny,{children:[(0,Ne.jsxs)(Ry,{children:[(0,Ne.jsx)("strong",{children:"Eventos:"})," Si el jugador conoci\xf3 a un personaje (ej: ",(0,Ne.jsx)(Fy,{children:"met_alice = true"}),")"]}),(0,Ne.jsxs)(Ry,{children:[(0,Ne.jsx)("strong",{children:"Ubicaciones:"})," Si visit\xf3 un lugar (ej: ",(0,Ne.jsx)(Fy,{children:"visited_school = false"}),")"]}),(0,Ne.jsxs)(Ry,{children:[(0,Ne.jsx)("strong",{children:"Logros:"})," Si complet\xf3 una tarea (ej: ",(0,Ne.jsx)(Fy,{children:"found_secret = true"}),")"]}),(0,Ne.jsxs)(Ry,{children:[(0,Ne.jsx)("strong",{children:"Rutas:"})," Para desbloquear finales alternativos"]})]}),(0,Ne.jsxs)(Oy,{children:[(0,Ne.jsx)("strong",{children:"\ud83d\udca1 Tip:"})," Los flags se usan en condiciones para mostrar contenido diferente: ",(0,Ne.jsx)(Fy,{children:'if met_alice: "Hola Alice!"'})]})]}),(0,Ne.jsxs)(by,{children:[(0,Ne.jsxs)(yy,{children:["Nombre de la ","variables"===o?"Variable":"Flag"]}),(0,Ne.jsx)(wy,{value:c.name,onChange:e=>v("name",e.target.value),placeholder:"variables"===o?"player_money, love_points, current_chapter":"met_alice, visited_school, found_secret"}),(0,Ne.jsx)("div",{style:{marginTop:"6px",fontSize:"11px",color:"var(--color-textTertiary)",fontStyle:"italic"},children:"variables"===o?"Usa nombres descriptivos con guiones bajos (sin espacios ni caracteres especiales)":"Nombre que identifique claramente el evento o estado que representa"})]}),"variables"===o&&(0,Ne.jsxs)(by,{children:[(0,Ne.jsx)(yy,{children:"Tipo de Variable"}),(0,Ne.jsxs)(jy,{value:c.type,onChange:e=>v("type",e.target.value),children:[(0,Ne.jsx)("option",{value:"number",children:"\ud83d\udd22 N\xfamero (puntuaciones, dinero, estad\xedsticas)"}),(0,Ne.jsx)("option",{value:"string",children:"\ud83d\udcdd Texto (nombres, descripciones, mensajes)"}),(0,Ne.jsx)("option",{value:"boolean",children:"\u2705 Booleano (verdadero/falso)"})]}),(0,Ne.jsx)("div",{style:{marginTop:"6px",fontSize:"11px",color:"var(--color-textTertiary)",fontStyle:"italic"},children:"El tipo determina qu\xe9 tipo de datos puede almacenar la variable"})]}),(0,Ne.jsxs)(by,{children:[(0,Ne.jsxs)(yy,{children:["Valor ","variables"===o?"Inicial":"del Flag"]}),"flags"===o?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(jy,{value:c.value?"true":"false",onChange:e=>v("value","true"===e.target.value),children:[(0,Ne.jsx)("option",{value:"true",children:"\u2705 Activado (True) - El evento ocurri\xf3"}),(0,Ne.jsx)("option",{value:"false",children:"\u274c Desactivado (False) - El evento no ocurri\xf3"})]}),(0,Ne.jsx)("div",{style:{marginTop:"6px",fontSize:"11px",color:"var(--color-textTertiary)",fontStyle:"italic"},children:"Estado inicial del flag cuando comienza el juego"})]}):(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(wy,{value:c.value,onChange:e=>v("value",e.target.value),placeholder:"string"===c.type?'"Alex" o "Texto descriptivo"':"boolean"===c.type?"true o false":"100 o 0"}),(0,Ne.jsxs)("div",{style:{marginTop:"6px",fontSize:"11px",color:"var(--color-textTertiary)",fontStyle:"italic"},children:["string"===c.type&&"Valor inicial de texto (usa comillas para texto)","number"===c.type&&"Valor num\xe9rico inicial (enteros o decimales)","boolean"===c.type&&"Estado booleano: true (verdadero) o false (falso)"]})]})]}),(0,Ne.jsxs)(by,{children:[(0,Ne.jsx)(yy,{children:"Descripci\xf3n (Opcional)"}),(0,Ne.jsx)(wy,{value:c.description,onChange:e=>v("description",e.target.value),placeholder:"variables"===o?"Describe para qu\xe9 se usa esta variable en tu juego...":"Describe qu\xe9 evento o estado representa este flag..."}),(0,Ne.jsxs)("div",{style:{marginTop:"6px",fontSize:"11px",color:"var(--color-textTertiary)",fontStyle:"italic"},children:["Una descripci\xf3n clara te ayudar\xe1 a recordar el prop\xf3sito de esta ","variables"===o?"variable":"flag"]})]}),(0,Ne.jsxs)(Iy,{children:[(0,Ne.jsxs)(vy,{onClick:()=>{if(!c.name.trim())return void alert("El nombre es requerido");const e={id:s?s.id:Ft(),name:c.name.trim(),value:c.value,type:c.type,description:c.description.trim()};r("variables"===o?s?{type:"UPDATE_VARIABLE",payload:e}:{type:"ADD_VARIABLE",payload:e}:s?{type:"UPDATE_FLAG",payload:e}:{type:"ADD_FLAG",payload:e}),i(!1),l(null),d({name:"",value:"",type:"number",description:""})},children:[s?"\ud83d\udcbe Actualizar":"\u2795 Agregar"," ","variables"===o?"Variable":"Flag"]}),(0,Ne.jsx)(vy,{onClick:()=>{i(!1),l(null)},style:{background:"linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%)",color:"var(--color-textSecondary)",border:"1px solid var(--color-border)"},children:"\u274c Cancelar"})]})]})]}),(0,Ne.jsx)(My,{visible:h,children:"\ud83d\uddb1\ufe0f Navegando por la p\xe1gina..."})]})}}],Ky=De(Vy||(Vy=t(["\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),Qy=De(Uy||(Uy=t(["\n  0%, 100% {\n    box-shadow: 0 0 0 rgba(37, 99, 235, 0);\n  }\n  50% {\n    box-shadow: 0 0 20px rgba(37, 99, 235, 0.3);\n  }\n"]))),Xy=Oe.div(qy||(qy=t(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\n  overflow: hidden;\n  transition: all 0.3s ease;\n  border-radius: 16px 0 0 0;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n"]))),ew=Oe.div(Gy||(Gy=t(["\n  display: flex;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border-bottom: 2px solid var(--color-border);\n  transition: all 0.3s ease;\n  padding: 8px 16px 0 16px;\n  border-radius: 16px 0 0 0;\n  position: relative;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 1px;\n    background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n    opacity: 0.3;\n  }\n"]))),nw=Oe.button(Yy||(Yy=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 14px 20px;\n  background: ",";\n  color: ",";\n  border: none;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border-radius: 12px 12px 0 0;\n  position: relative;\n  overflow: hidden;\n  min-width: 160px;\n  justify-content: center;\n  \n  /* Efecto de brillo */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.5s;\n  }\n\n  &:hover {\n    background: ",";\n    transform: translateY(-2px);\n    box-shadow: ",";\n    \n    &::before {\n      left: 100%;\n    }\n  }\n  \n  &:active {\n    transform: translateY(-1px);\n  }\n  \n  /* Animaci\xf3n de brillo para pesta\xf1a activa */\n  ","\n"])),e=>e.active?"linear-gradient(135deg, ".concat(e.color||"var(--color-primary)"," 0%, ").concat(e.color||"var(--color-primary)","dd 100%)"):"linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.05) 100%)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"linear-gradient(135deg, ".concat(e.color||"var(--color-primary)"," 0%, ").concat(e.color||"var(--color-primary)","dd 100%)"):"linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%)",e=>e.active?"0 8px 24px ".concat(e.color||"var(--color-primary)","40"):"0 4px 12px rgba(0, 0, 0, 0.1)",e=>e.active&&be($y||($y=t(["\n    animation: "," 3s ease-in-out infinite;\n  "])),Qy)),rw=Oe.div(Jy||(Jy=t(["\n  flex: 1;\n  overflow: hidden;\n  background: var(--color-surface);\n  border-radius: 0 0 16px 0;\n  position: relative;\n  \n  /* Efecto de entrada */\n  animation: "," 0.4s ease-out;\n"])),Ky);const ow=function(){const{state:e,storage:r}=jo(),[o,t]=n.useState(()=>r.getLastActiveTab("mainEditor")||"script"),a=Zy.find(e=>e.id===o),i=null===a||void 0===a?void 0:a.component;return(0,Ne.jsxs)(Xy,{children:[(0,Ne.jsx)(ew,{children:Zy.map(e=>(0,Ne.jsxs)(nw,{active:o===e.id,color:e.color,onClick:()=>{return n=e.id,t(n),void r.setLastActiveTab(n,"mainEditor");var n},title:e.description,children:[(0,Ne.jsx)("span",{style:{fontSize:"16px"},children:e.icon}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{style:{fontSize:"13px",fontWeight:"700"},children:e.label}),(0,Ne.jsx)("div",{style:{fontSize:"10px",opacity:.8,marginTop:"2px"},children:e.description})]})]},e.id))}),(0,Ne.jsx)(rw,{children:i&&(0,Ne.jsx)(i,{})})]})};class tw{constructor(){this.currentTransition=null,this.transitionQueue=[],this.isTransitioning=!1}async applyTransition(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isTransitioning)this.transitionQueue.push({transitionType:e,duration:n});else{this.isTransitioning=!0,this.currentTransition={transitionType:e,duration:n};try{const r=ds().find(n=>n.id===e);if(!r)return void console.warn("Transici\xf3n no encontrada: ".concat(e));const o=n||r.duration;await this.executeTransition(e,o)}catch(r){console.error("Error aplicando transici\xf3n:",r)}finally{if(this.isTransitioning=!1,this.currentTransition=null,this.transitionQueue.length>0){const e=this.transitionQueue.shift();this.applyTransition(e.transitionType,e.duration)}}}}async executeTransition(e,n){return new Promise(r=>{const o=document.querySelector(".preview-transition-container");o?(o.classList.add("transition-".concat(e)),o.style.setProperty("--transition-duration","".concat(n,"s")),setTimeout(()=>{o.classList.remove("transition-".concat(e)),o.style.removeProperty("--transition-duration"),r()},1e3*n)):r()})}static getTransitionStyles(){return"\n      .preview-transition-container {\n        position: relative;\n        overflow: hidden;\n      }\n\n      /* Transiciones b\xe1sicas */\n      .transition-dissolve {\n        animation: dissolve var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-fade {\n        animation: fade var(--transition-duration, 1.0s) ease-in-out;\n      }\n\n      .transition-pixellate {\n        animation: pixellate var(--transition-duration, 1.0s) ease-in-out;\n      }\n\n      /* Transiciones de movimiento */\n      .transition-moveinright {\n        animation: moveInRight var(--transition-duration, 0.5s) ease-out;\n      }\n\n      .transition-moveinleft {\n        animation: moveInLeft var(--transition-duration, 0.5s) ease-out;\n      }\n\n      .transition-moveintop {\n        animation: moveInTop var(--transition-duration, 0.5s) ease-out;\n      }\n\n      .transition-moveinbottom {\n        animation: moveInBottom var(--transition-duration, 0.5s) ease-out;\n      }\n\n      .transition-moveoutright {\n        animation: moveOutRight var(--transition-duration, 0.5s) ease-in;\n      }\n\n      .transition-moveoutleft {\n        animation: moveOutLeft var(--transition-duration, 0.5s) ease-in;\n      }\n\n      .transition-moveouttop {\n        animation: moveOutTop var(--transition-duration, 0.5s) ease-in;\n      }\n\n      .transition-moveoutbottom {\n        animation: moveOutBottom var(--transition-duration, 0.5s) ease-in;\n      }\n\n      /* Transiciones de zoom */\n      .transition-zoomin {\n        animation: zoomIn var(--transition-duration, 0.5s) ease-out;\n      }\n\n      .transition-zoomout {\n        animation: zoomOut var(--transition-duration, 0.5s) ease-in;\n      }\n\n      .transition-zoominout {\n        animation: zoomInOut var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      /* Transiciones de efecto */\n      .transition-vpunch {\n        animation: vPunch var(--transition-duration, 0.25s) ease-in-out;\n      }\n\n      .transition-hpunch {\n        animation: hPunch var(--transition-duration, 0.25s) ease-in-out;\n      }\n\n      .transition-blinds {\n        animation: blinds var(--transition-duration, 1.0s) ease-in-out;\n      }\n\n      .transition-squares {\n        animation: squares var(--transition-duration, 1.0s) ease-in-out;\n      }\n\n      /* Transiciones de deslizamiento */\n      .transition-wipeleft {\n        animation: wipeLeft var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-wiperight {\n        animation: wipeRight var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-wipeup {\n        animation: wipeUp var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-wipedown {\n        animation: wipeDown var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-slideleft {\n        animation: slideLeft var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-slideright {\n        animation: slideRight var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-slideup {\n        animation: slideUp var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-slidedown {\n        animation: slideDown var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      /* Transiciones de empuje */\n      .transition-pushright {\n        animation: pushRight var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-pushleft {\n        animation: pushLeft var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-pushup {\n        animation: pushUp var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-pushdown {\n        animation: pushDown var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      /* Transiciones de iris */\n      .transition-irisin {\n        animation: irisIn var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      .transition-irisout {\n        animation: irisOut var(--transition-duration, 0.5s) ease-in-out;\n      }\n\n      /* Keyframes para animaciones */\n      @keyframes dissolve {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n\n      @keyframes fade {\n        0% { opacity: 1; }\n        50% { opacity: 0; }\n        100% { opacity: 1; }\n      }\n\n      @keyframes pixellate {\n        0% { filter: blur(0px); }\n        50% { filter: blur(2px); }\n        100% { filter: blur(0px); }\n      }\n\n      @keyframes moveInRight {\n        0% { transform: translateX(100%); }\n        100% { transform: translateX(0); }\n      }\n\n      @keyframes moveInLeft {\n        0% { transform: translateX(-100%); }\n        100% { transform: translateX(0); }\n      }\n\n      @keyframes moveInTop {\n        0% { transform: translateY(-100%); }\n        100% { transform: translateY(0); }\n      }\n\n      @keyframes moveInBottom {\n        0% { transform: translateY(100%); }\n        100% { transform: translateY(0); }\n      }\n\n      @keyframes moveOutRight {\n        0% { transform: translateX(0); }\n        100% { transform: translateX(100%); }\n      }\n\n      @keyframes moveOutLeft {\n        0% { transform: translateX(0); }\n        100% { transform: translateX(-100%); }\n      }\n\n      @keyframes moveOutTop {\n        0% { transform: translateY(0); }\n        100% { transform: translateY(-100%); }\n      }\n\n      @keyframes moveOutBottom {\n        0% { transform: translateY(0); }\n        100% { transform: translateY(100%); }\n      }\n\n      @keyframes zoomIn {\n        0% { transform: scale(1); }\n        100% { transform: scale(1.2); }\n      }\n\n      @keyframes zoomOut {\n        0% { transform: scale(1); }\n        100% { transform: scale(0.8); }\n      }\n\n      @keyframes zoomInOut {\n        0% { transform: scale(1); }\n        50% { transform: scale(1.2); }\n        100% { transform: scale(1); }\n      }\n\n      @keyframes vPunch {\n        0%, 100% { transform: translateY(0); }\n        25% { transform: translateY(-10px); }\n        75% { transform: translateY(10px); }\n      }\n\n      @keyframes hPunch {\n        0%, 100% { transform: translateX(0); }\n        25% { transform: translateX(-10px); }\n        75% { transform: translateX(10px); }\n      }\n\n      @keyframes blinds {\n        0% { clip-path: inset(0 0 100% 0); }\n        100% { clip-path: inset(0 0 0 0); }\n      }\n\n      @keyframes squares {\n        0% { clip-path: inset(0 0 100% 0); }\n        100% { clip-path: inset(0 0 0 0); }\n      }\n\n      @keyframes wipeLeft {\n        0% { clip-path: inset(0 0 0 100%); }\n        100% { clip-path: inset(0 0 0 0); }\n      }\n\n      @keyframes wipeRight {\n        0% { clip-path: inset(0 100% 0 0); }\n        100% { clip-path: inset(0 0 0 0); }\n      }\n\n      @keyframes wipeUp {\n        0% { clip-path: inset(100% 0 0 0); }\n        100% { clip-path: inset(0 0 0 0); }\n      }\n\n      @keyframes wipeDown {\n        0% { clip-path: inset(0 0 100% 0); }\n        100% { clip-path: inset(0 0 0 0); }\n      }\n\n      @keyframes slideLeft {\n        0% { transform: translateX(-100%); }\n        100% { transform: translateX(0); }\n      }\n\n      @keyframes slideRight {\n        0% { transform: translateX(100%); }\n        100% { transform: translateX(0); }\n      }\n\n      @keyframes slideUp {\n        0% { transform: translateY(-100%); }\n        100% { transform: translateY(0); }\n      }\n\n      @keyframes slideDown {\n        0% { transform: translateY(100%); }\n        100% { transform: translateY(0); }\n      }\n\n      @keyframes pushRight {\n        0% { transform: translateX(0); }\n        100% { transform: translateX(100%); }\n      }\n\n      @keyframes pushLeft {\n        0% { transform: translateX(0); }\n        100% { transform: translateX(-100%); }\n      }\n\n      @keyframes pushUp {\n        0% { transform: translateY(0); }\n        100% { transform: translateY(-100%); }\n      }\n\n      @keyframes pushDown {\n        0% { transform: translateY(0); }\n        100% { transform: translateY(100%); }\n      }\n\n      @keyframes irisIn {\n        0% { clip-path: circle(0% at 50% 50%); }\n        100% { clip-path: circle(100% at 50% 50%); }\n      }\n\n      @keyframes irisOut {\n        0% { clip-path: circle(100% at 50% 50%); }\n        100% { clip-path: circle(0% at 50% 50%); }\n      }\n    "}static injectStyles(){if(document.getElementById("transition-styles"))return;const e=document.createElement("style");e.id="transition-styles",e.textContent=this.getTransitionStyles(),document.head.appendChild(e)}}const aw=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M12 2C8.13401 2 5 5.13401 5 9V15C5 18.866 8.13401 22 12 22C15.866 22 19 18.866 19 15V9C19 5.13401 15.866 2 12 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 6V14",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},iw=e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M9 11L12 14L22 4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 12V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},sw=e=>{let{size:n=48,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 9H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 15H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 21H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},lw=e=>{let{size:n=48,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M23 7L16 12L23 17V7Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})};var cw,dw,uw,pw,hw,gw,fw,xw,mw,vw,bw,yw,ww,jw,kw,Sw,_w,Cw,Ew,zw,Pw,Tw,Iw,Lw,Aw,Dw,Ow,Nw,Rw,Fw,Mw,Hw,Bw,Ww,Vw,Uw;const qw={title:"Vista Previa",icon:e=>{let{size:n=18,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},controls:[{id:"previous",label:"Anterior",icon:e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ne.jsx)("path",{d:"M15 18L9 12L15 6",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},action:"navigatePrevious",primary:!1},{id:"next",label:"Siguiente",icon:e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ne.jsx)("path",{d:"M9 18L15 12L9 6",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},action:"navigateNext",primary:!1}],info:{elementCount:"Elementos",currentElement:"Elemento Actual",memoryUsage:"Memoria"}},Gw=De(cw||(cw=t(["\n  from {\n    opacity: 0;\n    transform: translateX(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n"]))),Yw=De(dw||(dw=t(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n"]))),$w=Oe.div(uw||(uw=t(["\n  width: ",";\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-surface) 100%);\n  border-left: 2px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: -4px 0 16px rgba(0, 0, 0, 0.1);\n  position: relative;\n  \n  /* Efecto de entrada */\n  ","\n"])),e=>e.visible?"480px":"0",e=>e.visible&&be(pw||(pw=t(["\n    animation: "," 0.5s ease-out;\n  "])),Gw)),Jw=Oe.div(hw||(hw=t(["\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  padding: 16px 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: all 0.3s ease;\n  position: relative;\n  \n  /* L\xednea de brillo sutil */\n  &::before {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 1px;\n    background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n    opacity: 0.3;\n  }\n"]))),Zw=Oe.h3(gw||(gw=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 16px;\n  font-weight: 700;\n  transition: color 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),Kw=Oe.div(fw||(fw=t(["\n  display: flex;\n  gap: 10px;\n  align-items: center;\n"]))),Qw=Oe.button(xw||(xw=t(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  padding: 8px 14px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  position: relative;\n  overflow: hidden;\n  min-width: 80px;\n  justify-content: center;\n\n  /* Efecto de brillo */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.5s;\n  }\n\n  &:hover {\n    background: ",";\n    transform: translateY(-2px) scale(1.05);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      left: 100%;\n    }\n  }\n\n  &:active {\n    transform: translateY(-1px) scale(1.02);\n  }\n\n  &:disabled {\n    background: var(--color-backgroundTertiary);\n    color: var(--color-textTertiary);\n    border-color: var(--color-border);\n    cursor: not-allowed;\n    opacity: 0.6;\n    transform: none;\n    box-shadow: none;\n    \n    &::before {\n      display: none;\n    }\n  }\n  \n  /* Animaci\xf3n de pulso para bot\xf3n de reproducci\xf3n */\n  ","\n"])),e=>e.primary?"linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)":"linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%)",e=>e.primary?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%)":"linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%)",e=>e.primary&&e.playing&&be(mw||(mw=t(["\n    animation: "," 2s ease-in-out infinite;\n  "])),Yw)),Xw=Oe.div(vw||(vw=t(["\n  width: 100%;\n  height: 270px; /* 16:9 ratio: 480px * 9/16 = 270px */\n  display: flex;\n  flex-direction: column;\n  background-color: var(--color-surface);\n  position: relative;\n  overflow: hidden;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  margin: 8px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),ej=Oe.div(bw||(bw=t(["\n  width: 100%;\n  height: 100%;\n  background-color: var(--color-background);\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  border-radius: 6px;\n  transition: background-color 0.3s ease;\n  \n  /* Clase para transiciones */\n  &.preview-transition-container {\n    overflow: hidden;\n  }\n  "])),e=>e.background?"url(".concat(e.background,")"):"none"),nj=Oe.div(yw||(yw=t(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n"]))),rj=Oe.div(ww||(ww=t(["\n  position: absolute;\n  bottom: -80px; /* Posicionar debajo del textbox */\n  left: 0;\n  right: 0;\n  height: calc(100% - 80px);\n  z-index: 1; /* Detr\xe1s del textbox y texto */\n"]))),oj=Oe.div(jw||(jw=t(["\n  position: absolute;\n  bottom: 0;\n  width: 120px;\n  height: 240px;\n  background-color: ",";\n  border: ",";\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  color: #888888;\n  font-size: 12px;\n  opacity: ",";\n  transition: opacity 0.3s;\n  background-image: ",";\n  background-size: contain;\n  background-position: center bottom;\n  background-repeat: no-repeat;\n  \n  /* Posicionamiento basado en la posici\xf3n del sprite */\n  ","\n"])),e=>e.sprite?"transparent":"#333333",e=>e.sprite?"none":"2px solid #555555",e=>e.visible?1:0,e=>e.sprite?"url(".concat(e.sprite,")"):"none",e=>{switch(e.position){case"left":return"\n          left: 20px;\n        ";case"right":return"\n          right: 20px;\n        ";default:return"\n          left: 50%;\n          transform: translateX(-50%);\n        "}}),tj=n.memo(e=>{var r;let{characterId:o,spriteName:t,visible:a,position:i,characterName:s,loadedSprites:l,setLoadedSprites:c,fileManager:d,state:u}=e;const[p,h]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1),x=(0,n.useCallback)(async()=>{if(!u||!u.project||!u.project.characters)return void h(null);const e=u.project.characters.find(e=>e.id===o);if(!e||!e.sprites||0===e.sprites.length)return void h(null);const n=l[o]||{};let r=null,a=null;if(t?(r=e.sprites.find(e=>e.name===t),r&&(a=n[t])):(r=e.sprites[0],a=n[r.name]),!a&&r){f(!0);try{a=await d.getImageUrl(r.path),a&&c(e=>kr(kr({},e),{},{[o]:kr(kr({},e[o]),{},{[r.name]:a})}))}catch(i){console.error("Error loading sprite URL:",i)}finally{f(!1)}}!a&&r&&(a=r.path),h(a)},[o,t,null===u||void 0===u||null===(r=u.project)||void 0===r?void 0:r.characters,l,d,c]);return(0,n.useEffect)(()=>{x()},[x]),(0,Ne.jsxs)(oj,{visible:a,sprite:p,position:i,children:[g&&"\u23f3",!p&&!g&&s,!p&&!g&&!s&&"\ud83c\udfad"]})}),aj=Oe.div(kw||(kw=t(["\n  background-color: rgba(0, 0, 0, 0.8);\n  color: #ffffff;\n  padding: 12px 16px;\n  border-top: 2px solid #4a9eff;\n  min-height: 80px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-radius: 0 0 6px 6px;\n  z-index: 10; /* Por encima de los sprites */\n  position: relative;\n"]))),ij=Oe.div(Sw||(Sw=t(["\n  color: ",";\n  font-weight: bold;\n  font-size: 14px;\n  margin-bottom: 6px;\n"])),e=>e.color||"#4a9eff"),sj=Oe.div(_w||(_w=t(["\n  font-size: 14px;\n  line-height: 1.5;\n  color: #ffffff;\n"]))),lj=Oe.div(Cw||(Cw=t(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: ",";\n  padding: 16px;\n  max-width: 85%;\n  text-align: center;\n  font-size: ",";\n  line-height: 1.4;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);\n  font-weight: 500;\n  z-index: 10; /* Por encima de los sprites */\n  transition: all 0.3s ease;\n"])),e=>e.textColor||"#ffffff",e=>{switch(e.fontSize){case"small":return"12px";case"medium":default:return"16px";case"large":return"20px";case"xlarge":return"24px"}}),cj=Oe.div(Ew||(Ew=t(["\n  background-color: var(--color-surfaceSecondary);\n  padding: 12px 16px;\n  border-top: 1px solid var(--color-border);\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;\n"]))),dj=Oe.div(zw||(zw=t(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #888888;\n  text-align: center;\n  padding: 20px;\n"]))),uj=Oe.div(Pw||(Pw=t(["\n  font-size: 48px;\n  margin-bottom: 16px;\n"]))),pj=Oe.div(Tw||(Tw=t(["\n  font-size: 16px;\n  margin-bottom: 8px;\n"]))),hj=Oe.div(Iw||(Iw=t(["\n  font-size: 14px;\n  color: #666666;\n"]))),gj=Oe.div(Lw||(Lw=t(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 20;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 22px; /* gui.choice_spacing */\n"]))),fj=Oe.div(Aw||(Aw=t(["\n  color: #ffffff;\n  font-size: 18px;\n  text-align: center;\n  line-height: 1.4;\n  max-width: 400px;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);\n  margin-bottom: 20px;\n  padding: 12px 16px;\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 6px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n"]))),xj=Oe.div(Dw||(Dw=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 22px; /* gui.choice_spacing */\n  width: 100%;\n  max-width: 400px;\n"]))),mj=Oe.button(Ow||(Ow=t(["\n  background-color: transparent;\n  color: #cccccc; /* gui.choice_button_text_idle_color */\n  border: none;\n  padding: 8px 20px;\n  cursor: pointer;\n  font-size: 18px; /* gui.choice_button_text_size */\n  text-align: center;\n  transition: all 0.2s ease;\n  width: 100%;\n  border-radius: 4px;\n  position: relative;\n  \n  /* Simular el fondo de bot\xf3n de Ren'Py */\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgNDAwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwIiBmaWxsPSJyZ2JhKDAsIDAsIDAsIDAuMykiIHJ4PSI0Ii8+Cjwvc3ZnPgo=');\n  background-size: 100% 100%;\n  background-repeat: no-repeat;\n\n  &:hover {\n    color: #ffffff; /* gui.choice_button_text_hover_color */\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgNDAwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwIiBmaWxsPSJyZ2JhKDIwNCwgMTU4LCAyNTUsIDAuNSkiIHJ4PSI0Ii8+Cjwvc3ZnPgo=');\n    transform: translateY(-1px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"]))),vj=Oe.div(Nw||(Nw=t(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  padding: 20px;\n  background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);\n  border: 2px dashed #4a9eff;\n  border-radius: 8px;\n  margin: 20px;\n"]))),bj=Oe.div(Rw||(Rw=t(["\n  font-size: 48px;\n  margin-bottom: 16px;\n  opacity: 0.8;\n"]))),yj=Oe.div(Fw||(Fw=t(["\n  text-align: center;\n  color: #ffffff;\n"]))),wj=Oe.div(Mw||(Mw=t(["\n  font-size: 18px;\n  font-weight: bold;\n  color: #4a9eff;\n  margin-bottom: 8px;\n"]))),jj=Oe.div(Hw||(Hw=t(["\n  font-size: 14px;\n  color: #cccccc;\n  margin-bottom: 4px;\n  word-break: break-all;\n"]))),kj=Oe.div(Bw||(Bw=t(["\n  font-size: 12px;\n  color: #888888;\n  margin-bottom: 8px;\n"]))),Sj=(Oe.div(Ww||(Ww=t(["\n  font-size: 11px;\n  color: #666666;\n  margin-top: 8px;\n  \n  div {\n    margin-bottom: 2px;\n  }\n"]))),Oe.video(Vw||(Vw=t(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  background-color: #000000;\n"])))),_j=Oe.div(Uw||(Uw=t(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background-color: #000000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Cj=n.memo(e=>{let{element:r,onPlay:o,onPause:t,onEnded:a,onTimeUpdate:i,onLoadedMetadata:s,onError:l,controls:c,loop:d,autoPlay:u,muted:p}=e;const[h,g]=(0,n.useState)(null),[f,x]=(0,n.useState)(!0),[m,v]=(0,n.useState)(!1),b=(0,n.useRef)(null),y=(0,n.useRef)(null);(0,n.useEffect)(()=>()=>{b.current&&(b.current.pause(),b.current.src="",b.current.load(),b.current=null),y.current&&y.current.abort(),g(null),x(!0),v(!1)},[r.id]),(0,n.useEffect)(()=>{(async()=>{try{if(!r.file)return;y.current=new AbortController;const e=r.file.split("/").pop(),n=new _r.AssetStorage,o=await n.getAllFiles();if(y.current.signal.aborted)return;const t=o.find(n=>n.name===e&&"videos"===n.category);t&&t.data?(console.log("Archivo encontrado en IndexedDB:",e),g(t.data)):(console.log("No se encontr\xf3 el archivo en IndexedDB:",e),console.log("Archivos disponibles:",o.map(e=>({name:e.name,category:e.category}))))}catch(n){"AbortError"!==n.name&&console.error("Error al cargar URL del video:",n)}finally{var e;null!==(e=y.current)&&void 0!==e&&e.signal.aborted||x(!1)}})()},[r.file]),(0,n.useEffect)(()=>{if(h&&b.current&&!m){setTimeout(async()=>{try{console.log("Intentando reproducir video autom\xe1ticamente..."),await b.current.play(),v(!0),console.log("Video reproducido autom\xe1ticamente")}catch(e){console.log("No se pudo reproducir autom\xe1ticamente:",e.message)}},100)}},[h,m]);return f?(0,Ne.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#ffffff",padding:"20px",borderRadius:"8px",textAlign:"center",fontSize:"14px",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("div",{style:{fontSize:"32px"},children:"\ud83c\udfac"}),(0,Ne.jsx)("div",{style:{fontWeight:"bold"},children:"Cargando video..."}),(0,Ne.jsx)("div",{style:{fontSize:"12px",opacity:.8},children:r.file.split("/").pop()})]}):h?(0,Ne.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,Ne.jsx)(Sj,{ref:b,id:"video-".concat(r.id),src:h,onPlay:e=>{v(!0),o&&o(e)},onPause:e=>{v(!1),t&&t(e)},onEnded:a,onTimeUpdate:i,onLoadedMetadata:s,onError:l,controls:!1,loop:d,autoPlay:!1,muted:p,style:{background:"linear-gradient(45deg, #1a1a1a, #2a2a2a)"}}),!m&&(0,Ne.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.7)",borderRadius:"50%",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",color:"white",zIndex:10},onClick:async()=>{if(b.current)try{await b.current.play(),v(!0)}catch(e){console.error("Error al reproducir video:",e)}},children:"\u25b6\ufe0f"})]}):(0,Ne.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#ffffff",padding:"20px",borderRadius:"8px",textAlign:"center",fontSize:"14px",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("div",{style:{fontSize:"32px"},children:"\ud83c\udfac"}),(0,Ne.jsx)("div",{style:{fontWeight:"bold"},children:"Video"}),(0,Ne.jsx)("div",{style:{fontSize:"12px",opacity:.8},children:r.file.split("/").pop()}),(0,Ne.jsx)("div",{style:{fontSize:"10px",opacity:.6},children:"Archivo no encontrado"})]})});const Ej=function(){const{state:e,dispatch:r}=jo(),[o,t]=(0,n.useState)(0),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),[c,d]=(0,n.useState)([]),[u,p]=(0,n.useState)({}),[h,g]=(0,n.useState)(!1),[f,x]=(0,n.useState)(null),[m,v]=(0,n.useState)({}),[b,y]=(0,n.useState)(null),w=new Cr,{memoryInfo:j,getMemoryInfo:k}=(()=>{const[e,r]=(0,n.useState)(null),o=(0,n.useCallback)(()=>{if("memory"in performance){const e=performance.memory;return{usedJSHeapSize:e.usedJSHeapSize,totalJSHeapSize:e.totalJSHeapSize,jsHeapSizeLimit:e.jsHeapSizeLimit,usedMB:(e.usedJSHeapSize/1024/1024).toFixed(2),totalMB:(e.totalJSHeapSize/1024/1024).toFixed(2),limitMB:(e.jsHeapSizeLimit/1024/1024).toFixed(2)}}return null},[]);return(0,n.useEffect)(()=>{const e=()=>{const e=o();if(e){r(e);const n=e.usedJSHeapSize/e.jsHeapSizeLimit*100;n>80&&console.warn("PreviewPanel: Uso de memoria alto: ".concat(n.toFixed(1),"%"))}},n=setInterval(e,3e4);return e(),()=>clearInterval(n)},[o]),{memoryInfo:e,getMemoryInfo:o}})(),{applyTransition:S}=(()=>{const[e]=(0,n.useState)(()=>new tw);return(0,n.useEffect)(()=>{tw.injectStyles()},[]),{applyTransition:(0,n.useCallback)((n,r)=>e.applyTransition(n,r),[e])}})();(0,n.useEffect)(()=>{const e=C()[o];if(e){if("transition"===e.type){const n=e.transitionType||"dissolve",r=e.transitionDuration||null;console.log("PreviewPanel: Aplicando transici\xf3n independiente:",n,r),S(n,r)}if("scene"===e.type&&e.backgroundTransition){const n=e.backgroundTransition,r=e.backgroundTransitionDuration||null;console.log("PreviewPanel: Aplicando transici\xf3n de fondo:",n,r),S(n,r)}if("show_sprite"===e.type&&e.spriteTransition){const n=e.spriteTransition,r=e.spriteTransitionDuration||null;console.log("PreviewPanel: Aplicando transici\xf3n de sprite:",n,r),S(n,r)}}},[o,S]),(0,n.useEffect)(()=>{const n=n=>{const{elementIndex:o,elementId:a,sceneFileId:i}=n.detail;if(console.log("PreviewPanel: Evento recibido:",{elementIndex:o,elementId:a,sceneFileId:i,currentSceneFile:e.project.currentSceneFile,previewMode:e.previewMode}),i===e.project.currentSceneFile)if(console.log("PreviewPanel: Navegando a elemento desde ScriptEditor:",o,a),e.previewMode){const e=C();console.log("PreviewPanel: Elementos de vista previa:",e.length,"\xcdndice solicitado:",o),o>=0&&o<e.length?(t(o),console.log("PreviewPanel: Navegaci\xf3n exitosa al elemento:",o)):console.warn("PreviewPanel: \xcdndice de elemento inv\xe1lido:",o,"de",e.length)}else console.log("PreviewPanel: Activando vista previa autom\xe1ticamente"),r({type:"TOGGLE_PREVIEW"}),setTimeout(()=>{const e=C();console.log("PreviewPanel: Elementos de vista previa (despu\xe9s de activar):",e.length,"\xcdndice solicitado:",o),o>=0&&o<e.length?(t(o),console.log("PreviewPanel: Navegaci\xf3n exitosa al elemento (despu\xe9s de activar):",o)):console.warn("PreviewPanel: \xcdndice de elemento inv\xe1lido (despu\xe9s de activar):",o,"de",e.length)},100);else console.log("PreviewPanel: Evento ignorado - archivo de escena diferente:",i,"vs",e.project.currentSceneFile)};return window.addEventListener("navigateToElement",n),document.addEventListener("navigateToElement",n),()=>{window.removeEventListener("navigateToElement",n),document.removeEventListener("navigateToElement",n)}},[e.project.currentSceneFile,e.project.sceneFiles,e.previewMode,r]),(0,n.useEffect)(()=>{e.previewMode||(i(!1),t(0))},[e.previewMode]),(0,n.useEffect)(()=>{t(0),d([]),x(null)},[e.project.currentSceneFile]);const _=(0,n.useCallback)(()=>{const n=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(!n)return;const r=new Set,t=T(o);for(let e=0;e<=t;e++){const o=n.elements[e];if(o)switch(o.type){case"show_sprite":o.character&&o.spriteName&&r.add(o.character);break;case"hide_sprite":o.character&&r.delete(o.character);break;case"dialogue":o.character&&o.showSprite&&r.add(o.character)}}d(Array.from(r))},[o,e.project.currentSceneFile,e.project.sceneFiles]);(0,n.useEffect)(()=>{_()},[_]);const C=()=>{if(!e||!e.project||!e.project.sceneFiles)return console.log("PreviewPanel - getPreviewElements: state o project no disponibles"),[];const n=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(!n)return console.log("PreviewPanel - getPreviewElements: archivo de escena actual no encontrado"),[];console.log("PreviewPanel - getPreviewElements: archivo actual:",n.displayName,"elementos totales:",n.elements.length);const r=n.elements.filter(e=>!("scene"===e.type&&!e.showAsElement)&&("label"!==e.type&&("variable"!==e.type&&"condition"!==e.type&&"flag"!==e.type)));return console.log("PreviewPanel - getPreviewElements: elementos filtrados:",r.length),r},E=n=>{if(!e||!e.project||!e.project.sceneFiles)return-1;for(const o of e.project.sceneFiles){const a=o.elements.findIndex(e=>"label"===e.type&&e.label===n);if(-1!==a){if(o.id===e.project.currentSceneFile){let e=0;for(let n=0;n<a;n++){const r=o.elements[n];"label"===r.type||"scene"===r.type&&!r.showAsElement||e++}return e}{let e=0;for(let n=0;n<a;n++){const r=o.elements[n];"label"===r.type||"scene"===r.type&&!r.showAsElement||e++}return setTimeout(()=>{r({type:"SET_CURRENT_SCENE_FILE",payload:o.id}),t(e),setTimeout(()=>{const e=P();l(e),console.log("PreviewPanel: Fondo actualizado despu\xe9s del cambio de archivo:",e),console.log("PreviewPanel: Elemento actual actualizado autom\xe1ticamente"),setTimeout(()=>{const e=P();l(e),console.log("PreviewPanel: Fondo final actualizado:",e)},100)},50)},100),-1}}}return-1},z=n.useMemo(()=>(()=>{var n;const r=C();if(console.log("PreviewPanel - getCurrentElement:",{currentElementIndex:o,previewElementsLength:r.length,currentSceneFile:null===(n=e.project)||void 0===n?void 0:n.currentSceneFile}),o>=0&&o<r.length){const e=r[o];return console.log("PreviewPanel - getCurrentElement found:",e),e}return console.log("PreviewPanel - getCurrentElement: no element found"),null})(),[o,e.project.currentSceneFile,e.project.sceneFiles]),P=()=>{if(!e||!e.project||!e.project.sceneFiles)return console.log("PreviewPanel - getCurrentBackground: state o project no disponibles"),null;const n=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(!n)return console.log("PreviewPanel - getCurrentBackground: archivo de escena actual no encontrado"),null;console.log("PreviewPanel - getCurrentBackground: archivo actual:",n.displayName,"\xedndice:",o);const r=C();if(z&&"scene"===z.type&&z.background)return console.log("PreviewPanel - getCurrentBackground (current scene):",z.background),z.background;if(o>=0&&o<r.length){const e=r[o],t=n.elements.findIndex(n=>n.id===e.id);if(-1!==t)for(let r=t;r>=0;r--){const e=n.elements[r];if(e&&"scene"===e.type&&e.background)return console.log("PreviewPanel - getCurrentBackground (scene, by index):",e.background),e.background;if(e&&("video"===e.type||"movie_sprite"===e.type||"movie_cutscene"===e.type)&&e.file)return console.log("PreviewPanel - getCurrentBackground (video, by index):",e.file),{type:"video",file:e.file,element:e}}}if(z&&z.id){const e=n.elements.findIndex(e=>e.id===z.id);if(-1!==e)for(let r=e;r>=0;r--){const e=n.elements[r];if(e&&"scene"===e.type&&e.background)return console.log("PreviewPanel - getCurrentBackground (scene, with currentElement):",e.background),e.background;if(e&&("video"===e.type||"movie_sprite"===e.type||"movie_cutscene"===e.type)&&e.file)return console.log("PreviewPanel - getCurrentBackground (video, with currentElement):",e.file),{type:"video",file:e.file,element:e}}}for(let e=n.elements.length-1;e>=0;e--){const r=n.elements[e];if(r&&"scene"===r.type&&r.background)return console.log("PreviewPanel - getCurrentBackground (scene, fallback):",r.background),r.background;if(r&&("video"===r.type||"movie_sprite"===r.type||"movie_cutscene"===r.type)&&r.file)return console.log("PreviewPanel - getCurrentBackground (video, fallback):",r.file),{type:"video",file:r.file,element:r}}return console.log("PreviewPanel - getCurrentBackground: no background found"),null},T=n=>{const r=C();if(n>=0&&n<r.length){const o=r[n],t=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile);if(t)return t.elements.findIndex(e=>e.id===o.id)}return 0},I=(e,n)=>{v(r=>{const o=kr(kr({},r),{},{[e]:kr(kr({},r[e]),n)}),t=Object.keys(o);if(t.length>10){const e=t.sort((e,n)=>{const r=o[e].lastAccessed||0;return(o[n].lastAccessed||0)-r}),n={};return e.slice(0,5).forEach(e=>{n[e]=o[e]}),console.log("PreviewPanel: Limpiando estados de video antiguos para evitar memory leak"),n}return o})},L=()=>{v(e=>{const n=Date.now(),r={};return Object.entries(e).forEach(e=>{let[o,t]=e;t.lastAccessed&&n-t.lastAccessed<3e5&&(r[o]=t)}),Object.keys(r).length!==Object.keys(e).length&&console.log("PreviewPanel: Limpiando estados de video antiguos"),r})},A=e=>{I(e,{isPlaying:!0,hasEnded:!1,lastAccessed:Date.now()}),y(e)},D=e=>{I(e,{isPlaying:!1,lastAccessed:Date.now()})},O=e=>{I(e,{isPlaying:!1,currentTime:0,hasEnded:!0,lastAccessed:Date.now()}),y(null),setTimeout(()=>{M()},500)},N=(e,n)=>{I(e,{currentTime:n,lastAccessed:Date.now()})},R=(e,n)=>{I(e,{duration:n,lastAccessed:Date.now()})},F=async e=>{if(e&&("video"===e.type||"movie_sprite"===e.type||"movie_cutscene"===e.type)){const n=setTimeout(async()=>{const n=document.getElementById("video-".concat(e.id));if(n&&e.file){const r=await(async e=>{try{if(!e)return null;const n=e.split("/").pop(),r=new Cr,o=(await r.getFilesByCategory("videos")).find(e=>e.name===n);return o&&o.data?o.data:null}catch(n){return console.error("Error al obtener URL del archivo:",n),null}})(e.file);r?(n.src=r,n.play().catch(e=>{console.log("Error al reproducir video:",e),M()})):(console.log("No se pudo obtener la URL del archivo"),M())}else M()},100);return n}};(0,n.useEffect)(()=>{const e=P();l(e)},[o,z,e.project.currentSceneFile,e.project.sceneFiles]),(0,n.useEffect)(()=>{const e=P();e!==s&&l(e)},[e.project.currentSceneFile,o,s]),(0,n.useEffect)(()=>{let e=null;return z&&a&&(Object.keys(m).forEach(e=>{if(e!==z.id){const n=document.getElementById("video-".concat(e));n&&!n.paused&&n.pause()}}),e=F(z)),()=>{e&&clearTimeout(e)}},[z,a]),(0,n.useEffect)(()=>{const e=setInterval(()=>{L(),Object.keys(m).forEach(e=>{const n=document.getElementById("video-".concat(e));n&&e!==(null===z||void 0===z?void 0:z.id)&&n.paused&&0===n.currentTime&&(n.pause(),n.src="",n.load(),n.removeEventListener("ended",()=>{}),n.removeEventListener("error",()=>{}))});document.querySelectorAll('video[id^="video-"]').forEach(e=>{const n=e.id.replace("video-","");m[n]||n===(null===z||void 0===z?void 0:z.id)||(e.pause(),e.src="",e.load(),e.remove())}),window.gc&&window.gc();const e=k();if(e){console.log("PreviewPanel: Cleanup autom\xe1tico ejecutado - Memoria: ".concat(e.usedMB,"MB/").concat(e.limitMB,"MB"));const n=e.usedJSHeapSize/e.jsHeapSizeLimit*100;n>85&&(console.warn("PreviewPanel: \u26a0\ufe0f Uso de memoria muy alto: ".concat(n.toFixed(1),"%")),L(),Object.keys(m).forEach(e=>{const n=document.getElementById("video-".concat(e));n&&(n.pause(),n.src="",n.load())}))}else console.log("PreviewPanel: Cleanup autom\xe1tico de memoria ejecutado")},12e4);return()=>clearInterval(e)},[m,z,k]),(0,n.useEffect)(()=>()=>{Object.keys(m).forEach(e=>{const n=document.getElementById("video-".concat(e));n&&(n.pause(),n.src="",n.load(),n.removeEventListener("ended",()=>{}),n.removeEventListener("error",()=>{}))}),console.log("PreviewPanel: Componente desmontado, limpiando recursos"),window.gc&&window.gc()},[]);const M=()=>{const e=C();o<e.length-1&&t(e=>e+1)},[H,B]=(0,n.useState)({}),[W,V]=((0,n.useCallback)(async(n,r)=>{var o;if(null!==(o=H[n])&&void 0!==o&&o[r])return H[n][r];try{const o=e.project.characters.find(e=>e.id===n);if(!o||!o.sprites)return null;const t=o.sprites.find(e=>e.name===r);if(!t)return null;const a=await w.getImageUrl(t.path)||t.path;return B(e=>kr(kr({},e),{},{[n]:kr(kr({},e[n]),{},{[r]:a})})),a}catch(t){return console.error("Error loading sprite on demand:",t),null}},[e.project.characters,w,H]),(0,n.useState)({}));(0,n.useEffect)(()=>{let n=!0;return(async()=>{try{const r=new Set;if(console.log("PreviewPanel - loadBackgrounds: iniciando carga de fondos..."),e.project.sceneFiles.forEach(e=>{n&&e.elements.forEach(e=>{e.background&&(r.add(e.background),console.log("PreviewPanel - loadBackgrounds: encontrado fondo:",e.background))})}),console.log("PreviewPanel - loadBackgrounds: total de fondos encontrados:",r.size),console.log("PreviewPanel - loadBackgrounds: rutas de fondos:",Array.from(r)),!n)return;const o=Array.from(r).map(async e=>{if(!n)return null;console.log("PreviewPanel - loadBackgrounds: cargando fondo:",e);const r=await w.getImageUrl(e);return console.log("PreviewPanel - loadBackgrounds: fondo cargado:",e,"->",r),{path:e,url:r||e}}),t=await Promise.all(o);if(n){const e={};t.forEach(n=>{n&&(e[n.path]=n.url)}),console.log("PreviewPanel - loadBackgrounds: mapa de fondos final:",e),V(e)}}catch(r){n&&console.error("Error al cargar fondos:",r)}})(),()=>{n=!1}},[e.project.sceneFiles]);const U=e=>{if(!e)return console.log("PreviewPanel - getBackgroundImage: no background path provided"),null;if("object"===typeof e&&"video"===e.type)return console.log("PreviewPanel - getBackgroundImage: video background detected"),null;const n=W[e];return!n&&e?(console.warn("PreviewPanel - getBackgroundImage: Fondo no cargado:",e),console.log("PreviewPanel - getBackgroundImage: Fondos disponibles:",Object.keys(W)),e):(console.log("PreviewPanel - getBackgroundImage:",{backgroundPath:e,loadedUrl:n,finalUrl:n,totalLoadedBackgrounds:Object.keys(W).length}),n)},q=e=>{const n=(e=>e&&"object"===typeof e&&"video"===e.type?e.element:null)(e);return n?(0,Ne.jsx)(nj,{children:(0,Ne.jsx)(Cj,{element:n,onPlay:()=>{},onPause:()=>{},onEnded:()=>{},onTimeUpdate:()=>{},onLoadedMetadata:()=>{},onError:()=>{},controls:!1,loop:!0,autoPlay:!1,muted:!0})}):null};return e.previewMode?(0,Ne.jsxs)($w,{visible:e.previewMode,children:[(0,Ne.jsxs)(Jw,{children:[(0,Ne.jsxs)(Zw,{children:[(0,Ne.jsx)(qw.icon,{size:18,color:"currentColor"}),qw.title]}),(0,Ne.jsxs)(Kw,{children:[qw.controls.map(e=>{const n=e.icon;return(0,Ne.jsxs)(Qw,{primary:e.primary,onClick:()=>{switch(e.action){case"navigatePrevious":o>0&&t(e=>e-1);break;case"navigateNext":M()}},disabled:"previous"===e.id&&0===o||"next"===e.id&&o>=C().length-1,title:e.label,children:[(0,Ne.jsx)(n,{size:14,color:"currentColor"}),(0,Ne.jsx)("span",{style:{fontSize:"11px",fontWeight:"600"},children:e.label})]},e.id)}),(0,Ne.jsxs)(Qw,{primary:h,onClick:()=>g(!h),title:h?"Desactivar modo interactivo":"Activar modo interactivo",children:[h?(0,Ne.jsx)(aw,{size:14,color:"currentColor"}):(0,Ne.jsx)(iw,{size:14,color:"currentColor"}),(0,Ne.jsx)("span",{style:{fontSize:"11px",fontWeight:"600"},children:h?"Interactivo":"Est\xe1tico"})]})]})]}),(0,Ne.jsxs)(Xw,{onClick:()=>{if(h&&"choice"!==(null===z||void 0===z?void 0:z.type)){const e=C();o<e.length-1&&t(e=>e+1)}},style:{cursor:h?"pointer":"default",position:"relative"},children:[(()=>{var n,r,i;if(!z)return(0,Ne.jsxs)(dj,{children:[(0,Ne.jsx)(uj,{}),(0,Ne.jsx)(pj,{children:"Vista Previa"}),(0,Ne.jsx)(hj,{children:"Selecciona un elemento del script para ver la vista previa"})]});switch(z.type){case"dialogue":if(!e||!e.project||!e.project.characters)return null;const l=e.project.characters.find(e=>e.id===z.character);return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(rj,{children:e.project.characters.filter(e=>c.includes(e.id)).map(n=>{const r=n.id===z.character,o=r&&z.showSprite?z.showSprite:null,t=r&&z.showSprite?z.spritePosition:"center";return(0,Ne.jsx)(tj,{characterId:n.id,spriteName:o,visible:!0,position:t,characterName:n.name,loadedSprites:H,setLoadedSprites:B,fileManager:w,state:e},n.id)})})]}),(0,Ne.jsxs)(aj,{children:[(0,Ne.jsx)(ij,{color:(null===l||void 0===l?void 0:l.who_color)||(null===l||void 0===l?void 0:l.color),children:null!==l&&void 0!==l&&l.isProtagonist?"Protagonista":(null===l||void 0===l?void 0:l.name)||z.character}),(0,Ne.jsx)(sj,{children:z.text.replace(/\[mc_name\]/g,"Protagonista")})]})]});case"narration":return(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(lj,{textColor:z.textColor,fontSize:z.fontSize,children:z.text.replace(/\[mc_name\]/g,"Protagonista")})]});case"scene":return(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(rj,{children:e&&e.project&&e.project.characters?e.project.characters.filter(e=>c.includes(e.id)).map(n=>(0,Ne.jsx)(tj,{characterId:n.id,spriteName:null,visible:!0,position:"center",characterName:n.name,loadedSprites:H,setLoadedSprites:B,fileManager:w,state:e},n.id)):null}),(0,Ne.jsxs)("div",{style:{position:"absolute",top:"20px",left:"20px",background:"linear-gradient(135deg, rgba(255, 158, 74, 0.9) 0%, rgba(255, 158, 74, 0.7) 100%)",color:"#ffffff",padding:"12px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"600",boxShadow:"0 4px 16px rgba(255, 158, 74, 0.3)",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("span",{style:{fontSize:"16px"},children:"\ud83c\udfad"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{style:{fontSize:"11px",opacity:.9},children:"Cambio de escena"}),(0,Ne.jsx)("div",{style:{fontSize:"13px",fontWeight:"700"},children:z.background||"Sin fondo"})]})]})]});case"transition":return(0,Ne.jsxs)(ej,{background:U(s),className:"preview-transition-container",children:[q(s),(0,Ne.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"var(--color-textPrimary)",fontSize:"18px",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",padding:"20px",borderRadius:"8px",border:"2px solid var(--color-primary)"},children:[(0,Ne.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"\u2728"}),(0,Ne.jsxs)("div",{children:["Transici\xf3n: ",z.transitionType||"dissolve"]}),z.transitionDuration&&(0,Ne.jsxs)("div",{style:{fontSize:"14px",opacity:.8},children:["Duraci\xf3n: ",z.transitionDuration,"s"]})]})]});case"choice":return(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(rj,{children:e&&e.project&&e.project.characters?e.project.characters.filter(e=>c.includes(e.id)).map(n=>(0,Ne.jsx)(tj,{characterId:n.id,spriteName:null,visible:!0,position:"center",characterName:n.name,loadedSprites:H,setLoadedSprites:B,fileManager:w,state:e},n.id)):null}),(0,Ne.jsx)(gj,{children:(0,Ne.jsxs)(xj,{children:[z.text&&(0,Ne.jsx)(fj,{children:z.text}),null===(n=z.choices)||void 0===n?void 0:n.map((e,n)=>(0,Ne.jsx)(mj,{onClick:()=>(e=>{if("choice"===(null===z||void 0===z?void 0:z.type)&&z.choices){const n=z.choices[e];x(n),n.jump?setTimeout(()=>{const e=E(n.jump);if(-1!==e)t(e);else{console.error('Label "'.concat(n.jump,'" no encontrado'));const e=C();o<e.length-1&&t(e=>e+1)}x(null)},500):setTimeout(()=>{const e=C();o<e.length-1&&t(e=>e+1),x(null)},500)}})(n),style:{opacity:f===e?.7:1,transform:f===e?"scale(0.95)":"scale(1)"},children:e.text},e.id||n))]})})]});case"label":return null;case"jump":const d=E(z.jump);if(-1!==d)return t(d),null;return e&&e.project&&e.project.sceneFiles&&e.project.sceneFiles.some(e=>e.elements.some(e=>"label"===e.type&&e.label===z.jump))?(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(rj,{children:e&&e.project&&e.project.characters?e.project.characters.map(e=>(0,Ne.jsx)(tj,{characterId:e.id,spriteName:null,visible:c.includes(e.id),position:"center",characterName:e.name},e.id)):null}),(0,Ne.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 150, 255, 0.8)",color:"#ffffff",padding:"20px",borderRadius:"8px",fontSize:"16px",textAlign:"center",border:"2px solid #0096ff"},children:['\ud83d\udd04 Navegando a "',z.jump,'"...']})]}):(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(rj,{children:e&&e.project&&e.project.characters?e.project.characters.map(e=>(0,Ne.jsx)(tj,{characterId:e.id,spriteName:null,visible:c.includes(e.id),position:"center",characterName:e.name},e.id)):null}),(0,Ne.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(255, 0, 0, 0.8)",color:"#ffffff",padding:"20px",borderRadius:"8px",fontSize:"16px",textAlign:"center",border:"2px solid #ff0000"},children:['\u274c Error: Label "',z.jump,'" no encontrado']})]});case"video":return(0,Ne.jsx)(ej,{children:(0,Ne.jsx)(_j,{children:z.file?(0,Ne.jsx)(Cj,{element:z,onPlay:()=>A(z.id),onPause:()=>D(z.id),onEnded:()=>O(z.id),onTimeUpdate:e=>N(z.id,e.target.currentTime),onLoadedMetadata:e=>R(z.id,e.target.duration),onError:e=>{console.log("Error al cargar video:",e),setTimeout(()=>M(),1e3)},controls:!1,loop:z.loops>0,autoPlay:a,muted:!1}):(0,Ne.jsxs)(vj,{children:[(0,Ne.jsx)(bj,{children:(0,Ne.jsx)(lw,{size:48,color:"#4a9eff"})}),(0,Ne.jsxs)(yj,{children:[(0,Ne.jsx)(wj,{children:"Video"}),(0,Ne.jsx)(jj,{children:"Sin archivo"}),(0,Ne.jsx)(kj,{children:"Archivo no encontrado"})]})]})})});case"movie_sprite":return(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(rj,{children:z.file?(0,Ne.jsxs)(oj,{visible:!0,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",height:"400px",overflow:"hidden",borderRadius:"8px",border:"3px solid #4a9eff",boxShadow:"0 4px 12px rgba(74, 158, 255, 0.3)",background:"linear-gradient(45deg, #1a1a1a, #2a2a2a)"},children:[(0,Ne.jsx)(Sj,{id:"video-".concat(z.id),src:z.file,onPlay:()=>A(z.id),onPause:()=>D(z.id),onEnded:()=>O(z.id),onTimeUpdate:e=>N(z.id,e.target.currentTime),onLoadedMetadata:e=>R(z.id,e.target.duration),onError:e=>{console.log("Error al cargar movie sprite:",e),setTimeout(()=>M(),1e3)},controls:!1,loop:!0,autoPlay:a,muted:!1,style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,Ne.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#ffffff",padding:"16px",borderRadius:"6px",textAlign:"center",fontSize:"12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"6px"},children:[(0,Ne.jsx)("div",{style:{fontSize:"24px"},children:"\ud83c\udfad\ud83c\udfac"}),(0,Ne.jsx)("div",{style:{fontWeight:"bold"},children:"Movie Sprite"}),(0,Ne.jsx)("div",{style:{fontSize:"10px",opacity:.8},children:z.spriteName||"Sin nombre"}),(0,Ne.jsx)("div",{style:{fontSize:"9px",opacity:.6},children:z.file.split("/").pop()})]})]},z.id):(0,Ne.jsxs)(oj,{visible:!0,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",height:"400px",background:"linear-gradient(45deg, #4a9eff, #6bb6ff)",border:"3px solid #4a9eff",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"14px",textAlign:"center",boxShadow:"0 4px 12px rgba(74, 158, 255, 0.3)"},children:[(0,Ne.jsx)("div",{style:{fontSize:"48px",marginBottom:"12px"},children:"\ud83c\udfad\ud83c\udfac"}),(0,Ne.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"Movie Sprite"}),(0,Ne.jsx)("div",{style:{fontSize:"12px",marginBottom:"4px"},children:z.spriteName||"Sin nombre"}),(0,Ne.jsx)("div",{style:{fontSize:"10px",opacity:.8},children:"Sin archivo"})]},z.id)})]});case"movie_cutscene":return(0,Ne.jsx)(ej,{children:(0,Ne.jsx)(_j,{children:z.file?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(Sj,{id:"video-".concat(z.id),src:z.file,onPlay:()=>A(z.id),onPause:()=>D(z.id),onEnded:()=>O(z.id),onTimeUpdate:e=>N(z.id,e.target.currentTime),onLoadedMetadata:e=>R(z.id,e.target.duration),onError:e=>{console.log("Error al cargar movie cutscene:",e),setTimeout(()=>M(),1e3)},controls:!1,loop:z.loops>0,autoPlay:a,muted:!1,style:{background:"linear-gradient(45deg, #1a1a1a, #2a2a2a)"}}),(0,Ne.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#ffffff",padding:"20px",borderRadius:"8px",textAlign:"center",fontSize:"14px",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("div",{style:{fontSize:"32px"},children:"\ud83c\udfac\ud83c\udfad"}),(0,Ne.jsx)("div",{style:{fontWeight:"bold"},children:"Movie Cutscene"}),(0,Ne.jsx)("div",{style:{fontSize:"12px",opacity:.8},children:z.file.split("/").pop()}),(0,Ne.jsx)("div",{style:{fontSize:"10px",opacity:.6},children:"Cinem\xe1tica de pantalla completa"})]})]}):(0,Ne.jsxs)(vj,{children:[(0,Ne.jsx)(bj,{children:(0,Ne.jsx)(lw,{size:48,color:"#4a9eff"})}),(0,Ne.jsxs)(yj,{children:[(0,Ne.jsx)(wj,{children:"Movie Cutscene"}),(0,Ne.jsx)(jj,{children:"Sin archivo"}),(0,Ne.jsx)(kj,{children:"Archivo no encontrado"})]})]})})});case"show_sprite":return(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(rj,{children:e&&e.project&&e.project.characters?e.project.characters.filter(e=>c.includes(e.id)).map(n=>(0,Ne.jsx)(tj,{characterId:n.id,spriteName:n.id===z.character?z.spriteName:null,visible:!0,position:n.id===z.character&&z.spritePosition||"center",characterName:n.name,loadedSprites:H,setLoadedSprites:B,fileManager:w,state:e},n.id)):null}),(0,Ne.jsxs)("div",{style:{position:"absolute",top:"20px",left:"20px",background:"linear-gradient(135deg, rgba(74, 158, 255, 0.9) 0%, rgba(74, 158, 255, 0.7) 100%)",color:"#ffffff",padding:"12px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"600",boxShadow:"0 4px 16px rgba(74, 158, 255, 0.3)",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udc64"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{style:{fontSize:"11px",opacity:.9},children:"Mostrar Sprite"}),(0,Ne.jsxs)("div",{style:{fontSize:"13px",fontWeight:"700"},children:[z.character," - ",z.spriteName||"Sprite por defecto"]})]})]})]});case"hide_sprite":return(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)(rj,{children:e&&e.project&&e.project.characters?e.project.characters.filter(e=>c.includes(e.id)).map(n=>(0,Ne.jsx)(tj,{characterId:n.id,spriteName:null,visible:!0,position:"center",characterName:n.name,loadedSprites:H,setLoadedSprites:B,fileManager:w,state:e},n.id)):null}),(0,Ne.jsxs)("div",{style:{position:"absolute",top:"20px",left:"20px",background:"linear-gradient(135deg, rgba(255, 107, 107, 0.9) 0%, rgba(255, 107, 107, 0.7) 100%)",color:"#ffffff",padding:"12px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:"600",boxShadow:"0 4px 16px rgba(255, 107, 107, 0.3)",border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ne.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udc64\u274c"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{style:{fontSize:"11px",opacity:.9},children:"Ocultar Sprite"}),(0,Ne.jsx)("div",{style:{fontSize:"13px",fontWeight:"700"},children:z.character})]})]})]});case"protagonist_setup":return(0,Ne.jsxs)(ej,{background:U(s),children:[q(s),(0,Ne.jsx)("div",{style:{position:"absolute",bottom:"120px",left:"50%",transform:"translateX(-50%)",width:"80%",maxWidth:"600px"},children:(0,Ne.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%)",padding:"20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"},children:[(0,Ne.jsx)("div",{style:{fontSize:"16px",color:"#ffffff",marginBottom:"16px",textAlign:"center",fontWeight:"500"},children:(null===(r=e.project.protagonistConfig)||void 0===r?void 0:r.promptText)||"Por favor, introduce tu nombre:"}),(0,Ne.jsx)("input",{type:"text",placeholder:(null===(i=e.project.protagonistConfig)||void 0===i?void 0:i.defaultName)||"Jugador",style:{width:"100%",padding:"12px 16px",borderRadius:"4px",border:"2px solid #4a9eff",backgroundColor:"rgba(255, 255, 255, 0.95)",color:"#333",fontSize:"16px",textAlign:"center",outline:"none",fontFamily:"inherit",transition:"all 0.2s ease",boxSizing:"border-box"},onFocus:e=>{e.target.style.borderColor="#60a5fa",e.target.style.backgroundColor="#ffffff",e.target.style.boxShadow="0 0 10px rgba(74, 158, 255, 0.3)"},onBlur:e=>{e.target.style.borderColor="#4a9eff",e.target.style.backgroundColor="rgba(255, 255, 255, 0.95)",e.target.style.boxShadow="none"}})]})}),(0,Ne.jsx)("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"80%",maxWidth:"600px"},children:(0,Ne.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.95) 100%)",padding:"16px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.5)"},children:[(0,Ne.jsx)("div",{style:{fontSize:"16px",color:"#ffffff",marginBottom:"12px",textAlign:"center",fontWeight:"500"},children:"\xbfEst\xe1s seguro?"}),(0,Ne.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,Ne.jsx)("button",{style:{padding:"8px 20px",borderRadius:"4px",border:"2px solid #4a9eff",backgroundColor:"rgba(74, 158, 255, 0.2)",color:"#ffffff",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",fontWeight:"500"},onMouseOver:e=>{e.target.style.backgroundColor="rgba(74, 158, 255, 0.4)",e.target.style.borderColor="#60a5fa",e.target.style.transform="translateY(-1px)"},onMouseOut:e=>{e.target.style.backgroundColor="rgba(74, 158, 255, 0.2)",e.target.style.borderColor="#4a9eff",e.target.style.transform="translateY(0)"},children:"S\xed, continuar."}),(0,Ne.jsx)("button",{style:{padding:"8px 20px",borderRadius:"4px",border:"2px solid #ff6b6b",backgroundColor:"rgba(255, 107, 107, 0.2)",color:"#ffffff",fontSize:"14px",cursor:"pointer",transition:"all 0.2s ease",fontWeight:"500"},onMouseOver:e=>{e.target.style.backgroundColor="rgba(255, 107, 107, 0.4)",e.target.style.borderColor="#ff8a8a",e.target.style.transform="translateY(-1px)"},onMouseOut:e=>{e.target.style.backgroundColor="rgba(255, 107, 107, 0.2)",e.target.style.borderColor="#ff6b6b",e.target.style.transform="translateY(0)"},children:"No, quiero cambiar mi nombre."})]})]})})]});default:return(0,Ne.jsxs)(dj,{children:[(0,Ne.jsx)(uj,{children:(0,Ne.jsx)(sw,{size:48,color:"#888888"})}),(0,Ne.jsx)(pj,{children:"Tipo de elemento no soportado"}),(0,Ne.jsx)(hj,{children:z.type})]})}})(),h&&(0,Ne.jsx)("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0, 0, 0, 0.7)",color:"#ffffff",padding:"5px 10px",borderRadius:"4px",fontSize:"12px",pointerEvents:"none"},children:"choice"===(null===z||void 0===z?void 0:z.type)?"\ud83c\udfaf Selecciona una opci\xf3n":"\ud83d\udc46 Click para avanzar"})]}),(0,Ne.jsxs)(cj,{children:[(()=>{const n=e.project.sceneFiles.find(n=>n.id===e.project.currentSceneFile),r=n?n.displayName:"Sin archivo";return"".concat(r," \u2022 Elemento ").concat(o+1," de ").concat(C().length)})(),z&&" \u2022 ".concat(z.type),h&&" \u2022 \ud83d\uddb1\ufe0f Interactivo",j&&" \u2022 \ud83d\udcbe ".concat(j.usedMB,"MB"),j&&j.usedJSHeapSize/j.jsHeapSizeLimit>.8&&(0,Ne.jsx)("button",{onClick:()=>{console.warn("PreviewPanel: Ejecutando limpieza de emergencia");document.querySelectorAll("video").forEach(e=>{e.pause(),e.src="",e.load()}),v({}),B({}),l(null),d([]),x(null),window.gc&&(window.gc(),setTimeout(()=>window.gc(),1e3),setTimeout(()=>window.gc(),3e3)),console.log("PreviewPanel: Limpieza de emergencia completada")},style:{marginLeft:"10px",padding:"4px 8px",backgroundColor:"#ff4444",color:"white",border:"none",borderRadius:"4px",fontSize:"10px",cursor:"pointer"},title:"Limpieza de emergencia - Uso de memoria muy alto",children:"\ud83e\uddf9 Limpiar"}),(0,Ne.jsx)("button",{onClick:()=>{console.log("=== DEBUG FONDOS ==="),console.log("loadedBackgrounds:",W),console.log("currentBackground:",s),console.log("currentElement:",z),console.log("state.project.sceneFiles:",e.project.sceneFiles),e.project.sceneFiles.forEach(e=>{console.log("Archivo: ".concat(e.displayName)),e.elements.forEach((e,n)=>{"scene"===e.type&&e.background&&console.log("  Escena ".concat(n,": ").concat(e.background))})})},style:{backgroundColor:"var(--color-info)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",cursor:"pointer",marginLeft:"8px"},title:"Debug: Mostrar informaci\xf3n de fondos en consola",children:"Debug"}),(0,Ne.jsx)("button",{onClick:()=>{const e=document.createElement("div");e.style.cssText="\n              position: fixed;\n              top: 0;\n              left: 0;\n              width: 100%;\n              height: 100%;\n              background-color: rgba(0, 0, 0, 0.8);\n              z-index: 10000;\n              display: flex;\n              flex-direction: column;\n              align-items: center;\n              padding: 20px;\n              overflow-y: auto;\n            ";const n=document.createElement("h2");n.textContent="Galer\xeda de Fondos Cargados",n.style.cssText="\n              color: white;\n              margin-bottom: 20px;\n              text-align: center;\n            ";const r=document.createElement("button");r.textContent="Cerrar",r.style.cssText="\n              position: absolute;\n              top: 20px;\n              right: 20px;\n              background-color: #ff4444;\n              color: white;\n              border: none;\n              padding: 10px 20px;\n              border-radius: 4px;\n              cursor: pointer;\n              font-size: 14px;\n            ",r.onclick=()=>e.remove();const o=document.createElement("div");o.style.cssText="\n              display: grid;\n              grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n              gap: 20px;\n              max-width: 1200px;\n              width: 100%;\n            ",Object.entries(W).forEach(e=>{let[n,r]=e;const t=document.createElement("div");t.style.cssText="\n                background-color: white;\n                border-radius: 8px;\n                padding: 10px;\n                text-align: center;\n              ";const a=document.createElement("img");a.src=r,a.style.cssText="\n                width: 100%;\n                height: 150px;\n                object-fit: cover;\n                border-radius: 4px;\n                margin-bottom: 10px;\n              ";const i=document.createElement("div");i.textContent=n,i.style.cssText="\n                font-size: 12px;\n                color: #333;\n                word-break: break-all;\n              ",t.appendChild(a),t.appendChild(i),o.appendChild(t)}),e.appendChild(n),e.appendChild(r),e.appendChild(o),document.body.appendChild(e)},style:{backgroundColor:"var(--color-success)",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",cursor:"pointer",marginLeft:"8px"},title:"Ver galer\xeda de todas las im\xe1genes de fondo cargadas",children:"Galer\xeda"})]})]}):(0,Ne.jsx)($w,{visible:!1})};var zj,Pj,Tj,Ij,Lj,Aj,Dj,Oj,Nj,Rj,Fj,Mj,Hj,Bj,Wj,Vj,Uj,qj,Gj,Yj,$j;const Jj=Oe.div(zj||(zj=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-backdrop);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  transition: background-color 0.3s ease;\n"]))),Zj=Oe.div(Pj||(Pj=t(["\n  background-color: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  max-width: 600px;\n  width: 90%;\n  max-height: 80vh;\n  overflow-y: auto;\n  transition: all 0.3s ease;\n  box-shadow: 0 8px 32px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 12px 40px var(--color-shadowHover);\n  }\n"]))),Kj=Oe.div(Tj||(Tj=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  border-bottom: 2px solid var(--color-border);\n  padding-bottom: 16px;\n  transition: border-color 0.3s ease;\n"]))),Qj=Oe.h2(Ij||(Ij=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 24px;\n  font-weight: 800;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),Xj=Oe.button(Lj||(Lj=t(["\n  background: none;\n  border: none;\n  color: var(--color-textPrimary);\n  font-size: 24px;\n  cursor: pointer;\n  padding: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  border-radius: 8px;\n  font-weight: 700;\n\n  &:hover {\n    background-color: var(--color-error);\n    color: var(--color-textInverse);\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px var(--color-shadow);\n  }\n"]))),ek=Oe.div(Aj||(Aj=t(["\n  display: flex;\n  margin-bottom: 20px;\n  border-bottom: 2px solid var(--color-border);\n  transition: border-color 0.3s ease;\n"]))),nk=Oe.button(Dj||(Dj=t(["\n  padding: 14px 24px;\n  background-color: ",";\n  color: ",";\n  border: none;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  border-radius: 8px 8px 0 0;\n  position: relative;\n\n  &:hover {\n    background-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-2px);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"])),e=>e.active?"var(--color-primary)":"transparent",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-primaryHover)":"var(--color-border)"),rk=Oe.div(Oj||(Oj=t(["\n  display: ",";\n"])),e=>e.active?"block":"none"),ok=Oe.div(Nj||(Nj=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  max-height: 300px;\n  overflow-y: auto;\n"]))),tk=Oe.div(Rj||(Rj=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 10px;\n  padding: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-4px);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n  }\n"]))),ak=Oe.div(Fj||(Fj=t(["\n  flex: 1;\n"]))),ik=Oe.div(Mj||(Mj=t(["\n  font-weight: 800;\n  color: var(--color-textPrimary);\n  margin-bottom: 6px;\n  font-size: 16px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),sk=Oe.div(Hj||(Hj=t(["\n  font-size: 14px;\n  color: var(--color-textSecondary);\n  font-weight: 500;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),lk=Oe.div(Bj||(Bj=t(["\n  display: flex;\n  gap: 8px;\n"]))),ck=Oe.button(Wj||(Wj=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  border: 2px solid ",";\n  padding: 10px 16px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &.danger {\n    background-color: var(--color-error);\n    border-color: var(--color-error);\n    \n    &:hover {\n      background-color: var(--color-errorHover);\n      border-color: var(--color-errorHover);\n    }\n  }\n"])),e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"var(--color-primaryHover)":"var(--color-borderSecondary)",e=>e.primary?"var(--color-primaryHover)":"var(--color-borderSecondary)"),dk=Oe.div(Vj||(Vj=t(["\n  margin-bottom: 16px;\n"]))),uk=Oe.label(Uj||(Uj=t(["\n  display: block;\n  margin-bottom: 8px;\n  font-size: 16px;\n  color: var(--color-textPrimary);\n  font-weight: 700;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),pk=Oe.input(qj||(qj=t(["\n  width: 100%;\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 12px 16px;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n    transform: translateY(-1px);\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 3px 8px var(--color-shadowHover);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-weight: 400;\n  }\n"]))),hk=Oe.textarea(Gj||(Gj=t(["\n  width: 100%;\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 12px 16px;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 500;\n  min-height: 100px;\n  resize: vertical;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n    transform: translateY(-1px);\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 3px 8px var(--color-shadowHover);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-weight: 400;\n  }\n"]))),gk=Oe.div(Yj||(Yj=t(["\n  display: flex;\n  gap: 12px;\n  margin-top: 20px;\n"]))),fk=Oe.div($j||($j=t(["\n  text-align: center;\n  color: var(--color-textTertiary);\n  padding: 40px 20px;\n  font-size: 16px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"])));const xk=function(e){let{isOpen:r,onClose:o}=e;const{state:t,dispatch:a,storage:i}=jo(),{showAlert:s,showConfirm:l}=Zo(),[c,d]=(0,n.useState)("load"),[u,p]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[f,x]=(0,n.useState)([]);return n.useEffect(()=>{r&&x(i.getProjectNames())},[r]),n.useEffect(()=>{p(t.project.name||""),g(t.project.description||"")},[t.project.name,t.project.description]),r?(0,Ne.jsx)(Jj,{onClick:o,children:(0,Ne.jsxs)(Zj,{onClick:e=>e.stopPropagation(),children:[(0,Ne.jsxs)(Kj,{children:[(0,Ne.jsx)(Qj,{children:"Gesti\xf3n de Proyectos"}),(0,Ne.jsx)(Xj,{onClick:o,children:"\xd7"})]}),(0,Ne.jsxs)(ek,{children:[(0,Ne.jsx)(nk,{active:"load"===c,onClick:()=>d("load"),children:"Cargar Proyecto"}),(0,Ne.jsx)(nk,{active:"save"===c,onClick:()=>d("save"),children:"Guardar Proyecto"}),(0,Ne.jsx)(nk,{active:"cleanup"===c,onClick:()=>d("cleanup"),children:"Limpiar Datos"})]}),(0,Ne.jsxs)(rk,{active:"load"===c,children:[(0,Ne.jsx)("h3",{children:"Cargar Proyecto Guardado"}),f.length>0?(0,Ne.jsx)(ok,{children:f.map(e=>(0,Ne.jsxs)(tk,{children:[(0,Ne.jsxs)(ak,{children:[(0,Ne.jsx)(ik,{children:e.name}),(0,Ne.jsxs)(sk,{children:["Guardado: ",new Date(e.savedAt).toLocaleString(),(0,Ne.jsx)("br",{}),e.description]})]}),(0,Ne.jsxs)(lk,{children:[(0,Ne.jsx)(ck,{primary:!0,onClick:()=>(async e=>{const n=i.loadProject(e);if(n){if(i.hasUnsavedChanges(t)&&!await l("Tienes cambios sin guardar en el proyecto actual. \xbfDeseas continuar cargando el proyecto? Los cambios se perder\xe1n.","Cambios Sin Guardar","\u26a0\ufe0f"))return;a({type:"LOAD_PROJECT",payload:n}),p(n.name||""),g(n.description||""),await s('Proyecto "'.concat(e,'" cargado exitosamente'),"Carga Exitosa","\u2705"),o()}else await s("Error al cargar el proyecto. El archivo puede estar corrupto o no existir.","Error de Carga","\u274c")})(e.name),children:"Cargar"}),(0,Ne.jsx)(ck,{className:"danger",onClick:()=>(async e=>{const n='\xbfEst\xe1s seguro de que quieres eliminar el proyecto "'.concat(e,'"?\n\n')+"Esto eliminar\xe1:\n\u2022 El proyecto y todos sus datos\n\u2022 Todos los personajes y sus sprites\n\u2022 Todos los archivos asociados\n\u2022 Todo el estado actual del proyecto\n\nEsta acci\xf3n NO se puede deshacer.";if(await l(n,"Confirmar Eliminaci\xf3n","\ud83d\uddd1\ufe0f"))try{await i.deleteProject(e)?(x(i.getProjectNames()),t.project.name===e&&(console.log("\ud83d\udd04 Reseteando estado del contexto despu\xe9s de eliminar proyecto actual"),a({type:"RESET_TO_CLEAN_STATE"})),await s("Proyecto y todos sus archivos eliminados exitosamente","Eliminaci\xf3n Exitosa","\u2705")):await s("Error al eliminar el proyecto","Error de Eliminaci\xf3n","\u274c")}catch(r){console.error("Error eliminando proyecto:",r),await s("Error al eliminar el proyecto: "+r.message,"Error de Eliminaci\xf3n","\u274c")}})(e.name),children:"Eliminar"})]})]},e.name))}):(0,Ne.jsx)(fk,{children:"No hay proyectos guardados"}),(0,Ne.jsxs)("div",{style:{marginTop:"20px",padding:"20px",backgroundColor:"var(--color-surfaceSecondary)",borderRadius:"10px",border:"2px solid var(--color-primary)",boxShadow:"0 4px 12px var(--color-shadow)",transition:"all 0.3s ease"},children:[(0,Ne.jsx)("h4",{style:{margin:"0 0 16px 0",color:"var(--color-primary)",fontSize:"18px",fontWeight:"800",textShadow:"0 2px 4px var(--color-shadow)",letterSpacing:"0.3px"},children:"\ud83d\udcbe Guardar Proyecto Actual"}),(0,Ne.jsxs)("p",{style:{margin:"0 0 16px 0",color:"var(--color-textPrimary)",fontSize:"16px",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:['Guarda el proyecto actual con el nombre "',t.project.name,'" para no perder cambios.']}),(0,Ne.jsx)(ck,{primary:!0,onClick:()=>(async()=>{if(!t.project.name||""===t.project.name.trim())return void await s("El proyecto actual no tiene nombre. Por favor, asigna un nombre al proyecto antes de guardarlo.","Nombre Requerido","\u26a0\ufe0f");const e='\xbfEst\xe1s seguro de que quieres guardar el proyecto actual "'.concat(t.project.name,'"?\n\n')+"Esto sobreescribir\xe1 la versi\xf3n guardada anteriormente.";if(await l(e,"Confirmar Guardado","\ud83d\udcbe")){const e=kr(kr({},t.project),{},{savedAt:(new Date).toISOString()});i.saveProject(t.project.name,e)?(await s("\u2705 Proyecto guardado exitosamente","Guardado Exitoso","\u2705"),x(i.getProjectNames()),o()):await s("\u274c Error al guardar el proyecto","Error de Guardado","\u274c")}})(),style:{fontSize:"14px",padding:"12px 20px"},children:"\ud83d\udcbe Guardar Proyecto Actual"})]})]}),(0,Ne.jsxs)(rk,{active:"save"===c,children:[(0,Ne.jsx)("h3",{children:"Guardar Proyecto Actual"}),(0,Ne.jsxs)("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"var(--color-surfaceSecondary)",borderRadius:"10px",border:"2px solid var(--color-info)",fontSize:"16px",color:"var(--color-textPrimary)",boxShadow:"0 4px 12px var(--color-shadow)",transition:"all 0.3s ease"},children:[(0,Ne.jsx)("div",{style:{color:"var(--color-info)",fontWeight:"800",marginBottom:"8px",fontSize:"18px",textShadow:"0 2px 4px var(--color-shadow)",letterSpacing:"0.3px"},children:"\ud83d\udd04 Sincronizaci\xf3n Autom\xe1tica"}),(0,Ne.jsxs)("div",{style:{fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:["Los campos se sincronizan autom\xe1ticamente con el proyecto actual: ",(0,Ne.jsxs)("strong",{children:['"',t.project.name,'"']})]})]}),(0,Ne.jsxs)(dk,{children:[(0,Ne.jsx)(uk,{children:"Nombre del proyecto"}),(0,Ne.jsx)(pk,{value:u,onChange:e=>p(e.target.value),placeholder:"Mi Novela Visual"})]}),(0,Ne.jsxs)(dk,{children:[(0,Ne.jsx)(uk,{children:"Descripci\xf3n (opcional)"}),(0,Ne.jsx)(hk,{value:h,onChange:e=>g(e.target.value),placeholder:"Descripci\xf3n del proyecto..."})]}),(0,Ne.jsxs)(gk,{children:[(0,Ne.jsx)(ck,{primary:!0,onClick:async()=>{if(!u.trim())return void await s("El nombre del proyecto es obligatorio","Campo Obligatorio","\u26a0\ufe0f");if(!t.project.characters||0===t.project.characters.length){if(!await l("El proyecto no tiene personajes. \xbfDesea guardarlo de todas formas?","Proyecto Sin Personajes","\ud83d\udc65"))return}if(!t.project.sceneFiles||0===t.project.sceneFiles.length){if(!await l("El proyecto no tiene archivos de script. \xbfDesea guardarlo de todas formas?","Proyecto Sin Script","\ud83d\udcdd"))return}const e=kr(kr({},t.project),{},{name:u.trim(),description:h.trim()});i.saveProject(u.trim(),e)?(a({type:"SET_PROJECT_NAME",payload:u.trim()}),a({type:"SET_PROJECT_DESCRIPTION",payload:h.trim()}),await s("Proyecto guardado exitosamente","Guardado Exitoso","\u2705"),x(i.getProjectNames()),p(""),g(""),d("load")):await s("Error al guardar el proyecto. Verifique que tenga contenido v\xe1lido.","Error de Guardado","\u274c")},children:"Guardar Proyecto"}),(0,Ne.jsx)(ck,{onClick:()=>{p(""),g("")},children:"Limpiar"})]})]}),(0,Ne.jsxs)(rk,{active:"cleanup"===c,children:[(0,Ne.jsx)("h3",{children:"Limpieza de Datos"}),(0,Ne.jsxs)("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"var(--color-surfaceSecondary)",borderRadius:"10px",border:"2px solid var(--color-warning)",fontSize:"16px",color:"var(--color-textPrimary)",boxShadow:"0 4px 12px var(--color-shadow)",transition:"all 0.3s ease"},children:[(0,Ne.jsx)("div",{style:{color:"var(--color-warning)",fontWeight:"800",marginBottom:"8px",fontSize:"18px",textShadow:"0 2px 4px var(--color-shadow)",letterSpacing:"0.3px"},children:"ZONA DE PELIGRO"}),(0,Ne.jsx)("div",{style:{fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"Estas acciones eliminar\xe1n datos permanentemente. \xdasalas solo si tienes problemas de persistencia o quieres empezar completamente desde cero."})]}),(0,Ne.jsxs)("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"var(--color-surfaceSecondary)",borderRadius:"10px",border:"2px solid var(--color-error)",fontSize:"16px",color:"var(--color-textPrimary)",boxShadow:"0 4px 12px var(--color-shadow)",transition:"all 0.3s ease"},children:[(0,Ne.jsx)("h4",{style:{color:"var(--color-error)",fontWeight:"800",marginBottom:"12px",fontSize:"18px",textShadow:"0 2px 4px var(--color-shadow)",letterSpacing:"0.3px"},children:"Limpieza Completa"}),(0,Ne.jsx)("p",{style:{margin:"0 0 16px 0",color:"var(--color-textPrimary)",fontSize:"16px",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"Elimina TODOS los datos del editor: proyectos, personajes, archivos, configuraci\xf3n, todo."}),(0,Ne.jsx)(ck,{className:"danger",onClick:async()=>{!(e=t.project).name&&(!e.characters||0===e.characters.length)&&(!e.sceneFiles||e.sceneFiles.every(e=>!e.elements||0===e.elements.length))&&(!e.variables||0===e.variables.length)&&(!e.flags||e.flags.length);var e;if(await l("\u26a0\ufe0f ADVERTENCIA: LIMPIEZA COMPLETA \u26a0\ufe0f\n\nEsto eliminar\xe1 TODOS los datos:\n\u2022 Todos los proyectos guardados\n\u2022 Todos los personajes y sprites\n\u2022 Todos los archivos subidos\n\u2022 Todo el historial y configuraci\xf3n\n\u2022 El nombre del proyecto actual\n\nEsta acci\xf3n es IRREVERSIBLE y eliminar\xe1 TODO.\nEl editor se reiniciar\xe1 completamente desde cero.\n\n\xbfEst\xe1s ABSOLUTAMENTE seguro?","\u26a0\ufe0f Limpieza Completa","\ud83e\uddf9")){if(await l("\xdaLTIMA CONFIRMACI\xd3N\n\nVas a eliminar TODOS los datos del editor.\nEsto incluye proyectos, personajes, archivos, todo.\nEl editor se reiniciar\xe1 con un estado completamente limpio.\n\n\xbfConfirmas que quieres continuar?","Confirmaci\xf3n Final","\u26a0\ufe0f"))try{await i.clearAllData()?(x([]),a({type:"RESET_TO_CLEAN_STATE"}),await s("\u2705 Todos los datos han sido eliminados completamente.\n\nEl editor se ha reiniciado con un estado completamente limpio.\n\nEl nombre del proyecto ahora est\xe1 vac\xedo y listo para un nuevo proyecto.","Limpieza Completa","\u2705")):await s("\u274c Error al limpiar los datos","Error de Limpieza","\u274c")}catch(n){console.error("Error limpiando datos:",n),await s("\u274c Error al limpiar los datos: "+n.message,"Error de Limpieza","\u274c")}}},style:{fontSize:"14px",padding:"12px 20px"},children:"Limpiar TODOS los Datos"})]}),(0,Ne.jsxs)("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"var(--color-surfaceSecondary)",borderRadius:"10px",border:"2px solid var(--color-info)",fontSize:"16px",color:"var(--color-textPrimary)",boxShadow:"0 4px 12px var(--color-shadow)",transition:"all 0.3s ease"},children:[(0,Ne.jsx)("h4",{style:{color:"var(--color-info)",fontWeight:"800",marginBottom:"12px",fontSize:"18px",textShadow:"0 2px 4px var(--color-shadow)",letterSpacing:"0.3px"},children:"Limpieza de Datos Hu\xe9rfanos"}),(0,Ne.jsx)("p",{style:{margin:"0 0 16px 0",color:"var(--color-textPrimary)",fontSize:"16px",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"Elimina archivos que no pertenecen a ning\xfan proyecto (sprites de personajes eliminados, etc.)"}),(0,Ne.jsx)(ck,{onClick:async()=>{if(await l("\xbfDeseas limpiar datos hu\xe9rfanos?\n\nEsto eliminar\xe1:\n\u2022 Archivos que no pertenecen a ning\xfan proyecto\n\u2022 Sprites de personajes eliminados\n\u2022 Datos corruptos o inconsistentes\n\nEsta acci\xf3n es segura y solo elimina datos no utilizados.","Limpiar Datos Hu\xe9rfanos","\ud83e\uddf9"))try{const e=await i.cleanupOrphanedData();await s("\u2705 Limpieza completada.\n\nSe eliminaron ".concat(e," archivos hu\xe9rfanos."),"Limpieza Exitosa","\u2705"),x(i.getProjectNames())}catch(e){console.error("Error limpiando datos hu\xe9rfanos:",e),await s("\u274c Error al limpiar datos hu\xe9rfanos: "+e.message,"Error de Limpieza","\u274c")}},style:{fontSize:"14px",padding:"12px 20px"},children:"Limpiar Datos Hu\xe9rfanos"})]}),(0,Ne.jsxs)("div",{style:{marginBottom:"20px",padding:"20px",backgroundColor:"var(--color-surfaceSecondary)",borderRadius:"10px",border:"2px solid var(--color-info)",fontSize:"16px",color:"var(--color-textPrimary)",boxShadow:"0 4px 12px var(--color-shadow)",transition:"all 0.3s ease"},children:[(0,Ne.jsx)("h4",{style:{color:"var(--color-info)",fontWeight:"800",marginBottom:"12px",fontSize:"18px",textShadow:"0 2px 4px var(--color-shadow)",letterSpacing:"0.3px"},children:"\ud83d\udca1 Cu\xe1ndo usar la limpieza"}),(0,Ne.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px",color:"var(--color-textPrimary)",fontSize:"14px",fontWeight:"500",textShadow:"0 1px 2px var(--color-shadow)"},children:[(0,Ne.jsx)("li",{children:"Personajes que no se eliminan al borrar proyectos"}),(0,Ne.jsx)("li",{children:"Archivos corruptos o datos inconsistentes"}),(0,Ne.jsx)("li",{children:"Problemas de rendimiento por datos acumulados"}),(0,Ne.jsx)("li",{children:"Quieres empezar completamente desde cero"})]})]})]})]})}):null},mk=()=>{const{state:e}=jo(),[r,o]=(0,n.useState)("dark-default");(0,n.useEffect)(()=>{const e=It();o(e)},[]),(0,n.useEffect)(()=>{e.theme&&e.theme!==r&&(Tt(e.theme),o(e.theme))},[e.theme,r]);return{currentTheme:r,changeTheme:e=>{Tt(e),o(e)},getThemeInfo:()=>Pt(r),getThemeColors:()=>Pt(r).colors,getCSSVariables:()=>{const e=Pt(r),n={};return Object.entries(e.colors).forEach(e=>{let[r,o]=e;n["--color-".concat(r)]=o}),Object.entries(e.typography).forEach(e=>{let[r,o]=e;"object"===typeof o?Object.entries(o).forEach(e=>{let[o,t]=e;n["--font-".concat(r,"-").concat(o)]=t}):n["--font-".concat(r)]=o}),Object.entries(e.spacing).forEach(e=>{let[r,o]=e;n["--spacing-".concat(r)]=o}),Object.entries(e.borderRadius).forEach(e=>{let[r,o]=e;n["--radius-".concat(r)]=o}),n},isLight:r.includes("light"),isDark:r.includes("dark")}};var vk,bk,yk,wk,jk,kk,Sk,_k,Ck,Ek,zk,Pk,Tk,Ik,Lk,Ak,Dk,Ok,Nk,Rk,Fk,Mk;const Hk=Oe.div(vk||(vk=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),Bk=Oe.div(bk||(bk=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),Wk=Oe.h1(yk||(yk=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 28px;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n"]))),Vk=Oe.button(wk||(wk=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: #c82333;\n    transform: scale(1.05);\n  }\n"]))),Uk=Oe.div(jk||(jk=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),qk=Oe.div(kk||(kk=t(["\n  background-color: var(--color-surface);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 25px;\n  margin-bottom: 30px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),Gk=Oe.h2(Sk||(Sk=t(["\n  color: var(--color-primary);\n  margin: 0 0 20px 0;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n"]))),Yk=Oe.div(_k||(_k=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n  margin-bottom: 20px;\n"]))),$k=Oe.div(Ck||(Ck=t(["\n  background-color: ",";\n  border: 2px solid ",";\n  border-radius: 8px;\n  padding: 15px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  min-width: 200px;\n  flex: 1;\n  max-width: 300px;\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px var(--color-shadowHover);\n  }\n"])),e=>e.selected?"var(--color-primary)":"var(--color-surfaceSecondary)",e=>e.selected?"var(--color-primary)":"var(--color-border)",e=>e.selected?"var(--color-primaryHover)":"var(--color-backgroundSecondary)",e=>e.selected?"var(--color-primaryHover)":"var(--color-borderSecondary)"),Jk=Oe.div(Ek||(Ek=t(["\n  width: 100%;\n  height: 80px;\n  border-radius: 6px;\n  background: ",";\n  margin-bottom: 10px;\n  border: 1px solid #666666;\n  position: relative;\n  overflow: hidden;\n"])),e=>{switch(e.theme){case"light-default":return"linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #e9ecef 100%)";case"dark-default":default:return"linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #333333 100%)";case"dark-colorblind-theme":return"linear-gradient(135deg, #0f0f0f 0%, #1f1f1f 50%, #2f2f2f 100%)";case"dark-tritanopia-theme":return"linear-gradient(135deg, #1a0f0a 0%, #2a1f1a 50%, #3a2f2a 100%)";case"blue-theme":return"linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #60a5fa 100%)";case"green-theme":return"linear-gradient(135deg, #064e3b 0%, #10b981 50%, #34d399 100%)";case"purple-theme":return"linear-gradient(135deg, #581c87 0%, #8b5cf6 50%, #a78bfa 100%)";case"orange-theme":return"linear-gradient(135deg, #9a3412 0%, #f97316 50%, #fb923c 100%)"}}),Zk=Oe.div(zk||(zk=t(["\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  right: 8px;\n  bottom: 8px;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n"]))),Kk=Oe.div(Pk||(Pk=t(["\n  height: 3px;\n  background-color: ",";\n  border-radius: 1px;\n  opacity: 0.7;\n  \n  &:nth-child(1) { width: 100%; }\n  &:nth-child(2) { width: 80%; }\n  &:nth-child(3) { width: 60%; }\n  &:nth-child(4) { width: 90%; }\n"])),e=>"light"===e.theme?"#333333":"#ffffff"),Qk=Oe.div(Tk||(Tk=t(["\n  color: var(--color-textInverse);\n  font-weight: bold;\n  font-size: 14px;\n  margin-bottom: 5px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n"]))),Xk=Oe.div(Ik||(Ik=t(["\n  color: var(--color-textSecondary);\n  font-size: 12px;\n  line-height: 1.4;\n  transition: color 0.3s ease;\n"]))),eS=Oe.span(Lk||(Lk=t(["\n  background-color: var(--color-warning);\n  color: var(--color-textInverse);\n  font-size: 10px;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-weight: bold;\n"]))),nS=Oe.div(Ak||(Ak=t(["\n  background-color: rgba(37, 99, 235, 0.1);\n  border: 2px solid var(--color-primary);\n  border-radius: 8px;\n  padding: 15px;\n  margin: 20px 0;\n  transition: border-color 0.3s ease;\n"]))),rS=Oe.div(Dk||(Dk=t(["\n  color: var(--color-primary);\n  font-weight: bold;\n  font-size: 14px;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n"]))),oS=Oe.div(Ok||(Ok=t(["\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  line-height: 1.5;\n  transition: color 0.3s ease;\n"]))),tS=Oe.div(Nk||(Nk=t(["\n  background-color: rgba(16, 185, 129, 0.1);\n  border: 2px solid var(--color-success);\n  border-radius: 8px;\n  padding: 15px;\n  margin: 20px 0;\n  transition: border-color 0.3s ease;\n"]))),aS=Oe.div(Rk||(Rk=t(["\n  color: var(--color-success);\n  font-weight: bold;\n  font-size: 14px;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n"]))),iS=Oe.div(Fk||(Fk=t(["\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  line-height: 1.5;\n  transition: color 0.3s ease;\n"]))),sS=Oe.button(Mk||(Mk=t(["\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 6px;\n  padding: 10px 20px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  margin-top: 10px;\n\n  &:hover {\n    background-color: var(--color-primaryHover);\n    transform: translateY(-2px);\n  }\n\n  &:disabled {\n    background-color: var(--color-backgroundTertiary);\n    cursor: not-allowed;\n    transform: none;\n  }\n"])));const lS=function(e){let{onClose:r}=e;const{state:o,dispatch:t}=jo(),{currentTheme:a,changeTheme:i}=mk(),[s,l]=(0,n.useState)(a);n.useEffect(()=>{const e=localStorage.getItem("selected-theme");e&&l(e)},[]),n.useEffect(()=>{s!==a&&localStorage.setItem("selected-theme",s)},[s,a]);const c={light:[{id:"light-default",name:"Light default",description:"Tema claro est\xe1ndar con colores neutros",theme:"light",beta:!1}],dark:[{id:"dark-default",name:"Dark default",description:"Tema oscuro est\xe1ndar, ideal para trabajo nocturno",theme:"dark",beta:!1}],accessibility:[{id:"dark-colorblind-theme",name:"Dark Colorblind Beta",description:"Tema oscuro optimizado para daltonismo general",theme:"dark",beta:!0},{id:"dark-tritanopia-theme",name:"Dark Tritanopia Beta",description:"Tema oscuro para tritanopia (deficiencia azul-amarillo)",theme:"dark",beta:!0}],custom:[{id:"blue-theme",name:"Blue theme",description:"Tema azul profesional",theme:"blue",beta:!1},{id:"green-theme",name:"Green theme",description:"Tema verde relajante",theme:"green",beta:!1},{id:"purple-theme",name:"Purple theme",description:"Tema p\xfarpura creativo",theme:"purple",beta:!1},{id:"orange-theme",name:"Orange theme",description:"Tema naranja energ\xe9tico",theme:"orange",beta:!1}]},d=e=>{l(e)},u=()=>[...c.light,...c.dark,...c.accessibility,...c.custom].find(e=>e.id===s);return(0,Ne.jsxs)(Hk,{children:[(0,Ne.jsxs)(Bk,{children:[(0,Ne.jsx)(Wk,{children:"Selector de Temas"}),(0,Ne.jsx)(Vk,{onClick:r,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(Uk,{children:[(0,Ne.jsxs)(qk,{children:[(0,Ne.jsx)(Gk,{children:"Temas Claros"}),(0,Ne.jsx)(Yk,{children:c.light.map(e=>(0,Ne.jsxs)($k,{selected:s===e.id,onClick:()=>d(e.id),children:[(0,Ne.jsx)(Jk,{theme:e.id,children:(0,Ne.jsxs)(Zk,{children:[(0,Ne.jsx)(Kk,{theme:"light"}),(0,Ne.jsx)(Kk,{theme:"light"}),(0,Ne.jsx)(Kk,{theme:"light"}),(0,Ne.jsx)(Kk,{theme:"light"})]})}),(0,Ne.jsxs)(Qk,{children:[e.name,e.beta&&(0,Ne.jsx)(eS,{children:"Beta"})]}),(0,Ne.jsx)(Xk,{children:e.description})]},e.id))})]}),(0,Ne.jsxs)(qk,{children:[(0,Ne.jsx)(Gk,{children:"Temas Oscuros"}),(0,Ne.jsx)(Yk,{children:c.dark.map(e=>(0,Ne.jsxs)($k,{selected:s===e.id,onClick:()=>d(e.id),children:[(0,Ne.jsx)(Jk,{theme:e.id,children:(0,Ne.jsxs)(Zk,{children:[(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"})]})}),(0,Ne.jsxs)(Qk,{children:[e.name,e.beta&&(0,Ne.jsx)(eS,{children:"Beta"})]}),(0,Ne.jsx)(Xk,{children:e.description})]},e.id))})]}),(0,Ne.jsxs)(qk,{children:[(0,Ne.jsx)(Gk,{children:"Temas de Accesibilidad"}),(0,Ne.jsx)(Yk,{children:c.accessibility.map(e=>(0,Ne.jsxs)($k,{selected:s===e.id,onClick:()=>d(e.id),children:[(0,Ne.jsx)(Jk,{theme:e.id,children:(0,Ne.jsxs)(Zk,{children:[(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"})]})}),(0,Ne.jsxs)(Qk,{children:[e.name,e.beta&&(0,Ne.jsx)(eS,{children:"Beta"})]}),(0,Ne.jsx)(Xk,{children:e.description})]},e.id))})]}),(0,Ne.jsxs)(qk,{children:[(0,Ne.jsx)(Gk,{children:"Temas Personalizados"}),(0,Ne.jsx)(Yk,{children:c.custom.map(e=>(0,Ne.jsxs)($k,{selected:s===e.id,onClick:()=>d(e.id),children:[(0,Ne.jsx)(Jk,{theme:e.id,children:(0,Ne.jsxs)(Zk,{children:[(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"}),(0,Ne.jsx)(Kk,{theme:"dark"})]})}),(0,Ne.jsx)(Qk,{children:e.name}),(0,Ne.jsx)(Xk,{children:e.description})]},e.id))})]}),u()&&(0,Ne.jsxs)(tS,{children:[(0,Ne.jsx)(aS,{children:"\u2705 Tema Seleccionado"}),(0,Ne.jsxs)(iS,{children:[(0,Ne.jsx)("strong",{children:u().name})," - ",u().description,u().beta&&(0,Ne.jsx)("span",{style:{color:"#f59e0b",marginLeft:"8px"},children:"(Versi\xf3n Beta)"})]}),(0,Ne.jsx)(sS,{onClick:()=>{t({type:"SET_THEME",payload:s}),i(s),console.log("Aplicando tema:",s)},children:"Aplicar Tema"})]}),(0,Ne.jsxs)(nS,{children:[(0,Ne.jsx)(rS,{children:"\u267f Informaci\xf3n de Accesibilidad"}),(0,Ne.jsx)(oS,{children:'Los temas marcados como "Beta" incluyen mejoras de accesibilidad para usuarios con daltonismo. Estos temas utilizan colores y contrastes optimizados para diferentes tipos de deficiencia visual, incluyendo protanopia, deuteranopia y tritanopia.'})]}),(0,Ne.jsxs)(nS,{children:[(0,Ne.jsx)(rS,{children:"\ud83d\udca1 Consejos de Uso"}),(0,Ne.jsxs)(oS,{children:["\u2022 Los temas claros son ideales para trabajo diurno y espacios bien iluminados",(0,Ne.jsx)("br",{}),"\u2022 Los temas oscuros reducen la fatiga visual durante el trabajo nocturno",(0,Ne.jsx)("br",{}),"\u2022 Los temas personalizados ofrecen opciones de colores espec\xedficos para diferentes preferencias",(0,Ne.jsx)("br",{}),"\u2022 Los temas Beta incluyen mejoras de accesibilidad que se actualizan regularmente"]})]})]})]})};var cS,dS,uS,pS,hS,gS,fS;const xS=De(cS||(cS=t(["\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n"]))),mS=Oe.div(dS||(dS=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 12px;\n  background-color: ",";\n  color: var(--color-textInverse);\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  cursor: pointer;\n  \n  &:hover {\n    transform: scale(1.05);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  }\n"])),e=>e.connected?"var(--color-success)":"var(--color-error)"),vS=Oe.div(uS||(uS=t(["\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: var(--color-textInverse);\n  animation: ",";\n"])),e=>e.connected?"none":be(pS||(pS=t([""," 1.5s infinite"])),xS)),bS=Oe.span(hS||(hS=t(["\n  background-color: rgba(255, 255, 255, 0.2);\n  padding: 2px 6px;\n  border-radius: 10px;\n  font-size: 10px;\n  min-width: 20px;\n  text-align: center;\n"]))),yS=Oe.div(gS||(gS=t(["\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: var(--color-surface);\n  color: var(--color-textPrimary);\n  padding: 8px 12px;\n  border-radius: 6px;\n  font-size: 11px;\n  white-space: nowrap;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  border: 1px solid var(--color-border);\n  z-index: 1000;\n  margin-bottom: 8px;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.3s ease;\n  \n  &::after {\n    content: '';\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    border: 4px solid transparent;\n    border-top-color: var(--color-surface);\n  }\n"]))),wS=Oe.div(fS||(fS=t(["\n  position: relative;\n  \n  &:hover "," {\n    opacity: 1;\n    visibility: visible;\n  }\n"])),yS);const jS=function(){const{isConnected:e,roomCode:r,users:o,isHost:t}=function(){const[e,r]=(0,n.useState)(!1),[o,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(new Map),u=(0,n.useCallback)(async e=>{try{return await Jd.connect(e),r(!0),!0}catch(n){return console.error("Error conectando:",n),!1}},[]),p=(0,n.useCallback)(()=>{Jd.disconnect(),r(!1),t(null),i(!1),l([]),d(new Map)},[]),h=(0,n.useCallback)((e,n)=>{Jd.createRoom(e,n)},[]),g=(0,n.useCallback)((e,n)=>{Jd.joinRoom(e,n)},[]),f=(0,n.useCallback)(()=>{Jd.leaveRoom(),t(null),i(!1),l([]),d(new Map)},[]),x=(0,n.useCallback)((e,n)=>{Jd.sendSyncOperation(e,n)},[]),m=(0,n.useCallback)(e=>{Jd.updateCursor(e)},[]),v=(0,n.useCallback)(e=>{Jd.sendChatMessage(e)},[]),b=(0,n.useCallback)(e=>{Jd.updateUsername(e)},[]);return(0,n.useEffect)(()=>{const e=e=>{t(e.roomCode),i(!0)},n=e=>{t(e.roomCode),i(!1),l(e.users||[])},o=e=>{l(n=>[...n,e.user])},a=e=>{l(n=>n.filter(n=>n.id!==e.user.id)),d(n=>{const r=new Map(n);return r.delete(e.user.id),r})},s=e=>{d(n=>{const r=new Map(n);return r.set(e.userId,kr(kr({},e.cursor),{},{username:e.username})),r})},c=e=>{e.newHost.id===Jd.getUserId()&&i(!0)},u=()=>{r(!1),t(null),i(!1),l([]),d(new Map)};return Jd.on("roomCreated",e),Jd.on("roomJoined",n),Jd.on("userJoined",o),Jd.on("userLeft",a),Jd.on("cursorUpdate",s),Jd.on("hostTransferred",c),Jd.on("disconnected",u),()=>{Jd.off("roomCreated",e),Jd.off("roomJoined",n),Jd.off("userJoined",o),Jd.off("userLeft",a),Jd.off("cursorUpdate",s),Jd.off("hostTransferred",c),Jd.off("disconnected",u)}},[]),{isConnected:e,roomCode:o,isHost:a,users:s,cursorPositions:Array.from(c.values()),connect:u,disconnect:p,createRoom:h,joinRoom:g,leaveRoom:f,syncOperation:x,updateCursor:m,sendChatMessage:v,updateUsername:b,getUserId:()=>Jd.getUserId(),getServerIP:()=>Jd.getServerIP()}}(),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{(()=>{const e="true"===localStorage.getItem("collaborationEnabled");l(e)})();const e=e=>{"collaborationEnabled"===e.key&&l("true"===e.newValue)};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]),!s)return null;const c=o.length,d=r?t?"Host - Sala ".concat(r):"Sala ".concat(r):"Conectado",u=r?"".concat(c," usuario").concat(1!==c?"s":""," conectado").concat(1!==c?"s":""):"Conectado al servidor de colaboraci\xf3n";return(0,Ne.jsxs)(wS,{children:[(0,Ne.jsxs)(mS,{connected:e,children:[(0,Ne.jsx)(vS,{connected:e}),(0,Ne.jsx)("span",{children:d}),r&&(0,Ne.jsx)(bS,{children:c})]}),(0,Ne.jsxs)(yS,{children:[u,r&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("br",{}),t?"Eres el host de la sala":"Te uniste a la sala"]})]})]})},kS=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},SS=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"3",fill:r})]})},_S=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"5",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 1V3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 21V23",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M4.22 4.22L5.64 5.64",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M18.36 18.36L19.78 19.78",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M1 12H3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 12H23",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M4.22 19.78L5.64 18.36",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M18.36 5.64L19.78 4.22",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})};var CS,ES,zS,PS,TS,IS,LS,AS,DS,OS,NS,RS,FS,MS,HS;const BS=[{id:"projects",label:"Proyectos",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 9H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 13H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 17H13",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},type:"secondary",action:"showProjectManager"},{id:"fileManager",label:"Gesti\xf3n de Archivos",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 13H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 17H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 9H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},type:"secondary",action:"navigateToFileManager"},{id:"exportScript",label:"Exportar Script",labelConditional:"Descargar Script",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 13H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 17H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 9H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 2L12 8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},type:"secondary",action:"exportScript"},{id:"exportProject",label:"Exportar Proyecto",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M7 10L12 15L17 10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 15V3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},type:"primary",action:"exportProject"}],WS={icon:e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M17 21V13H7V21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M7 3V8H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},label:"Guardado autom\xe1tico",color:"var(--color-primary)"},VS={icon:e=>{let{size:n=14,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 13H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 17H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 9H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},color:"var(--color-info)",background:"rgba(59, 130, 246, 0.1)",border:"rgba(59, 130, 246, 0.3)"},US=De(CS||(CS=t(["\n  from {\n    opacity: 0;\n    transform: translateY(-5px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),qS=De(ES||(ES=t(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.02);\n  }\n"]))),GS=Oe.div(zS||(zS=t(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 20px;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border-bottom: 2px solid var(--color-border);\n  min-height: 60px;\n  position: relative;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n  \n  /* Sutil efecto de brillo */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 1px;\n    background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\n    opacity: 0.3;\n  }\n"]))),YS=Oe.div(PS||(PS=t(["\n  display: flex;\n  align-items: center;\n  height: 56px;\n  min-width: 140px;\n  animation: "," 0.8s ease-out;\n  \n  .logo-text {\n    font-size: 24px;\n    font-weight: 800;\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n    text-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);\n    transition: all 0.3s ease;\n    letter-spacing: -0.5px;\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n  }\n  \n  &:hover .logo-text {\n    transform: scale(1.05);\n    text-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n  }\n"])),US),$S=Oe.div(TS||(TS=t(["\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  flex: 1;\n  justify-content: center;\n  max-width: 600px;\n  animation: "," 0.8s ease-out 0.2s both;\n"])),US),JS=Oe.span(IS||(IS=t(["\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  background: var(--color-backgroundSecondary);\n  padding: 2px 8px;\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n  font-weight: 500;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: var(--color-border);\n    transform: translateY(-1px);\n  }\n"]))),ZS=Oe.div(LS||(LS=t(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 11px;\n  font-weight: 500;\n  padding: 4px 10px;\n  border-radius: 12px;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border: 1px solid transparent;\n  \n  /* Estilos din\xe1micos basados en tipo */\n  ","\n"])),e=>"save"===e.type?"\n        color: ".concat(WS.color,";\n        background: linear-gradient(135deg, rgba(37, 99, 235, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%);\n        border-color: rgba(37, 99, 235, 0.2);\n        \n        &:hover {\n          background: linear-gradient(135deg, rgba(37, 99, 235, 0.15) 0%, rgba(59, 130, 246, 0.1) 100%);\n          transform: translateY(-1px);\n        }\n      "):"sceneFile"===e.type?"\n        color: ".concat(VS.color,";\n        background: linear-gradient(135deg, ").concat(VS.background," 0%, rgba(59, 130, 246, 0.05) 100%);\n        border-color: ").concat(VS.border,";\n        \n        &:hover {\n          background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.1) 100%);\n          transform: translateY(-1px) scale(1.02);\n        }\n      "):void 0),KS=Oe.input(AS||(AS=t(["\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px 16px;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  min-width: 200px;\n  text-align: center;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1), 0 4px 16px rgba(0, 0, 0, 0.1);\n    transform: translateY(-2px);\n    background: var(--color-surface);\n  }\n  \n  &:hover:not(:focus) {\n    border-color: var(--color-borderSecondary);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  }\n"]))),QS=Oe.div(DS||(DS=t(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  animation: "," 0.8s ease-out 0.4s both;\n"])),US),XS=Oe.div(OS||(OS=t(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  margin-right: 16px;\n  padding-right: 16px;\n  border-right: 1px solid var(--color-border);\n"]))),e_=Oe.button(NS||(NS=t(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  min-height: 36px;\n  white-space: nowrap;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border: 2px solid transparent;\n  position: relative;\n  overflow: hidden;\n  \n  /* Estilos din\xe1micos basados en tipo */\n  ","\n\n  /* Efecto shimmer sutil */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.5s;\n  }\n  \n  &:hover::before {\n    left: 100%;\n  }\n\n  &:disabled {\n    background: var(--color-backgroundTertiary);\n    border-color: var(--color-border);\n    color: var(--color-textTertiary);\n    cursor: not-allowed;\n    opacity: 0.6;\n    transform: none;\n    box-shadow: none;\n    \n    &::before {\n      display: none;\n    }\n  }\n"])),e=>"primary"===e.buttonType?"\n        background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n        color: var(--color-textInverse);\n        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n        \n        &:hover {\n          background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n          transform: translateY(-2px) scale(1.02);\n          box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);\n        }\n        \n        &:active {\n          transform: translateY(-1px) scale(1.01);\n          box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n        }\n      ":"\n        background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n        color: var(--color-textPrimary);\n        border-color: var(--color-border);\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n\n  &:hover {\n          background: linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%);\n          border-color: var(--color-borderSecondary);\n    transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\n  }\n\n  &:active {\n    transform: translateY(0);\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n        }\n      "),n_=Oe(e_)(RS||(RS=t(["\n  ","\n"])),e=>e.active?be(FS||(FS=t(["\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    color: var(--color-textInverse);\n    border-color: var(--color-primary);\n    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\n    animation: "," 2s ease-in-out infinite;\n    \n    &:hover {\n      background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n      transform: translateY(-2px) scale(1.02);\n      box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);\n      animation: none;\n    }\n  "])),qS):be(MS||(MS=t(["\n    background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n    color: var(--color-textPrimary);\n    border-color: var(--color-border);\n    \n    &:hover {\n      background: linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%);\n      border-color: var(--color-borderSecondary);\n    }\n  "])))),r_=Oe.button(HS||(HS=t(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  min-height: 36px;\n  white-space: nowrap;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border: 2px solid transparent;\n  position: relative;\n  overflow: hidden;\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  color: var(--color-textPrimary);\n  border-color: var(--color-border);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n  \n  /* Efecto shimmer sutil */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.5s;\n  }\n  \n  &:hover {\n    background: linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%);\n    border-color: var(--color-borderSecondary);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\n    \n    &::before {\n      left: 100%;\n    }\n  }\n  \n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n  }\n"])));const o_=function(e){var r;let{onNavigateToFileManager:o}=e;const{state:t,dispatch:a}=jo(),i=new tc,[s,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),u=()=>{a({type:"SET_PREVIEW_MODE",payload:!t.previewMode})},p=null===(r=t.project.sceneFiles)||void 0===r?void 0:r.find(e=>e.id===t.project.currentSceneFile),h={showProjectManager:()=>l(!0),navigateToFileManager:o,exportScript:async()=>{try{let e;e=t.project.currentSceneFile?await i.exportSelectedScript(t.project,t.project.currentSceneFile):await i.exportScript(t.project),console.log("Script exportado exitosamente:",e)}catch(e){console.error("Error al exportar script:",e),alert("Error al exportar el script: "+e.message)}},exportProject:async()=>{try{var e;console.log("\ud83d\ude80 Iniciando exportaci\xf3n del proyecto:",null===(e=t.project)||void 0===e?void 0:e.name);const n=i.validateProject(t.project);if(!n.isValid)return console.error("\u274c Errores de validaci\xf3n:",n.errors),void alert("Errores en el proyecto:\n"+n.errors.join("\n"));if(n.warnings.length>0){console.warn("\u26a0\ufe0f Advertencias encontradas:",n.warnings);if(!window.confirm("Advertencias encontradas:\n"+n.warnings.join("\n")+"\n\n\xbfContinuar con la exportaci\xf3n?"))return}console.log("\u2705 Validaci\xf3n exitosa, procediendo con exportaci\xf3n...");const r=await i.exportProject(t.project);console.log("\u2705 Proyecto exportado exitosamente:",r),alert("Proyecto exportado exitosamente como: ".concat(r))}catch(n){console.error("\u274c Error detallado al exportar proyecto:",n),console.error("Stack trace:",n.stack);let e="Error al exportar el proyecto";n.message&&(e+=": ".concat(n.message)),n.name&&(e+=" (".concat(n.name,")")),alert(e)}}};return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(GS,{children:[(0,Ne.jsx)(YS,{children:(0,Ne.jsx)("span",{className:"logo-text",children:"RynEditor"})}),(0,Ne.jsxs)($S,{children:[(0,Ne.jsx)(KS,{value:t.project.name,onChange:e=>{a({type:"SET_PROJECT_NAME",payload:e.target.value})},placeholder:"Nombre del proyecto"}),(0,Ne.jsxs)(JS,{children:["v",t.project.version]}),p&&(0,Ne.jsxs)(ZS,{type:"sceneFile",children:[(0,Ne.jsx)(VS.icon,{size:14,color:"currentColor"}),p.displayName]}),(0,Ne.jsxs)(ZS,{type:"save",children:[(0,Ne.jsx)(WS.icon,{size:14,color:"currentColor"}),WS.label]})]}),(0,Ne.jsxs)(QS,{children:[(0,Ne.jsxs)(XS,{children:[(0,Ne.jsx)(jS,{}),(0,Ne.jsxs)(r_,{onClick:()=>{d(!0)},children:[(0,Ne.jsx)(_S,{size:16,color:"currentColor"}),"Temas"]})]}),BS.map(e=>{const{id:n,label:r,labelConditional:o,icon:a,type:i,action:s}=e,l=h[s],c=a;let d=r;return o&&"exportScript"===n&&t.project.currentSceneFile&&(d=o),"previewToggle"===n?(0,Ne.jsxs)(n_,{active:t.previewMode,onClick:u,title:(t.previewMode,"Vista Previa"),children:[t.previewMode?(0,Ne.jsx)(SS,{size:16,color:"currentColor"}):(0,Ne.jsx)(kS,{size:16,color:"currentColor"})," ",(t.previewMode,"Vista Previa")]},n):(0,Ne.jsxs)(e_,{buttonType:i,onClick:l,title:d,children:[(0,Ne.jsx)(c,{size:16,color:"currentColor"}),d]},n)}),(0,Ne.jsxs)(n_,{active:t.previewMode,onClick:u,title:(t.previewMode,"Vista Previa"),children:[t.previewMode?(0,Ne.jsx)(SS,{size:16,color:"currentColor"}):(0,Ne.jsx)(kS,{size:16,color:"currentColor"}),(t.previewMode,"Vista Previa")]})]})]}),s&&(0,Ne.jsx)(xk,{isOpen:s,onClose:()=>l(!1)}),c&&(0,Ne.jsx)(lS,{onClose:()=>d(!1)})]})},t_=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 16V12",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 8H12.01",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},a_=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.2569 9.77251 19.9859C9.5799 19.7148 9.31074 19.5053 9 19.38C8.69838 19.2469 8.36381 19.2072 8.03941 19.266C7.71502 19.3248 7.41568 19.4795 7.18 19.71L7.12 19.77C6.93425 19.956 6.71368 20.1035 6.47088 20.2041C6.22808 20.3048 5.96783 20.3566 5.705 20.3566C5.44217 20.3566 5.18192 20.3048 4.93912 20.2041C4.69632 20.1035 4.47575 19.956 4.29 19.77C4.10405 19.5843 3.95653 19.3637 3.85588 19.1209C3.75523 18.8781 3.70343 18.6178 3.70343 18.355C3.70343 18.0922 3.75523 17.8319 3.85588 17.5891C3.95653 17.3463 4.10405 17.1257 4.29 16.94L4.35 16.88C4.58054 16.6443 4.73519 16.345 4.794 16.0206C4.85282 15.6962 4.81312 15.3616 4.68 15.06C4.55324 14.7642 4.34276 14.512 4.07447 14.3343C3.80618 14.1566 3.49179 14.0613 3.17 14.06H3C2.46957 14.06 1.96086 14.2707 1.58579 14.6458C1.21071 15.0209 1 15.5296 1 16.06C1 16.5904 1.21071 17.0991 1.58579 17.4742C1.96086 17.8493 2.46957 18.06 3 18.06H3.09C3.42099 18.0677 3.743 18.1749 4.014 18.3675C4.285 18.5601 4.49453 18.8293 4.62 19.14L4.68 19.2C4.81312 19.5016 4.85282 19.8362 4.794 20.1606C4.73519 20.485 4.58054 20.7843 4.35 21.02L4.29 21.08C4.10405 21.266 3.88348 21.4135 3.64068 21.5141C3.39788 21.6148 3.13763 21.6666 2.8748 21.6666C2.61197 21.6666 2.35172 21.6148 2.10892 21.5141C1.86612 21.4135 1.64555 21.266 1.4598 21.08C1.27385 20.8943 1.12633 20.6737 1.02568 20.4309C0.92503 20.1881 0.87323 19.9278 0.87323 19.665C0.87323 19.4022 0.92503 19.1419 1.02568 18.8991C1.12633 18.6563 1.27385 18.4357 1.4598 18.25L1.5198 18.19C1.75537 17.9595 1.91002 17.6602 1.96884 17.3358C2.02765 17.0114 1.98795 16.6768 1.8548 16.375V16.375Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},i_=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9.09 9C9.3251 8.33167 9.78915 7.76811 10.4 7.40913C11.0108 7.05016 11.7289 6.91894 12.4272 7.03871C13.1255 7.15849 13.7588 7.52152 14.2151 8.06353C14.6713 8.60553 14.9211 9.29152 14.92 10C14.92 12 11.92 13 11.92 13",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 17H12.01",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},s_=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 6V12L16 14",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})};var l_,c_,d_,u_,p_,h_,g_,f_,x_,m_,v_,b_,y_,w_,j_,k_;const S_=[{id:"menu",position:0,color:"neutral",icon:e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M3 12H21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M3 6H21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M3 18H21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},tooltip:"Herramientas y Gu\xedas",hasSubMenu:!0,subMenuItems:[{id:"templates",label:"Plantillas",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 13H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 17H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 9H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},{id:"troubleshooting",label:"Soluci\xf3n de Problemas",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14.7 6.3C15.1 5.9 15.1 5.3 14.7 4.9L13.8 4C13.4 3.6 12.8 3.6 12.4 4L11.5 4.9C11.1 5.3 11.1 5.9 11.5 6.3L14.7 6.3Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M20.1 12.9L19.2 12C18.8 11.6 18.2 11.6 17.8 12L16.9 12.9C16.5 13.3 16.5 13.9 16.9 14.3L20.1 12.9Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8.3 18.7L7.4 17.8C7 17.4 6.4 17.4 6 17.8L5.1 18.7C4.7 19.1 4.7 19.7 5.1 20.1L8.3 18.7Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 12L12 8L16 12",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 2V6",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 18V22",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},{id:"beginnersGuide",label:"Gu\xeda para Principiantes",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M4 19.5C4 18.1193 5.11929 17 6.5 17H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 7H16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 11H16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 15H12",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},{id:"resources",label:"Recursos",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsx)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ne.jsx)("path",{d:"M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},{id:"projectStructure",label:"Estructura del Proyecto",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 9H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 13H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 17H13",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},{id:"basicCustomization",label:"Personalizaci\xf3n B\xe1sica",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 1V3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 21V23",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M4.22 4.22L5.64 5.64",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M18.36 18.36L19.78 19.78",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M1 12H3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 12H23",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M4.22 19.78L5.64 18.36",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M18.36 5.64L19.78 4.22",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},{id:"troubleshooting2",label:"Soluci\xf3n Avanzada",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M9 12L11 14L15 10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},{id:"glossary",label:"Glosario",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M4 19.5C4 18.1193 5.11929 17 6.5 17H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 7H16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 11H16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 15H12",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},{id:"guide",label:"Gu\xeda Completa",icon:e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 9H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 13H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 17H13",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}}]},{id:"info",position:1,color:"neutral",icon:t_,tooltip:"Informaci\xf3n del Editor",hasModal:!0},{id:"options",position:2,color:"neutral",icon:a_,tooltip:"Gu\xeda de Opciones",hasModal:!0},{id:"help",position:3,color:"neutral",icon:i_,tooltip:"Ayuda y Funcionalidades",hasModal:!0},{id:"about",position:4,color:"neutral",icon:s_,tooltip:"Acerca de RynEditor",hasModal:!0}],__=De(l_||(l_=t(["\n  0%, 100% {\n    transform: translateY(0px);\n  }\n  50% {\n    transform: translateY(-3px);\n  }\n"]))),C_=De(c_||(c_=t(["\n  from {\n    transform: translateX(100px) scale(0.8);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0) scale(1);\n    opacity: 1;\n  }\n"]))),E_=De(d_||(d_=t(["\n  from {\n    transform: translate(-50%, -50%) scale(0.7);\n    opacity: 0;\n  }\n  to {\n    transform: translate(-50%, -50%) scale(1);\n    opacity: 1;\n  }\n"]))),z_=Oe.div(u_||(u_=t(["\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  display: flex;\n  flex-direction: row-reverse;\n  gap: 16px;\n  z-index: 1000;\n  pointer-events: none; /* Permite que los botones individuales manejen los eventos */\n"]))),P_=Oe.div(p_||(p_=t(["\n  position: relative;\n  pointer-events: auto;\n  \n  /* Animaci\xf3n flotante sutil solo despu\xe9s de la entrada */\n  &:not(:hover) {\n    animation: "," 6s ease-in-out ","s infinite;\n  }\n  \n  /* Detener animaci\xf3n flotante en hover para evitar conflictos */\n  &:hover {\n    animation: none;\n  }\n"])),__,e=>e.delay+1.2),T_=Oe.button(h_||(h_=t(["\n  position: relative;\n  width: 52px;\n  height: 52px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: 600;\n  pointer-events: auto;\n  \n  /* Fondo moderno con glassmorphism */\n  background: rgba(255, 255, 255, 0.05);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  \n  color: var(--color-textPrimary);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  \n  /* Solo animaci\xf3n de entrada - sin conflictos */\n  animation: "," 0.6s ease-out ","s both;\n\n  /* Hover moderno y sutil */\n  &:hover {\n    transform: translateY(-4px) scale(1.05);\n    background: rgba(255, 255, 255, 0.1);\n    border-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n    color: var(--color-primary);\n  }\n\n  &:active {\n    transform: translateY(-2px) scale(1.02);\n    background: rgba(255, 255, 255, 0.08);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  }\n\n  /* Efecto de brillo sutil */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 1px;\n    left: 1px;\n    right: 1px;\n    height: 50%;\n    background: linear-gradient(180deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);\n    border-radius: 15px 15px 0 0;\n    pointer-events: none;\n  }\n\n  /* Indicador de estado activo */\n  &::after {\n    content: '';\n    position: absolute;\n    top: -2px;\n    right: -2px;\n    width: 8px;\n    height: 8px;\n    background: var(--color-primary);\n    border-radius: 50%;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n\n  &:hover::after {\n    opacity: 1;\n  }\n"])),C_,e=>e.delay),I_=Oe.div(g_||(g_=t(["\n  position: absolute;\n  bottom: 70px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(0, 0, 0, 0.8);\n  backdrop-filter: blur(12px);\n  -webkit-backdrop-filter: blur(12px);\n  color: white;\n  padding: 6px 10px;\n  border-radius: 8px;\n  font-size: 11px;\n  font-weight: 500;\n  white-space: nowrap;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.2s ease;\n  pointer-events: none;\n  z-index: 1001;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  /* Flecha del tooltip */\n  &::after {\n    content: '';\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    border: 4px solid transparent;\n    border-top-color: rgba(0, 0, 0, 0.8);\n  }\n\n  ",":hover & {\n    opacity: 1;\n    visibility: visible;\n    transform: translateX(-50%) translateY(-2px);\n  }\n"])),P_),L_=Oe.div(f_||(f_=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.8) 100%);\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n"])),e=>e.isOpen?1:0,e=>e.isOpen?"visible":"hidden"),A_=Oe.div(x_||(x_=t(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(",");\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border-radius: 20px;\n  padding: 32px;\n  max-width: 90vw;\n  max-height: 85vh;\n  width: ",";\n  overflow-y: auto;\n  border: 1px solid var(--color-border);\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  animation: "," 0.4s ease-out;\n  \n  /* Scrollbar personalizado */\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background-color: var(--color-border);\n    border-radius: 4px;\n    transition: background-color 0.3s ease;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background-color: var(--color-primary);\n  }\n"])),e=>e.isOpen?1:.8,e=>e.width||"600px",e=>e.isOpen?E_:"none"),D_=Oe.div(m_||(m_=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 2px solid var(--color-border);\n"]))),O_=Oe.h2(v_||(v_=t(["\n  margin: 0;\n  font-size: 24px;\n  font-weight: 700;\n  color: var(--color-textPrimary);\n  display: flex;\n  align-items: center;\n  gap: 12px;\n"]))),N_=Oe.button(b_||(b_=t(["\n  background: none;\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n  color: var(--color-textSecondary);\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: var(--color-backgroundSecondary);\n    color: var(--color-textPrimary);\n    transform: scale(1.1);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n"]))),R_=Oe.div(y_||(y_=t(["\n  position: absolute;\n  bottom: 70px;\n  right: 0;\n  z-index: 1002;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 8px;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.05);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  border-radius: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n  opacity: ",";\n  visibility: ",";\n  transform: ",";\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  pointer-events: ",";\n  min-width: 300px;\n"])),e=>e.isOpen?1:0,e=>e.isOpen?"visible":"hidden",e=>e.isOpen?"translateY(0) scale(1)":"translateY(10px) scale(0.9)",e=>e.isOpen?"auto":"none"),F_=Oe.button(w_||(w_=t(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 6px;\n  padding: 10px 6px;\n  background: rgba(255, 255, 255, 0.03);\n  border: 1px solid rgba(255, 255, 255, 0.05);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  color: var(--color-textPrimary);\n  font-size: 10px;\n  font-weight: 500;\n  text-align: center;\n  line-height: 1.2;\n  min-height: 60px;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.08);\n    border-color: rgba(255, 255, 255, 0.1);\n    color: var(--color-primary);\n    transform: translateY(-1px) scale(1.02);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  }\n\n  &:active {\n    transform: translateY(0) scale(1);\n    background: rgba(255, 255, 255, 0.05);\n  }\n"]))),M_=Oe.span(j_||(j_=t(["\n  font-size: 16px;\n  display: block;\n  opacity: 0.8;\n  transition: opacity 0.2s ease;\n  \n  ",":hover & {\n    opacity: 1;\n  }\n"])),F_),H_=Oe.span(k_||(k_=t(["\n  font-size: 9px;\n  font-weight: 500;\n  text-align: center;\n  max-width: 100%;\n  word-wrap: break-word;\n  line-height: 1.1;\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n  \n  ",":hover & {\n    opacity: 1;\n  }\n"])),F_);const B_=function(e){let{onMenuClick:r,onInfoClick:o,onOptionsClick:t,onHelpClick:a,onAboutClick:i,onNavigateToTemplates:s,onNavigateToTroubleshooting:l,onNavigateToBeginnersGuide:c,onNavigateToResources:d,onNavigateToProjectStructure:u,onNavigateToBasicCustomization:p,onNavigateToTroubleshooting2:h,onNavigateToGlossary:g,onNavigateToGuide:f,children:x}=e;const[m,v]=(0,n.useState)(null),[b,y]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(m?v(null):b&&y(!1))};return m?(document.addEventListener("keydown",e),document.body.style.overflow="hidden"):document.body.style.overflow="unset",(b||m)&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[m,b]);const w=()=>{v(null)};return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(z_,{children:S_.map((e,n)=>{const x=e.icon;return(0,Ne.jsxs)(P_,{delay:.1*n,children:[(0,Ne.jsxs)(T_,{colorType:e.color,delay:.1*n,onClick:()=>(e=>{var n;const s={menu:()=>{y(!b),null===r||void 0===r||r()},info:()=>{v("info"),y(!1),null===o||void 0===o||o()},options:()=>{v("options"),y(!1),null===t||void 0===t||t()},help:()=>{v("help"),y(!1),null===a||void 0===a||a()},about:()=>{v("about"),y(!1),null===i||void 0===i||i()}};null===(n=s[e])||void 0===n||n.call(s)})(e.id),title:e.tooltip,children:[(0,Ne.jsx)(x,{size:20,color:"currentColor"}),(0,Ne.jsx)(I_,{children:e.tooltip})]}),e.hasSubMenu&&e.subMenuItems&&(0,Ne.jsx)(R_,{isOpen:b&&"menu"===e.id,children:e.subMenuItems.map(e=>{const n=e.icon;return(0,Ne.jsxs)(F_,{onClick:()=>(e=>{var n;y(!1);const r={templates:s,troubleshooting:l,beginnersGuide:c,resources:d,projectStructure:u,basicCustomization:p,troubleshooting2:h,glossary:g,guide:f};null===(n=r[e])||void 0===n||n.call(r)})(e.id),title:e.label,children:[(0,Ne.jsx)(M_,{children:(0,Ne.jsx)(n,{size:16,color:"currentColor"})}),(0,Ne.jsx)(H_,{children:e.label})]},e.id)})})]},e.id)})}),(0,Ne.jsx)(L_,{isOpen:!!m,onClick:w,children:(0,Ne.jsxs)(A_,{isOpen:!!m,onClick:e=>e.stopPropagation(),children:[(0,Ne.jsxs)(D_,{children:[(0,Ne.jsxs)(O_,{children:["info"===m&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(t_,{size:24,color:"currentColor"})," Informaci\xf3n del Editor"]}),"options"===m&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(a_,{size:24,color:"currentColor"})," Gu\xeda de Opciones"]}),"help"===m&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(i_,{size:24,color:"currentColor"})," Ayuda y Funcionalidades"]}),"about"===m&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(s_,{size:24,color:"currentColor"})," Acerca de RynEditor"]})]}),(0,Ne.jsx)(N_,{onClick:w,children:"\xd7"})]}),x&&x[m]]})})]})};var W_,V_,U_,q_,G_,Y_,$_;const J_=Oe.div(W_||(W_=t(["\n  color: var(--color-textPrimary);\n  line-height: 1.6;\n"]))),Z_=Oe.div(V_||(V_=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-bottom: 24px;\n  padding: 16px;\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n"]))),K_=Oe.h4(U_||(U_=t(["\n  width: 100%;\n  margin: 0 0 12px 0;\n  color: var(--color-primary);\n  font-weight: 600;\n"]))),Q_=Oe.button(q_||(q_=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: var(--color-textInverse);\n  border: none;\n  padding: 6px 12px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"]))),X_=Oe.div(G_||(G_=t(["\n  margin-bottom: 24px;\n  padding: 20px;\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border-left: 4px solid var(--color-primary);\n"]))),eC=Oe.h3(Y_||(Y_=t(["\n  color: var(--color-primary);\n  margin-bottom: 12px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),nC=Oe.button($_||($_=t(["\n  position: sticky;\n  bottom: 20px;\n  left: 100%;\n  background: linear-gradient(135deg, var(--color-warning) 0%, var(--color-warningHover) 100%);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 12px var(--color-shadow);\n  transition: all 0.3s ease;\n  z-index: 2001;\n  opacity: ",";\n  visibility: ",";\n  transform: ",";\n  margin-top: 20px;\n\n  &:hover {\n    transform: ",";\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"])),e=>e.visible?1:0,e=>e.visible?"visible":"hidden",e=>e.visible?"scale(1)":"scale(0.8)",e=>e.visible?"scale(1.1)":"scale(0.8)");const rC=function(){const[e,r]=(0,n.useState)(!1),o=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})};return(0,n.useEffect)(()=>{const e=e=>{const n=e.target;n.classList.contains("modal-content")&&r(n.scrollTop>300)},n=document.querySelector(".modal-content");if(n)return n.addEventListener("scroll",e),()=>n.removeEventListener("scroll",e)},[]),(0,Ne.jsxs)(J_,{children:[(0,Ne.jsxs)(Z_,{children:[(0,Ne.jsx)(K_,{children:"\ud83d\udccb Navegaci\xf3n R\xe1pida:"}),(0,Ne.jsx)(Q_,{onClick:()=>o("info-overview"),children:"Vista General"}),(0,Ne.jsx)(Q_,{onClick:()=>o("info-interface"),children:"Interfaz"}),(0,Ne.jsx)(Q_,{onClick:()=>o("info-projects"),children:"Proyectos"}),(0,Ne.jsx)(Q_,{onClick:()=>o("info-characters"),children:"Personajes"}),(0,Ne.jsx)(Q_,{onClick:()=>o("info-scenes"),children:"Escenas"}),(0,Ne.jsx)(Q_,{onClick:()=>o("info-export"),children:"Exportar"}),(0,Ne.jsx)(Q_,{onClick:()=>o("info-tips"),children:"Consejos"})]}),(0,Ne.jsxs)(X_,{id:"info-overview",children:[(0,Ne.jsx)(eC,{children:"\ud83c\udfaf Vista General del Editor"}),(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("strong",{children:"RynEditor"})," es un editor visual completo para crear novelas visuales compatibles con Ren'Py. Te permite crear historias interactivas sin necesidad de programar directamente."]}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Interfaz Intuitiva:"})," Dise\xf1o moderno y f\xe1cil de usar"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Vista Previa en Tiempo Real:"})," Ve c\xf3mo se ve tu novela mientras la creas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Compatibilidad Ren'Py:"})," Exporta proyectos listos para usar"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Gesti\xf3n de Recursos:"})," Organiza im\xe1genes, audio y m\xe1s"]})]})]}),(0,Ne.jsxs)(X_,{id:"info-interface",children:[(0,Ne.jsx)(eC,{children:"\ud83d\udda5\ufe0f Interfaz del Editor"}),(0,Ne.jsx)("h4",{children:"Componentes Principales:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Sidebar Izquierdo:"})," Herramientas principales (Proyecto, Personajes, Escenas, Script, Configuraci\xf3n)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Editor Central:"})," \xc1rea de trabajo donde creas tu contenido"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Panel de Vista Previa:"})," Muestra c\xf3mo se ver\xe1 tu novela"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Barra Superior:"})," Acciones r\xe1pidas y navegaci\xf3n"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Botones Flotantes:"})," Acceso r\xe1pido a ayuda y gu\xedas"]})]}),(0,Ne.jsx)("h4",{children:"Navegaci\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Usa el ",(0,Ne.jsx)("strong",{children:"sidebar"})," para acceder a las diferentes herramientas"]}),(0,Ne.jsxs)("li",{children:["Los ",(0,Ne.jsx)("strong",{children:"tooltips"})," te ayudan a entender cada funci\xf3n"]}),(0,Ne.jsxs)("li",{children:["El ",(0,Ne.jsx)("strong",{children:"scroll"})," funciona con rueda del mouse en todos los paneles"]})]})]}),(0,Ne.jsxs)(X_,{id:"info-projects",children:[(0,Ne.jsx)(eC,{children:"\ud83d\udcc1 Gesti\xf3n de Proyectos"}),(0,Ne.jsx)("h4",{children:"Crear un Nuevo Proyecto:"}),(0,Ne.jsxs)("ol",{children:[(0,Ne.jsxs)("li",{children:["Ve al panel ",(0,Ne.jsx)("strong",{children:'"\ud83d\udcc1 Proyecto"'})," en el sidebar"]}),(0,Ne.jsxs)("li",{children:["Haz clic en ",(0,Ne.jsx)("strong",{children:'"Nuevo Proyecto"'})]}),(0,Ne.jsx)("li",{children:"Completa la informaci\xf3n b\xe1sica (nombre, descripci\xf3n, autor)"}),(0,Ne.jsx)("li",{children:"\xa1Tu proyecto est\xe1 listo para comenzar!"})]}),(0,Ne.jsx)("h4",{children:"Configuraci\xf3n del Proyecto:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Informaci\xf3n B\xe1sica:"})," T\xedtulo, descripci\xf3n, versi\xf3n"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Configuraci\xf3n Visual:"})," Resoluci\xf3n, colores, fuentes"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Metadatos:"})," Autor, etiquetas, categor\xedas"]})]})]}),(0,Ne.jsxs)(X_,{id:"info-characters",children:[(0,Ne.jsx)(eC,{children:"\ud83d\udc65 Sistema de Personajes"}),(0,Ne.jsx)("h4",{children:"Crear Personajes:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Nombre:"})," Identificador \xfanico para el personaje"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Color:"})," Color distintivo para los di\xe1logos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Sprites:"})," Im\xe1genes del personaje en diferentes poses"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Expresiones:"})," Diferentes emociones (feliz, triste, enojado, etc.)"]})]}),(0,Ne.jsx)("h4",{children:"Buenas Pr\xe1cticas:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsx)("li",{children:"Usa nombres descriptivos y \xfanicos"}),(0,Ne.jsx)("li",{children:"Mant\xe9n consistencia en los colores"}),(0,Ne.jsx)("li",{children:"Organiza sprites por emociones"}),(0,Ne.jsx)("li",{children:"Usa formatos PNG para transparencia"})]})]}),(0,Ne.jsxs)(X_,{id:"info-scenes",children:[(0,Ne.jsx)(eC,{children:"\ud83c\udfad Creaci\xf3n de Escenas"}),(0,Ne.jsx)("h4",{children:"Elementos de una Escena:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Fondo:"})," Imagen de ambiente donde ocurre la acci\xf3n"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Personajes:"})," Sprites que aparecen en la escena"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Di\xe1logos:"})," Conversaciones entre personajes"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Narraci\xf3n:"})," Texto descriptivo del narrador"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Decisiones:"})," Opciones que el jugador puede elegir"]})]}),(0,Ne.jsx)("h4",{children:"Flujo de Trabajo:"}),(0,Ne.jsxs)("ol",{children:[(0,Ne.jsx)("li",{children:"Selecciona o crea un fondo para la escena"}),(0,Ne.jsx)("li",{children:"A\xf1ade personajes y posici\xf3nalos"}),(0,Ne.jsx)("li",{children:"Escribe di\xe1logos y narraci\xf3n"}),(0,Ne.jsx)("li",{children:"Agrega decisiones si es necesario"}),(0,Ne.jsx)("li",{children:"Previsualiza el resultado"})]})]}),(0,Ne.jsxs)(X_,{id:"info-export",children:[(0,Ne.jsx)(eC,{children:"\ud83d\udce4 Exportar tu Proyecto"}),(0,Ne.jsx)("h4",{children:"Opciones de Exportaci\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Script Ren'Py:"})," Archivo .rpy listo para usar"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Proyecto Completo:"})," Carpeta con todos los archivos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Recursos:"})," Solo im\xe1genes y audio organizados"]})]}),(0,Ne.jsx)("h4",{children:"Proceso de Exportaci\xf3n:"}),(0,Ne.jsxs)("ol",{children:[(0,Ne.jsxs)("li",{children:["Ve a ",(0,Ne.jsx)("strong",{children:'"\u2699\ufe0f Configuraci\xf3n"'})," en el sidebar"]}),(0,Ne.jsx)("li",{children:"Revisa la configuraci\xf3n de exportaci\xf3n"}),(0,Ne.jsxs)("li",{children:["Haz clic en ",(0,Ne.jsx)("strong",{children:'"Exportar Proyecto"'})]}),(0,Ne.jsx)("li",{children:"Selecciona la ubicaci\xf3n de destino"}),(0,Ne.jsx)("li",{children:"\xa1Tu proyecto est\xe1 listo para Ren'Py!"})]})]}),(0,Ne.jsxs)(X_,{id:"info-tips",children:[(0,Ne.jsx)(eC,{children:"\ud83d\udca1 Consejos y Trucos"}),(0,Ne.jsx)("h4",{children:"Productividad:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Usa ",(0,Ne.jsx)("strong",{children:"plantillas"})," para acelerar la creaci\xf3n"]}),(0,Ne.jsxs)("li",{children:["Organiza tus recursos en ",(0,Ne.jsx)("strong",{children:"carpetas"})," desde el inicio"]}),(0,Ne.jsxs)("li",{children:["Guarda frecuentemente - el editor tiene ",(0,Ne.jsx)("strong",{children:"autoguardado"})]}),(0,Ne.jsxs)("li",{children:["Usa la ",(0,Ne.jsx)("strong",{children:"vista previa"})," constantemente para verificar el resultado"]})]}),(0,Ne.jsx)("h4",{children:"Recursos:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Mant\xe9n un ",(0,Ne.jsx)("strong",{children:"estilo art\xedstico consistente"})]}),(0,Ne.jsxs)("li",{children:["Usa ",(0,Ne.jsx)("strong",{children:"resoluciones est\xe1ndar"})," (1920x1080 recomendado)"]}),(0,Ne.jsxs)("li",{children:["Comprime im\xe1genes para ",(0,Ne.jsx)("strong",{children:"reducir el tama\xf1o"})," del proyecto"]}),(0,Ne.jsxs)("li",{children:["Nombra archivos de forma ",(0,Ne.jsx)("strong",{children:"descriptiva"})]})]}),(0,Ne.jsx)("h4",{children:"Escritura:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Planifica la ",(0,Ne.jsx)("strong",{children:"estructura"})," de tu historia antes de empezar"]}),(0,Ne.jsxs)("li",{children:["Usa ",(0,Ne.jsx)("strong",{children:"labels"})," para organizar cap\xedtulos y secciones"]}),(0,Ne.jsxs)("li",{children:["Prueba diferentes ",(0,Ne.jsx)("strong",{children:"rutas de decisi\xf3n"})]}),(0,Ne.jsxs)("li",{children:["Mant\xe9n los di\xe1logos ",(0,Ne.jsx)("strong",{children:"naturales y concisos"})]})]})]}),(0,Ne.jsx)(nC,{visible:e,onClick:()=>{const e=document.querySelector(".modal-content");e&&e.scrollTo({top:0,behavior:"smooth"})},title:"Volver arriba",children:"\u2191"})]})};var oC,tC,aC,iC,sC,lC;const cC=Oe.div(oC||(oC=t(["\n  color: var(--color-textPrimary);\n  line-height: 1.6;\n"]))),dC=Oe.div(tC||(tC=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-bottom: 24px;\n  padding: 16px;\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n"]))),uC=Oe.h4(aC||(aC=t(["\n  width: 100%;\n  margin: 0 0 12px 0;\n  color: var(--color-error);\n  font-weight: 600;\n"]))),pC=Oe.button(iC||(iC=t(["\n  background: linear-gradient(135deg, var(--color-error) 0%, var(--color-errorHover) 100%);\n  color: var(--color-textInverse);\n  border: none;\n  padding: 6px 12px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"]))),hC=Oe.div(sC||(sC=t(["\n  margin-bottom: 24px;\n  padding: 20px;\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border-left: 4px solid var(--color-error);\n"]))),gC=Oe.h3(lC||(lC=t(["\n  color: var(--color-error);\n  margin-bottom: 12px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"])));const fC=function(){const e=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})};return(0,Ne.jsxs)(cC,{children:[(0,Ne.jsxs)(dC,{children:[(0,Ne.jsx)(uC,{children:"\ud83d\udccb Navegaci\xf3n R\xe1pida:"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-projects"),children:"Proyectos"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-save"),children:"Guardado"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-files"),children:"Archivos"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-script"),children:"Exportar Script"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-export"),children:"Exportar Proyecto"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-preview"),children:"Vista Previa"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-variables"),children:"Variables"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-conditions"),children:"Condiciones"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-config"),children:"Configuraci\xf3n"}),(0,Ne.jsx)(pC,{onClick:()=>e("options-tips"),children:"Consejos"})]}),(0,Ne.jsxs)(hC,{id:"options-projects",children:[(0,Ne.jsx)(gC,{children:"\ud83d\udcc1 Gesti\xf3n de Proyectos"}),(0,Ne.jsx)("h4",{children:"Configuraci\xf3n B\xe1sica:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Nombre del Proyecto:"})," Identificador \xfanico de tu novela visual"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Descripci\xf3n:"})," Breve resumen de la historia"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Versi\xf3n:"})," Control de versiones de tu proyecto"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Autor:"})," Tu nombre o seud\xf3nimo"]})]}),(0,Ne.jsx)("h4",{children:"Configuraci\xf3n Avanzada:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Resoluci\xf3n:"})," Tama\xf1o de pantalla (recomendado: 1920x1080)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Idioma:"})," Idioma principal del proyecto"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Etiquetas:"})," Categor\xedas para organizar tu proyecto"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-save",children:[(0,Ne.jsx)(gC,{children:"\ud83d\udcbe Sistema de Guardado"}),(0,Ne.jsx)("h4",{children:"Autoguardado:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Frecuencia:"})," El proyecto se guarda autom\xe1ticamente cada 30 segundos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Respaldo:"})," Se mantienen m\xfaltiples versiones de respaldo"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Indicador:"})," \xcdcono en la esquina muestra el estado del guardado"]})]}),(0,Ne.jsx)("h4",{children:"Guardado Manual:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Ctrl+S:"})," Guarda inmediatamente los cambios"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Exportar:"})," Guarda una copia independiente del proyecto"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Versiones:"})," Puedes crear puntos de guardado espec\xedficos"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-files",children:[(0,Ne.jsx)(gC,{children:"\ud83d\uddc2\ufe0f Gesti\xf3n de Archivos"}),(0,Ne.jsx)("h4",{children:"Tipos de Archivo Soportados:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Im\xe1genes:"})," PNG, JPG, JPEG, GIF, WEBP"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Audio:"})," MP3, WAV, OGG"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Fuentes:"})," TTF, OTF"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Scripts:"})," RenPy (.rpy)"]})]}),(0,Ne.jsx)("h4",{children:"Organizaci\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Carpetas:"})," Organiza recursos por categor\xedas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Nombres:"})," Usa nombres descriptivos y consistentes"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Tama\xf1os:"})," Optimiza archivos para mejor rendimiento"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-script",children:[(0,Ne.jsx)(gC,{children:"\ud83d\udcdd Exportar Script"}),(0,Ne.jsx)("h4",{children:"Formato RenPy:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Archivo .rpy:"})," Script principal compatible con Ren'Py"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Estructura:"})," Organizado en labels y escenas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Comentarios:"})," Incluye comentarios para facilitar la edici\xf3n"]})]}),(0,Ne.jsx)("h4",{children:"Opciones de Exportaci\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Solo Script:"})," \xdanicamente el archivo .rpy"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Con Recursos:"})," Script + im\xe1genes y audio"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Proyecto Completo:"})," Estructura completa de Ren'Py"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-export",children:[(0,Ne.jsx)(gC,{children:"\ud83d\udce4 Exportar Proyecto Completo"}),(0,Ne.jsx)("h4",{children:"Estructura del Proyecto:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"game/:"})," Carpeta principal con scripts y recursos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"images/:"})," Todas las im\xe1genes organizadas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"audio/:"})," Archivos de sonido y m\xfasica"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"gui/:"})," Elementos de interfaz de usuario"]})]}),(0,Ne.jsx)("h4",{children:"Configuraci\xf3n de Exportaci\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Destino:"})," Selecciona d\xf3nde guardar el proyecto"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Compresi\xf3n:"})," Optimiza archivos para distribuci\xf3n"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Metadatos:"})," Incluye informaci\xf3n del proyecto"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-preview",children:[(0,Ne.jsx)(gC,{children:"\ud83d\udc41\ufe0f Vista Previa"}),(0,Ne.jsx)("h4",{children:"Configuraci\xf3n de Vista Previa:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Tiempo Real:"})," Actualizaci\xf3n autom\xe1tica mientras editas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Resoluci\xf3n:"})," Ajusta el tama\xf1o de la vista previa"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Modo Pantalla Completa:"})," Ver en tama\xf1o real"]})]}),(0,Ne.jsx)("h4",{children:"Controles:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Play/Pause:"})," Controla la reproducci\xf3n de la escena"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Navegaci\xf3n:"})," Avanza o retrocede entre di\xe1logos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Velocidad:"})," Ajusta la velocidad de texto"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-variables",children:[(0,Ne.jsx)(gC,{children:"\ud83d\udd22 Sistema de Variables"}),(0,Ne.jsx)("h4",{children:"Tipos de Variables:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Booleanas:"})," Verdadero/Falso (True/False)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Num\xe9ricas:"})," Enteros y decimales"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Texto:"})," Cadenas de caracteres"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Listas:"})," Colecciones de valores"]})]}),(0,Ne.jsx)("h4",{children:"Uso de Variables:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Decisiones:"})," Controla qu\xe9 opciones est\xe1n disponibles"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Rutas:"})," Determina el flujo de la historia"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Estad\xedsticas:"})," Puntos, relaciones, inventario"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-conditions",children:[(0,Ne.jsx)(gC,{children:"\u2753 Sistema de Condiciones"}),(0,Ne.jsx)("h4",{children:"Tipos de Condiciones:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Simples:"})," if variable == valor"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Compuestas:"})," M\xfaltiples condiciones con AND/OR"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Rangos:"})," variable > X y variable < Y"]})]}),(0,Ne.jsx)("h4",{children:"Aplicaciones:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Di\xe1logos Condicionales:"})," Texto que aparece seg\xfan el estado"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Opciones Din\xe1micas:"})," Decisiones que cambian"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Finales M\xfaltiples:"})," Diferentes conclusiones"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-config",children:[(0,Ne.jsx)(gC,{children:"\u2699\ufe0f Configuraci\xf3n Avanzada"}),(0,Ne.jsx)("h4",{children:"Interfaz:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Tema:"})," Claro u oscuro"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Idioma:"})," Idioma de la interfaz"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Atajos:"})," Personaliza combinaciones de teclas"]})]}),(0,Ne.jsx)("h4",{children:"Rendimiento:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Autoguardado:"})," Frecuencia de guardado autom\xe1tico"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Vista Previa:"})," Calidad y frecuencia de actualizaci\xf3n"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Cach\xe9:"})," Gesti\xf3n de archivos temporales"]})]})]}),(0,Ne.jsxs)(hC,{id:"options-tips",children:[(0,Ne.jsx)(gC,{children:"\ud83d\udca1 Consejos de Configuraci\xf3n"}),(0,Ne.jsx)("h4",{children:"Mejores Pr\xe1cticas:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Configuraci\xf3n Inicial:"})," Dedica tiempo a configurar bien tu proyecto"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Respaldos:"})," Exporta regularmente copias de seguridad"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Organizaci\xf3n:"})," Mant\xe9n una estructura de carpetas clara"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Pruebas:"})," Verifica regularmente la vista previa"]})]}),(0,Ne.jsx)("h4",{children:"Optimizaci\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Recursos:"})," Comprime im\xe1genes grandes"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Audio:"})," Usa formatos eficientes como OGG"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Variables:"})," No crees variables innecesarias"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Script:"})," Comenta tu c\xf3digo para futuras referencias"]})]})]})]})};var xC,mC,vC,bC,yC,wC,jC;const kC=Oe.div(xC||(xC=t(["\n  color: var(--color-textPrimary);\n  line-height: 1.6;\n"]))),SC=Oe.div(mC||(mC=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-bottom: 24px;\n  padding: 16px;\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n"]))),_C=Oe.h4(vC||(vC=t(["\n  width: 100%;\n  margin: 0 0 12px 0;\n  color: var(--color-info);\n  font-weight: 600;\n"]))),CC=Oe.button(bC||(bC=t(["\n  background: linear-gradient(135deg, var(--color-info) 0%, var(--color-infoHover) 100%);\n  color: var(--color-textInverse);\n  border: none;\n  padding: 6px 12px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(13, 202, 240, 0.3);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n"]))),EC=Oe.div(yC||(yC=t(["\n  margin-bottom: 24px;\n  padding: 20px;\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border-left: 4px solid var(--color-info);\n"]))),zC=Oe.h3(wC||(wC=t(["\n  color: var(--color-info);\n  margin-bottom: 12px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),PC=Oe.code(jC||(jC=t(["\n  background-color: var(--color-backgroundSecondary);\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-family: 'Courier New', monospace;\n  font-size: 14px;\n  color: var(--color-primary);\n"])));const TC=function(){const e=e=>{const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})};return(0,Ne.jsxs)(kC,{children:[(0,Ne.jsxs)(SC,{children:[(0,Ne.jsx)(_C,{children:"\ud83d\udccb Navegaci\xf3n R\xe1pida:"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-sprites"),children:"Sprites"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-backgrounds"),children:"Fondos"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-dialogue"),children:"Di\xe1logos"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-narration"),children:"Narrador"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-choices"),children:"Decisiones"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-labels"),children:"Labels"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-jumps"),children:"Jumps"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-variables"),children:"Variables"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-conditions"),children:"Condiciones"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-advanced"),children:"Avanzado"}),(0,Ne.jsx)(CC,{onClick:()=>e("help-tips"),children:"Consejos"})]}),(0,Ne.jsxs)(EC,{id:"help-sprites",children:[(0,Ne.jsx)(zC,{children:"\ud83d\uddbc\ufe0f Sprites de Personajes"}),(0,Ne.jsx)("h4",{children:"\xbfQu\xe9 son los Sprites?"}),(0,Ne.jsx)("p",{children:"Los sprites son las im\xe1genes de los personajes que aparecen en las escenas. Pueden mostrar diferentes poses, expresiones y emociones."}),(0,Ne.jsx)("h4",{children:"C\xf3mo usar Sprites:"}),(0,Ne.jsxs)("ol",{children:[(0,Ne.jsxs)("li",{children:["Ve a ",(0,Ne.jsx)("strong",{children:'"\ud83d\udc65 Personajes"'})," en el sidebar"]}),(0,Ne.jsx)("li",{children:"Selecciona o crea un personaje"}),(0,Ne.jsx)("li",{children:"Sube im\xe1genes para diferentes expresiones"}),(0,Ne.jsx)("li",{children:"Usa los sprites en las escenas seleccion\xe1ndolos del men\xfa"})]}),(0,Ne.jsx)("h4",{children:"Formatos Recomendados:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Formato:"})," PNG (para transparencia)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Resoluci\xf3n:"})," 1920x1080 o proporcional"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Tama\xf1o:"})," M\xe1ximo 10MB por archivo"]})]})]}),(0,Ne.jsxs)(EC,{id:"help-backgrounds",children:[(0,Ne.jsx)(zC,{children:"\ud83c\udf05 Fondos de Escena"}),(0,Ne.jsx)("h4",{children:"Configurar Fondos:"}),(0,Ne.jsx)("p",{children:"Los fondos establecen el ambiente y ubicaci\xf3n de cada escena. Pueden ser interiores, exteriores, o ambientes fant\xe1sticos."}),(0,Ne.jsx)("h4",{children:"Proceso:"}),(0,Ne.jsxs)("ol",{children:[(0,Ne.jsxs)("li",{children:["Ve a ",(0,Ne.jsx)("strong",{children:'"\ud83c\udfad Escenas"'})," en el sidebar"]}),(0,Ne.jsx)("li",{children:"Crea una nueva escena o edita una existente"}),(0,Ne.jsxs)("li",{children:["Haz clic en ",(0,Ne.jsx)("strong",{children:'"Cambiar Fondo"'})]}),(0,Ne.jsx)("li",{children:"Selecciona una imagen de tu biblioteca o sube una nueva"})]}),(0,Ne.jsx)("h4",{children:"Consejos:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Usa resoluci\xf3n ",(0,Ne.jsx)("strong",{children:"1920x1080"})," para mejor calidad"]}),(0,Ne.jsxs)("li",{children:["Mant\xe9n un ",(0,Ne.jsx)("strong",{children:"estilo art\xedstico consistente"})]}),(0,Ne.jsxs)("li",{children:["Considera la ",(0,Ne.jsx)("strong",{children:"iluminaci\xf3n"})," para el ambiente"]})]})]}),(0,Ne.jsxs)(EC,{id:"help-dialogue",children:[(0,Ne.jsx)(zC,{children:"\ud83d\udcac Sistema de Di\xe1logos"}),(0,Ne.jsx)("h4",{children:"Crear Di\xe1logos:"}),(0,Ne.jsx)("p",{children:"Los di\xe1logos son las conversaciones entre personajes. Cada personaje tiene su color distintivo y estilo de texto."}),(0,Ne.jsx)("h4",{children:"Estructura de un Di\xe1logo:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Personaje:"})," Qui\xe9n habla"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Texto:"})," Lo que dice"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Expresi\xf3n:"})," Emoci\xf3n del personaje (opcional)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Posici\xf3n:"})," D\xf3nde aparece en pantalla"]})]}),(0,Ne.jsx)("h4",{children:"Ejemplo de C\xf3digo Generado:"}),(0,Ne.jsx)(PC,{children:'maria "\xa1Hola! \xbfC\xf3mo est\xe1s hoy?"'}),(0,Ne.jsx)("br",{}),(0,Ne.jsx)(PC,{children:"show maria happy at center"})]}),(0,Ne.jsxs)(EC,{id:"help-narration",children:[(0,Ne.jsx)(zC,{children:"\ud83d\udcd6 Narraci\xf3n"}),(0,Ne.jsx)("h4",{children:"Texto del Narrador:"}),(0,Ne.jsx)("p",{children:"La narraci\xf3n describe acciones, pensamientos, o informaci\xf3n que no es di\xe1logo directo entre personajes."}),(0,Ne.jsx)("h4",{children:"Usos de la Narraci\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Descripciones:"})," Ambiente, acciones, emociones"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Pensamientos:"})," Mon\xf3logo interno del protagonista"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Transiciones:"})," Cambios de tiempo o lugar"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Informaci\xf3n:"})," Datos importantes para la historia"]})]}),(0,Ne.jsx)("h4",{children:"Ejemplo:"}),(0,Ne.jsx)(PC,{children:'"El sol se ocultaba tras las monta\xf1as mientras Mar\xeda caminaba por el sendero."'})]}),(0,Ne.jsxs)(EC,{id:"help-choices",children:[(0,Ne.jsx)(zC,{children:"\ud83c\udfaf Sistema de Decisiones"}),(0,Ne.jsx)("h4",{children:"Crear Decisiones:"}),(0,Ne.jsx)("p",{children:"Las decisiones permiten al jugador elegir diferentes caminos en la historia, creando m\xfaltiples rutas y finales."}),(0,Ne.jsx)("h4",{children:"Configuraci\xf3n:"}),(0,Ne.jsxs)("ol",{children:[(0,Ne.jsxs)("li",{children:["En el editor, selecciona ",(0,Ne.jsx)("strong",{children:'"Agregar Decisi\xf3n"'})]}),(0,Ne.jsx)("li",{children:"Escribe el texto de cada opci\xf3n"}),(0,Ne.jsx)("li",{children:"Define a d\xf3nde lleva cada opci\xf3n (label de destino)"}),(0,Ne.jsx)("li",{children:"Opcionalmente, a\xf1ade condiciones para mostrar opciones"})]}),(0,Ne.jsx)("h4",{children:"Ejemplo de C\xf3digo:"}),(0,Ne.jsxs)(PC,{children:["menu:",(0,Ne.jsx)("br",{}),'\xa0\xa0\xa0\xa0"Ir al parque":',(0,Ne.jsx)("br",{}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0jump parque",(0,Ne.jsx)("br",{}),'\xa0\xa0\xa0\xa0"Quedarse en casa":',(0,Ne.jsx)("br",{}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0jump casa"]})]}),(0,Ne.jsxs)(EC,{id:"help-labels",children:[(0,Ne.jsx)(zC,{children:"\ud83c\udff7\ufe0f Sistema de Labels"}),(0,Ne.jsx)("h4",{children:"\xbfQu\xe9 son los Labels?"}),(0,Ne.jsx)("p",{children:"Los labels son puntos de referencia en tu historia. Funcionan como cap\xedtulos o secciones que puedes referenciar desde otras partes."}),(0,Ne.jsx)("h4",{children:"Usos Principales:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Organizaci\xf3n:"})," Dividir la historia en cap\xedtulos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Navegaci\xf3n:"})," Puntos de destino para decisiones"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Rutas:"})," Diferentes caminos de la historia"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Finales:"})," M\xfaltiples conclusiones"]})]}),(0,Ne.jsx)("h4",{children:"Ejemplo:"}),(0,Ne.jsx)(PC,{children:"label capitulo_1:"}),(0,Ne.jsx)(PC,{children:"label final_bueno:"}),(0,Ne.jsx)(PC,{children:"label ruta_maria:"})]}),(0,Ne.jsxs)(EC,{id:"help-jumps",children:[(0,Ne.jsx)(zC,{children:"\ud83d\udd00 Sistema de Jumps"}),(0,Ne.jsx)("h4",{children:"Navegaci\xf3n con Jumps:"}),(0,Ne.jsx)("p",{children:"Los jumps te permiten saltar de una parte de la historia a otra, conectando diferentes secciones y creando flujo narrativo."}),(0,Ne.jsx)("h4",{children:"Tipos de Jump:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Jump Simple:"})," Va directamente a un label"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Call:"})," Va a un label y puede regresar"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Jump Condicional:"})," Salta solo si se cumple una condici\xf3n"]})]}),(0,Ne.jsx)("h4",{children:"Ejemplos:"}),(0,Ne.jsx)(PC,{children:"jump siguiente_escena"}),(0,Ne.jsx)(PC,{children:"call flashback"}),(0,Ne.jsx)(PC,{children:"if amor > 10: jump final_romantico"})]}),(0,Ne.jsxs)(EC,{id:"help-variables",children:[(0,Ne.jsx)(zC,{children:"\ud83d\udd22 Sistema de Variables"}),(0,Ne.jsx)("h4",{children:"Gesti\xf3n de Variables:"}),(0,Ne.jsx)("p",{children:"Las variables almacenan informaci\xf3n que cambia durante la historia, como puntos de relaci\xf3n, inventario, o estados del juego."}),(0,Ne.jsx)("h4",{children:"Tipos de Variables:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"N\xfameros:"})," ",(0,Ne.jsx)(PC,{children:"$ puntos = 10"})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Texto:"})," ",(0,Ne.jsx)(PC,{children:'$ nombre = "Mar\xeda"'})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Booleanas:"})," ",(0,Ne.jsx)(PC,{children:"$ tiene_llave = True"})]})]}),(0,Ne.jsx)("h4",{children:"Operaciones:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Asignar:"})," ",(0,Ne.jsx)(PC,{children:"$ vida = 100"})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Sumar:"})," ",(0,Ne.jsx)(PC,{children:"$ puntos += 5"})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Comparar:"})," ",(0,Ne.jsx)(PC,{children:"if puntos > 50:"})]})]})]}),(0,Ne.jsxs)(EC,{id:"help-conditions",children:[(0,Ne.jsx)(zC,{children:"\u2753 Sistema de Condiciones"}),(0,Ne.jsx)("h4",{children:"L\xf3gica Condicional:"}),(0,Ne.jsx)("p",{children:"Las condiciones permiten que tu historia reaccione al estado del juego, mostrando diferentes contenidos seg\xfan las decisiones del jugador."}),(0,Ne.jsx)("h4",{children:"Operadores:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Igual:"})," ",(0,Ne.jsx)(PC,{children:"if variable == 5:"})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Mayor:"})," ",(0,Ne.jsx)(PC,{children:"if puntos > 10:"})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Y l\xf3gico:"})," ",(0,Ne.jsx)(PC,{children:"if amor > 5 and confianza > 3:"})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"O l\xf3gico:"})," ",(0,Ne.jsx)(PC,{children:'if ruta == "A" or ruta == "B":'})]})]}),(0,Ne.jsx)("h4",{children:"Aplicaciones:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Di\xe1logos \xfanicos"})," basados en decisiones anteriores"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Opciones de men\xfa"})," que aparecen condicionalmente"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Finales diferentes"})," seg\xfan las acciones del jugador"]})]})]}),(0,Ne.jsxs)(EC,{id:"help-advanced",children:[(0,Ne.jsx)(zC,{children:"\ud83d\ude80 Funciones Avanzadas"}),(0,Ne.jsx)("h4",{children:"Efectos y Transiciones:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Fade:"})," Desvanecimiento entre escenas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Dissolve:"})," Transici\xf3n suave entre im\xe1genes"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Wipe:"})," Transici\xf3n de barrido"]})]}),(0,Ne.jsx)("h4",{children:"Animaciones:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Show/Hide:"})," Mostrar y ocultar personajes"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Transform:"})," Mover, escalar, rotar sprites"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"ATL:"})," Animaciones personalizadas"]})]}),(0,Ne.jsx)("h4",{children:"Audio:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"M\xfasica de Fondo:"})," ",(0,Ne.jsx)(PC,{children:'play music "cancion.ogg"'})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Efectos de Sonido:"})," ",(0,Ne.jsx)(PC,{children:'play sound "efecto.wav"'})]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Voces:"})," ",(0,Ne.jsx)(PC,{children:'voice "maria_01.ogg"'})]})]})]}),(0,Ne.jsxs)(EC,{id:"help-tips",children:[(0,Ne.jsx)(zC,{children:"\ud83d\udca1 Consejos y Mejores Pr\xe1cticas"}),(0,Ne.jsx)("h4",{children:"Organizaci\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Usa ",(0,Ne.jsx)("strong",{children:"nombres descriptivos"})," para labels y variables"]}),(0,Ne.jsxs)("li",{children:["Organiza tu historia en ",(0,Ne.jsx)("strong",{children:"cap\xedtulos claros"})]}),(0,Ne.jsxs)("li",{children:["Comenta tu c\xf3digo para ",(0,Ne.jsx)("strong",{children:"futuras referencias"})]})]}),(0,Ne.jsx)("h4",{children:"Narrativa:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Mant\xe9n los di\xe1logos ",(0,Ne.jsx)("strong",{children:"naturales y concisos"})]}),(0,Ne.jsxs)("li",{children:["Usa la narraci\xf3n para ",(0,Ne.jsx)("strong",{children:"establecer ambiente"})]}),(0,Ne.jsxs)("li",{children:["Planifica las ",(0,Ne.jsx)("strong",{children:"rutas de decisi\xf3n"})," antes de escribir"]})]}),(0,Ne.jsx)("h4",{children:"T\xe9cnico:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:["Prueba ",(0,Ne.jsx)("strong",{children:"todas las rutas"})," de tu historia"]}),(0,Ne.jsxs)("li",{children:["Usa la ",(0,Ne.jsx)("strong",{children:"vista previa"})," frecuentemente"]}),(0,Ne.jsxs)("li",{children:["Mant\xe9n ",(0,Ne.jsx)("strong",{children:"respaldos"})," de tu proyecto"]}),(0,Ne.jsxs)("li",{children:["Optimiza ",(0,Ne.jsx)("strong",{children:"im\xe1genes y audio"})," para mejor rendimiento"]})]})]})]})};var IC,LC,AC,DC,OC,NC,RC,FC,MC,HC,BC,WC,VC,UC,qC;const GC=Oe.div(IC||(IC=t(["\n  color: var(--color-textPrimary);\n  line-height: 1.6;\n  text-align: center;\n"]))),YC=Oe.div(LC||(LC=t(["\n  font-size: 48px;\n  margin-bottom: 16px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  font-weight: 800;\n"]))),$C=Oe.div(AC||(AC=t(["\n  font-size: 18px;\n  color: var(--color-textSecondary);\n  margin-bottom: 24px;\n  font-weight: 500;\n"]))),JC=Oe.div(DC||(DC=t(["\n  font-size: 16px;\n  margin-bottom: 32px;\n  padding: 20px;\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border-left: 4px solid var(--color-primary);\n  text-align: left;\n"]))),ZC=Oe.div(OC||(OC=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 16px;\n  margin-bottom: 32px;\n"]))),KC=Oe.div(NC||(NC=t(["\n  padding: 16px;\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n  text-align: left;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  }\n"]))),QC=Oe.div(RC||(RC=t(["\n  font-size: 24px;\n  margin-bottom: 8px;\n"]))),XC=Oe.h4(FC||(FC=t(["\n  margin: 0 0 8px 0;\n  color: var(--color-primary);\n  font-weight: 600;\n"]))),eE=Oe.p(MC||(MC=t(["\n  margin: 0;\n  font-size: 14px;\n  color: var(--color-textSecondary);\n"]))),nE=Oe.div(HC||(HC=t(["\n  margin-bottom: 32px;\n  padding: 20px;\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n"]))),rE=Oe.h3(BC||(BC=t(["\n  margin: 0 0 16px 0;\n  color: var(--color-primary);\n  font-weight: 600;\n"]))),oE=Oe.div(WC||(WC=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  justify-content: center;\n"]))),tE=Oe.span(VC||(VC=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: var(--color-textInverse);\n  padding: 4px 12px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: 500;\n"]))),aE=Oe.div(UC||(UC=t(["\n  margin-top: 32px;\n  padding: 20px;\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\n  border-radius: 12px;\n  border: 1px solid var(--color-border);\n"]))),iE=Oe.h3(qC||(qC=t(["\n  margin: 0 0 16px 0;\n  color: var(--color-primary);\n  font-weight: 600;\n"])));const sE=function(){return(0,Ne.jsxs)(GC,{children:[(0,Ne.jsx)(YC,{children:"RynEditor"}),(0,Ne.jsx)($C,{children:"Versi\xf3n 1.0.0"}),(0,Ne.jsxs)(JC,{children:[(0,Ne.jsx)("strong",{children:"RynEditor"})," es un editor visual moderno y completo para crear novelas visuales compatibles con Ren'Py. Dise\xf1ado para escritores, desarrolladores indie y creadores de contenido que quieren dar vida a sus historias de manera intuitiva y profesional."]}),(0,Ne.jsx)(ZC,{children:[{icon:"\ud83c\udfa8",title:"Interfaz Intuitiva",description:"Dise\xf1o moderno y f\xe1cil de usar para crear novelas visuales sin programaci\xf3n."},{icon:"\ud83d\udc41\ufe0f",title:"Vista Previa en Tiempo Real",description:"Ve c\xf3mo se ve tu novela mientras la creas, con actualizaciones instant\xe1neas."},{icon:"\ud83d\udd04",title:"Compatible con Ren'Py",description:"Exporta proyectos listos para usar en Ren'Py, el motor m\xe1s popular."},{icon:"\ud83d\udcc1",title:"Gesti\xf3n de Recursos",description:"Organiza im\xe1genes, audio y archivos de manera eficiente y estructurada."},{icon:"\ud83c\udfad",title:"Sistema de Personajes",description:"Crea y gestiona personajes con m\xfaltiples expresiones y poses."},{icon:"\ud83c\udfaf",title:"Decisiones Interactivas",description:"Implementa decisiones que afectan el curso de la historia f\xe1cilmente."}].map((e,n)=>(0,Ne.jsxs)(KC,{children:[(0,Ne.jsx)(QC,{children:e.icon}),(0,Ne.jsx)(XC,{children:e.title}),(0,Ne.jsx)(eE,{children:e.description})]},n))}),(0,Ne.jsxs)(nE,{children:[(0,Ne.jsx)(rE,{children:"\ud83d\udee0\ufe0f Tecnolog\xedas Utilizadas"}),(0,Ne.jsx)(oE,{children:["React 18","Styled Components","IndexedDB","HTML5","CSS3","JavaScript ES6+","Webpack","Node.js","NPM"].map((e,n)=>(0,Ne.jsx)(tE,{children:e},n))})]}),(0,Ne.jsxs)(aE,{children:[(0,Ne.jsx)(iE,{children:"\ud83d\udc68\u200d\ud83d\udcbb Desarrollo y Cr\xe9ditos"}),(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("strong",{children:"RynEditor"})," es un proyecto de c\xf3digo abierto desarrollado con pasi\xf3n para la comunidad de creadores de novelas visuales."]}),(0,Ne.jsx)("h4",{style:{color:"var(--color-primary)",marginTop:"20px",marginBottom:"12px"},children:"\ud83c\udf1f Caracter\xedsticas Especiales:"}),(0,Ne.jsxs)("ul",{style:{textAlign:"left",marginBottom:"20px"},children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Autoguardado:"})," Tu trabajo se guarda autom\xe1ticamente cada 30 segundos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Exportaci\xf3n Completa:"})," Genera proyectos Ren'Py listos para distribuir"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Interfaz Responsiva:"})," Se adapta a diferentes tama\xf1os de pantalla"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Temas Personalizables:"})," Modo claro y oscuro disponibles"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Gesti\xf3n de Estado:"})," Manejo inteligente de datos y preferencias"]})]}),(0,Ne.jsx)("h4",{style:{color:"var(--color-primary)",marginTop:"20px",marginBottom:"12px"},children:"\ud83c\udfaf Objetivo del Proyecto:"}),(0,Ne.jsx)("p",{style:{textAlign:"left"},children:"Democratizar la creaci\xf3n de novelas visuales, permitiendo que cualquier persona con una historia que contar pueda crear experiencias interactivas profesionales sin necesidad de conocimientos t\xe9cnicos avanzados."}),(0,Ne.jsx)("div",{style:{marginTop:"24px",padding:"16px",backgroundColor:"var(--color-backgroundElevated)",borderRadius:"8px"},children:(0,Ne.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"var(--color-textSecondary)"},children:["\ud83d\udc9d ",(0,Ne.jsx)("strong",{children:"Agradecimientos especiales"})," a la comunidad de Ren'Py y a todos los creadores de novelas visuales que inspiran este proyecto."]})})]})]})};var lE,cE,dE,uE,pE,hE,gE,fE,xE,mE,vE,bE,yE,wE,jE,kE,SE,_E,CE,EE,zE,PE,TE,IE,LE;const AE=Oe.div(lE||(lE=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),DE=Oe.div(cE||(cE=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),OE=Oe.h1(dE||(dE=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 28px;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n"]))),NE=Oe.button(uE||(uE=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    transform: scale(1.05);\n  }\n"]))),RE=Oe.div(pE||(pE=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),FE=Oe.div(hE||(hE=t(["\n  display: flex;\n  gap: 10px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n"]))),ME=Oe.button(gE||(gE=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 14px 22px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"])),e=>e.active?"var(--color-primary)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-primary)":"var(--color-border)",e=>e.active?"var(--color-primaryHover)":"var(--color-border)",e=>e.active?"var(--color-primaryHover)":"var(--color-primary)"),HE=Oe.div(fE||(fE=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n  gap: 25px;\n  margin-bottom: 40px;\n"]))),BE=Oe.div(xE||(xE=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-8px);\n    box-shadow: 0 12px 32px var(--color-shadowHover);\n  }\n"]))),WE=Oe.div(mE||(mE=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 15px;\n"]))),VE=Oe.h3(vE||(vE=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 18px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),UE=Oe.span(bE||(bE=t(["\n  background-color: var(--color-success);\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"]))),qE=Oe.p(yE||(yE=t(["\n  color: var(--color-textSecondary);\n  margin: 0 0 15px 0;\n  line-height: 1.6;\n  font-size: 15px;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),GE=Oe.div(wE||(wE=t(["\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 20px;\n  margin: 20px 0;\n  font-family: 'Courier New', monospace;\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--color-primary);\n  overflow-x: auto;\n  position: relative;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),YE=Oe.div(jE||(jE=t(["\n  position: absolute;\n  top: -12px;\n  left: 20px;\n  background-color: var(--color-surfaceSecondary);\n  color: var(--color-textTertiary);\n  padding: 4px 10px;\n  font-size: 11px;\n  font-weight: 600;\n  border-radius: 6px;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid var(--color-border);\n"]))),$E=Oe.div(kE||(kE=t(["\n  display: flex;\n  gap: 10px;\n  margin-top: 15px;\n"]))),JE=Oe.button(SE||(SE=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 3px 8px var(--color-shadow);\n  }\n"])),e=>e.primary?"var(--color-primary)":"var(--color-surfaceSecondary)",e=>e.primary?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"var(--color-primaryHover)":"var(--color-border)",e=>e.primary?"var(--color-primaryHover)":"var(--color-primary)"),ZE=Oe.div(_E||(_E=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 30px;\n  margin-bottom: 30px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 20px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n"]))),KE=Oe.h2(CE||(CE=t(["\n  color: var(--color-warning);\n  margin: 0 0 20px 0;\n  font-size: 22px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),QE=Oe.div(EE||(EE=t(["\n  color: var(--color-textPrimary);\n  line-height: 1.6;\n  font-size: 15px;\n  font-weight: 500;\n  transition: color 0.3s ease;\n\n  h4 {\n    color: var(--color-primary);\n    margin: 20px 0 10px 0;\n    font-weight: 700;\n    font-size: 16px;\n    transition: color 0.3s ease;\n    text-shadow: 0 1px 2px var(--color-shadow);\n  }\n\n  ul {\n    margin: 10px 0;\n    padding-left: 20px;\n  }\n\n  li {\n    margin: 8px 0;\n    color: var(--color-textSecondary);\n    font-weight: 500;\n    transition: color 0.3s ease;\n  }\n"]))),XE=Oe.div(zE||(zE=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-shadow);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 4000;\n  opacity: ",";\n  visibility: ",";\n  transition: all 0.3s ease;\n"])),e=>e.isOpen?1:0,e=>e.isOpen?"visible":"hidden"),ez=Oe.div(PE||(PE=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 16px;\n  padding: 35px;\n  max-width: 600px;\n  width: 90%;\n  border: 2px solid var(--color-primary);\n  box-shadow: 0 20px 40px var(--color-shadow);\n  transform: ",";\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: var(--color-primaryHover);\n    box-shadow: 0 25px 50px var(--color-shadowHover);\n  }\n"])),e=>e.isOpen?"scale(1)":"scale(0.8)"),nz=Oe.h2(TE||(TE=t(["\n  color: var(--color-primary);\n  margin: 0 0 20px 0;\n  font-size: 24px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),rz=Oe.p(IE||(IE=t(["\n  color: var(--color-textSecondary);\n  margin: 0 0 20px 0;\n  line-height: 1.6;\n  font-size: 15px;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),oz=Oe.div(LE||(LE=t(["\n  display: flex;\n  gap: 15px;\n  justify-content: flex-end;\n"])));const tz=function(e){var r;let{onClose:o}=e;const{dispatch:t}=jo(),[a,i]=(0,n.useState)("basic"),[s,l]=(0,n.useState)({isOpen:!1,template:null}),c={basic:[{id:"simple-dialogue",title:"Di\xe1logo Simple",icon:"\ud83d\udcac",description:"Plantilla b\xe1sica para un di\xe1logo entre dos personajes",code:'# Di\xe1logo simple\nlabel start:\n    scene bg room\n    show character1 happy\n    \n    character1 "\xa1Hola! \xbfC\xf3mo est\xe1s?"\n    \n    show character2 smile\n    character2 "\xa1Hola! Muy bien, gracias."\n    \n    character1 "Me alegra escuchar eso."\n    \n    return',renpyExplanation:"Esta plantilla muestra los elementos b\xe1sicos: scene (fondo), show (personaje), y di\xe1logos con comillas."},{id:"character-introduction",title:"Introducci\xf3n de Personaje",icon:"\ud83d\udc4b",description:"Presentar un nuevo personaje en la historia",code:'# Introducci\xf3n de personaje\nlabel meet_new_character:\n    scene bg school\n    \n    "Un nuevo estudiante entra al sal\xf3n de clases."\n    \n    show new_character neutral at center\n    with dissolve\n    \n    new_character "Hola, soy [name]. \xbfPuedo sentarme aqu\xed?"\n    \n    show main_character surprised\n    main_character "\xa1Por supuesto! Soy [player_name]."\n    \n    show new_character happy\n    new_character "\xa1Mucho gusto!"',renpyExplanation:'Usa "with dissolve" para transiciones suaves y posicionamiento con "at center".'},{id:"scene-change",title:"Cambio de Escena",icon:"\ud83c\udfad",description:"Transici\xf3n entre diferentes ubicaciones",code:'# Cambio de escena\nlabel change_scene:\n    scene bg park\n    with fade\n    \n    "Nos dirigimos al parque."\n    \n    show character1 happy at left\n    show character2 smile at right\n    \n    character1 "\xa1Qu\xe9 hermoso d\xeda!"\n    character2 "S\xed, perfecto para caminar."\n    \n    scene bg sunset\n    with dissolve\n    \n    "El sol comienza a ponerse."',renpyExplanation:'"with fade" y "with dissolve" crean transiciones visuales entre escenas.'},{id:"character-emotions",title:"Cambio de Emociones",icon:"\ud83d\ude0a",description:"Cambiar las emociones de un personaje durante el di\xe1logo",code:'# Cambio de emociones\nlabel character_emotions:\n    scene bg classroom\n    show main_character neutral\n    \n    main_character "Hola, \xbfc\xf3mo est\xe1s?"\n    \n    show main_character happy\n    main_character "\xa1Me alegra verte!"\n    \n    show main_character sad\n    main_character "Pero tengo que contarte algo triste..."\n    \n    show main_character surprised\n    main_character "\xa1\xbfEn serio?! \xa1No puedo creerlo!"\n    \n    show main_character angry\n    main_character "\xa1Esto es inaceptable!"',renpyExplanation:'Usa "show character emotion" para cambiar las expresiones faciales de los personajes.'},{id:"multiple-characters",title:"M\xfaltiples Personajes",icon:"\ud83d\udc65",description:"Mostrar varios personajes en pantalla simult\xe1neamente",code:'# M\xfaltiples personajes\nlabel multiple_characters:\n    scene bg park\n    \n    "Un grupo de amigos se re\xfane en el parque."\n    \n    show character1 happy at left\n    show character2 smile at center\n    show character3 neutral at right\n    \n    character1 "\xa1Qu\xe9 hermoso d\xeda!"\n    character2 "S\xed, perfecto para un picnic."\n    character3 "Aunque hace un poco de calor..."\n    \n    hide character3\n    show character4 excited at right\n    \n    character4 "\xa1Hola a todos! \xbfQu\xe9 se me perdi\xf3?"',renpyExplanation:'Usa "at left/center/right" para posicionar personajes y "hide" para ocultarlos.'}],choices:[{id:"simple-choice",title:"Decisi\xf3n Simple",icon:"\ud83c\udfaf",description:"Plantilla para una decisi\xf3n con dos opciones",code:'# Decisi\xf3n simple\nlabel make_choice:\n    scene bg crossroads\n    \n    "Te encuentras en una encrucijada."\n    \n    menu:\n        "\xbfQu\xe9 camino eliges?"\n        \n        "Ir a la izquierda":\n            jump left_path\n            \n        "Ir a la derecha":\n            jump right_path\n\nlabel left_path:\n    "Decides ir por el camino izquierdo."\n    scene bg forest\n    "Llegas a un bosque misterioso."\n    return\n\nlabel right_path:\n    "Decides ir por el camino derecho."\n    scene bg city\n    "Llegas a una ciudad bulliciosa."\n    return',renpyExplanation:'Las decisiones usan "menu:" seguido de opciones con "jump" para navegar.'},{id:"multiple-choice",title:"Decisi\xf3n M\xfaltiple",icon:"\ud83d\udd00",description:"Decisi\xf3n con tres o m\xe1s opciones",code:'# Decisi\xf3n m\xfaltiple\nlabel complex_choice:\n    scene bg school_cafeteria\n    \n    "Es hora del almuerzo. \xbfQu\xe9 decides hacer?"\n    \n    menu:\n        "\xbfQu\xe9 haces?"\n        \n        "Comer solo":\n            jump eat_alone\n            \n        "Buscar a tus amigos":\n            jump find_friends\n            \n        "Ir a la biblioteca":\n            jump go_library\n            \n        "Salir de la escuela":\n            jump leave_school\n\nlabel eat_alone:\n    "Decides comer solo en una mesa."\n    # Contin\xfaa la historia...\n    return',renpyExplanation:"Puedes tener tantas opciones como necesites en un men\xfa."},{id:"choice-with-consequences",title:"Decisi\xf3n con Consecuencias",icon:"\u2696\ufe0f",description:"Decisi\xf3n que afecta variables y tiene consecuencias posteriores",code:'# Decisi\xf3n con consecuencias\nlabel choice_with_consequences:\n    scene bg school_hallway\n    \n    "Te encuentras con un compa\xf1ero que parece triste."\n    \n    menu:\n        "\xbfQu\xe9 haces?"\n        \n        "Preguntarle qu\xe9 le pasa":\n            $ friendship_points += 2\n            $ kindness_points += 1\n            jump comfort_friend\n            \n        "Ignorarlo y seguir caminando":\n            $ friendship_points -= 1\n            $ kindness_points -= 2\n            jump ignore_friend\n            \n        "Hacer una broma para animarlo":\n            $ humor_points += 1\n            jump try_humor\n\nlabel comfort_friend:\n    friend "Gracias por preocuparte por m\xed..."\n    friend "Realmente lo aprecio."\n    "Tu amistad se fortalece."\n    return\n\nlabel ignore_friend:\n    "Pasas de largo sin decir nada."\n    "Sientes que tal vez deber\xedas haber hecho algo diferente."\n    return\n\nlabel try_humor:\n    friend "Jaja, gracias por intentar animarme."\n    "Aunque no funcion\xf3 completamente, tu esfuerzo fue apreciado."\n    return',renpyExplanation:"Las decisiones pueden modificar variables que afectan el desarrollo de la historia."},{id:"conditional-choice",title:"Decisi\xf3n Condicional",icon:"\ud83d\udd00",description:"Men\xfa que cambia seg\xfan el estado del juego",code:'# Decisi\xf3n condicional\nlabel conditional_choice:\n    scene bg library\n    \n    if friendship_points >= 5:\n        "Tu amigo te ve y se acerca sonriendo."\n        friend "\xa1Hola! \xbfQuieres que estudiemos juntos?"\n        \n        menu:\n            "\xbfQu\xe9 respondes?"\n            \n            "\xa1Por supuesto!":\n                jump study_together\n                \n            "Tal vez otro d\xeda":\n                jump decline_politely\n                \n    elif friendship_points >= 2:\n        "Tu amigo te saluda de lejos."\n        friend "Hola..."\n        \n        menu:\n            "\xbfQu\xe9 haces?"\n            \n            "Acercarte y saludar":\n                $ friendship_points += 1\n                jump approach_friend\n                \n            "Responder desde lejos":\n                jump distant_greeting\n                \n    else:\n        "Tu amigo parece evitar el contacto visual contigo."\n        "Tal vez deber\xedas intentar mejorar la relaci\xf3n primero."\n        return',renpyExplanation:"Los men\xfas pueden cambiar completamente bas\xe1ndose en variables y condiciones previas."}],advanced:[{id:"variables-usage",title:"Uso de Variables",icon:"\ud83d\udd22",description:"Implementar variables para recordar decisiones",code:'# Uso de variables\ndefault friendship_points = 0\ndefault player_name = ""\n\nlabel start:\n    $ player_name = renpy.input("\xbfCu\xe1l es tu nombre?")\n    \n    scene bg school\n    show friend neutral\n    \n    friend "Hola, [player_name]!"\n    \n    menu:\n        "\xbfC\xf3mo respondes?"\n        \n        "\xa1Hola! \xbfC\xf3mo est\xe1s?":\n            $ friendship_points += 2\n            friend "\xa1Muy bien! Me alegra verte."\n            \n        "Hola...":\n            $ friendship_points += 1\n            friend "Oh, hola."\n            \n        "No respondas":\n            $ friendship_points -= 1\n            friend "Hmm... \xbftodo bien?"\n    \n    if friendship_points >= 3:\n        "Tu amistad se fortalece."\n    elif friendship_points >= 0:\n        "Mantienes una relaci\xf3n neutral."\n    else:\n        "Tu amistad se deteriora."',renpyExplanation:'"default" define variables, "$" las modifica, y "if/elif/else" las eval\xfaa.'},{id:"conditional-dialogue",title:"Di\xe1logo Condicional",icon:"\ud83c\udfad",description:"Di\xe1logos que cambian seg\xfan el estado del juego",code:'# Di\xe1logo condicional\nlabel conditional_dialogue:\n    scene bg classroom\n    \n    if friendship_points >= 5:\n        show character very_happy\n        character "\xa1[player_name]! \xa1Qu\xe9 alegr\xeda verte!"\n        character "\xbfQuieres que almorcemos juntos?"\n        \n    elif friendship_points >= 2:\n        show character happy\n        character "Hola, [player_name]. \xbfC\xf3mo est\xe1s?"\n        \n    elif friendship_points >= 0:\n        show character neutral\n        character "Hola."\n        \n    else:\n        show character sad\n        character "..."\n        "Parece que no quiere hablar contigo."',renpyExplanation:"Los di\xe1logos pueden cambiar completamente bas\xe1ndose en variables y condiciones."},{id:"character-relationships",title:"Sistema de Relaciones",icon:"\ud83d\udc95",description:"Sistema completo de relaciones entre personajes",code:'# Sistema de relaciones\ndefault relationship_points = {\n    "friend1": 0,\n    "friend2": 0,\n    "romantic_interest": 0\n}\n\nlabel relationship_system:\n    scene bg school_cafeteria\n    \n    "Es hora del almuerzo y ves a tus amigos."\n    \n    # Verificar relaciones\n    if relationship_points["friend1"] >= 10:\n        show friend1 very_happy\n        friend1 "\xa1Mi mejor amigo! \xa1Ven aqu\xed!"\n        \n    elif relationship_points["friend1"] >= 5:\n        show friend1 happy\n        friend1 "\xa1Hola! \xbfC\xf3mo est\xe1s?"\n        \n    elif relationship_points["friend1"] >= 0:\n        show friend1 neutral\n        friend1 "Oh, hola."\n        \n    else:\n        show friend1 sad\n        friend1 "..."\n        "Parece que hay tensi\xf3n entre ustedes."\n    \n    # Men\xfa basado en relaciones\n    if relationship_points["friend1"] >= 5:\n        menu:\n            "\xbfQu\xe9 quieres hacer?"\n            \n            "Almorzar juntos":\n                $ relationship_points["friend1"] += 1\n                jump lunch_together\n                \n            "Invitar a m\xe1s amigos":\n                jump invite_others\n                \n            "Hablar en privado":\n                jump private_talk\n    else:\n        menu:\n            "\xbfQu\xe9 intentas hacer?"\n            \n            "Acercarte cuidadosamente":\n                $ relationship_points["friend1"] += 1\n                jump careful_approach\n                \n            "Dar espacio":\n                jump give_space\n                \n            "Intentar disculparte":\n                $ relationship_points["friend1"] += 2\n                jump try_apologize',renpyExplanation:"Los diccionarios permiten manejar m\xfaltiples relaciones y estados complejos."},{id:"inventory-system",title:"Sistema de Inventario",icon:"\ud83c\udf92",description:"Sistema b\xe1sico de inventario con objetos",code:'# Sistema de inventario\ndefault inventory = []\ndefault money = 100\n\nlabel inventory_system:\n    scene bg store\n    \n    "Entras a una tienda local."\n    clerk "\xa1Bienvenido! \xbfQu\xe9 puedo hacer por ti?"\n    \n    menu:\n        "\xbfQu\xe9 quieres hacer?"\n        \n        "Ver inventario" if len(inventory) > 0:\n            jump show_inventory\n            \n        "Comprar algo":\n            jump buy_items\n            \n        "Vender objetos" if len(inventory) > 0:\n            jump sell_items\n            \n        "Salir de la tienda":\n            jump leave_store\n\nlabel show_inventory:\n    "Tus objetos actuales:"\n    if len(inventory) > 0:\n        $ i = 0\n        while i < len(inventory):\n            "- [inventory[i]]"\n            $ i += 1\n    else:\n        "No tienes objetos en tu inventario."\n    "Dinero disponible: $[money]"\n    return\n\nlabel buy_items:\n    menu:\n        "\xbfQu\xe9 quieres comprar?"\n        \n        "Libro ($20)" if money >= 20:\n            $ money -= 20\n            $ inventory.append("Libro")\n            "Compraste un libro."\n            \n        "Comida ($10)" if money >= 10:\n            $ money -= 10\n            $ inventory.append("Comida")\n            "Compraste comida."\n            \n        "Regresar":\n            jump inventory_system',renpyExplanation:"Las listas y bucles while permiten manejar inventarios din\xe1micos y mostrar objetos de forma compatible con Ren'Py."}],examples:[{id:"complete-scene",title:"Escena Completa",icon:"\ud83c\udfac",description:"Ejemplo de una escena completa con todos los elementos",code:'# Escena completa\nlabel complete_example:\n    # Configuraci\xf3n inicial\n    scene bg library\n    with fade\n    \n    "La biblioteca est\xe1 tranquila esta tarde."\n    \n    # Entrada del personaje\n    show librarian smile at center\n    with dissolve\n    \n    librarian "Bienvenido a la biblioteca. \xbfEn qu\xe9 puedo ayudarte?"\n    \n    # Decisi\xf3n del jugador\n    menu:\n        "\xbfQu\xe9 haces?"\n        \n        "Buscar un libro":\n            jump search_book\n            \n        "Preguntar por informaci\xf3n":\n            jump ask_info\n            \n        "Irse":\n            jump leave_library\n\nlabel search_book:\n    librarian "\xbfQu\xe9 tipo de libro buscas?"\n    \n    menu:\n        "\xbfQu\xe9 g\xe9nero prefieres?"\n        \n        "Fantas\xeda":\n            $ book_genre = "fantasy"\n            \n        "Misterio":\n            $ book_genre = "mystery"\n            \n        "Romance":\n            $ book_genre = "romance"\n    \n    librarian "Perfecto, te ayudo a encontrar un buen libro de [book_genre]."\n    return\n\nlabel ask_info:\n    librarian "\xbfQu\xe9 informaci\xf3n necesitas?"\n    # Contin\xfaa la conversaci\xf3n...\n    return\n\nlabel leave_library:\n    librarian "Que tengas un buen d\xeda."\n    scene black\n    with fade\n    return',renpyExplanation:"Esta plantilla combina todos los elementos: escenas, personajes, decisiones y variables."}],specialized:[{id:"minigame-template",title:"Minijuego Simple",icon:"\ud83c\udfae",description:"Plantilla para crear minijuegos b\xe1sicos",code:'# Minijuego simple - Adivinanza\nlabel minigame_guessing:\n    scene bg classroom\n    \n    teacher "Vamos a jugar un juego de adivinanzas."\n    teacher "Tengo un n\xfamero del 1 al 10 en mente. \xbfPuedes adivinarlo?"\n    \n    $ secret_number = renpy.random.randint(1, 10)\n    $ attempts = 0\n    $ max_attempts = 3\n    \n    while attempts < max_attempts:\n        $ guess_text = renpy.input("\xbfCu\xe1l crees que es el n\xfamero? (1-10)")\n        $ guess = int(guess_text) if guess_text.isdigit() else 0\n        $ attempts += 1\n        \n        if guess == secret_number:\n            teacher "\xa1Correcto! \xa1Felicitaciones!"\n            $ score += 10\n            return\n            \n        elif attempts < max_attempts:\n            if guess < secret_number:\n                teacher "M\xe1s alto..."\n            else:\n                teacher "M\xe1s bajo..."\n    \n    teacher "Se acabaron los intentos. El n\xfamero era [secret_number]."\n    return',renpyExplanation:"Los bucles while y renpy.input() permiten crear mec\xe1nicas de juego interactivas como minijuegos."},{id:"save-load-system",title:"Sistema de Guardado",icon:"\ud83d\udcbe",description:"Implementar sistema de guardado y carga",code:'# Sistema de guardado\nlabel save_load_system:\n    scene bg main_menu\n    \n    "\xbfQu\xe9 quieres hacer?"\n    \n    menu:\n        "\xbfQu\xe9 opci\xf3n eliges?"\n        \n        "Nueva Partida":\n            $ friendship_points = 0\n            $ money = 100\n            $ inventory = []\n            jump start_game\n            \n        "Cargar Partida":\n            jump load_game_menu\n            \n        "Guardar Partida":\n            jump save_game_menu\n            \n        "Configuraci\xf3n":\n            jump settings_menu\n\nlabel save_game_menu:\n    menu:\n        "\xbfEn qu\xe9 slot quieres guardar?"\n        \n        "Slot 1":\n            $ renpy.save("save1")\n            "Juego guardado en el slot 1."\n            \n        "Slot 2":\n            $ renpy.save("save2")\n            "Juego guardado en el slot 2."\n            \n        "Slot 3":\n            $ renpy.save("save3")\n            "Juego guardado en el slot 3."\n            \n        "Cancelar":\n            return\n\nlabel load_game_menu:\n    menu:\n        "\xbfQu\xe9 partida quieres cargar?"\n        \n        "Slot 1" if renpy.can_load("save1"):\n            $ renpy.load("save1")\n            \n        "Slot 2" if renpy.can_load("save2"):\n            $ renpy.load("save2")\n            \n        "Slot 3" if renpy.can_load("save3"):\n            $ renpy.load("save3")\n            \n        "Cancelar":\n            return',renpyExplanation:"Ren'Py tiene funciones integradas para manejar guardados autom\xe1ticamente."},{id:"time-system",title:"Sistema de Tiempo",icon:"\u23f0",description:"Sistema b\xe1sico de d\xedas y horarios",code:'# Sistema de tiempo\ndefault current_day = 1\ndefault current_time = "morning"\ndefault day_names = ["Lunes", "Martes", "Mi\xe9rcoles", "Jueves", "Viernes", "S\xe1bado", "Domingo"]\n\nlabel time_system:\n    scene bg school\n    \n    "Es [day_names[current_day % 7 - 1]], [current_time]."\n    \n    if current_time == "morning":\n        "Las clases est\xe1n por comenzar."\n        jump morning_scene\n        \n    elif current_time == "afternoon":\n        "Es hora del almuerzo."\n        jump afternoon_scene\n        \n    elif current_time == "evening":\n        "Las clases han terminado."\n        jump evening_scene\n\nlabel advance_time:\n    if current_time == "morning":\n        $ current_time = "afternoon"\n    elif current_time == "afternoon":\n        $ current_time = "evening"\n    elif current_time == "evening":\n        $ current_time = "morning"\n        $ current_day += 1\n    \n    "El tiempo avanza..."\n    jump time_system',renpyExplanation:"Los sistemas de tiempo permiten crear historias con estructura temporal y rutinas diarias."},{id:"achievement-system",title:"Sistema de Logros",icon:"\ud83c\udfc6",description:"Sistema de logros y recompensas",code:'# Sistema de logros\ndefault achievements = {\n    "first_friend": False,\n    "social_butterfly": False,\n    "good_student": False,\n    "romance_master": False\n}\n\nlabel achievement_system:\n    scene bg school\n    \n    # Verificar logros\n    if friendship_points >= 5 and not achievements["first_friend"]:\n        $ achievements["first_friend"] = True\n        $ renpy.notify("\xa1Logro desbloqueado: Primer Amigo!")\n        \n    if friendship_points >= 20 and not achievements["social_butterfly"]:\n        $ achievements["social_butterfly"] = True\n        $ renpy.notify("\xa1Logro desbloqueado: Mariposa Social!")\n        \n    if relationship_points.get("romantic_interest", 0) >= 15 and not achievements["romance_master"]:\n        $ achievements["romance_master"] = True\n        $ renpy.notify("\xa1Logro desbloqueado: Maestro del Romance!")\n    \n    # Mostrar logros obtenidos\n    if achievements["first_friend"]:\n        "\xa1Has hecho tu primer amigo!"\n    if achievements["social_butterfly"]:\n        "\xa1Eres muy popular!"\n    if achievements["romance_master"]:\n        "\xa1Eres un experto en romance!"\n    \n    return\n\nlabel show_achievements:\n    "Logros obtenidos:"\n    \n    if achievements["first_friend"]:\n        "\u2713 Primer Amigo"\n    else:\n        "\u2717 Primer Amigo"\n        \n    if achievements["social_butterfly"]:\n        "\u2713 Mariposa Social"\n    else:\n        "\u2717 Mariposa Social"\n        \n    if achievements["good_student"]:\n        "\u2713 Buen Estudiante"\n    else:\n        "\u2717 Buen Estudiante"\n        \n    if achievements["romance_master"]:\n        "\u2713 Maestro del Romance"\n    else:\n        "\u2717 Maestro del Romance"\n    \n    return',renpyExplanation:"Los sistemas de logros con renpy.notify() motivan a los jugadores y a\xf1aden metas adicionales a la historia."}]};return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)(AE,{children:[(0,Ne.jsxs)(DE,{children:[(0,Ne.jsx)(OE,{children:"\ud83d\udcda Plantillas y Tutoriales de Ren'Py"}),(0,Ne.jsx)(NE,{onClick:o,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(RE,{children:[(0,Ne.jsxs)(FE,{children:[(0,Ne.jsx)(ME,{active:"basic"===a,onClick:()=>i("basic"),children:"\ud83d\udd30 B\xe1sico"}),(0,Ne.jsx)(ME,{active:"choices"===a,onClick:()=>i("choices"),children:"\ud83c\udfaf Decisiones"}),(0,Ne.jsx)(ME,{active:"advanced"===a,onClick:()=>i("advanced"),children:"\ud83d\ude80 Avanzado"}),(0,Ne.jsx)(ME,{active:"examples"===a,onClick:()=>i("examples"),children:"\ud83c\udfac Ejemplos"}),(0,Ne.jsx)(ME,{active:"specialized"===a,onClick:()=>i("specialized"),children:"\u26a1 Especializadas"})]}),"basic"===a&&(0,Ne.jsxs)(ZE,{children:[(0,Ne.jsx)(KE,{children:"\ud83d\udd30 Conceptos B\xe1sicos de Ren'Py"}),(0,Ne.jsxs)(QE,{children:[(0,Ne.jsx)("h4",{children:"Elementos Fundamentales:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"label:"})," Puntos de destino en tu historia"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"scene:"})," Cambia el fondo de la pantalla"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"show:"})," Muestra un personaje o imagen"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"hide:"})," Oculta un personaje o imagen"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Di\xe1logos:"})," Texto entre comillas para que hablen los personajes"]})]}),(0,Ne.jsx)("h4",{children:"Comandos de Transici\xf3n:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"with fade:"})," Transici\xf3n de desvanecimiento"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"with dissolve:"})," Transici\xf3n suave"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"with pixellate:"})," Efecto pixelado"]})]})]})]}),"choices"===a&&(0,Ne.jsxs)(ZE,{children:[(0,Ne.jsx)(KE,{children:"\ud83c\udfaf Sistema de Decisiones"}),(0,Ne.jsxs)(QE,{children:[(0,Ne.jsx)("h4",{children:"Creando Decisiones:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"menu:"})," Inicia un men\xfa de opciones"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"jump:"})," Salta a un label espec\xedfico"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"return:"})," Termina el label actual"]})]}),(0,Ne.jsx)("h4",{children:"Estructura de Decisiones:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsx)("li",{children:"Pregunta del men\xfa"}),(0,Ne.jsx)("li",{children:"Opciones con texto y destino"}),(0,Ne.jsx)("li",{children:"Labels de destino para cada opci\xf3n"})]})]})]}),"advanced"===a&&(0,Ne.jsxs)(ZE,{children:[(0,Ne.jsx)(KE,{children:"\ud83d\ude80 Funciones Avanzadas"}),(0,Ne.jsxs)(QE,{children:[(0,Ne.jsx)("h4",{children:"Variables:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"default:"})," Define variables con valor inicial"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"$:"})," Modifica variables durante el juego"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"if/elif/else:"})," Condiciones basadas en variables"]})]}),(0,Ne.jsx)("h4",{children:"Flujo de Control:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsx)("li",{children:"Condiciones para cambiar el di\xe1logo"}),(0,Ne.jsx)("li",{children:"Variables para recordar decisiones"}),(0,Ne.jsx)("li",{children:"M\xfaltiples rutas en la historia"})]})]})]}),"specialized"===a&&(0,Ne.jsxs)(ZE,{children:[(0,Ne.jsx)(KE,{children:"\u26a1 Plantillas Especializadas"}),(0,Ne.jsxs)(QE,{children:[(0,Ne.jsx)("h4",{children:"Sistemas Avanzados:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Minijuegos:"})," Mec\xe1nicas de juego interactivas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Guardado/Carga:"})," Sistema de persistencia de datos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Tiempo:"})," Estructura temporal y rutinas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Logros:"})," Sistema de recompensas y metas"]})]}),(0,Ne.jsx)("h4",{children:"Conceptos Avanzados:"}),(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Bucles while:"})," Para mec\xe1nicas repetitivas compatibles con Ren'Py"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Diccionarios:"})," Para datos complejos y sistemas de relaciones"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Listas:"})," Para inventarios din\xe1micos con bucles while"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Funciones Ren'Py:"})," renpy.input(), renpy.notify(), renpy.save(), renpy.load()"]})]})]})]}),(0,Ne.jsx)(HE,{children:(c[a]||[]).map(e=>(0,Ne.jsxs)(BE,{children:[(0,Ne.jsxs)(WE,{children:[(0,Ne.jsxs)(VE,{children:[e.icon," ",e.title]}),(0,Ne.jsx)(UE,{children:"Plantilla"})]}),(0,Ne.jsx)(qE,{children:e.description}),(0,Ne.jsxs)(GE,{children:[(0,Ne.jsx)(YE,{children:"C\xf3digo Ren'Py"}),(0,Ne.jsx)("pre",{children:e.code})]}),e.renpyExplanation&&(0,Ne.jsxs)("div",{style:{backgroundColor:"var(--color-surfaceSecondary)",padding:"12px",borderRadius:"6px",marginTop:"15px",color:"var(--color-warning)",fontSize:"13px",lineHeight:"1.4"},children:[(0,Ne.jsx)("strong",{children:"\ud83d\udca1 Explicaci\xf3n:"})," ",e.renpyExplanation]}),(0,Ne.jsxs)($E,{children:[(0,Ne.jsx)(JE,{primary:!0,onClick:()=>(e=>{l({isOpen:!0,template:e})})(e),children:"\ud83d\udce5 Importar"}),(0,Ne.jsx)(JE,{children:"\ud83d\udc41\ufe0f Ver Detalles"})]})]},e.id))})]})]}),(0,Ne.jsx)(XE,{isOpen:s.isOpen,children:(0,Ne.jsxs)(ez,{isOpen:s.isOpen,children:[(0,Ne.jsx)(nz,{children:"\ud83d\udce5 Importar Plantilla"}),(0,Ne.jsxs)(rz,{children:["\xbfEst\xe1s seguro de que quieres importar la plantilla ",(0,Ne.jsxs)("strong",{children:['"',null===(r=s.template)||void 0===r?void 0:r.title,'"']}),"?",(0,Ne.jsx)("br",{}),(0,Ne.jsx)("br",{}),"Esta acci\xf3n agregar\xe1 el c\xf3digo de la plantilla a tu proyecto actual. Puedes modificarlo despu\xe9s seg\xfan tus necesidades."]}),(0,Ne.jsxs)(oz,{children:[(0,Ne.jsx)(JE,{onClick:()=>{l({isOpen:!1,template:null})},children:"\u274c Cancelar"}),(0,Ne.jsx)(JE,{primary:!0,onClick:()=>{alert('Plantilla "'.concat(s.template.title,'" importada exitosamente.\n\nEsta funcionalidad estar\xe1 disponible en futuras versiones.')),l({isOpen:!1,template:null})},children:"\u2705 Importar"})]})]})})]})};var az,iz,sz,lz,cz,dz,uz,pz,hz,gz,fz,xz,mz,vz,bz,yz,wz,jz,kz,Sz,_z,Cz,Ez,zz,Pz,Tz,Iz,Lz,Az;const Dz=Oe.div(az||(az=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),Oz=Oe.div(iz||(iz=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),Nz=Oe.h1(sz||(sz=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 32px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.5px;\n"]))),Rz=Oe.button(lz||(lz=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    transform: scale(1.05);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),Fz=Oe.div(cz||(cz=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),Mz=Oe.div(dz||(dz=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 25px;\n  margin-bottom: 30px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),Hz=Oe.h2(uz||(uz=t(["\n  color: var(--color-success);\n  margin: 0 0 20px 0;\n  font-size: 22px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 3px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),Bz=Oe.input(pz||(pz=t(["\n  width: 100%;\n  padding: 12px 16px;\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-success);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n    transform: translateY(-1px);\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 3px 8px var(--color-shadowHover);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-weight: 400;\n  }\n"]))),Wz=Oe.div(hz||(hz=t(["\n  display: flex;\n  gap: 10px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n"]))),Vz=Oe.button(gz||(gz=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 14px 22px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"])),e=>e.active?"var(--color-success)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-success)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-primary)"),Uz=Oe.div(fz||(fz=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 25px;\n  margin-bottom: 40px;\n"]))),qz=Oe.div(xz||(xz=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-success);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-8px);\n    box-shadow: 0 12px 32px var(--color-shadowHover);\n  }\n"]))),Gz=Oe.div(mz||(mz=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 15px;\n"]))),Yz=Oe.h3(vz||(vz=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 20px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),$z=Oe.span(bz||(bz=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"])),e=>{switch(e.severity){case"critical":return"var(--color-error)";case"warning":return"var(--color-warning)";case"info":return"var(--color-info)";case"success":return"var(--color-success)";default:return"var(--color-borderSecondary)"}}),Jz=Oe.p(yz||(yz=t(["\n  color: var(--color-textPrimary);\n  margin: 0 0 18px 0;\n  line-height: 1.7;\n  font-size: 16px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),Zz=Oe.div(wz||(wz=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-success);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-successHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-success), var(--color-successHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),Kz=Oe.div(jz||(jz=t(["\n  color: var(--color-success);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),Qz=Oe.div(kz||(kz=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),Xz=Oe.div(Sz||(Sz=t(["\n  background-color: var(--color-backgroundSecondary);\n  border: 3px solid var(--color-primary);\n  border-radius: 10px;\n  padding: 20px;\n  margin: 18px 0;\n  font-family: 'Courier New', monospace;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-primary);\n  overflow-x: auto;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-primaryHover);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\n    border-radius: 10px 10px 0 0;\n  }\n"]))),eP=Oe.div(_z||(_z=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-warning);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-warningHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),nP=Oe.div(Cz||(Cz=t(["\n  color: var(--color-warning);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),rP=Oe.div(Ez||(Ez=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),oP=Oe.div(zz||(zz=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-error);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-errorHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),tP=Oe.div(Pz||(Pz=t(["\n  color: var(--color-error);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),aP=Oe.div(Tz||(Tz=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),iP=Oe.div(Iz||(Iz=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-info);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-infoHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-info), var(--color-infoHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),sP=Oe.div(Lz||(Lz=t(["\n  color: var(--color-info);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),lP=Oe.div(Az||(Az=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"])));const cP=function(e){let{onClose:r}=e;const[o,t]=(0,n.useState)("common"),[a,i]=(0,n.useState)(""),s={common:[{id:"script-errors",title:"Errores de Script",icon:"\ud83d\udcdd",severity:"critical",description:"Errores comunes en la sintaxis del script que impiden que el juego funcione correctamente.",solution:"Verifica la sintaxis de Ren'Py, aseg\xfarate de que todos los bloques est\xe9n correctamente cerrados y que las variables est\xe9n definidas.",codeExample:'# Error com\xfan: falta de indentaci\xf3n\nlabel start:\n    "Hola mundo"\n    menu:\n        "Opci\xf3n 1":\n            jump option1\n        "Opci\xf3n 2":\n            jump option2\n\n# Soluci\xf3n: indentaci\xf3n correcta\nlabel start:\n    "Hola mundo"\n    menu:\n        "Opci\xf3n 1":\n            jump option1\n        "Opci\xf3n 2":\n            jump option2',warning:"Usa siempre la indentaci\xf3n correcta en Ren'Py. Los bloques deben estar alineados correctamente."},{id:"image-not-found",title:"Imagen No Encontrada",icon:"\ud83d\uddbc\ufe0f",severity:"warning",description:"El juego no puede encontrar las im\xe1genes especificadas en el script.",solution:"Verifica que las im\xe1genes est\xe9n en la carpeta correcta (images/) y que los nombres coincidan exactamente.",codeExample:'# Error: imagen no encontrada\nshow character happy\n\n# Soluci\xf3n: verificar ruta y nombre\nshow eileen happy\n# O usar ruta completa\nshow "images/characters/eileen_happy.png"',info:"Ren'Py busca im\xe1genes en la carpeta images/ por defecto. Los nombres deben coincidir exactamente."},{id:"audio-issues",title:"Problemas de Audio",icon:"\ud83d\udd0a",severity:"warning",description:"La m\xfasica o efectos de sonido no se reproducen correctamente.",solution:"Verifica que los archivos de audio est\xe9n en formatos compatibles (OGG, MP3) y en la carpeta correcta.",codeExample:'# Configuraci\xf3n correcta de audio\nplay music "audio/bgm/main_theme.ogg"\nplay sound "audio/sfx/click.ogg"\nplay voice "audio/voice/character_001.ogg"',info:"Ren'Py soporta formatos OGG, MP3 y WAV. OGG es recomendado para mejor compatibilidad."}],syntax:[{id:"indentation-errors",title:"Errores de Indentaci\xf3n",icon:"\ud83d\udcd0",severity:"critical",description:"Errores de indentaci\xf3n que causan fallos en la compilaci\xf3n del script.",solution:"Usa espacios consistentes para la indentaci\xf3n. Ren'Py es sensible a la indentaci\xf3n.",codeExample:'# Error: indentaci\xf3n inconsistente\nlabel start:\n    "Texto"\n  menu:\n    "Opci\xf3n 1":\n        jump option1\n\n# Soluci\xf3n: indentaci\xf3n consistente\nlabel start:\n    "Texto"\n    menu:\n        "Opci\xf3n 1":\n            jump option1',warning:"Nunca mezcles espacios y tabs. Usa solo espacios para la indentaci\xf3n."},{id:"variable-errors",title:"Errores de Variables",icon:"\ud83d\udd22",severity:"warning",description:"Variables no definidas o usadas incorrectamente en el script.",solution:"Define todas las variables antes de usarlas con la declaraci\xf3n default o define.",codeExample:'# Error: variable no definida\nif player_name == "Juan":\n    "Hola Juan"\n\n# Soluci\xf3n: definir variable\ndefault player_name = "Juan"\nif player_name == "Juan":\n    "Hola Juan"',info:"Usa default para variables que pueden cambiar durante el juego, define para constantes."},{id:"label-errors",title:"Errores de Labels",icon:"\ud83c\udff7\ufe0f",severity:"critical",description:"Labels no definidos o referencias incorrectas a labels.",solution:"Aseg\xfarate de que todos los labels est\xe9n definidos y que las referencias sean correctas.",codeExample:'# Error: label no definido\njump non_existent_label\n\n# Soluci\xf3n: definir label\nlabel non_existent_label:\n    "Este label existe"\n    return',warning:"Los nombres de labels deben ser \xfanicos y no pueden contener espacios."}],performance:[{id:"slow-loading",title:"Carga Lenta",icon:"\u23f3",severity:"warning",description:"El juego tarda mucho en cargar o tiene problemas de rendimiento.",solution:"Optimiza las im\xe1genes, reduce el tama\xf1o de archivos y usa formatos eficientes.",codeExample:'# Optimizaci\xf3n de im\xe1genes\n# Usa formatos eficientes\nimage bg room = "images/bg_room.webp"\n# O comprime im\xe1genes\nimage bg room = "images/bg_room.jpg"',info:"WebP y JPEG son formatos eficientes para im\xe1genes. PNG solo cuando necesites transparencia."},{id:"memory-issues",title:"Problemas de Memoria",icon:"\ud83d\udcbe",severity:"warning",description:"El juego consume mucha memoria RAM o se cierra inesperadamente.",solution:"Libera memoria limpiando im\xe1genes no usadas y optimizando el c\xf3digo.",codeExample:"# Liberar memoria\nhide eileen\nhide bg room\n# O usar scene para limpiar todo\nscene black",info:"Usa hide para ocultar elementos espec\xedficos, scene para limpiar toda la pantalla."},{id:"audio-performance",title:"Problemas de Audio",icon:"\ud83c\udfb5",severity:"info",description:"El audio se corta o tiene problemas de reproducci\xf3n.",solution:"Verifica la configuraci\xf3n de audio y los formatos de archivo.",codeExample:"# Configuraci\xf3n de audio\ndefine config.has_sound = True\ndefine config.has_music = True\ndefine config.has_voice = True",info:"Aseg\xfarate de que los archivos de audio no sean demasiado grandes."}],deployment:[{id:"build-errors",title:"Errores de Compilaci\xf3n",icon:"\ud83d\udd28",severity:"critical",description:"El juego no se compila correctamente para distribuci\xf3n.",solution:"Verifica que todos los archivos est\xe9n en su lugar y que no haya errores de sintaxis.",codeExample:"# Verificar archivos necesarios\n# options.rpy - configuraci\xf3n del juego\n# script.rpy - script principal\n# gui.rpy - configuraci\xf3n de GUI\n# screens.rpy - pantallas del juego",warning:'Siempre verifica el script con "Check Script (Lint)" antes de compilar.'},{id:"platform-issues",title:"Problemas de Plataforma",icon:"\ud83d\udda5\ufe0f",severity:"warning",description:"El juego no funciona en ciertas plataformas o sistemas operativos.",solution:"Prueba el juego en diferentes plataformas y verifica la compatibilidad.",codeExample:'# Configuraci\xf3n para m\xfaltiples plataformas\ndefine config.screen_width = 1920\ndefine config.screen_height = 1080\ndefine config.window = "auto"',info:'Usa config.window = "auto" para que el juego se adapte a diferentes tama\xf1os de pantalla.'},{id:"distribution-issues",title:"Problemas de Distribuci\xf3n",icon:"\ud83d\udce6",severity:"warning",description:"Problemas al crear archivos de distribuci\xf3n del juego.",solution:"Verifica que todos los archivos est\xe9n incluidos y que la configuraci\xf3n sea correcta.",codeExample:'# Configuraci\xf3n de distribuci\xf3n\ndefine config.name = _("Mi Juego")\ndefine config.version = "1.0"\ndefine config.build.classify_renpy = False',info:'Usa "Build Distributions" en el launcher para crear archivos de distribuci\xf3n.'}]},l=()=>{let e=s[o]||[];return a&&(e=e.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())||e.solution.toLowerCase().includes(a.toLowerCase()))),e},c=e=>{switch(e){case"critical":return"Cr\xedtico";case"warning":return"Advertencia";case"info":return"Informaci\xf3n";case"success":return"\xc9xito";default:return"Otro"}};return(0,Ne.jsxs)(Dz,{children:[(0,Ne.jsxs)(Oz,{children:[(0,Ne.jsx)(Nz,{children:"\ud83d\udd27 Soluci\xf3n de Problemas"}),(0,Ne.jsx)(Rz,{onClick:r,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(Fz,{children:[(0,Ne.jsxs)(Mz,{children:[(0,Ne.jsx)(Hz,{children:"\ud83d\udd0d Buscar Problemas"}),(0,Ne.jsx)(Bz,{type:"text",placeholder:"Busca problemas espec\xedficos o errores...",value:a,onChange:e=>i(e.target.value)})]}),(0,Ne.jsxs)(Wz,{children:[(0,Ne.jsx)(Vz,{active:"common"===o,onClick:()=>t("common"),children:"\ud83d\udd27 Comunes"}),(0,Ne.jsx)(Vz,{active:"syntax"===o,onClick:()=>t("syntax"),children:"\ud83d\udcdd Sintaxis"}),(0,Ne.jsx)(Vz,{active:"performance"===o,onClick:()=>t("performance"),children:"\u26a1 Rendimiento"}),(0,Ne.jsx)(Vz,{active:"deployment"===o,onClick:()=>t("deployment"),children:"\ud83d\udce6 Distribuci\xf3n"})]}),(0,Ne.jsx)(Uz,{children:l().map(e=>(0,Ne.jsxs)(qz,{children:[(0,Ne.jsxs)(Gz,{children:[(0,Ne.jsxs)(Yz,{children:[e.icon," ",e.title]}),(0,Ne.jsx)($z,{severity:e.severity,children:c(e.severity)})]}),(0,Ne.jsx)(Jz,{children:e.description}),(0,Ne.jsxs)(Zz,{children:[(0,Ne.jsx)(Kz,{children:"\u2705 Soluci\xf3n"}),(0,Ne.jsx)(Qz,{children:e.solution})]}),e.codeExample&&(0,Ne.jsx)(Xz,{children:e.codeExample}),e.warning&&(0,Ne.jsxs)(eP,{children:[(0,Ne.jsx)(nP,{children:"\u26a0\ufe0f Advertencia"}),(0,Ne.jsx)(rP,{children:e.warning})]}),e.info&&(0,Ne.jsxs)(iP,{children:[(0,Ne.jsx)(sP,{children:"\u2139\ufe0f Informaci\xf3n"}),(0,Ne.jsx)(lP,{children:e.info})]})]},e.id))}),0===l().length&&a&&(0,Ne.jsxs)("div",{style:{textAlign:"center",color:"var(--color-textTertiary)",fontSize:"18px",fontWeight:"600",marginTop:"50px",textShadow:"0 1px 2px var(--color-shadow)"},children:['No se encontraron problemas que coincidan con "',a,'"']}),(0,Ne.jsxs)(oP,{children:[(0,Ne.jsx)(tP,{children:"\ud83d\udea8 Problemas Cr\xedticos"}),(0,Ne.jsx)(aP,{children:'Los problemas marcados como "Cr\xedticos" pueden impedir que el juego funcione. Resu\xe9lvelos antes de continuar con el desarrollo.'})]}),(0,Ne.jsxs)(eP,{children:[(0,Ne.jsx)(nP,{children:"\u26a0\ufe0f Problemas de Advertencia"}),(0,Ne.jsx)(rP,{children:"Los problemas de advertencia pueden causar comportamientos inesperados. Es recomendable solucionarlos para una mejor experiencia de usuario."})]}),(0,Ne.jsxs)(iP,{children:[(0,Ne.jsx)(sP,{children:"\ud83d\udcda Recursos Adicionales"}),(0,Ne.jsxs)(lP,{children:["Para m\xe1s informaci\xf3n sobre soluci\xf3n de problemas, consulta:",(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://www.renpy.org/doc/html/",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"Documentaci\xf3n Oficial de Ren'Py"}),(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://www.renpy.org/doc/html/quickstart.html",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"Gu\xeda de Inicio R\xe1pido"}),(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://lemmasoft.renai.us/forums/viewforum.php?f=51",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"Ren'Py Cookbook"})]})]})]})]})};var dP,uP,pP,hP,gP,fP,xP,mP,vP,bP,yP,wP,jP,kP,SP,_P,CP,EP,zP,PP,TP,IP,LP,AP,DP,OP,NP,RP,FP,MP,HP;const BP=Oe.div(dP||(dP=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),WP=Oe.div(uP||(uP=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),VP=Oe.h1(pP||(pP=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 32px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.5px;\n"]))),UP=Oe.button(hP||(hP=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    transform: scale(1.05);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),qP=Oe.div(gP||(gP=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),GP=Oe.div(fP||(fP=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 12px;\n  padding: 24px;\n  margin-bottom: 30px;\n  border: 2px solid var(--color-border);\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),YP=Oe.h2(xP||(xP=t(["\n  color: var(--color-primary);\n  margin: 0 0 20px 0;\n  font-size: 22px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 3px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),$P=Oe.div(mP||(mP=t(["\n  background-color: var(--color-backgroundSecondary);\n  border-radius: 10px;\n  height: 24px;\n  overflow: hidden;\n  margin-bottom: 12px;\n  border: 2px solid var(--color-border);\n  box-shadow: 0 2px 6px var(--color-shadow);\n"]))),JP=Oe.div(vP||(vP=t(["\n  background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\n  height: 100%;\n  width: ","%;\n  transition: width 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n"])),e=>e.progress),ZP=Oe.div(bP||(bP=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  font-weight: 600;\n  text-align: center;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),KP=Oe.div(yP||(yP=t(["\n  display: flex;\n  gap: 10px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n"]))),QP=Oe.button(wP||(wP=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 14px 22px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"])),e=>e.active?"var(--color-primary)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-primary)":"var(--color-border)",e=>e.active?"var(--color-primaryHover)":"var(--color-border)",e=>e.active?"var(--color-primaryHover)":"var(--color-primary)"),XP=Oe.div(jP||(jP=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 12px;\n  padding: 30px;\n  border: 2px solid var(--color-border);\n  margin-bottom: 30px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),eT=Oe.h2(kP||(kP=t(["\n  color: var(--color-primary);\n  margin: 0 0 25px 0;\n  font-size: 26px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),nT=(Oe.h3(SP||(SP=t(["\n  color: var(--color-error);\n  margin: 25px 0 18px 0;\n  font-size: 20px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),Oe.div(_P||(_P=t(["\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 10px;\n  padding: 24px;\n  margin: 18px 0;\n  position: relative;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n"])))),rT=Oe.div(CP||(CP=t(["\n  position: absolute;\n  top: -12px;\n  left: 24px;\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 800;\n  font-size: 14px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n  border: 2px solid var(--color-primaryHover);\n\n  &:hover {\n    background-color: var(--color-primaryHover);\n    transform: scale(1.1);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),oT=Oe.h4(EP||(EP=t(["\n  color: var(--color-primary);\n  margin: 12px 0 12px 0;\n  font-size: 18px;\n  font-weight: 800;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 3px var(--color-shadow);\n  letter-spacing: 0.2px;\n"]))),tT=Oe.p(zP||(zP=t(["\n  color: var(--color-textPrimary);\n  margin: 0 0 18px 0;\n  line-height: 1.7;\n  font-size: 16px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),aT=Oe.div(PP||(PP=t(["\n  background-color: var(--color-backgroundSecondary);\n  border: 3px solid var(--color-primary);\n  border-radius: 10px;\n  padding: 20px;\n  margin: 18px 0;\n  font-family: 'Courier New', monospace;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-primary);\n  overflow-x: auto;\n  position: relative;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primaryHover);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\n    border-radius: 10px 10px 0 0;\n  }\n"]))),iT=Oe.div(TP||(TP=t(["\n  position: absolute;\n  top: -12px;\n  left: 20px;\n  background-color: var(--color-success);\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  font-size: 12px;\n  border-radius: 6px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid var(--color-successHover);\n\n  &:hover {\n    background-color: var(--color-successHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"]))),sT=Oe.div(IP||(IP=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-info);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-infoHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-info), var(--color-infoHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),lT=Oe.div(LP||(LP=t(["\n  color: var(--color-info);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),cT=Oe.div(AP||(AP=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),dT=Oe.div(DP||(DP=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-warning);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-warningHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),uT=Oe.div(OP||(OP=t(["\n  color: var(--color-warning);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),pT=Oe.div(NP||(NP=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),hT=Oe.div(RP||(RP=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-error);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-errorHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),gT=Oe.div(FP||(FP=t(["\n  color: var(--color-error);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),fT=Oe.div(MP||(MP=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),xT=Oe.button(HP||(HP=t(["\n  background-color: var(--color-success);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 14px 28px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  margin-top: 24px;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-successHover);\n    transform: scale(1.05);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: scale(0.98);\n    box-shadow: 0 3px 8px var(--color-shadow);\n  }\n"])));const mT=function(e){let{onClose:r}=e;const[o,t]=(0,n.useState)("introduction"),[a,i]=(0,n.useState)(new Set),s={introduction:{title:"\ud83c\udfaf Introducci\xf3n a Ren'Py",steps:[{id:"what-is-renpy",title:"\xbfQu\xe9 es Ren'Py?",description:"Ren'Py es un motor de videojuegos especializado en novelas visuales y juegos narrativos. Permite crear historias interactivas con personajes, di\xe1logos, decisiones y m\xfaltiples finales.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(sT,{children:[(0,Ne.jsx)(lT,{children:"\ud83d\udca1 Caracter\xedsticas Principales"}),(0,Ne.jsx)(cT,{children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"F\xe1cil de aprender:"})," Sintaxis simple basada en Python"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Gratuito y de c\xf3digo abierto:"})," No requiere licencia"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Multiplataforma:"})," Funciona en Windows, Mac, Linux, Android, iOS"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Comunidad activa:"})," Miles de desarrolladores y recursos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Exportaci\xf3n sencilla:"})," Un solo clic para distribuir tu juego"]})]})})]}),(0,Ne.jsxs)(dT,{children:[(0,Ne.jsx)(uT,{children:"\ud83d\ude80 \xbfPor qu\xe9 usar este editor?"}),(0,Ne.jsx)(pT,{children:"Este editor te ayuda a enfocarte en la creatividad y la historia, manejando la sintaxis compleja por ti. Puedes exportar f\xe1cilmente tu trabajo a un proyecto Ren'Py completo."})]})]})},{id:"first-steps",title:"Primeros Pasos",description:"Antes de empezar a crear tu historia, es importante entender los conceptos b\xe1sicos.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"1"}),(0,Ne.jsx)(oT,{children:"Descarga e Instala Ren'Py"}),(0,Ne.jsxs)(tT,{children:["Ve a ",(0,Ne.jsx)("strong",{children:"https://www.renpy.org/"})," y descarga la \xfaltima versi\xf3n. Inst\xe1lala en tu computadora siguiendo las instrucciones."]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"2"}),(0,Ne.jsx)(oT,{children:"Crea un Nuevo Proyecto"}),(0,Ne.jsx)(tT,{children:"Abre Ren'Py Launcher y crea un nuevo proyecto. Esto generar\xe1 una estructura de carpetas b\xe1sica para tu juego."})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"3"}),(0,Ne.jsx)(oT,{children:"Explora la Estructura"}),(0,Ne.jsx)(tT,{children:"Familiar\xedzate con las carpetas principales:"}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83d\udcc1 Estructura del Proyecto"}),(0,Ne.jsx)("pre",{children:"game/\n\u251c\u2500\u2500 script.rpy          # Tu c\xf3digo principal\n\u251c\u2500\u2500 images/             # Todas las im\xe1genes\n\u2502   \u251c\u2500\u2500 characters/     # Sprites de personajes\n\u2502   \u2514\u2500\u2500 backgrounds/    # Fondos\n\u2514\u2500\u2500 audio/             # M\xfasica y sonidos"})]})]}),(0,Ne.jsxs)(hT,{children:[(0,Ne.jsx)(gT,{children:"\u26a0\ufe0f Importante"}),(0,Ne.jsxs)(fT,{children:["No edites los archivos que Ren'Py genera autom\xe1ticamente. Enf\xf3cate en ",(0,Ne.jsx)("code",{children:"script.rpy"})," y las carpetas de recursos."]})]})]})}]},basics:{title:"\ud83d\udcdd Conceptos B\xe1sicos",steps:[{id:"characters-dialogue",title:"Personajes y Di\xe1logos",description:"Aprende a crear personajes y escribir di\xe1logos efectivos.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"1"}),(0,Ne.jsx)(oT,{children:"Definir Personajes"}),(0,Ne.jsx)(tT,{children:"Los personajes son las voces que hablan en tu historia. Se definen al inicio del script."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83d\udc64 Definir Personajes"}),(0,Ne.jsx)("pre",{children:'# Define a los personajes al inicio del script\ndefine protagonista = Character("Tu Nombre")\ndefine amiga = Character("Mar\xeda")\ndefine narrador = Character(None, kind=nvl)'})]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"2"}),(0,Ne.jsx)(oT,{children:"Escribir Di\xe1logos"}),(0,Ne.jsx)(tT,{children:"Los di\xe1logos son las l\xedneas que dicen los personajes. Usa comillas para encerrar el texto."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83d\udcac Di\xe1logos B\xe1sicos"}),(0,Ne.jsx)("pre",{children:'protagonista "\xa1Hola! \xbfC\xf3mo est\xe1s?"\n\namiga "Muy bien, gracias. \xbfY t\xfa?"\n\n# Texto de narraci\xf3n (sin personaje)\n"El sol brillaba intensamente aquella ma\xf1ana."'})]})]}),(0,Ne.jsxs)(sT,{children:[(0,Ne.jsx)(lT,{children:"\ud83d\udca1 Tipos de Texto"}),(0,Ne.jsx)(cT,{children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Di\xe1logo:"})," Lo que dice un personaje"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Narraci\xf3n:"})," Descripci\xf3n de la escena (sin comillas si no hay personaje)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Pensamientos:"})," Pueden ir en cursiva o con un personaje especial"]})]})})]})]})},{id:"images-scenes",title:"Im\xe1genes y Escenas",description:"C\xf3mo mostrar fondos y personajes en pantalla.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"1"}),(0,Ne.jsx)(oT,{children:"Mostrar Fondos"}),(0,Ne.jsx)(tT,{children:"Los fondos establecen el lugar donde ocurre la escena."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83d\uddbc\ufe0f Mostrar Fondos"}),(0,Ne.jsx)("pre",{children:"# Mostrar un fondo\nscene bg_parque\n\n# Cambiar de fondo con transici\xf3n\nscene bg_parque\nwith fade\n\n# Limpiar la pantalla\nscene black"})]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"2"}),(0,Ne.jsx)(oT,{children:"Mostrar Personajes"}),(0,Ne.jsx)(tT,{children:"Los sprites son las im\xe1genes de los personajes. Se muestran sobre el fondo."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83d\udc64 Mostrar Personajes"}),(0,Ne.jsx)("pre",{children:"# Mostrar un personaje\nshow amiga feliz\n\n# Mostrar en una posici\xf3n espec\xedfica\nshow amiga feliz at left\n\n# Ocultar un personaje\nhide amiga\n\n# Transiciones\nshow amiga feliz at center\nwith dissolve"})]})]}),(0,Ne.jsxs)(dT,{children:[(0,Ne.jsx)(uT,{children:"\ud83c\udfa8 Posiciones de Personajes"}),(0,Ne.jsx)(pT,{children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"left:"})," Lado izquierdo"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"right:"})," Lado derecho"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"center:"})," Centro (por defecto)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"truecenter:"})," Centro absoluto"]})]})})]}),(0,Ne.jsxs)(hT,{children:[(0,Ne.jsx)(gT,{children:"\u26a0\ufe0f Convenciones de Nombres"}),(0,Ne.jsxs)(fT,{children:["Usa guiones bajos (_) en lugar de espacios en los nombres de archivos. Por ejemplo: ",(0,Ne.jsx)("code",{children:"amiga_feliz.png"})," en lugar de ",(0,Ne.jsx)("code",{children:"amiga feliz.png"})]})]})]})},{id:"choices-menus",title:"Decisiones y Men\xfas",description:"Crea ramas en tu historia con decisiones del jugador.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"1"}),(0,Ne.jsx)(oT,{children:"Crear Men\xfas de Decisi\xf3n"}),(0,Ne.jsx)(tT,{children:"Los men\xfas permiten al jugador elegir entre diferentes opciones."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83c\udfaf Men\xfa B\xe1sico"}),(0,Ne.jsx)("pre",{children:'menu:\n    "\xbfQu\xe9 quieres hacer?"\n    \n    "Hablar con ella":\n        jump hablar_con_ella\n        \n    "Irse a casa":\n        jump irse_casa\n        \n    "Quedarse observando":\n        jump observar'})]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"2"}),(0,Ne.jsx)(oT,{children:"Crear Labels"}),(0,Ne.jsx)(tT,{children:"Los labels son puntos de destino para las decisiones. Cada opci\xf3n debe llevar a un label."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83c\udff7\ufe0f Labels de Destino"}),(0,Ne.jsx)("pre",{children:'label hablar_con_ella:\n    amiga "\xa1Hola! Me alegra verte."\n    protagonista "Yo tambi\xe9n me alegro."\n    return\n\nlabel irse_casa:\n    "Decides irte a casa sin hablar con nadie."\n    return\n\nlabel observar:\n    "Te quedas observando desde la distancia."\n    return'})]})]}),(0,Ne.jsxs)(sT,{children:[(0,Ne.jsx)(lT,{children:"\ud83d\udca1 Mejores Pr\xe1cticas"}),(0,Ne.jsx)(cT,{children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Nombres descriptivos:"})," Usa nombres claros para labels"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Opciones equilibradas:"})," No hagas una opci\xf3n claramente mejor"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Consecuencias:"})," Las decisiones deben tener impacto en la historia"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Flujo l\xf3gico:"})," Aseg\xfarate de que todas las rutas tengan sentido"]})]})})]})]})}]},variables:{title:"\ud83d\udd22 Variables y L\xf3gica",steps:[{id:"variables-basics",title:"Variables B\xe1sicas",description:"Almacena informaci\xf3n y toma decisiones basadas en datos.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"1"}),(0,Ne.jsx)(oT,{children:"Definir Variables"}),(0,Ne.jsx)(tT,{children:"Las variables almacenan informaci\xf3n que puede cambiar durante el juego."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83d\udd22 Variables B\xe1sicas"}),(0,Ne.jsx)("pre",{children:'# Definir variables al inicio del script\ndefault puntos_amistad = 0\ndefault nombre_jugador = ""\ndefault ha_visitado_parque = False\n\n# Variables num\xe9ricas\ndefault dinero = 100\ndefault salud = 100\n\n# Variables de texto\ndefault lugar_actual = "casa"'})]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"2"}),(0,Ne.jsx)(oT,{children:"Modificar Variables"}),(0,Ne.jsx)(tT,{children:"Cambia los valores de las variables usando el s\xedmbolo $ para c\xf3digo Python."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\u26a1 Modificar Variables"}),(0,Ne.jsx)("pre",{children:'# Sumar puntos\n$ puntos_amistad += 5\n\n# Restar dinero\n$ dinero -= 20\n\n# Cambiar estado\n$ ha_visitado_parque = True\n\n# Concatenar texto\n$ nombre_jugador = "Alex"'})]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"3"}),(0,Ne.jsx)(oT,{children:"Condiciones con Variables"}),(0,Ne.jsx)(tT,{children:"Usa las variables para crear ramas condicionales en tu historia."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83c\udfaf Condiciones"}),(0,Ne.jsx)("pre",{children:'# Verificar valores\nif puntos_amistad >= 10:\n    amiga "\xa1Somos muy buenos amigos!"\nelif puntos_amistad >= 5:\n    amiga "Nos estamos conociendo bien."\nelse:\n    amiga "Apenas nos conocemos."\n\n# M\xfaltiples condiciones\nif dinero >= 50 and salud > 20:\n    "Puedes comprar algo y a\xfan tienes energ\xeda."\nelse:\n    "Necesitas m\xe1s dinero o descansar."'})]})]}),(0,Ne.jsxs)(dT,{children:[(0,Ne.jsx)(uT,{children:"\ud83d\udca1 Tipos de Variables"}),(0,Ne.jsx)(pT,{children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"default:"})," Valor inicial, se reinicia al cargar guardado"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"define:"})," Constante que nunca cambia"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"$:"})," C\xf3digo Python para operaciones complejas"]})]})})]})]})},{id:"advanced-logic",title:"L\xf3gica Avanzada",description:"Crea sistemas m\xe1s complejos con listas y diccionarios.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"1"}),(0,Ne.jsx)(oT,{children:"Listas (Arrays)"}),(0,Ne.jsx)(tT,{children:"Las listas almacenan m\xfaltiples valores del mismo tipo."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83d\udccb Listas"}),(0,Ne.jsx)("pre",{children:'# Definir listas\ndefault inventario = []\ndefault amigos = ["Mar\xeda", "Carlos", "Ana"]\n\n# Agregar elementos\n$ inventario.append("llave")\n$ inventario.append("mapa")\n\n# Verificar si contiene algo\nif "llave" in inventario:\n    "Tienes una llave en tu inventario."\n\n# Mostrar todos los elementos\n"Tus amigos son: [\', \'.join(amigos)]"'})]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"2"}),(0,Ne.jsx)(oT,{children:"Diccionarios"}),(0,Ne.jsx)(tT,{children:"Los diccionarios almacenan pares clave-valor para datos complejos."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83d\uddc2\ufe0f Diccionarios"}),(0,Ne.jsx)("pre",{children:'# Definir diccionario\ndefault relaciones = {\n    "maria": 5,\n    "carlos": 3,\n    "ana": 8\n}\n\n# Modificar valores\n$ relaciones["maria"] += 2\n$ relaciones["nuevo_amigo"] = 1\n\n# Verificar relaciones\nif relaciones["ana"] > 7:\n    "Ana te considera un muy buen amigo."'})]})]}),(0,Ne.jsxs)(sT,{children:[(0,Ne.jsx)(lT,{children:"\ud83d\udca1 Casos de Uso"}),(0,Ne.jsx)(cT,{children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Inventarios:"})," Listas para objetos que puede llevar el jugador"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Sistemas de reputaci\xf3n:"})," Diccionarios para puntuaciones por personaje"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Progreso del juego:"})," Variables que desbloquean contenido"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Estados de personajes:"})," Diccionarios para informaci\xf3n compleja"]})]})})]})]})}]},polish:{title:"\u2728 Pulir tu Juego",steps:[{id:"transitions-effects",title:"Transiciones y Efectos",description:"A\xf1ade efectos visuales para mejorar la experiencia.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"1"}),(0,Ne.jsx)(oT,{children:"Transiciones B\xe1sicas"}),(0,Ne.jsx)(tT,{children:"Las transiciones hacen que los cambios de escena sean m\xe1s suaves."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\u2728 Transiciones"}),(0,Ne.jsx)("pre",{children:"# Transiciones de escena\nscene bg_parque\nwith fade          # Desvanecimiento\n\nscene bg_casa\nwith dissolve      # Disoluci\xf3n\n\nscene bg_ciudad\nwith pixellate     # Efecto pixelado\n\n# Transiciones de personajes\nshow amiga feliz at center\nwith move          # Movimiento suave\n\nhide amiga\nwith fade          # Desvanecer al ocultar"})]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"2"}),(0,Ne.jsx)(oT,{children:"Efectos de Audio"}),(0,Ne.jsx)(tT,{children:"La m\xfasica y los efectos de sonido mejoran la inmersi\xf3n."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83c\udfb5 Audio"}),(0,Ne.jsx)("pre",{children:'# Reproducir m\xfasica\nplay music "tema_principal.ogg"\n\n# Parar m\xfasica\nstop music\n\n# Efectos de sonido\nplay sound "click.ogg"\nplay sound "pasos.ogg"\n\n# Audio de fondo (se repite)\nplay music "ambiente_parque.ogg" loop'})]})]}),(0,Ne.jsxs)(dT,{children:[(0,Ne.jsx)(uT,{children:"\ud83c\udfa8 Formatos Recomendados"}),(0,Ne.jsx)(pT,{children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Im\xe1genes:"})," PNG para sprites, JPG para fondos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Audio:"})," OGG para m\xfasica, WAV para efectos cortos"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Resoluci\xf3n:"})," 1920x1080 para fondos, 800x600 para sprites"]})]})})]})]})},{id:"testing-debugging",title:"Pruebas y Depuraci\xf3n",description:"C\xf3mo encontrar y corregir errores en tu juego.",content:(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"1"}),(0,Ne.jsx)(oT,{children:"Probar tu Juego"}),(0,Ne.jsx)(tT,{children:"Siempre prueba cada parte de tu historia antes de continuar."}),(0,Ne.jsxs)(aT,{children:[(0,Ne.jsx)(iT,{children:"\ud83e\uddea Pruebas"}),(0,Ne.jsx)("pre",{children:"# Usa el men\xfa de depuraci\xf3n de Ren'Py\n# Presiona Shift+D para acceder a herramientas de desarrollador\n\n# Verifica que todas las rutas funcionen\n# Prueba cada decisi\xf3n\n# Verifica que las variables cambien correctamente\n# Aseg\xfarate de que las im\xe1genes se muestren"})]})]}),(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:"2"}),(0,Ne.jsx)(oT,{children:"Errores Comunes"}),(0,Ne.jsx)(tT,{children:"Los errores m\xe1s frecuentes y c\xf3mo evitarlos."})]}),(0,Ne.jsxs)(sT,{children:[(0,Ne.jsx)(lT,{children:"\ud83d\udea8 Errores Comunes"}),(0,Ne.jsx)(cT,{children:(0,Ne.jsxs)("ul",{children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Im\xe1genes no encontradas:"})," Verifica nombres y ubicaciones"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Labels faltantes:"})," Aseg\xfarate de que todos los labels existan"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Variables no definidas:"})," Define todas las variables con default"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Comillas faltantes:"})," Todos los di\xe1logos deben tener comillas"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"Indentaci\xf3n incorrecta:"})," Usa 4 espacios consistentemente"]})]})})]}),(0,Ne.jsxs)(hT,{children:[(0,Ne.jsx)(gT,{children:"\u26a0\ufe0f Consejo de Desarrollo"}),(0,Ne.jsx)(fT,{children:"Guarda tu trabajo frecuentemente y haz copias de seguridad. Ren'Py tiene un sistema de guardado autom\xe1tico, pero siempre es bueno tener respaldos."})]})]})}]}},l=()=>s[o]||s.introduction,c=()=>{const e=Object.values(s).reduce((e,n)=>e+n.steps.length,0),n=a.size;return Math.round(n/e*100)},d=e=>a.has(e);return(0,Ne.jsxs)(BP,{children:[(0,Ne.jsxs)(WP,{children:[(0,Ne.jsx)(VP,{children:"\ud83d\udcd6 Gu\xeda para Principiantes"}),(0,Ne.jsx)(UP,{onClick:r,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(qP,{children:[(0,Ne.jsxs)(GP,{children:[(0,Ne.jsx)(YP,{children:"\ud83d\udcca Tu Progreso"}),(0,Ne.jsx)($P,{children:(0,Ne.jsx)(JP,{progress:c()})}),(0,Ne.jsxs)(ZP,{children:[a.size," de ",Object.values(s).reduce((e,n)=>e+n.steps.length,0)," pasos completados (",c(),"%)"]})]}),(0,Ne.jsxs)(KP,{children:[(0,Ne.jsx)(QP,{active:"introduction"===o,onClick:()=>t("introduction"),children:"\ud83c\udfaf Introducci\xf3n"}),(0,Ne.jsx)(QP,{active:"basics"===o,onClick:()=>t("basics"),children:"\ud83d\udcdd Conceptos B\xe1sicos"}),(0,Ne.jsx)(QP,{active:"variables"===o,onClick:()=>t("variables"),children:"\ud83d\udd22 Variables y L\xf3gica"}),(0,Ne.jsx)(QP,{active:"polish"===o,onClick:()=>t("polish"),children:"\u2728 Pulir tu Juego"})]}),(0,Ne.jsxs)(XP,{children:[(0,Ne.jsx)(eT,{children:l().title}),l().steps.map((e,n)=>(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(nT,{children:[(0,Ne.jsx)(rT,{children:n+1}),(0,Ne.jsxs)(oT,{children:[e.title,d(e.id)&&" \u2705"]}),(0,Ne.jsx)(tT,{children:e.description}),e.content,!d(e.id)&&(0,Ne.jsx)(xT,{onClick:()=>{return n=e.id,void i(e=>new Set([...e,n]));var n},children:"\u2713 Marcar como Completado"})]})},e.id))]})]})]})};var vT,bT,yT,wT,jT,kT,ST,_T,CT,ET,zT,PT,TT,IT,LT,AT,DT,OT,NT,RT,FT,MT,HT,BT,WT,VT,UT,qT,GT,YT,$T,JT,ZT,KT,QT,XT,eI,nI,rI;const oI=Oe.div(vT||(vT=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),tI=Oe.div(bT||(bT=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),aI=Oe.h1(yT||(yT=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 28px;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n"]))),iI=Oe.button(wT||(wT=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    transform: scale(1.05);\n  }\n"]))),sI=Oe.div(jT||(jT=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),lI=Oe.div(kT||(kT=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 25px;\n  margin-bottom: 30px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),cI=Oe.h2(ST||(ST=t(["\n  color: var(--color-success);\n  margin: 0 0 15px 0;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n"]))),dI=Oe.input(_T||(_T=t(["\n  width: 100%;\n  padding: 12px 16px;\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-success);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n    transform: translateY(-1px);\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 3px 8px var(--color-shadowHover);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-weight: 400;\n  }\n"]))),uI=Oe.div(CT||(CT=t(["\n  display: flex;\n  gap: 10px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n"]))),pI=Oe.button(ET||(ET=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 14px 22px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: ",";\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"])),e=>e.active?"var(--color-success)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-success)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-primary)",e=>(e.active,"var(--color-textInverse)")),hI=Oe.div(zT||(zT=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 25px;\n  margin-bottom: 40px;\n"]))),gI=Oe.div(PT||(PT=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-success);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-8px);\n    box-shadow: 0 12px 32px var(--color-shadowHover);\n  }\n"]))),fI=Oe.div(TT||(TT=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 15px;\n"]))),xI=Oe.h3(IT||(IT=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 18px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),mI=Oe.span(LT||(LT=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"])),e=>{switch(e.type){case"official":return"var(--color-info)";case"community":return"var(--color-success)";case"tutorial":return"var(--color-warning)";case"tool":return"var(--color-primary)";case"asset":return"var(--color-error)";case"game":return"var(--color-border)";default:return"var(--color-borderSecondary)"}}),vI=Oe.p(AT||(AT=t(["\n  color: var(--color-textSecondary);\n  margin: 0 0 15px 0;\n  line-height: 1.6;\n  font-size: 15px;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),bI=Oe.a(DT||(DT=t(["\n  background-color: var(--color-success);\n  color: var(--color-textInverse);\n  text-decoration: none;\n  padding: 12px 20px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 700;\n  display: inline-block;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n  border: 2px solid var(--color-success);\n\n  &:hover {\n    background-color: var(--color-successHover);\n    border-color: var(--color-successHover);\n    transform: translateY(-2px) scale(1.02);\n    box-shadow: 0 6px 20px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0) scale(0.98);\n    box-shadow: 0 3px 8px var(--color-shadow);\n  }\n"]))),yI=Oe.div(OT||(OT=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin: 15px 0;\n"]))),wI=Oe.span(NT||(NT=t(["\n  background-color: var(--color-border);\n  color: var(--color-textInverse);\n  padding: 6px 10px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    background-color: var(--color-primary);\n    transform: translateY(-1px);\n    box-shadow: 0 3px 6px var(--color-shadowHover);\n  }\n"]))),jI=Oe.div(RT||(RT=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-success);\n  border-radius: 12px;\n  padding: 20px;\n  margin: 20px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-successHover);\n    box-shadow: 0 6px 20px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n"]))),kI=Oe.div(FT||(FT=t(["\n  color: var(--color-success);\n  font-weight: 700;\n  font-size: 16px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),SI=Oe.div(MT||(MT=t(["\n  color: var(--color-textPrimary);\n  font-size: 15px;\n  line-height: 1.6;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),_I=Oe.div(HT||(HT=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-warning);\n  border-radius: 12px;\n  padding: 20px;\n  margin: 20px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-warningHover);\n    box-shadow: 0 6px 20px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n"]))),CI=Oe.div(BT||(BT=t(["\n  color: var(--color-warning);\n  font-weight: 700;\n  font-size: 16px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),EI=Oe.div(WT||(WT=t(["\n  color: var(--color-textPrimary);\n  font-size: 15px;\n  line-height: 1.6;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),zI=Oe.div(VT||(VT=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-error);\n  border-radius: 12px;\n  padding: 20px;\n  margin: 20px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-errorHover);\n    box-shadow: 0 6px 20px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n"]))),PI=Oe.div(UT||(UT=t(["\n  color: var(--color-error);\n  font-weight: 700;\n  font-size: 16px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),TI=Oe.div(qT||(qT=t(["\n  color: var(--color-textPrimary);\n  font-size: 15px;\n  line-height: 1.6;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),II=Oe.div(GT||(GT=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 15px;\n  margin-bottom: 30px;\n"]))),LI=Oe.a(YT||(YT=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  text-decoration: none;\n  color: var(--color-textPrimary);\n  text-align: center;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-success);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-5px);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n  }\n"]))),AI=Oe.div($T||($T=t(["\n  font-size: 32px;\n  margin-bottom: 10px;\n"]))),DI=Oe.div(JT||(JT=t(["\n  font-weight: 700;\n  font-size: 15px;\n  color: var(--color-success);\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),OI=Oe.div(ZT||(ZT=t(["\n  width: 100%;\n  height: 120px;\n  background-color: var(--color-backgroundSecondary);\n  border-radius: 12px;\n  margin: 15px 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 2px solid var(--color-border);\n  overflow: hidden;\n  position: relative;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .placeholder {\n    color: var(--color-textTertiary);\n    font-size: 14px;\n    text-align: center;\n    transition: color 0.3s ease;\n  }\n"]))),NI=Oe.div(KT||(KT=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin: 10px 0;\n"]))),RI=(Oe.h4(QT||(QT=t(["\n  margin: 0;\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  font-weight: 700;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),Oe.div(XT||(XT=t(["\n  color: var(--color-textTertiary);\n  font-size: 13px;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"])))),FI=Oe.div(eI||(eI=t(["\n  color: var(--color-success);\n  font-weight: 700;\n  font-size: 14px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"])));Oe.div(nI||(nI=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n  margin: 10px 0;\n"]))),Oe.span(rI||(rI=t(["\n  background-color: var(--color-border);\n  color: var(--color-textInverse);\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 11px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    background-color: var(--color-primary);\n    transform: translateY(-1px);\n    box-shadow: 0 3px 6px var(--color-shadowHover);\n  }\n"])));const MI=function(e){let{onClose:r}=e;const[o,t]=(0,n.useState)("official"),[a,i]=(0,n.useState)(""),s={official:[{id:"renpy-website",title:"Sitio Web Oficial de Ren'Py",icon:"\ud83c\udfe0",type:"official",description:"El sitio web principal de Ren'Py con descargas, documentaci\xf3n y noticias oficiales.",link:"https://www.renpy.org/",tags:["oficial","descarga","documentaci\xf3n"]},{id:"renpy-docs",title:"Documentaci\xf3n Oficial",icon:"\ud83d\udcda",type:"official",description:"Documentaci\xf3n completa de Ren'Py con ejemplos, tutoriales y referencia de la API.",link:"https://www.renpy.org/doc/html/",tags:["documentaci\xf3n","tutorial","referencia"]},{id:"renpy-forum",title:"Foro Oficial de Ren'Py",icon:"\ud83d\udcac",type:"official",description:"Foro oficial donde puedes hacer preguntas, compartir proyectos y obtener ayuda.",link:"https://lemmasoft.renai.us/forums/",tags:["foro","ayuda","comunidad"]},{id:"renpy-github",title:"Repositorio GitHub",icon:"\ud83d\udc19",type:"official",description:"C\xf3digo fuente de Ren'Py, reportes de bugs y contribuciones al proyecto.",link:"https://github.com/renpy/renpy",tags:["c\xf3digo","bugs","contribuir"]}],community:[{id:"itch-renpy",title:"Itch.io - Ren'Py Games",icon:"\ud83c\udfae",type:"community",description:"Descubre miles de novelas visuales creadas con Ren'Py en Itch.io.",link:"https://itch.io/games/tag-renpy",tags:["juegos","inspiraci\xf3n","comunidad"]},{id:"reddit-renpy",title:"r/RenPy (Reddit)",icon:"\ud83d\udd34",type:"community",description:"Subreddit activo con consejos, recursos y proyectos de la comunidad.",link:"https://www.reddit.com/r/RenPy/",tags:["reddit","consejos","proyectos"]},{id:"discord-renpy",title:"Discord de Ren'Py",icon:"\ud83d\udcac",type:"community",description:"Chat en tiempo real con la comunidad de desarrolladores de Ren'Py.",link:"https://discord.gg/renpy",tags:["chat","tiempo real","ayuda"]},{id:"renpy-cookbook",title:"Ren'Py Cookbook",icon:"\ud83c\udf73",type:"community",description:"Colecci\xf3n de recetas y soluciones para problemas comunes en Ren'Py.",link:"https://renpy-cookbook.itch.io/",tags:["recetas","soluciones","ejemplos"]}],tutorials:[{id:"renpy-tutorial-series",title:"Serie de Tutoriales de Ren'Py",icon:"\ud83c\udf93",type:"tutorial",description:"Tutoriales paso a paso para aprender Ren'Py desde cero hasta nivel avanzado.",link:"https://www.renpy.org/doc/html/tutorial.html",tags:["tutorial","principiante","avanzado"]},{id:"youtube-renpy",title:"Tutoriales en YouTube",icon:"\ud83d\udcfa",type:"tutorial",description:'Busca "Ren\'Py tutorial" en YouTube para encontrar videos explicativos.',link:"https://www.youtube.com/results?search_query=renpy+tutorial",tags:["video","visual","explicaci\xf3n"]},{id:"renpy-school",title:"Ren'Py School (Blog)",icon:"\ud83c\udfeb",type:"tutorial",description:"Blog con lecciones detalladas sobre desarrollo de novelas visuales.",link:"https://renpyschool.blogspot.com/",tags:["blog","lecciones","detallado"]}],tools:[{id:"renpy-launcher",title:"Ren'Py Launcher",icon:"\ud83d\ude80",type:"tool",description:"Herramienta incluida con Ren'Py para gestionar proyectos y distribuir juegos.",link:"https://www.renpy.org/doc/html/launcher.html",tags:["launcher","proyectos","distribuci\xf3n"]},{id:"renpy-sdk",title:"Ren'Py SDK",icon:"\ud83d\udee0\ufe0f",type:"tool",description:"Kit de desarrollo completo con todas las herramientas necesarias.",link:"https://www.renpy.org/download.html",tags:["sdk","desarrollo","herramientas"]},{id:"atom-renpy",title:"Paquete Atom para Ren'Py",icon:"\u269b\ufe0f",type:"tool",description:"Soporte de sintaxis y autocompletado para Ren'Py en el editor Atom.",link:"https://atom.io/packages/language-renpy",tags:["editor","sintaxis","autocompletado"]},{id:"vscode-renpy",title:"Extensi\xf3n VS Code para Ren'Py",icon:"\ud83d\udcbb",type:"tool",description:"Soporte completo para Ren'Py en Visual Studio Code.",link:"https://marketplace.visualstudio.com/items?itemName=LuqueDaniel.languague-renpy",tags:["vscode","extensi\xf3n","soporte"]}],assets:[{id:"freesound",title:"Freesound",icon:"\ud83d\udd0a",type:"asset",description:"Biblioteca gratuita de efectos de sonido y m\xfasica con licencia Creative Commons.",link:"https://freesound.org/",tags:["audio","gratuito","efectos"]},{id:"opengameart",title:"OpenGameArt",icon:"\ud83c\udfa8",type:"asset",description:"Recursos gr\xe1ficos gratuitos para juegos, incluyendo sprites y fondos.",link:"https://opengameart.org/",tags:["gr\xe1ficos","gratuito","sprites"]},{id:"kenney-assets",title:"Kenney Assets",icon:"\ud83c\udfaf",type:"asset",description:"Paquetes de assets gratuitos de alta calidad para juegos.",link:"https://kenney.nl/assets",tags:["assets","gratuito","calidad"]},{id:"itch-assets",title:"Itch.io - Game Assets",icon:"\ud83d\udecd\ufe0f",type:"asset",description:"Miles de assets de pago y gratuitos para novelas visuales.",link:"https://itch.io/game-assets/tag-visual-novel",tags:["assets","pago","gratuito"]}],games:[{id:"doki-doki-literature-club",title:"Doki Doki Literature Club!",icon:"\ud83d\udc96",type:"game",description:"Una novela visual psicol\xf3gica que desaf\xeda las expectativas del g\xe9nero.",link:"https://ddlc.moe/",banner:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/698780/capsule_616x353.jpg?t=1681943582",developer:"Team Salvato",price:"Gratuito",tags:["psicol\xf3gico","horror","gratuito","popular"]},{id:"katawa-shoujo",title:"Katawa Shoujo",icon:"\u2764\ufe0f",type:"game",description:"Una novela visual rom\xe1ntica que trata temas de discapacidad con sensibilidad.",link:"https://www.katawa-shoujo.com/",banner:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/3068300/capsule_616x353.jpg?t=1744712256",developer:"Four Leaf Studios",price:"Gratuito",tags:["romance","drama","gratuito","cl\xe1sico"]},{id:"long-live-the-queen",title:"Long Live The Queen",icon:"\ud83d\udc51",type:"game",description:"Una novela visual de estrategia donde debes preparar a una princesa para gobernar.",link:"https://www.hanakogames.com/LLQ.shtml",banner:"https://assets.nintendo.com/image/upload/q_auto/f_auto/ncom/software/switch/70010000054492/a2ffbdcd5b37db8700b07837104b1690f16bb05ba8c9dbba22b1b149b4950d1f",developer:"Hanako Games",price:"Pago",tags:["estrategia","fantas\xeda","m\xfaltiples finales"]},{id:"analogue-a-hate-story",title:"Analogue: A Hate Story",icon:"\ud83d\ude80",type:"game",description:"Una novela visual de ciencia ficci\xf3n sobre una nave espacial abandonada.",link:"https://loveconquersallgam.es/analogue/",banner:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/209370/header.jpg?t=1567630753",developer:"Love Conquers All Games",price:"Pago",tags:["ciencia ficci\xf3n","misterio","investigaci\xf3n"]},{id:"hate-plus",title:"Hate Plus",icon:"\ud83d\udc94",type:"game",description:"Secuela de Analogue que profundiza en la historia de la nave espacial.",link:"https://loveconquersallgam.es/hate-plus/",banner:"https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/239700/capsule_616x353.jpg?t=1726321087",developer:"Love Conquers All Games",price:"Pago",tags:["ciencia ficci\xf3n","secuela","drama"]},{id:"butterfly-soup",title:"Butterfly Soup",icon:"\ud83e\udd8b",type:"game",description:"Una novela visual sobre adolescentes queer jugando b\xe9isbol.",link:"https://brianna-lei.itch.io/butterfly-soup",banner:"https://upload.wikimedia.org/wikipedia/en/8/87/Butterfly_Soup_title_card.png",developer:"Brianna Lei",price:"Gratuito",tags:["LGBTQ+","comedia","deportes","gratuito"]},{id:"the-house-in-fata-morgana",title:"The House in Fata Morgana",icon:"\ud83c\udff0",type:"game",description:"Una novela visual g\xf3tica que cuenta una historia a trav\xe9s de diferentes \xe9pocas.",link:"https://store.steampowered.com/app/303310/The_House_in_Fata_Morgana/",banner:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/303310/capsule_616x353.jpg?t=1725518929",developer:"Novectacle",price:"Pago",tags:["g\xf3tico","horror","drama","m\xfaltiples \xe9pocas"]},{id:"va-11-hall-a",title:"VA-11 HALL-A",icon:"\ud83c\udf78",type:"game",description:"Una novela visual cyberpunk sobre una bartender en un futuro dist\xf3pico.",link:"https://store.steampowered.com/app/447530/VA11_HallA_Cyberpunk_Bartender_Action/",banner:"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/447530/capsule_616x353.jpg?t=1730740610",developer:"Sukeban Games",price:"Pago",tags:["cyberpunk","simulaci\xf3n","futuro","bartender"]}]},l=()=>{let e=s[o]||[];return a&&(e=e.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(a.toLowerCase())))),e},c=e=>{switch(e){case"official":return"Oficial";case"community":return"Comunidad";case"tutorial":return"Tutorial";case"tool":return"Herramienta";case"asset":return"Recurso";case"game":return"Juego";default:return"Otro"}};return(0,Ne.jsxs)(oI,{children:[(0,Ne.jsxs)(tI,{children:[(0,Ne.jsx)(aI,{children:"\ud83c\udf10 Recursos y Enlaces"}),(0,Ne.jsx)(iI,{onClick:r,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(sI,{children:[(0,Ne.jsxs)(lI,{children:[(0,Ne.jsx)(cI,{children:"\ud83d\udd0d Buscar Recursos"}),(0,Ne.jsx)(dI,{type:"text",placeholder:"Busca recursos espec\xedficos...",value:a,onChange:e=>i(e.target.value)})]}),(0,Ne.jsx)(II,{children:[{title:"Descargar Ren'Py",icon:"\u2b07\ufe0f",link:"https://www.renpy.org/latest.html"},{title:"Documentaci\xf3n",icon:"\ud83d\udcd6",link:"https://www.renpy.org/doc/html/"},{title:"Foro Oficial",icon:"\ud83d\udcac",link:"https://lemmasoft.renai.us/forums/"},{title:"Juegos de Ejemplo",icon:"\ud83c\udfae",link:"https://itch.io/games/tag-renpy"}].map((e,n)=>(0,Ne.jsxs)(LI,{href:e.link,target:"_blank",rel:"noopener noreferrer",children:[(0,Ne.jsx)(AI,{children:e.icon}),(0,Ne.jsx)(DI,{children:e.title})]},n))}),(0,Ne.jsxs)(uI,{children:[(0,Ne.jsx)(pI,{active:"official"===o,onClick:()=>t("official"),children:"\ud83c\udfe0 Oficiales"}),(0,Ne.jsx)(pI,{active:"community"===o,onClick:()=>t("community"),children:"\ud83d\udc65 Comunidad"}),(0,Ne.jsx)(pI,{active:"tutorials"===o,onClick:()=>t("tutorials"),children:"\ud83c\udf93 Tutoriales"}),(0,Ne.jsx)(pI,{active:"tools"===o,onClick:()=>t("tools"),children:"\ud83d\udee0\ufe0f Herramientas"}),(0,Ne.jsx)(pI,{active:"assets"===o,onClick:()=>t("assets"),children:"\ud83c\udfa8 Recursos"}),(0,Ne.jsx)(pI,{active:"games"===o,onClick:()=>t("games"),children:"\ud83c\udfae Juegos"})]}),(0,Ne.jsx)(hI,{children:l().map(e=>(0,Ne.jsxs)(gI,{children:[(0,Ne.jsxs)(fI,{children:[(0,Ne.jsxs)(xI,{children:[e.icon," ",e.title]}),(0,Ne.jsx)(mI,{type:e.type,children:c(e.type)})]}),"game"===e.type&&(0,Ne.jsxs)(OI,{children:[e.banner?(0,Ne.jsx)("img",{src:e.banner,alt:"Banner de ".concat(e.title),onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Ne.jsx)("div",{className:"placeholder",style:{display:e.banner?"none":"flex"},children:(0,Ne.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ne.jsx)("div",{style:{fontSize:"32px",marginBottom:"8px"},children:e.icon}),(0,Ne.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"var(--color-textPrimary)"},children:e.title}),(0,Ne.jsx)("div",{style:{fontSize:"12px",color:"var(--color-textTertiary)",marginTop:"4px"},children:"Novela Visual"})]})})]}),(0,Ne.jsx)(vI,{children:e.description}),"game"===e.type&&(0,Ne.jsxs)(NI,{children:[(0,Ne.jsxs)(RI,{children:["Desarrollado por: ",e.developer]}),(0,Ne.jsx)(FI,{children:e.price})]}),(0,Ne.jsx)(yI,{children:e.tags.map((e,n)=>(0,Ne.jsx)(wI,{children:e},n))}),(0,Ne.jsxs)(bI,{href:e.link,target:"_blank",rel:"noopener noreferrer",children:["\ud83d\udd17 ","game"===e.type?"Jugar/Comprar":"Visitar Enlace"]})]},e.id))}),0===l().length&&a&&(0,Ne.jsxs)("div",{style:{textAlign:"center",color:"var(--color-textTertiary)",fontSize:"18px",marginTop:"50px"},children:['No se encontraron recursos que coincidan con "',a,'"']}),(0,Ne.jsxs)(jI,{children:[(0,Ne.jsx)(kI,{children:"\ud83d\udca1 Consejo"}),(0,Ne.jsx)(SI,{children:"Estos recursos est\xe1n organizados por categor\xedas para facilitar tu b\xfasqueda. Usa la barra de b\xfasqueda para encontrar recursos espec\xedficos por palabras clave."})]}),(0,Ne.jsxs)(_I,{children:[(0,Ne.jsx)(CI,{children:"\ud83d\ude80 Tip de Desarrollo"}),(0,Ne.jsx)(EI,{children:"Recomendamos empezar con los recursos oficiales y luego explorar la comunidad para obtener inspiraci\xf3n y ayuda adicional."})]}),(0,Ne.jsxs)(zI,{children:[(0,Ne.jsx)(PI,{children:"\u26a0\ufe0f Importante"}),(0,Ne.jsx)(TI,{children:"Siempre verifica las licencias de los recursos que uses en tu proyecto. Algunos pueden requerir atribuci\xf3n o tener restricciones de uso comercial."})]})]})]})};var HI,BI,WI,VI,UI,qI,GI,YI,$I,JI,ZI,KI,QI,XI,eL,nL,rL,oL,tL,aL,iL,sL,lL,cL,dL,uL,pL,hL;const gL=Oe.div(HI||(HI=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),fL=Oe.div(BI||(BI=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),xL=Oe.h1(WI||(WI=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 32px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.5px;\n"]))),mL=Oe.button(VI||(VI=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    transform: scale(1.05);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),vL=Oe.div(UI||(UI=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),bL=Oe.div(qI||(qI=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 25px;\n  margin-bottom: 30px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),yL=Oe.h2(GI||(GI=t(["\n  color: var(--color-success);\n  margin: 0 0 20px 0;\n  font-size: 22px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 3px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),wL=Oe.input(YI||(YI=t(["\n  width: 100%;\n  padding: 12px 16px;\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-success);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n    transform: translateY(-1px);\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 3px 8px var(--color-shadowHover);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-weight: 400;\n  }\n"]))),jL=Oe.div($I||($I=t(["\n  display: flex;\n  gap: 10px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n"]))),kL=Oe.button(JI||(JI=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 14px 22px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"])),e=>e.active?"var(--color-success)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-success)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-primary)"),SL=Oe.div(ZI||(ZI=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 25px;\n  margin-bottom: 40px;\n"]))),_L=Oe.div(KI||(KI=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-success);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-8px);\n    box-shadow: 0 12px 32px var(--color-shadowHover);\n  }\n"]))),CL=Oe.div(QI||(QI=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 15px;\n"]))),EL=Oe.h3(XI||(XI=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 20px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),zL=Oe.span(eL||(eL=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"])),e=>{switch(e.type){case"folder":return"var(--color-info)";case"file":return"var(--color-success)";case"config":return"var(--color-warning)";case"script":return"var(--color-primary)";case"asset":return"var(--color-border)";default:return"var(--color-borderSecondary)"}}),PL=Oe.p(nL||(nL=t(["\n  color: var(--color-textPrimary);\n  margin: 0 0 18px 0;\n  line-height: 1.7;\n  font-size: 16px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),TL=Oe.div(rL||(rL=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin: 15px 0;\n"]))),IL=Oe.span(oL||(oL=t(["\n  background-color: var(--color-border);\n  color: var(--color-textInverse);\n  padding: 6px 10px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    background-color: var(--color-primary);\n    transform: translateY(-1px);\n    box-shadow: 0 3px 6px var(--color-shadowHover);\n  }\n"]))),LL=(Oe.div(tL||(tL=t(["\n  background-color: var(--color-backgroundSecondary);\n  border: 3px solid var(--color-primary);\n  border-radius: 10px;\n  padding: 20px;\n  margin: 18px 0;\n  font-family: 'Courier New', monospace;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-primary);\n  overflow-x: auto;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-primaryHover);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\n    border-radius: 10px 10px 0 0;\n  }\n"]))),Oe.div(aL||(aL=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-success);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-successHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-success), var(--color-successHover));\n    border-radius: 14px 14px 0 0;\n  }\n"])))),AL=Oe.div(iL||(iL=t(["\n  color: var(--color-success);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),DL=Oe.div(sL||(sL=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),OL=Oe.div(lL||(lL=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-warning);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-warningHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),NL=Oe.div(cL||(cL=t(["\n  color: var(--color-warning);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),RL=Oe.div(dL||(dL=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),FL=Oe.div(uL||(uL=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-error);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-errorHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),ML=Oe.div(pL||(pL=t(["\n  color: var(--color-error);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),HL=Oe.div(hL||(hL=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"])));const BL=function(e){let{onClose:r}=e;const[o,t]=(0,n.useState)("folders"),[a,i]=(0,n.useState)(""),s={folders:[{id:"game-folder",title:"game/",icon:"\ud83d\udcc1",type:"folder",description:"Carpeta principal que contiene todos los archivos del juego. Es el coraz\xf3n de tu proyecto Ren'Py.",tags:["principal","obligatorio","archivos del juego"]},{id:"images-folder",title:"images/",icon:"\ud83d\uddbc\ufe0f",type:"folder",description:"Carpeta para almacenar todas las im\xe1genes del juego: sprites, fondos, GUI, etc.",tags:["im\xe1genes","sprites","fondos","GUI"]},{id:"audio-folder",title:"audio/",icon:"\ud83c\udfb5",type:"folder",description:"Carpeta para archivos de audio: m\xfasica de fondo, efectos de sonido y voces.",tags:["audio","m\xfasica","efectos","voces"]},{id:"gui-folder",title:"gui/",icon:"\ud83c\udfa8",type:"folder",description:"Carpeta para elementos de la interfaz gr\xe1fica personalizada.",tags:["interfaz","GUI","botones","personalizaci\xf3n"]}],files:[{id:"script-rpy",title:"script.rpy",icon:"\ud83d\udcdd",type:"file",description:"Archivo principal del script que contiene la historia y di\xe1logos del juego.",tags:["script","historia","di\xe1logos","principal"]},{id:"options-rpy",title:"options.rpy",icon:"\u2699\ufe0f",type:"config",description:"Archivo de configuraci\xf3n que define las opciones del juego como resoluci\xf3n, t\xedtulo, etc.",tags:["configuraci\xf3n","opciones","resoluci\xf3n","t\xedtulo"]},{id:"gui-rpy",title:"gui.rpy",icon:"\ud83c\udfa8",type:"config",description:"Archivo que define los estilos y apariencia de la interfaz gr\xe1fica.",tags:["GUI","estilos","interfaz","apariencia"]},{id:"screens-rpy",title:"screens.rpy",icon:"\ud83d\udda5\ufe0f",type:"script",description:"Define las pantallas del juego como men\xfas, configuraci\xf3n, etc.",tags:["pantallas","men\xfas","configuraci\xf3n","screens"]}]},l=()=>{let e=s[o]||[];return a&&(e=e.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(a.toLowerCase())))),e},c=e=>{switch(e){case"folder":return"Carpeta";case"file":return"Archivo";case"config":return"Config";case"script":return"Script";case"asset":return"Asset";default:return"Otro"}};return(0,Ne.jsxs)(gL,{children:[(0,Ne.jsxs)(fL,{children:[(0,Ne.jsx)(xL,{children:"\ud83d\udcc1 Estructura de Proyectos"}),(0,Ne.jsx)(mL,{onClick:r,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(vL,{children:[(0,Ne.jsxs)(bL,{children:[(0,Ne.jsx)(yL,{children:"\ud83d\udd0d Buscar en Estructura"}),(0,Ne.jsx)(wL,{type:"text",placeholder:"Busca carpetas, archivos o conceptos espec\xedficos...",value:a,onChange:e=>i(e.target.value)})]}),(0,Ne.jsxs)(jL,{children:[(0,Ne.jsx)(kL,{active:"folders"===o,onClick:()=>t("folders"),children:"\ud83d\udcc1 Carpetas"}),(0,Ne.jsx)(kL,{active:"files"===o,onClick:()=>t("files"),children:"\ud83d\udcc4 Archivos"})]}),(0,Ne.jsx)(SL,{children:l().map(e=>(0,Ne.jsxs)(_L,{children:[(0,Ne.jsxs)(CL,{children:[(0,Ne.jsxs)(EL,{children:[e.icon," ",e.title]}),(0,Ne.jsx)(zL,{type:e.type,children:c(e.type)})]}),(0,Ne.jsx)(PL,{children:e.description}),(0,Ne.jsx)(TL,{children:e.tags.map((e,n)=>(0,Ne.jsx)(IL,{children:e},n))})]},e.id))}),0===l().length&&a&&(0,Ne.jsxs)("div",{style:{textAlign:"center",color:"var(--color-textTertiary)",fontSize:"18px",marginTop:"50px",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:['No se encontraron elementos que coincidan con "',a,'"']}),(0,Ne.jsxs)(LL,{children:[(0,Ne.jsx)(AL,{children:"\ud83d\udcda Informaci\xf3n Importante"}),(0,Ne.jsx)(DL,{children:"La estructura de carpetas es fundamental para el funcionamiento de Ren'Py. Cada carpeta y archivo tiene un prop\xf3sito espec\xedfico seg\xfan la documentaci\xf3n oficial."})]}),(0,Ne.jsxs)(OL,{children:[(0,Ne.jsx)(NL,{children:"\ud83d\udca1 Consejo de Organizaci\xf3n"}),(0,Ne.jsx)(RL,{children:"Mant\xe9n una estructura organizada desde el inicio del proyecto. Usa nombres descriptivos para tus archivos y organiza las im\xe1genes por categor\xedas."})]}),(0,Ne.jsxs)(FL,{children:[(0,Ne.jsx)(ML,{children:"\u26a0\ufe0f Importante"}),(0,Ne.jsx)(HL,{children:"No modifiques la estructura b\xe1sica de carpetas de Ren'Py sin conocer las consecuencias. Algunos archivos son obligatorios para el funcionamiento del motor."})]})]})]})};var WL,VL,UL,qL,GL,YL,$L,JL,ZL,KL,QL,XL,eA,nA,rA,oA,tA,aA,iA,sA,lA,cA,dA,uA,pA,hA,gA,fA;const xA=Oe.div(WL||(WL=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),mA=Oe.div(VL||(VL=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),vA=Oe.h1(UL||(UL=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 32px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.5px;\n"]))),bA=Oe.button(qL||(qL=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    transform: scale(1.05);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),yA=Oe.div(GL||(GL=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),wA=Oe.div(YL||(YL=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 25px;\n  margin-bottom: 30px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),jA=Oe.h2($L||($L=t(["\n  color: var(--color-success);\n  margin: 0 0 20px 0;\n  font-size: 22px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 3px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),kA=Oe.input(JL||(JL=t(["\n  width: 100%;\n  padding: 12px 16px;\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-success);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n    transform: translateY(-1px);\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 3px 8px var(--color-shadowHover);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-weight: 400;\n  }\n"]))),SA=Oe.div(ZL||(ZL=t(["\n  display: flex;\n  gap: 10px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n"]))),_A=Oe.button(KL||(KL=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 14px 22px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"])),e=>e.active?"var(--color-success)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-success)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-primary)"),CA=Oe.div(QL||(QL=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 25px;\n  margin-bottom: 40px;\n"]))),EA=Oe.div(XL||(XL=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-success);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-8px);\n    box-shadow: 0 12px 32px var(--color-shadowHover);\n  }\n"]))),zA=Oe.div(eA||(eA=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 15px;\n"]))),PA=Oe.h3(nA||(nA=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 20px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),TA=Oe.span(rA||(rA=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"])),e=>{switch(e.type){case"gui":return"var(--color-info)";case"config":return"var(--color-success)";case"style":return"var(--color-warning)";case"screen":return"var(--color-primary)";case"image":return"var(--color-border)";default:return"var(--color-borderSecondary)"}}),IA=Oe.p(oA||(oA=t(["\n  color: var(--color-textPrimary);\n  margin: 0 0 18px 0;\n  line-height: 1.7;\n  font-size: 16px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),LA=Oe.div(tA||(tA=t(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin: 15px 0;\n"]))),AA=Oe.span(aA||(aA=t(["\n  background-color: var(--color-border);\n  color: var(--color-textInverse);\n  padding: 6px 10px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    background-color: var(--color-primary);\n    transform: translateY(-1px);\n    box-shadow: 0 3px 6px var(--color-shadowHover);\n  }\n"]))),DA=Oe.div(iA||(iA=t(["\n  background-color: var(--color-backgroundSecondary);\n  border: 3px solid var(--color-primary);\n  border-radius: 10px;\n  padding: 20px;\n  margin: 18px 0;\n  font-family: 'Courier New', monospace;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-primary);\n  overflow-x: auto;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-primaryHover);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\n    border-radius: 10px 10px 0 0;\n  }\n"]))),OA=Oe.div(sA||(sA=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-success);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-successHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-success), var(--color-successHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),NA=Oe.div(lA||(lA=t(["\n  color: var(--color-success);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),RA=Oe.div(cA||(cA=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),FA=Oe.div(dA||(dA=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-warning);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-warningHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),MA=Oe.div(uA||(uA=t(["\n  color: var(--color-warning);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),HA=Oe.div(pA||(pA=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),BA=Oe.div(hA||(hA=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-error);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-errorHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),WA=Oe.div(gA||(gA=t(["\n  color: var(--color-error);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),VA=Oe.div(fA||(fA=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"])));const UA=function(e){let{onClose:r}=e;const[o,t]=(0,n.useState)("gui"),[a,i]=(0,n.useState)(""),s={gui:[{id:"gui-colors",title:"Colores y Tama\xf1os",icon:"\ud83c\udfa8",type:"gui",description:"Personalizaci\xf3n b\xe1sica de colores, tama\xf1os y apariencia general de la interfaz.",tags:["colores","tama\xf1o","interfaz","b\xe1sico"],codeExample:"# En options.rpy\ndefine config.screen_width = 1920\ndefine config.screen_height = 1080\ndefine gui.accent_color = '#ff6b6b'\ndefine gui.idle_color = '#888888'"},{id:"gui-fonts",title:"Fuentes y Texto",icon:"\ud83d\udcdd",type:"gui",description:"Configuraci\xf3n de fuentes, tama\xf1os de texto y estilos tipogr\xe1ficos.",tags:["fuentes","texto","tipograf\xeda","estilos"],codeExample:'# En gui.rpy\ndefine gui.text_font = "DejaVuSans.ttf"\ndefine gui.name_text_size = 45\ndefine gui.text_size = 33\ndefine gui.history_text_size = 30'},{id:"gui-buttons",title:"Botones y Controles",icon:"\ud83d\udd18",type:"gui",description:"Personalizaci\xf3n de botones, men\xfas y elementos de control.",tags:["botones","men\xfas","controles","interfaz"],codeExample:"# En gui.rpy\ndefine gui.button_text_size = 33\ndefine gui.button_width = 420\ndefine gui.button_height = None\ndefine gui.button_borders = Borders(6, 6, 6, 6)"}],config:[{id:"config-basic",title:"Configuraci\xf3n B\xe1sica",icon:"\u2699\ufe0f",type:"config",description:"Configuraci\xf3n fundamental del juego como t\xedtulo, resoluci\xf3n y opciones b\xe1sicas.",tags:["configuraci\xf3n","t\xedtulo","resoluci\xf3n","b\xe1sico"],codeExample:'# En options.rpy\ndefine config.name = _("Mi Juego")\ndefine config.version = "1.0"\ndefine config.screen_width = 1920\ndefine config.screen_height = 1080\ndefine config.window = "auto"'},{id:"config-audio",title:"Configuraci\xf3n de Audio",icon:"\ud83d\udd0a",type:"config",description:"Configuraci\xf3n de canales de audio, vol\xfamenes y efectos de sonido.",tags:["audio","volumen","canales","sonido"],codeExample:'# En options.rpy\ndefine config.has_sound = True\ndefine config.has_music = True\ndefine config.has_voice = True\ndefine config.voice_tag = "voice"'},{id:"config-save",title:"Sistema de Guardado",icon:"\ud83d\udcbe",type:"config",description:"Configuraci\xf3n del sistema de guardado y carga de partidas.",tags:["guardado","carga","partidas","sistema"],codeExample:'# En options.rpy\ndefine config.auto_voice = "voice"\ndefine config.has_quicksave = True\ndefine config.has_autosave = True\ndefine config.autosave_frequency = 250'}],styles:[{id:"style-basic",title:"Estilos B\xe1sicos",icon:"\ud83c\udfad",type:"style",description:"Definici\xf3n de estilos b\xe1sicos para texto, botones y elementos de interfaz.",tags:["estilos","b\xe1sicos","interfaz","dise\xf1o"],codeExample:'# En screens.rpy\nstyle default:\n    font "DejaVuSans.ttf"\n    size 33\n    color "#fff"\n    outlines [(2, "#000", 0, 0)]'},{id:"style-buttons",title:"Estilos de Botones",icon:"\ud83d\udd32",type:"style",description:"Personalizaci\xf3n de estilos para diferentes tipos de botones.",tags:["botones","estilos","interfaz","personalizaci\xf3n"],codeExample:'# En screens.rpy\nstyle button:\n    background Frame("gui/button/idle.png", Borders(6, 6, 6, 6))\n    hover_background Frame("gui/button/hover.png", Borders(6, 6, 6, 6))\n    padding (25, 25, 25, 25)'},{id:"style-text",title:"Estilos de Texto",icon:"\ud83d\udcc4",type:"style",description:"Configuraci\xf3n de estilos para diferentes tipos de texto en el juego.",tags:["texto","estilos","tipograf\xeda","formato"],codeExample:'# En screens.rpy\nstyle say_label:\n    font "DejaVuSans-Bold.ttf"\n    size 45\n    color "#fff"\n    outlines [(2, "#000", 0, 0)]'}],images:[{id:"image-backgrounds",title:"Fondos y Escenarios",icon:"\ud83d\uddbc\ufe0f",type:"image",description:"Configuraci\xf3n y uso de im\xe1genes de fondo y escenarios.",tags:["fondos","escenarios","im\xe1genes","visual"],codeExample:"# En script.rpy\nscene bg room\nshow bg room at center\nwith fade"},{id:"image-characters",title:"Sprites de Personajes",icon:"\ud83d\udc64",type:"image",description:"Configuraci\xf3n y uso de sprites de personajes.",tags:["personajes","sprites","im\xe1genes","visual"],codeExample:"# En script.rpy\nshow eileen happy at center\nshow eileen concerned at right\nhide eileen"},{id:"image-gui",title:"Elementos de GUI",icon:"\ud83d\udda5\ufe0f",type:"image",description:"Im\xe1genes para elementos de interfaz como botones y marcos.",tags:["GUI","interfaz","botones","elementos"],codeExample:'# En gui.rpy\ndefine gui.main_menu_background = "gui/main_menu.png"\ndefine gui.game_menu_background = "gui/game_menu.png"'}]},l=()=>{let e=s[o]||[];return a&&(e=e.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(a.toLowerCase())))),e},c=e=>{switch(e){case"gui":return"GUI";case"config":return"Config";case"style":return"Estilo";case"image":return"Imagen";default:return"Otro"}};return(0,Ne.jsxs)(xA,{children:[(0,Ne.jsxs)(mA,{children:[(0,Ne.jsx)(vA,{children:"\ud83c\udfa8 Personalizaci\xf3n B\xe1sica"}),(0,Ne.jsx)(bA,{onClick:r,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(yA,{children:[(0,Ne.jsxs)(wA,{children:[(0,Ne.jsx)(jA,{children:"\ud83d\udd0d Buscar en Personalizaci\xf3n"}),(0,Ne.jsx)(kA,{type:"text",placeholder:"Busca configuraciones, estilos o elementos espec\xedficos...",value:a,onChange:e=>i(e.target.value)})]}),(0,Ne.jsxs)(SA,{children:[(0,Ne.jsx)(_A,{active:"gui"===o,onClick:()=>t("gui"),children:"\ud83c\udfa8 GUI"}),(0,Ne.jsx)(_A,{active:"config"===o,onClick:()=>t("config"),children:"\u2699\ufe0f Configuraci\xf3n"}),(0,Ne.jsx)(_A,{active:"styles"===o,onClick:()=>t("styles"),children:"\ud83c\udfad Estilos"}),(0,Ne.jsx)(_A,{active:"images"===o,onClick:()=>t("images"),children:"\ud83d\uddbc\ufe0f Im\xe1genes"})]}),(0,Ne.jsx)(CA,{children:l().map(e=>(0,Ne.jsxs)(EA,{children:[(0,Ne.jsxs)(zA,{children:[(0,Ne.jsxs)(PA,{children:[e.icon," ",e.title]}),(0,Ne.jsx)(TA,{type:e.type,children:c(e.type)})]}),(0,Ne.jsx)(IA,{children:e.description}),e.codeExample&&(0,Ne.jsx)(DA,{children:e.codeExample}),(0,Ne.jsx)(LA,{children:e.tags.map((e,n)=>(0,Ne.jsx)(AA,{children:e},n))})]},e.id))}),0===l().length&&a&&(0,Ne.jsxs)("div",{style:{textAlign:"center",color:"var(--color-textTertiary)",fontSize:"18px",fontWeight:"600",marginTop:"50px",textShadow:"0 1px 2px var(--color-shadow)"},children:['No se encontraron elementos que coincidan con "',a,'"']}),(0,Ne.jsxs)(OA,{children:[(0,Ne.jsx)(NA,{children:"\ud83d\udcda Informaci\xf3n Importante"}),(0,Ne.jsx)(RA,{children:"La personalizaci\xf3n b\xe1sica de Ren'Py se realiza principalmente en los archivos options.rpy, gui.rpy y screens.rpy. Estos archivos controlan la apariencia y comportamiento fundamental del juego seg\xfan la documentaci\xf3n oficial."})]}),(0,Ne.jsxs)(FA,{children:[(0,Ne.jsx)(MA,{children:"\ud83d\udca1 Consejo de Personalizaci\xf3n"}),(0,Ne.jsx)(HA,{children:"Comienza con la personalizaci\xf3n b\xe1sica antes de avanzar a modificaciones m\xe1s complejas. Los archivos gui.rpy y options.rpy son ideales para empezar a personalizar tu juego."})]}),(0,Ne.jsxs)(BA,{children:[(0,Ne.jsx)(WA,{children:"\u26a0\ufe0f Importante"}),(0,Ne.jsx)(VA,{children:"Siempre haz una copia de seguridad de tus archivos antes de modificarlos. Algunos cambios pueden afectar la funcionalidad del juego si no se implementan correctamente."})]}),(0,Ne.jsxs)(OA,{children:[(0,Ne.jsx)(NA,{children:"\ud83d\udd17 Recursos Adicionales"}),(0,Ne.jsxs)(RA,{children:["Para m\xe1s informaci\xf3n detallada sobre personalizaci\xf3n, consulta la documentaci\xf3n oficial de Ren'Py:",(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://www.renpy.org/doc/html/gui.html",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"GUI Customization Guide"}),(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://www.renpy.org/doc/html/quickstart.html",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"Quickstart Guide"}),(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://lemmasoft.renai.us/forums/viewforum.php?f=51",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)",fontWeight:"600",textShadow:"0 1px 2px var(--color-shadow)"},children:"Ren'Py Cookbook"})]})]})]})]})};var qA,GA,YA,$A,JA,ZA,KA,QA,XA,eD,nD,rD,oD,tD,aD,iD,sD,lD,cD,dD,uD,pD,hD,gD,fD,xD;const mD=Oe.div(qA||(qA=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),vD=Oe.div(GA||(GA=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),bD=Oe.h1(YA||(YA=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 32px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.5px;\n"]))),yD=Oe.button($A||($A=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    transform: scale(1.05);\n  }\n"]))),wD=Oe.div(JA||(JA=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),jD=Oe.div(ZA||(ZA=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 25px;\n  margin-bottom: 30px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),kD=Oe.h2(KA||(KA=t(["\n  color: var(--color-success);\n  margin: 0 0 20px 0;\n  font-size: 22px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 3px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),SD=Oe.input(QA||(QA=t(["\n  width: 100%;\n  padding: 12px 16px;\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-success);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n    transform: translateY(-1px);\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 3px 8px var(--color-shadowHover);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-weight: 400;\n  }\n"]))),_D=Oe.div(XA||(XA=t(["\n  display: flex;\n  gap: 10px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n"]))),CD=Oe.button(eD||(eD=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 14px 22px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"])),e=>e.active?"var(--color-success)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-success)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-border)",e=>e.active?"var(--color-successHover)":"var(--color-primary)"),ED=Oe.div(nD||(nD=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 25px;\n  margin-bottom: 40px;\n"]))),zD=Oe.div(rD||(rD=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-success);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-8px);\n    box-shadow: 0 12px 32px var(--color-shadowHover);\n  }\n"]))),PD=Oe.div(oD||(oD=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 15px;\n"]))),TD=Oe.h3(tD||(tD=t(["\n  margin: 0;\n  color: var(--color-success);\n  font-size: 20px;\n  font-weight: 800;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),ID=Oe.span(aD||(aD=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"])),e=>{switch(e.category){case"language":return"var(--color-info)";case"gui":return"var(--color-success)";case"config":return"var(--color-warning)";case"script":return"var(--color-primary)";case"display":return"var(--color-error)";case"audio":return"var(--color-border)";default:return"var(--color-borderSecondary)"}}),LD=Oe.p(iD||(iD=t(["\n  color: var(--color-textPrimary);\n  margin: 0 0 18px 0;\n  line-height: 1.7;\n  font-size: 16px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),AD=Oe.div(sD||(sD=t(["\n  background-color: var(--color-backgroundSecondary);\n  border: 3px solid var(--color-primary);\n  border-radius: 10px;\n  padding: 20px;\n  margin: 18px 0;\n  font-family: 'Courier New', monospace;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-primary);\n  overflow-x: auto;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-primaryHover);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\n    border-radius: 10px 10px 0 0;\n  }\n"]))),DD=Oe.div(lD||(lD=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-success);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-successHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-success), var(--color-successHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),OD=Oe.div(cD||(cD=t(["\n  color: var(--color-success);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),ND=Oe.div(dD||(dD=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),RD=Oe.div(uD||(uD=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-warning);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-warningHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),FD=Oe.div(pD||(pD=t(["\n  color: var(--color-warning);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),MD=Oe.div(hD||(hD=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),HD=Oe.div(gD||(gD=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 3px solid var(--color-error);\n  border-radius: 14px;\n  padding: 24px;\n  margin: 24px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px var(--color-shadow);\n  position: relative;\n\n  &:hover {\n    border-color: var(--color-errorHover);\n    box-shadow: 0 8px 24px var(--color-shadowHover);\n    transform: translateY(-3px);\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 4px;\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\n    border-radius: 14px 14px 0 0;\n  }\n"]))),BD=Oe.div(fD||(fD=t(["\n  color: var(--color-error);\n  font-weight: 800;\n  font-size: 18px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 2px 4px var(--color-shadow);\n  letter-spacing: 0.3px;\n"]))),WD=Oe.div(xD||(xD=t(["\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  line-height: 1.7;\n  font-weight: 600;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"])));const VD=function(e){let{onClose:r}=e;const[o,t]=(0,n.useState)("language"),[a,i]=(0,n.useState)(""),s={language:[{id:"label",title:"Label",icon:"\ud83c\udff7\ufe0f",category:"language",definition:"Un label es una etiqueta que marca un punto espec\xedfico en el script de Ren'Py. Los labels permiten saltar a diferentes partes del c\xf3digo usando jump o call.",example:'# Definir un label\nlabel start:\n    "\xa1Hola mundo!"\n    jump ending\n\n# Llamar un label\ncall start\n\n# Saltar a un label\njump start',tip:'Los labels son fundamentales para la navegaci\xf3n en Ren\'Py. Cada juego debe tener un label "start" como punto de entrada.',info:"Los nombres de labels deben ser \xfanicos y no pueden contener espacios."},{id:"menu",title:"Menu",icon:"\ud83d\udccb",category:"language",definition:"Un menu permite al jugador elegir entre diferentes opciones. Es la base de las decisiones interactivas en Ren'Py.",example:'menu:\n    "\xbfQu\xe9 quieres hacer?"\n    \n    "Ir a la izquierda":\n        jump left_path\n    \n    "Ir a la derecha":\n        jump right_path\n    \n    "Quedarse aqu\xed":\n        jump stay_here',tip:"Los menus deben estar correctamente indentados. Cada opci\xf3n lleva a un label diferente.",info:"Los menus pueden anidarse y contener texto adicional."},{id:"variable",title:"Variable",icon:"\ud83d\udd22",category:"language",definition:"Las variables almacenan datos que pueden cambiar durante el juego. Se usan para guardar el progreso del jugador y tomar decisiones.",example:'# Definir variables\ndefault player_name = "Jugador"\ndefault score = 0\ndefault has_key = False\n\n# Usar variables\nif score > 100:\n    "\xa1Excelente puntuaci\xf3n!"\nelif has_key:\n    "Tienes la llave m\xe1gica."',tip:'Usa "default" para variables que pueden cambiar, "define" para constantes.',info:"Las variables pueden ser n\xfameros, texto, booleanos o listas."},{id:"character",title:"Character",icon:"\ud83d\udc64",category:"language",definition:"Un character define c\xf3mo se muestra el di\xe1logo de un personaje. Controla el nombre, color, voz y otros aspectos del personaje.",example:'# Definir personajes\ndefine eileen = Character("Eileen", color="#c8ffc8")\ndefine narrator = Character(None, kind=nvl)\n\n# Usar personajes\neileen "\xa1Hola! \xbfC\xf3mo est\xe1s?"\nnarrator "El narrador habla sin nombre visible."',tip:"Los personajes pueden tener diferentes colores, fuentes y comportamientos.",info:"Character(None) crea un narrador sin nombre visible."}],gui:[{id:"screen",title:"Screen",icon:"\ud83d\udda5\ufe0f",category:"gui",definition:"Una screen es una interfaz personalizable que define c\xf3mo se ve y comporta una pantalla del juego. Se usa para men\xfas, configuraciones y elementos de UI.",example:'screen main_menu():\n    tag menu\n    \n    add gui.main_menu_background\n    \n    textbutton "Nueva Partida" action Start()\n    textbutton "Cargar" action ShowMenu("load")\n    textbutton "Configuraci\xf3n" action ShowMenu("preferences")\n    textbutton "Salir" action Quit(confirm=True)',tip:"Las screens se definen en screens.rpy y se pueden mostrar con Show() o ShowMenu().",info:"Cada screen debe tener un tag \xfanico para evitar conflictos."},{id:"style",title:"Style",icon:"\ud83c\udfa8",category:"gui",definition:"Un style define la apariencia visual de los elementos de la interfaz. Controla colores, fuentes, tama\xf1os y otros aspectos visuales.",example:'style button:\n    background Frame("gui/button/idle.png", Borders(6, 6, 6, 6))\n    hover_background Frame("gui/button/hover.png", Borders(6, 6, 6, 6))\n    padding (25, 25, 25, 25)\n    text_size 33',tip:"Los styles se pueden heredar y modificar para crear variaciones.",info:"Ren'Py tiene muchos styles predefinidos que puedes personalizar."},{id:"transform",title:"Transform",icon:"\ud83d\udd04",category:"gui",definition:"Un transform define c\xf3mo se mueve, escala o cambia un elemento visual. Se usa para animaciones y efectos visuales.",example:"# Definir transform\ntransform fadein:\n    alpha 0.0\n    linear 1.0 alpha 1.0\n\n# Usar transform\nshow eileen happy at fadein\nshow bg room at zoom(1.2)",tip:"Los transforms pueden combinarse para crear efectos complejos.",info:"Ren'Py incluye transforms predefinidos como fade, dissolve y move."}],config:[{id:"options-rpy",title:"options.rpy",icon:"\u2699\ufe0f",category:"config",definition:"El archivo options.rpy contiene la configuraci\xf3n principal del juego. Define el t\xedtulo, resoluci\xf3n, opciones de audio y otras configuraciones b\xe1sicas.",example:'## Informaci\xf3n b\xe1sica del juego\ndefine config.name = _("Mi Juego")\ndefine config.version = "1.0"\n\n## Resoluci\xf3n\ndefine config.screen_width = 1920\ndefine config.screen_height = 1080\n\n## Audio\ndefine config.has_sound = True\ndefine config.has_music = True\ndefine config.has_voice = True',tip:"Modifica options.rpy para personalizar la configuraci\xf3n b\xe1sica de tu juego.",info:"Este archivo se crea autom\xe1ticamente al crear un nuevo proyecto."},{id:"gui-rpy",title:"gui.rpy",icon:"\ud83c\udfa8",category:"config",definition:"El archivo gui.rpy define las variables de la interfaz gr\xe1fica. Controla colores, tama\xf1os, fuentes y otros aspectos visuales del juego.",example:"## Colores\ndefine gui.accent_color = '#ff6b6b'\ndefine gui.idle_color = '#888888'\ndefine gui.hover_color = '#ffffff'\n\n## Fuentes\ndefine gui.text_font = \"DejaVuSans.ttf\"\ndefine gui.name_text_size = 45\ndefine gui.text_size = 33",tip:"Modifica gui.rpy para cambiar la apariencia visual de tu juego.",info:"Los cambios en gui.rpy afectan toda la interfaz del juego."},{id:"screens-rpy",title:"screens.rpy",icon:"\ud83d\udda5\ufe0f",category:"config",definition:"El archivo screens.rpy define las pantallas del juego. Contiene los men\xfas principales, configuraci\xf3n y otras interfaces personalizadas.",example:'screen main_menu():\n    tag menu\n    \n    add gui.main_menu_background\n    \n    textbutton "Nueva Partida" action Start()\n    textbutton "Cargar" action ShowMenu("load")',tip:"Modifica screens.rpy para personalizar los men\xfas y pantallas del juego.",info:"Este archivo contiene las definiciones de todas las pantallas del juego."}],script:[{id:"script-rpy",title:"script.rpy",icon:"\ud83d\udcdd",category:"script",definition:"El archivo script.rpy es donde se escribe la historia principal del juego. Contiene di\xe1logos, narraci\xf3n y la l\xf3gica del juego.",example:'# El juego comienza aqu\xed\nlabel start:\n    scene bg room\n    show eileen happy\n    \n    eileen "\xa1Hola! Bienvenido a mi juego."\n    \n    menu:\n        "\xbfQu\xe9 quieres hacer?"\n        \n        "Hablar con Eileen":\n            jump talk_eileen\n        \n        "Explorar la habitaci\xf3n":\n            jump explore_room',tip:"Puedes dividir tu historia en m\xfaltiples archivos .rpy para mejor organizaci\xf3n.",info:"Este es el archivo principal donde se desarrolla la historia del juego."},{id:"jump",title:"Jump",icon:"\u2197\ufe0f",category:"script",definition:"Jump permite saltar a un label espec\xedfico sin posibilidad de regresar. Es \xfatil para cambiar de escena o continuar la historia.",example:'label start:\n    "Esta es la escena inicial"\n    jump next_scene\n\nlabel next_scene:\n    "Ahora estamos en la siguiente escena"\n    return',tip:"Jump no permite regresar. Usa call si necesitas volver al punto original.",info:"Jump es ideal para el flujo principal de la historia."},{id:"call",title:"Call",icon:"\ud83d\udcde",category:"script",definition:"Call permite llamar a un label y regresar al punto original cuando termine. Es \xfatil para subrutinas y escenas reutilizables.",example:'label start:\n    "Llamando a una subrutina"\n    call show_inventory\n    "Regresamos aqu\xed despu\xe9s de la subrutina"\n\nlabel show_inventory:\n    "Mostrando inventario..."\n    return',tip:"Call permite regresar al punto original usando return.",info:"Call es ideal para funciones que se usan m\xfaltiples veces."}],display:[{id:"show",title:"Show",icon:"\ud83d\udc41\ufe0f",category:"display",definition:"Show muestra una imagen en la pantalla. Se usa para mostrar personajes, fondos y otros elementos visuales.",example:"# Mostrar personaje\nshow eileen happy at center\n\n# Mostrar fondo\nshow bg room\n\n# Mostrar con transici\xf3n\nshow eileen sad at center with fade",tip:'Usa "at" para posicionar elementos y "with" para transiciones.',info:"Show reemplaza elementos del mismo tipo si ya est\xe1n visibles."},{id:"scene",title:"Scene",icon:"\ud83c\udfac",category:"display",definition:"Scene limpia la pantalla y muestra una nueva imagen. Se usa para cambiar completamente la escena visual.",example:"# Limpiar pantalla y mostrar nuevo fondo\nscene bg forest\n\n# Mostrar escena con transici\xf3n\nscene bg room with dissolve\n\n# Limpiar todo\nscene black",tip:"Scene es ideal para cambios dram\xe1ticos de escena.",info:"Scene oculta todos los elementos visibles antes de mostrar la nueva imagen."},{id:"hide",title:"Hide",icon:"\ud83d\udc7b",category:"display",definition:"Hide oculta una imagen espec\xedfica de la pantalla. Se usa para quitar personajes o elementos sin limpiar toda la pantalla.",example:"# Ocultar personaje\nhide eileen\n\n# Ocultar con transici\xf3n\nhide eileen with fade\n\n# Ocultar m\xfaltiples elementos\nhide eileen\nhide bg room",tip:"Hide es \xfatil para quitar elementos espec\xedficos sin afectar otros.",info:"Hide solo afecta al elemento especificado, no a toda la pantalla."}],audio:[{id:"play-music",title:"Play Music",icon:"\ud83c\udfb5",category:"audio",definition:"Play music reproduce m\xfasica de fondo. La m\xfasica se reproduce en loop y se puede cambiar o detener en cualquier momento.",example:'# Reproducir m\xfasica\nplay music "audio/bgm/main_theme.ogg"\n\n# Reproducir con transici\xf3n\nplay music "audio/bgm/battle_theme.ogg" fadeout 1.0 fadein 1.0\n\n# Detener m\xfasica\nstop music',tip:"La m\xfasica se reproduce en loop autom\xe1ticamente.",info:"Ren'Py soporta formatos OGG, MP3 y WAV para m\xfasica."},{id:"play-sound",title:"Play Sound",icon:"\ud83d\udd0a",category:"audio",definition:"Play sound reproduce efectos de sonido. Los sonidos se reproducen una vez y pueden superponerse entre s\xed.",example:'# Reproducir efecto de sonido\nplay sound "audio/sfx/click.ogg"\n\n# Reproducir m\xfaltiples sonidos\nplay sound "audio/sfx/click.ogg"\nplay sound "audio/sfx/notification.ogg"',tip:"Los efectos de sonido se pueden reproducir simult\xe1neamente.",info:"Los sonidos son ideales para efectos, notificaciones y feedback del usuario."},{id:"play-voice",title:"Play Voice",icon:"\ud83c\udfa4",category:"audio",definition:"Play voice reproduce archivos de voz para los di\xe1logos. Se sincroniza autom\xe1ticamente con el texto que se muestra.",example:'# Reproducir voz\nplay voice "audio/voice/eileen_001.ogg"\neileen "Hola, \xbfc\xf3mo est\xe1s?"\n\n# Reproducir voz con texto\neileen "Esta es mi voz" voice "audio/voice/eileen_002.ogg"',tip:"La voz se reproduce autom\xe1ticamente cuando se muestra el di\xe1logo.",info:"Los archivos de voz se organizan t\xedpicamente por personaje y n\xfamero de l\xednea."}],python:[{id:"python-block",title:"Python Block",icon:"\ud83d\udc0d",category:"python",definition:"Un bloque de Python permite ejecutar c\xf3digo Python dentro del script de Ren'Py. Se usa para l\xf3gica compleja y c\xe1lculos.",example:'# Bloque de Python\npython:\n    player_score = 100\n    enemy_score = 80\n    \n    if player_score > enemy_score:\n        winner = "Jugador"\n    else:\n        winner = "Enemigo"\n\n"El ganador es [winner]!"',tip:"Los bloques de Python deben estar correctamente indentados.",info:"Python se integra perfectamente con Ren'Py para l\xf3gica compleja."},{id:"renpy-function",title:"Ren'Py Functions",icon:"\u2699\ufe0f",category:"python",definition:"Las funciones de Ren'Py permiten acceder a funcionalidades espec\xedficas del motor desde Python. Incluyen input, notify, save, load, etc.",example:'# Usar funciones de Ren\'Py\n$ player_name = renpy.input("\xbfCu\xe1l es tu nombre?", default="Jugador")\n$ renpy.notify("\xa1Bienvenido, " + player_name + "!")\n\n# Guardar y cargar\n$ renpy.save("save_1")\n$ renpy.load("save_1")',tip:'Las funciones de Ren\'Py tienen el prefijo "renpy." en Python.',info:"Estas funciones conectan Python con las funcionalidades de Ren'Py."},{id:"conditional",title:"Conditional",icon:"\ud83d\udd00",category:"python",definition:"Las declaraciones condicionales permiten ejecutar c\xf3digo diferente basado en condiciones. Se usan para crear ramas en la historia.",example:'# Condicional simple\nif score > 100:\n    "\xa1Excelente puntuaci\xf3n!"\nelif score > 50:\n    "Buena puntuaci\xf3n"\nelse:\n    "Puedes mejorar"\n\n# Condicional con variables\nif has_key and door_unlocked:\n    "Puedes pasar"\nelse:\n    "La puerta est\xe1 cerrada"',tip:"Las condicionales permiten crear historias no lineales.",info:"Puedes usar operadores como and, or, not para condiciones complejas."}]},l=()=>{let e=s[o]||[];return a&&(e=e.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.definition.toLowerCase().includes(a.toLowerCase())||e.example.toLowerCase().includes(a.toLowerCase()))),e},c=e=>{switch(e){case"language":return"Lenguaje";case"gui":return"GUI";case"config":return"Config";case"script":return"Script";case"display":return"Display";case"audio":return"Audio";case"python":return"Python";default:return"Otro"}};return(0,Ne.jsxs)(mD,{children:[(0,Ne.jsxs)(vD,{children:[(0,Ne.jsx)(bD,{children:"\ud83d\udcda Glosario de T\xe9rminos T\xe9cnicos"}),(0,Ne.jsx)(yD,{onClick:r,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(wD,{children:[(0,Ne.jsxs)(jD,{children:[(0,Ne.jsx)(kD,{children:"\ud83d\udd0d Buscar T\xe9rminos"}),(0,Ne.jsx)(SD,{type:"text",placeholder:"Busca t\xe9rminos t\xe9cnicos espec\xedficos...",value:a,onChange:e=>i(e.target.value)})]}),(0,Ne.jsxs)(_D,{children:[(0,Ne.jsx)(CD,{active:"language"===o,onClick:()=>t("language"),children:"\ud83c\udff7\ufe0f Lenguaje"}),(0,Ne.jsx)(CD,{active:"gui"===o,onClick:()=>t("gui"),children:"\ud83d\udda5\ufe0f GUI"}),(0,Ne.jsx)(CD,{active:"config"===o,onClick:()=>t("config"),children:"\u2699\ufe0f Config"}),(0,Ne.jsx)(CD,{active:"script"===o,onClick:()=>t("script"),children:"\ud83d\udcdd Script"}),(0,Ne.jsx)(CD,{active:"display"===o,onClick:()=>t("display"),children:"\ud83d\udc41\ufe0f Display"}),(0,Ne.jsx)(CD,{active:"audio"===o,onClick:()=>t("audio"),children:"\ud83c\udfb5 Audio"}),(0,Ne.jsx)(CD,{active:"python"===o,onClick:()=>t("python"),children:"\ud83d\udc0d Python"})]}),(0,Ne.jsx)(ED,{children:l().map(e=>(0,Ne.jsxs)(zD,{children:[(0,Ne.jsxs)(PD,{children:[(0,Ne.jsxs)(TD,{children:[e.icon," ",e.title]}),(0,Ne.jsx)(ID,{category:e.category,children:c(e.category)})]}),(0,Ne.jsx)(LD,{children:e.definition}),(0,Ne.jsx)(AD,{children:e.example}),e.tip&&(0,Ne.jsxs)(RD,{children:[(0,Ne.jsx)(FD,{children:"\ud83d\udca1 Consejo"}),(0,Ne.jsx)(MD,{children:e.tip})]}),e.info&&(0,Ne.jsxs)(DD,{children:[(0,Ne.jsx)(OD,{children:"\u2139\ufe0f Informaci\xf3n"}),(0,Ne.jsx)(ND,{children:e.info})]})]},e.id))}),0===l().length&&a&&(0,Ne.jsxs)("div",{style:{textAlign:"center",color:"var(--color-textTertiary)",fontSize:"18px",marginTop:"50px"},children:['No se encontraron t\xe9rminos que coincidan con "',a,'"']}),(0,Ne.jsxs)(DD,{children:[(0,Ne.jsx)(OD,{children:"\ud83d\udcda Informaci\xf3n Importante"}),(0,Ne.jsx)(ND,{children:"Este glosario contiene los t\xe9rminos t\xe9cnicos m\xe1s importantes de Ren'Py basados en la documentaci\xf3n oficial. Cada t\xe9rmino incluye definiciones, ejemplos de c\xf3digo y consejos pr\xe1cticos."})]}),(0,Ne.jsxs)(RD,{children:[(0,Ne.jsx)(FD,{children:"\ud83d\udca1 C\xf3mo Usar Este Glosario"}),(0,Ne.jsx)(MD,{children:"Usa la b\xfasqueda para encontrar t\xe9rminos espec\xedficos, o navega por categor\xedas para explorar conceptos relacionados. Los ejemplos de c\xf3digo son funcionales y puedes copiarlos directamente en tu proyecto."})]}),(0,Ne.jsxs)(HD,{children:[(0,Ne.jsx)(BD,{children:"\u26a0\ufe0f Importante"}),(0,Ne.jsx)(WD,{children:"Los t\xe9rminos t\xe9cnicos pueden tener diferentes usos seg\xfan el contexto. Siempre consulta la documentaci\xf3n oficial para casos espec\xedficos y actualizaciones."})]}),(0,Ne.jsxs)(DD,{children:[(0,Ne.jsx)(OD,{children:"\ud83d\udd17 Recursos Adicionales"}),(0,Ne.jsxs)(ND,{children:["Para m\xe1s informaci\xf3n detallada sobre estos t\xe9rminos, consulta:",(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://www.renpy.org/doc/html/",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:"Documentaci\xf3n Oficial de Ren'Py"}),(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://www.renpy.org/doc/html/quickstart.html",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:"Gu\xeda de Inicio R\xe1pido"}),(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://lemmasoft.renai.us/forums/viewforum.php?f=51",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:"Ren'Py Cookbook"})]})]})]})]})};var UD,qD,GD,YD,$D,JD,ZD,KD,QD,XD,eO,nO,rO,oO,tO,aO,iO,sO,lO,cO,dO,uO,pO,hO;const gO=Oe.div(UD||(UD=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--color-background);\n  z-index: 3000;\n  overflow-y: auto;\n  transition: background-color 0.3s ease;\n"]))),fO=Oe.div(qD||(qD=t(["\n  background-color: var(--color-surface);\n  padding: 20px;\n  border-bottom: 2px solid var(--color-border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  z-index: 3001;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),xO=Oe.h1(GD||(GD=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 28px;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  transition: color 0.3s ease;\n"]))),mO=Oe.button(YD||(YD=t(["\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 8px;\n  padding: 12px 20px;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    transform: scale(1.05);\n  }\n"]))),vO=Oe.div($D||($D=t(["\n  padding: 30px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),bO=Oe.div(JD||(JD=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 25px;\n  margin-bottom: 30px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n"]))),yO=Oe.h2(ZD||(ZD=t(["\n  color: var(--color-primary);\n  margin: 0 0 15px 0;\n  font-size: 20px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n"]))),wO=Oe.input(KD||(KD=t(["\n  width: 100%;\n  padding: 12px 16px;\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-textPrimary);\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n    transform: translateY(-1px);\n  }\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 3px 8px var(--color-shadowHover);\n  }\n\n  &::placeholder {\n    color: var(--color-textTertiary);\n    font-weight: 400;\n  }\n"]))),jO=Oe.div(QD||(QD=t(["\n  display: flex;\n  gap: 10px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n"]))),kO=Oe.button(XD||(XD=t(["\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  padding: 14px 22px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: var(--color-textInverse);\n    transform: translateY(-3px);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"])),e=>e.active?"var(--color-primary)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-textInverse)":"var(--color-textPrimary)",e=>e.active?"var(--color-primary)":"var(--color-border)",e=>e.active?"var(--color-primaryHover)":"var(--color-border)",e=>e.active?"var(--color-primaryHover)":"var(--color-primary)"),SO=Oe.div(eO||(eO=t(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 25px;\n  margin-bottom: 40px;\n"]))),_O=Oe.div(nO||(nO=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 24px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    background-color: var(--color-surfaceElevated);\n    transform: translateY(-8px);\n    box-shadow: 0 12px 32px var(--color-shadowHover);\n  }\n"]))),CO=Oe.div(rO||(rO=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 15px;\n"]))),EO=Oe.h3(oO||(oO=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 18px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),zO=Oe.span(tO||(tO=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n"])),e=>{switch(e.category){case"getting-started":return"var(--color-success)";case"language":return"var(--color-info)";case"customization":return"var(--color-warning)";case"advanced":return"var(--color-primary)";case"tools":return"var(--color-error)";case"community":return"var(--color-border)";default:return"var(--color-borderSecondary)"}}),PO=Oe.p(aO||(aO=t(["\n  color: var(--color-textSecondary);\n  margin: 0 0 15px 0;\n  line-height: 1.6;\n  font-size: 15px;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),TO=Oe.div(iO||(iO=t(["\n  background-color: var(--color-backgroundSecondary);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  padding: 16px;\n  margin: 15px 0;\n  font-family: 'Courier New', monospace;\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--color-primary);\n  overflow-x: auto;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 6px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 4px 12px var(--color-shadowHover);\n  }\n"]))),IO=Oe.div(sO||(sO=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-primary);\n  border-radius: 12px;\n  padding: 20px;\n  margin: 20px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-primaryHover);\n    box-shadow: 0 6px 20px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n"]))),LO=Oe.div(lO||(lO=t(["\n  color: var(--color-primary);\n  font-weight: 700;\n  font-size: 16px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),AO=Oe.div(cO||(cO=t(["\n  color: var(--color-textPrimary);\n  font-size: 15px;\n  line-height: 1.6;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),DO=Oe.div(dO||(dO=t(["\n  background-color: var(--color-surfaceSecondary);\n  border: 2px solid var(--color-warning);\n  border-radius: 12px;\n  padding: 20px;\n  margin: 20px 0;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px var(--color-shadow);\n\n  &:hover {\n    border-color: var(--color-warningHover);\n    box-shadow: 0 6px 20px var(--color-shadowHover);\n    transform: translateY(-2px);\n  }\n"]))),OO=Oe.div(uO||(uO=t(["\n  color: var(--color-warning);\n  font-weight: 700;\n  font-size: 16px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),NO=Oe.div(pO||(pO=t(["\n  color: var(--color-textPrimary);\n  font-size: 15px;\n  line-height: 1.6;\n  font-weight: 500;\n  transition: color 0.3s ease;\n"]))),RO=Oe.a(hO||(hO=t(["\n  display: inline-block;\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  text-decoration: none;\n  padding: 12px 20px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 700;\n  transition: all 0.3s ease;\n  margin: 5px 5px 5px 0;\n  box-shadow: 0 3px 8px var(--color-shadow);\n  border: 2px solid var(--color-primary);\n\n  &:hover {\n    background-color: var(--color-primaryHover);\n    border-color: var(--color-primaryHover);\n    transform: translateY(-2px) scale(1.02);\n    text-decoration: none;\n    color: var(--color-textInverse);\n    box-shadow: 0 6px 16px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0) scale(0.98);\n    box-shadow: 0 3px 8px var(--color-shadow);\n  }\n"])));const FO=function(e){let{onClose:r}=e;const[o,t]=(0,n.useState)("getting-started"),[a,i]=(0,n.useState)(""),s={"getting-started":[{id:"quickstart",title:"Gu\xeda de Inicio R\xe1pido",icon:"\ud83d\ude80",category:"getting-started",description:"Aprende los conceptos b\xe1sicos de Ren'Py en minutos. Perfecto para comenzar tu primera novela visual.",example:'# Tu primer juego Ren\'Py\nlabel start:\n    "\xa1Hola! Este es mi primer juego."\n    "\xbfC\xf3mo te llamas?"\n    $ name = renpy.input("\xbfCu\xe1l es tu nombre?")\n    "[name], \xa1bienvenido a Ren\'Py!"',tip:"Comienza con el tutorial oficial de Ren'Py para entender los conceptos b\xe1sicos.",links:[{text:"Documentaci\xf3n Oficial",url:"https://www.renpy.org/doc/html/"},{text:"Quickstart Guide",url:"https://www.renpy.org/doc/html/quickstart.html"}]},{id:"installation",title:"Instalaci\xf3n y Configuraci\xf3n",icon:"\u2699\ufe0f",category:"getting-started",description:"C\xf3mo descargar, instalar y configurar Ren'Py en tu sistema.",example:"# Pasos de instalaci\xf3n:\n# 1. Descargar Ren'Py desde renpy.org\n# 2. Extraer en una carpeta\n# 3. Ejecutar renpy.exe (Windows) o renpy.sh (Linux/Mac)\n# 4. Crear un nuevo proyecto",tip:"Ren'Py es multiplataforma y funciona en Windows, Mac y Linux.",links:[{text:"Descargar Ren'Py",url:"https://www.renpy.org/latest.html"}]},{id:"first-project",title:"Crear tu Primer Proyecto",icon:"\ud83c\udfae",category:"getting-started",description:"Gu\xeda paso a paso para crear tu primera novela visual con Ren'Py.",example:"# Estructura b\xe1sica de un proyecto:\ngame/\n\u251c\u2500\u2500 script.rpy      # Tu historia\n\u251c\u2500\u2500 images/         # Im\xe1genes del juego\n\u251c\u2500\u2500 audio/          # M\xfasica y sonidos\n\u2514\u2500\u2500 gui/           # Elementos de interfaz",tip:"Usa el Launcher de Ren'Py para crear proyectos f\xe1cilmente.",links:[{text:"Tutorial Completo",url:"https://www.renpy.org/doc/html/quickstart.html"}]}],language:[{id:"basic-syntax",title:"Sintaxis B\xe1sica de Ren'Py",icon:"\ud83d\udcdd",category:"language",description:"Aprende los elementos fundamentales del lenguaje de Ren'Py.",example:'# Di\xe1logos\ncharacter "Hola, \xbfc\xf3mo est\xe1s?"\n\n# Narraci\xf3n\n"Esta es una l\xednea de narraci\xf3n."\n\n# Etiquetas\nlabel start:\n    "El juego comienza aqu\xed"\n\n# Saltos\njump another_scene',tip:"Ren'Py usa indentaci\xf3n para estructurar el c\xf3digo, similar a Python.",links:[{text:"Language Basics",url:"https://www.renpy.org/doc/html/language_basics.html"}]},{id:"characters",title:"Sistema de Personajes",icon:"\ud83d\udc64",category:"language",description:"C\xf3mo crear y usar personajes en tus di\xe1logos.",example:'# Definir personajes\ndefine eileen = Character("Eileen", color="#c8ffc8")\ndefine narrator = Character(None)\n\n# Usar personajes\neileen "\xa1Hola! Soy Eileen."\nnarrator "El narrador habla sin nombre visible."',tip:"Los personajes pueden tener colores, voces y comportamientos personalizados.",links:[{text:"Dialogue and Narration",url:"https://www.renpy.org/doc/html/dialogue.html"}]},{id:"menus",title:"Men\xfas y Decisiones",icon:"\ud83c\udfaf",category:"language",description:"Crear men\xfas interactivos y decisiones que afecten la historia.",example:'menu:\n    "\xbfQu\xe9 quieres hacer?"\n    \n    "Ir a la izquierda":\n        jump left_path\n    \n    "Ir a la derecha":\n        jump right_path\n    \n    "Quedarse aqu\xed":\n        "Decidiste quedarte."',tip:"Los men\xfas deben estar correctamente indentados para funcionar.",links:[{text:"In-Game Menus",url:"https://www.renpy.org/doc/html/menus.html"}]}],customization:[{id:"gui-customization",title:"Personalizaci\xf3n de GUI",icon:"\ud83c\udfa8",category:"customization",description:"C\xf3mo personalizar la apariencia de tu juego.",example:"# En gui.rpy\ndefine gui.accent_color = '#ff6b6b'\ndefine gui.text_font = \"DejaVuSans.ttf\"\ndefine gui.text_size = 33\n\n# En screens.rpy\nscreen main_menu():\n    add gui.main_menu_background",tip:"La personalizaci\xf3n de GUI se hace principalmente en gui.rpy y screens.rpy.",links:[{text:"GUI Customization Guide",url:"https://www.renpy.org/doc/html/gui.html"}]},{id:"images",title:"Manejo de Im\xe1genes",icon:"\ud83d\uddbc\ufe0f",category:"customization",description:"C\xf3mo mostrar y manipular im\xe1genes en tu juego.",example:"# Mostrar im\xe1genes\nshow eileen happy at center\nscene bg room\nhide eileen\n\n# Con transiciones\nshow eileen sad at center with fade\nscene bg forest with dissolve",tip:"Las im\xe1genes deben estar en la carpeta images/ para ser reconocidas.",links:[{text:"Displaying Images",url:"https://www.renpy.org/doc/html/displaying_images.html"}]},{id:"audio",title:"Audio y M\xfasica",icon:"\ud83c\udfb5",category:"customization",description:"C\xf3mo agregar m\xfasica y efectos de sonido a tu juego.",example:'# Reproducir m\xfasica\nplay music "audio/bgm/main_theme.ogg"\n\n# Reproducir efectos\nplay sound "audio/sfx/click.ogg"\n\n# Reproducir voz\nplay voice "audio/voice/eileen_001.ogg"',tip:"Ren'Py soporta formatos OGG, MP3 y WAV para audio.",links:[{text:"Audio Documentation",url:"https://www.renpy.org/doc/html/audio.html"}]}],advanced:[{id:"python",title:"Python en Ren'Py",icon:"\ud83d\udc0d",category:"advanced",description:"Usar c\xf3digo Python para l\xf3gica compleja en tu juego.",example:'# Bloque de Python\npython:\n    player_score = 100\n    enemy_score = 80\n    \n    if player_score > enemy_score:\n        winner = "Jugador"\n    else:\n        winner = "Enemigo"\n\n"El ganador es [winner]!"',tip:"Python se integra perfectamente con Ren'Py para l\xf3gica compleja.",links:[{text:"Python Statements",url:"https://www.renpy.org/doc/html/python.html"}]},{id:"screens",title:"Screens y Screen Language",icon:"\ud83d\udda5\ufe0f",category:"advanced",description:"Crear interfaces personalizadas usando Screen Language.",example:'screen inventory():\n    tag menu\n    \n    vbox:\n        text "Inventario" size 40\n        \n        for item in inventory:\n            textbutton item action Return(item)',tip:"Screen Language permite crear interfaces complejas sin programar.",links:[{text:"Screens and Screen Language",url:"https://www.renpy.org/doc/html/screens.html"}]},{id:"transforms",title:"Transforms y Transiciones",icon:"\ud83d\udd04",category:"advanced",description:"Crear efectos visuales y animaciones avanzadas.",example:"# Definir transform\ntransform fadein:\n    alpha 0.0\n    linear 1.0 alpha 1.0\n\n# Usar transform\nshow eileen happy at fadein\n\n# Transiciones personalizadas\nscene bg room with pixellate",tip:"Los transforms permiten crear animaciones complejas y efectos visuales.",links:[{text:"Transforms",url:"https://www.renpy.org/doc/html/transforms.html"},{text:"Transitions",url:"https://www.renpy.org/doc/html/transitions.html"}]}],tools:[{id:"launcher",title:"Ren'Py Launcher",icon:"\ud83d\ude80",category:"tools",description:"Herramientas del launcher para gestionar proyectos.",example:"# Funciones del launcher:\n# - Crear nuevos proyectos\n# - Editar proyectos existentes\n# - Compilar y distribuir\n# - Actualizar Ren'Py\n# - Verificar scripts",tip:"El launcher es tu centro de control para todos los proyectos Ren'Py.",links:[{text:"Launcher Documentation",url:"https://www.renpy.org/doc/html/launcher.html"}]},{id:"developer-tools",title:"Developer Tools",icon:"\ud83d\udd27",category:"tools",description:"Herramientas avanzadas para desarrolladores.",example:"# Herramientas disponibles:\n# - Interactive Director\n# - Performance Monitor\n# - Memory Profiler\n# - Script Lint",tip:"Las developer tools ayudan a depurar y optimizar tu juego.",links:[{text:"Developer Tools",url:"https://www.renpy.org/doc/html/developer_tools.html"}]},{id:"building",title:"Building Distributions",icon:"\ud83d\udce6",category:"tools",description:"C\xf3mo compilar y distribuir tu juego para diferentes plataformas.",example:"# Plataformas soportadas:\n# - Windows (exe)\n# - Mac (app)\n# - Linux (tar.bz2)\n# - Android (apk)\n# - iOS (ipa)\n# - Web (HTML5)",tip:"Ren'Py puede compilar para m\xfaltiples plataformas autom\xe1ticamente.",links:[{text:"Building Distributions",url:"https://www.renpy.org/doc/html/build.html"}]}],community:[{id:"forums",title:"Lemma Soft Forums",icon:"\ud83d\udc65",category:"community",description:"La comunidad oficial de Ren'Py donde puedes obtener ayuda y compartir tu trabajo.",example:"# Secciones importantes:\n# - Ren'Py Cookbook (c\xf3digo reutilizable)\n# - Works in Progress (proyectos en desarrollo)\n# - Completed Games (juegos terminados)\n# - Technical Questions (ayuda t\xe9cnica)",tip:"Los foros son el mejor lugar para obtener ayuda de la comunidad.",links:[{text:"Ren'Py Forums",url:"https://lemmasoft.renai.us/forums/viewforum.php?f=51"}]},{id:"cookbook",title:"Ren'Py Cookbook",icon:"\ud83d\udcda",category:"community",description:"Biblioteca de c\xf3digo y ejemplos reutilizables para Ren'Py.",example:"# Tipos de c\xf3digo en el cookbook:\n# - Sistemas de inventario\n# - Minijuegos\n# - Efectos visuales\n# - Sistemas de guardado\n# - Personalizaci\xf3n de GUI",tip:"El cookbook contiene c\xf3digo probado y documentado por la comunidad.",links:[{text:"Ren'Py Cookbook",url:"https://lemmasoft.renai.us/forums/viewforum.php?f=51"}]},{id:"resources",title:"Recursos de la Comunidad",icon:"\ud83c\udfa8",category:"community",description:"Recursos gratuitos y herramientas creadas por la comunidad.",example:"# Recursos disponibles:\n# - Sprites y fondos gratuitos\n# - M\xfasica libre de derechos\n# - Herramientas de desarrollo\n# - Tutoriales y gu\xedas\n# - Templates de proyectos",tip:"La comunidad de Ren'Py es muy generosa compartiendo recursos gratuitos.",links:[{text:"Community Resources",url:"https://lemmasoft.renai.us/forums/"}]}]},l=()=>{let e=s[o]||[];return a&&(e=e.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())||e.example.toLowerCase().includes(a.toLowerCase()))),e},c=e=>{switch(e){case"getting-started":return"Inicio";case"language":return"Lenguaje";case"customization":return"Personalizaci\xf3n";case"advanced":return"Avanzado";case"tools":return"Herramientas";case"community":return"Comunidad";default:return"Otro"}};return(0,Ne.jsxs)(gO,{children:[(0,Ne.jsxs)(fO,{children:[(0,Ne.jsx)(xO,{children:"\ud83d\udcd6 Gu\xeda Completa de Ren'Py"}),(0,Ne.jsx)(mO,{onClick:r,children:"\u2715 Cerrar"})]}),(0,Ne.jsxs)(vO,{children:[(0,Ne.jsxs)(bO,{children:[(0,Ne.jsx)(yO,{children:"\ud83d\udd0d Buscar en la Gu\xeda"}),(0,Ne.jsx)(wO,{type:"text",placeholder:"Busca temas espec\xedficos, conceptos o funciones...",value:a,onChange:e=>i(e.target.value)})]}),(0,Ne.jsxs)(jO,{children:[(0,Ne.jsx)(kO,{active:"getting-started"===o,onClick:()=>t("getting-started"),children:"\ud83d\ude80 Inicio"}),(0,Ne.jsx)(kO,{active:"language"===o,onClick:()=>t("language"),children:"\ud83d\udcdd Lenguaje"}),(0,Ne.jsx)(kO,{active:"customization"===o,onClick:()=>t("customization"),children:"\ud83c\udfa8 Personalizaci\xf3n"}),(0,Ne.jsx)(kO,{active:"advanced"===o,onClick:()=>t("advanced"),children:"\ud83d\udd27 Avanzado"}),(0,Ne.jsx)(kO,{active:"tools"===o,onClick:()=>t("tools"),children:"\ud83d\udee0\ufe0f Herramientas"}),(0,Ne.jsx)(kO,{active:"community"===o,onClick:()=>t("community"),children:"\ud83d\udc65 Comunidad"})]}),(0,Ne.jsx)(SO,{children:l().map(e=>(0,Ne.jsxs)(_O,{children:[(0,Ne.jsxs)(CO,{children:[(0,Ne.jsxs)(EO,{children:[e.icon," ",e.title]}),(0,Ne.jsx)(zO,{category:e.category,children:c(e.category)})]}),(0,Ne.jsx)(PO,{children:e.description}),(0,Ne.jsx)(TO,{children:e.example}),e.tip&&(0,Ne.jsxs)(DO,{children:[(0,Ne.jsx)(OO,{children:"\ud83d\udca1 Consejo"}),(0,Ne.jsx)(NO,{children:e.tip})]}),e.links&&e.links.length>0&&(0,Ne.jsxs)(IO,{children:[(0,Ne.jsx)(LO,{children:"\ud83d\udd17 Enlaces \xdatiles"}),(0,Ne.jsx)(AO,{children:e.links.map((e,n)=>(0,Ne.jsx)(RO,{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.text},n))})]})]},e.id))}),0===l().length&&a&&(0,Ne.jsxs)("div",{style:{textAlign:"center",color:"var(--color-textTertiary)",fontSize:"18px",marginTop:"50px"},children:['No se encontraron gu\xedas que coincidan con "',a,'"']}),(0,Ne.jsxs)(IO,{children:[(0,Ne.jsx)(LO,{children:"\ud83d\udcda Informaci\xf3n Importante"}),(0,Ne.jsx)(AO,{children:"Esta gu\xeda est\xe1 basada en la documentaci\xf3n oficial de Ren'Py y recursos de la comunidad. Cada secci\xf3n incluye ejemplos pr\xe1cticos y enlaces directos a la documentaci\xf3n oficial."})]}),(0,Ne.jsxs)(DO,{children:[(0,Ne.jsx)(OO,{children:"\ud83d\udca1 C\xf3mo Usar Esta Gu\xeda"}),(0,Ne.jsx)(NO,{children:"Navega por las categor\xedas para encontrar el tema que necesitas, o usa la b\xfasqueda para encontrar conceptos espec\xedficos. Todos los enlaces abren la documentaci\xf3n oficial de Ren'Py en una nueva pesta\xf1a."})]}),(0,Ne.jsxs)(IO,{children:[(0,Ne.jsx)(LO,{children:"\ud83d\udd17 Recursos Oficiales"}),(0,Ne.jsxs)(AO,{children:["Para informaci\xf3n m\xe1s detallada, consulta siempre:",(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://www.renpy.org/doc/html/",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:"Documentaci\xf3n Oficial de Ren'Py"}),(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://www.renpy.org/doc/html/quickstart.html",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:"Gu\xeda de Inicio R\xe1pido"}),(0,Ne.jsx)("br",{}),"\u2022 ",(0,Ne.jsx)("a",{href:"https://lemmasoft.renai.us/forums/viewforum.php?f=51",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-primary)"},children:"Ren'Py Cookbook"})]})]})]})]})},MO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M20 8.5C20 9.88071 18.8807 11 17.5 11C16.1193 11 15 9.88071 15 8.5C15 7.11929 16.1193 6 17.5 6C18.8807 6 20 7.11929 20 8.5Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M17.5 14C15.0147 14 13 16.0147 13 18.5H22C22 16.0147 19.9853 14 17.5 14Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},HO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 9H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 15H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 21H15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},BO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1",ry:"1",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1",ry:"1",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1",ry:"1",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",ry:"1",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},WO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M12 2L13.09 8.26L19 9L13.09 9.74L12 16L10.91 9.74L5 9L10.91 8.26L12 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M19 15L20.09 18.26L23 19L20.09 19.74L19 23L17.91 19.74L15 19L17.91 18.26L19 15Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M5 15L6.09 18.26L9 19L6.09 19.74L5 23L3.91 19.74L1 19L3.91 18.26L5 15Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},VO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M9 18V5L21 3V16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"6",cy:"18",r:"3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"18",cy:"16",r:"3",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},UO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("polygon",{points:"11,5 6,9 2,9 2,15 6,15 11,19",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M19.07 4.93C20.9441 6.8041 21.9999 9.3474 21.9999 12C21.9999 14.6526 20.9441 17.1959 19.07 19.07",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},qO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M12 1C10.3431 1 9 2.34315 9 4V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V4C15 2.34315 13.6569 1 12 1Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M19 10V12C19 16.4183 15.4183 20 11 20H13C17.4183 20 21 16.4183 21 12V10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 20V24",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 24H16",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},GO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M23 7L16 12L23 17V7Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},YO=e=>{let{size:n=20,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 13H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M16 17H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 9H8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},$O=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M3 6H5H21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M10 11V17",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 11V17",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},JO=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"11",cy:"11",r:"8",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 21L16.65 16.65",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},ZO=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M23 4V10H17",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M20.49 15C19.9828 16.6513 19.0509 18.1409 17.7941 19.2941C16.5373 20.4473 15.0067 21.2143 13.3655 21.4981C11.7243 21.7818 10.0338 21.5712 8.5 20.8901C6.96616 20.209 5.65365 19.0826 4.71436 17.6424C3.77507 16.2022 3.25139 14.5151 3.20155 12.7805C3.15171 11.0459 3.57765 9.33451 4.4309 7.8409C5.28415 6.34729 6.52949 5.13769 8.02 4.36",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},KO=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M9 12L11 14L15 10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},QO=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M18 20V10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 20V4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M6 20V14",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},XO=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M19 12H5",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M12 19L5 12L12 5",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},eN=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M9 12L11 14L15 10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},nN=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M15 9L9 15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M9 9L15 15",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},rN=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.3"}),(0,Ne.jsx)("path",{d:"M12 2C14.2091 2 16.2091 3 17.6569 4.34315",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},oN=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M14 2V8H20",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},tN=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M21 15L16 10L5 21",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},aN=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("polygon",{points:"11,5 6,9 2,9 2,15 6,15 11,19",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M19.07 4.93C20.9441 6.8041 21.9999 9.3474 21.9999 12C21.9999 14.6526 20.9441 17.1959 19.07 19.07",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("path",{d:"M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},iN=e=>{let{size:n=16,color:r="currentColor"}=e;return(0,Ne.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ne.jsx)("path",{d:"M23 7L16 12L23 17V7Z",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ne.jsx)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})};var sN,lN,cN,dN,uN,pN,hN,gN,fN,xN,mN,vN,bN,yN,wN,jN,kN,SN,_N,CN,EN,zN,PN,TN,IN,LN,AN,DN,ON,NN,RN,FN,MN,HN,BN,WN,VN,UN,qN,GN,YN,$N,JN,ZN,KN,QN,XN,eR,nR,rR,oR,tR,aR,iR,sR,lR,cR,dR,uR,pR,hR,gR,fR,xR,mR,vR,bR,yR,wR,jR,kR;const SR=Oe.div(sN||(sN=t(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: var(--color-background);\n  color: var(--color-textPrimary);\n  overflow: hidden;\n  transition: background-color 0.3s ease, color 0.3s ease;\n"]))),_R=Oe.div(lN||(lN=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 24px;\n  background-color: var(--color-surface);\n  border-bottom: 1px solid var(--color-border);\n  box-shadow: 0 2px 8px var(--color-shadow);\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),CR=Oe.h1(cN||(cN=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 24px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n"]))),ER=Oe.div(dN||(dN=t(["\n  display: flex;\n  gap: 24px;\n  align-items: center;\n"]))),zR=Oe.div(uN||(uN=t(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px 16px;\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  border: 1px solid var(--color-border);\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),PR=Oe.div(pN||(pN=t(["\n  font-size: 18px;\n  font-weight: bold;\n  color: var(--color-primary);\n  transition: color 0.3s ease;\n"]))),TR=Oe.div(hN||(hN=t(["\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  margin-top: 2px;\n  transition: color 0.3s ease;\n"]))),IR=Oe.div(gN||(gN=t(["\n  display: flex;\n  align-items: center;\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  padding: 8px 16px;\n  border: 1px solid var(--color-borderSecondary);\n  min-width: 300px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),LR=Oe.input(fN||(fN=t(["\n  background: none;\n  border: none;\n  color: var(--color-textPrimary);\n  font-size: 14px;\n  width: 100%;\n  outline: none;\n  transition: color 0.3s ease;\n  \n  &::placeholder {\n    color: var(--color-textTertiary);\n  }\n"]))),AR=Oe.span(xN||(xN=t(["\n  margin-right: 8px;\n  color: var(--color-textTertiary);\n  transition: color 0.3s ease;\n"]))),DR=Oe.button(mN||(mN=t(["\n  background-color: var(--color-surfaceSecondary);\n  color: var(--color-textPrimary);\n  border: 1px solid var(--color-border);\n  padding: 8px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n  \n  &:hover:not(:disabled) {\n    background-color: var(--color-border);\n    border-color: var(--color-borderSecondary);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n  \n  &.warning:hover:not(:disabled) {\n    background-color: var(--color-warning);\n    border-color: var(--color-warning);\n    color: white;\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n  \n  &:disabled {\n    background-color: var(--color-border);\n    border-color: var(--color-border);\n    cursor: not-allowed;\n    opacity: 0.6;\n    transform: none;\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"]))),OR=Oe.div(vN||(vN=t(["\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n"]))),NR=Oe.div(bN||(bN=t(["\n  width: 280px;\n  background-color: var(--color-background);\n  border-right: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),RR=Oe.div(yN||(yN=t(["\n  padding: 16px;\n  border-bottom: 1px solid var(--color-border);\n  background-color: var(--color-surfaceSecondary);\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),FR=Oe.h3(wN||(wN=t(["\n  margin: 0;\n  color: var(--color-primary);\n  font-size: 16px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n"]))),MR=Oe.div(jN||(jN=t(["\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n"]))),HR=Oe.div(kN||(kN=t(["\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  margin-bottom: 4px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background-color: ",";\n  border: 1px solid ",";\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),e=>e.active?"var(--color-primary)":"transparent",e=>e.active?"var(--color-info)":"transparent",e=>e.active?"var(--color-primaryHover)":"var(--color-border)"),BR=Oe.div(SN||(SN=t(["\n  font-size: 20px;\n  margin-right: 12px;\n  opacity: ",";\n"])),e=>e.active?1:.7),WR=Oe.div(_N||(_N=t(["\n  flex: 1;\n"]))),VR=Oe.div(CN||(CN=t(["\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-textPrimary);\n  margin-bottom: 2px;\n  transition: color 0.3s ease;\n"]))),UR=Oe.div(EN||(EN=t(["\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  transition: color 0.3s ease;\n"]))),qR=Oe.div(zN||(zN=t(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),GR=Oe.div(PN||(PN=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 24px;\n  background-color: var(--color-background);\n  border-bottom: 1px solid var(--color-border);\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),YR=Oe.h2(TN||(TN=t(["\n  margin: 0;\n  color: var(--color-textPrimary);\n  font-size: 18px;\n  font-weight: 600;\n  transition: color 0.3s ease;\n"]))),$R=Oe.div(IN||(IN=t(["\n  display: flex;\n  gap: 12px;\n  align-items: center;\n"]))),JR=Oe.button(LN||(LN=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  border: none;\n  padding: 8px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),e=>e.active?"var(--color-primary)":"var(--color-surfaceSecondary)",e=>e.active?"var(--color-primaryHover)":"var(--color-border)"),ZR=Oe.select(AN||(AN=t(["\n  background-color: var(--color-surfaceSecondary);\n  color: var(--color-textPrimary);\n  border: 1px solid var(--color-border);\n  padding: 8px 12px;\n  border-radius: 6px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),KR=Oe.div(DN||(DN=t(["\n  flex: 1;\n  padding: 24px;\n  overflow-y: auto;\n  display: grid;\n  grid-template-columns: ",";\n  gap: 16px;\n"])),e=>"grid"===e.viewMode?"repeat(auto-fill, minmax(200px, 1fr))":"1fr"),QR=Oe.div(ON||(ON=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 12px;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  border: 2px solid transparent;\n  cursor: pointer;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px var(--color-shadow);\n    border-color: var(--color-primary);\n  }\n  \n  ","\n"])),e=>e.selected&&"\n    border-color: var(--color-primary);\n    box-shadow: 0 0 0 2px var(--color-primary);\n  "),XR=Oe.div(NN||(NN=t(["\n  width: 100%;\n  height: ",";\n  background-color: var(--color-border);\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: background-color 0.3s ease;\n"])),e=>"grid"===e.viewMode?"150px":"80px",e=>e.image?"url(".concat(e.image,")"):"none"),eF=Oe.div(RN||(RN=t(["\n  font-size: ",";\n  color: var(--color-textTertiary);\n  opacity: 0.8;\n  transition: color 0.3s ease;\n"])),e=>"grid"===e.viewMode?"48px":"32px"),nF=Oe.div(FN||(FN=t(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.2s;\n  \n  ",":hover & {\n    opacity: 1;\n  }\n"])),QR),rF=Oe.div(MN||(MN=t(["\n  display: flex;\n  gap: 8px;\n"]))),oF=Oe.button(HN||(HN=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  border: none;\n  padding: 6px 12px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n  transition: all 0.3s ease;\n  \n  &:hover:not(:disabled) {\n    background-color: ",";\n  }\n  \n  &.danger:hover:not(:disabled) {\n    background-color: var(--color-error);\n  }\n  \n  &:disabled {\n    background-color: var(--color-surfaceSecondary);\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n"])),e=>e.primary?"var(--color-primary)":"var(--color-border)",e=>e.primary?"var(--color-primaryHover)":"var(--color-borderSecondary)"),tF=Oe.div(BN||(BN=t(["\n  padding: 12px;\n"]))),aF=Oe.div(WN||(WN=t(["\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-textPrimary);\n  margin-bottom: 4px;\n  word-break: break-word;\n  transition: color 0.3s ease;\n"]))),iF=Oe.div(VN||(VN=t(["\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  margin-bottom: 8px;\n  transition: color 0.3s ease;\n"]))),sF=Oe.div(UN||(UN=t(["\n  display: flex;\n  gap: 4px;\n  flex-wrap: wrap;\n"]))),lF=Oe.span(qN||(qN=t(["\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  padding: 2px 6px;\n  border-radius: 10px;\n  font-size: 10px;\n  font-weight: 500;\n  transition: background-color 0.3s ease;\n"]))),cF=Oe.div(GN||(GN=t(["\n  background-color: var(--color-background);\n  border-top: 1px solid var(--color-border);\n  padding: 16px 24px;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),dF=Oe.div(YN||(YN=t(["\n  display: flex;\n  gap: 16px;\n  align-items: center;\n"]))),uF=Oe.div($N||($N=t(["\n  flex: 1;\n  border: 2px dashed var(--color-border);\n  border-radius: 8px;\n  padding: 16px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    border-color: var(--color-primary);\n    background-color: var(--color-primaryBackground);\n  }\n  \n  &.dragover {\n    border-color: var(--color-primary);\n    background-color: var(--color-primaryBackground);\n  }\n"]))),pF=Oe.div(JN||(JN=t(["\n  color: var(--color-textSecondary);\n  font-size: 14px;\n  margin-bottom: 4px;\n  transition: color 0.3s ease;\n"]))),hF=Oe.div(ZN||(ZN=t(["\n  color: var(--color-textTertiary);\n  font-size: 12px;\n  transition: color 0.3s ease;\n"]))),gF=Oe.select(KN||(KN=t(["\n  background-color: var(--color-surfaceSecondary);\n  color: var(--color-textPrimary);\n  border: 1px solid var(--color-border);\n  padding: 8px 12px;\n  border-radius: 6px;\n  font-size: 14px;\n  min-width: 150px;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n"]))),fF=Oe.div(QN||(QN=t(["\n  width: 100%;\n  height: 4px;\n  background-color: var(--color-border);\n  border-radius: 2px;\n  overflow: hidden;\n  margin-top: 8px;\n  transition: background-color 0.3s ease;\n"]))),xF=Oe.div(XN||(XN=t(["\n  height: 100%;\n  background-color: var(--color-primary);\n  width: ","%;\n  transition: width 0.3s, background-color 0.3s ease;\n"])),e=>e.progress),mF=Oe.input(eR||(eR=t(["\n  display: none;\n"]))),vF=Oe.div(nR||(nR=t(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: var(--color-textTertiary);\n  text-align: center;\n  transition: color 0.3s ease;\n"]))),bF=Oe.div(rR||(rR=t(["\n  font-size: 64px;\n  margin-bottom: 16px;\n  opacity: 0.5;\n"]))),yF=Oe.div(oR||(oR=t(["\n  font-size: 18px;\n  margin-bottom: 8px;\n  color: var(--color-textSecondary);\n  transition: color 0.3s ease;\n"]))),wF=Oe.div(tR||(tR=t(["\n  font-size: 14px;\n  color: var(--color-textTertiary);\n  transition: color 0.3s ease;\n"]))),jF=Oe.div(aR||(aR=t(["\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 12px;\n  margin-bottom: 16px;\n  overflow: hidden;\n  border: 2px solid var(--color-border);\n  transition: all 0.2s ease;\n  \n  &:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 4px 16px var(--color-shadowHover);\n  }\n"]))),kF=Oe.div(iR||(iR=t(["\n  background-color: var(--color-border);\n  padding: 16px;\n  border-bottom: 1px solid var(--color-borderSecondary);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n"]))),SF=Oe.div(sR||(sR=t(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n"]))),_F=Oe.div(lR||(lR=t(["\n  font-size: 24px;\n  color: var(--color-primary);\n  transition: color 0.3s ease;\n"]))),CF=Oe.div(cR||(cR=t(["\n  flex: 1;\n"]))),EF=Oe.div(dR||(dR=t(["\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--color-textPrimary);\n  margin-bottom: 4px;\n  transition: color 0.3s ease;\n"]))),zF=Oe.div(uR||(uR=t(["\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  transition: color 0.3s ease;\n"]))),PF=Oe.div(pR||(pR=t(["\n  padding: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 12px;\n"]))),TF=Oe.div(hR||(hR=t(["\n  background-color: var(--color-backgroundSecondary);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.2s ease;\n  border: 1px solid var(--color-border);\n  cursor: pointer;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px var(--color-shadow);\n    border-color: var(--color-primary);\n  }\n"]))),IF=Oe.div(gR||(gR=t(["\n  width: 100%;\n  height: 100px;\n  background-color: var(--color-border);\n  background-image: ",";\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: background-color 0.3s ease;\n"])),e=>e.image?"url(".concat(e.image,")"):"none"),LF=Oe.div(fR||(fR=t(["\n  font-size: 32px;\n  color: var(--color-textTertiary);\n  opacity: 0.8;\n  transition: color 0.3s ease;\n"]))),AF=Oe.div(xR||(xR=t(["\n  padding: 8px;\n"]))),DF=Oe.div(mR||(mR=t(["\n  font-size: 12px;\n  font-weight: 600;\n  color: var(--color-textPrimary);\n  margin-bottom: 2px;\n  word-break: break-word;\n  transition: color 0.3s ease;\n"]))),OF=Oe.div(vR||(vR=t(["\n  font-size: 10px;\n  color: var(--color-textSecondary);\n  transition: color 0.3s ease;\n"]))),NF=Oe.div(bR||(bR=t(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n"]))),RF=Oe.button(yR||(yR=t(["\n  background-color: ",";\n  color: var(--color-textInverse);\n  border: 1px solid ",";\n  padding: 8px 14px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n  \n  &:hover:not(:disabled) {\n    background-color: ",";\n    border-color: ",";\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n  \n  &:disabled {\n    background-color: var(--color-border);\n    border-color: var(--color-border);\n    cursor: not-allowed;\n    opacity: 0.6;\n    transform: none;\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"])),e=>e.danger?"var(--color-error)":"var(--color-borderSecondary)",e=>e.danger?"var(--color-error)":"var(--color-borderSecondary)",e=>e.danger?"var(--color-errorHover)":"var(--color-border)",e=>e.danger?"var(--color-errorHover)":"var(--color-border)"),FF=Oe.div(wR||(wR=t(["\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  display: flex;\n  gap: 4px;\n  opacity: 0;\n  transition: opacity 0.2s;\n  \n  ",":hover & {\n    opacity: 1;\n  }\n"])),TF),MF=Oe.button(jR||(jR=t(["\n  background-color: var(--color-surfaceElevated);\n  color: var(--color-textInverse);\n  border: 1px solid var(--color-border);\n  padding: 6px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 10px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n  \n  &:hover:not(:disabled) {\n    background-color: var(--color-border);\n    border-color: var(--color-borderSecondary);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n  \n  &.danger:hover:not(:disabled) {\n    background-color: var(--color-error);\n    border-color: var(--color-error);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n  \n  &:active:not(:disabled) {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n  \n  &:disabled {\n    background-color: var(--color-border);\n    border-color: var(--color-border);\n    cursor: not-allowed;\n    opacity: 0.6;\n    transform: none;\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"]))),HF=Oe.button(kR||(kR=t(["\n  background-color: var(--color-surfaceSecondary);\n  color: var(--color-textPrimary);\n  border: 1px solid var(--color-border);\n  padding: 8px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-primary);\n    color: var(--color-textInverse);\n    border-color: var(--color-primary);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n"])));const BF=function(e){var r,o,t,a;let{onClose:i}=e;const{state:s}=jo(),{showAlert:l,showConfirm:c}=Zo(),[d,u]=(0,n.useState)("characters"),[p,h]=(0,n.useState)([]),[g,f]=(0,n.useState)({}),[x,m]=(0,n.useState)(!1),[v,b]=(0,n.useState)("grid"),[y,w]=(0,n.useState)("name"),[j,k]=(0,n.useState)(""),[S,_]=(0,n.useState)(new Set),[C,E]=(0,n.useState)(!1),[z,P]=(0,n.useState)(0),[T,I]=(0,n.useState)(!1),[L,A]=(0,n.useState)(new Set),[D,O]=(0,n.useState)({totalFiles:0,totalSize:0,categories:{}}),N=(0,n.useRef)(null),R=new Cr,F=(new _r.AssetStorage,e=>{if("sin-personaje"===e)return"Sin Personaje Asignado";const n=s.project.characters.find(n=>n.id===e);return n?n.name:e}),M=[{id:"characters",name:"Personajes",icon:MO,description:"Sprites de personajes"},{id:"backgrounds",name:"Fondos",icon:HO,description:"Im\xe1genes de fondo"},{id:"gui",name:"Interfaz",icon:BO,description:"Elementos de UI"},{id:"effects",name:"Efectos",icon:WO,description:"Efectos visuales"},{id:"music",name:"M\xfasica",icon:VO,description:"M\xfasica de fondo"},{id:"sounds",name:"Sonidos",icon:UO,description:"Efectos de sonido"},{id:"voice",name:"Voces",icon:qO,description:"Archivos de voz"},{id:"videos",name:"Videos",icon:GO,description:"Videos y cinem\xe1ticas"},{id:"general",name:"General",icon:YO,description:"Otros archivos"}];(0,n.useEffect)(()=>{B(),H()},[d]);const H=async()=>{try{console.log("=== CARGANDO ESTAD\xcdSTICAS ===");const e=R.getAllFiles();console.log("Archivos en FileManager:",e.length);const n={};e.forEach(e=>{n[e.category]=(n[e.category]||0)+1});const r={totalFiles:e.length,totalSize:e.reduce((e,n)=>e+(n.size||0),0),totalSizeMB:(e.reduce((e,n)=>e+(n.size||0),0)/1048576).toFixed(2),categories:n};console.log("Estad\xedsticas finales:",r),O(r),console.log("=== ESTAD\xcdSTICAS CARGADAS ===")}catch(e){console.error("Error al cargar estad\xedsticas:",e)}},B=async()=>{m(!0);try{if(console.log("=== CARGANDO ARCHIVOS PARA CATEGOR\xcdA: ".concat(d," ===")),"characters"===d){const e=await R.getFilesByCategory(d);console.log("Archivos de personajes encontrados:",e.length);const n={};e.forEach(e=>{const r=e.characterId||"sin-personaje";n[r]||(n[r]=[]),n[r].push(e)}),console.log("Archivos organizados por personaje:",n),h(e),f(n)}else{const e=await R.getFilesByCategory(d);console.log("Archivos encontrados para ".concat(d,":"),e.length),h(e),f({})}}catch(e){console.error("Error al cargar archivos:",e),h([]),f({})}finally{m(!1)}},W=[...p.filter(e=>e.name.toLowerCase().includes(j.toLowerCase()))].sort((e,n)=>{switch(y){case"name":return e.name.localeCompare(n.name);case"size":return(n.size||0)-(e.size||0);case"date":return new Date(n.uploadedAt||0)-new Date(e.uploadedAt||0);default:return 0}}),V=(e,n)=>{const r=new Set(S);n?r.add(e):r.delete(e),_(r)},U=async e=>{E(!0),P(0);const n=e.filter(e=>R.validateFileType(e)?!!R.validateFileSize(e)||(l("El archivo ".concat(e.name," es demasiado grande (m\xe1ximo 10MB)"),"Archivo Demasiado Grande","\u26a0\ufe0f"),!1):(l("El archivo ".concat(e.name," no es un tipo v\xe1lido"),"Tipo de Archivo Inv\xe1lido","\u26a0\ufe0f"),!1));for(let o=0;o<n.length;o++)try{await R.uploadFile(n[o],d),P((o+1)/n.length*100)}catch(r){console.error("Error al subir archivo:",r),await l("Error al subir ".concat(n[o].name),"Error de Subida",(0,Ne.jsx)(nN,{size:16,color:"currentColor"}))}E(!1),P(0),console.log("=== ARCHIVOS SUBIDOS, RECARGANDO ==="),console.log("Archivos v\xe1lidos subidos:",n.length),await new Promise(e=>setTimeout(e,100)),await B(),await H(),console.log("=== RECARGA COMPLETADA ===")},q=e=>e.url&&e.url.startsWith("data:image/")?null:"music"===e.category||"sounds"===e.category||"voice"===e.category?aN:"videos"===e.category?iN:"characters"===e.category||"backgrounds"===e.category||"gui"===e.category||"effects"===e.category?tN:oN,G=e=>{if(!e)return"0 B";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(1))+" "+["B","KB","MB","GB"][n]};return(0,Ne.jsxs)(SR,{children:[(0,Ne.jsxs)(_R,{children:[(0,Ne.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,Ne.jsxs)(HF,{onClick:i,children:[(0,Ne.jsx)(XO,{size:16,color:"currentColor",style:{marginRight:"4px"}}),"Volver al Editor"]}),(0,Ne.jsxs)(CR,{children:[(0,Ne.jsx)(YO,{size:24,color:"currentColor",style:{marginRight:"8px"}}),"Gesti\xf3n de Archivos"]})]}),(0,Ne.jsxs)(ER,{children:[(0,Ne.jsxs)(zR,{children:[(0,Ne.jsx)(PR,{children:D.totalFiles}),(0,Ne.jsx)(TR,{children:"Total Archivos"})]}),(0,Ne.jsxs)(zR,{children:[(0,Ne.jsxs)(PR,{children:[D.totalSizeMB,"MB"]}),(0,Ne.jsx)(TR,{children:"Tama\xf1o Total"})]}),(0,Ne.jsxs)(zR,{children:[(0,Ne.jsx)(PR,{children:(null===(r=D.categories)||void 0===r?void 0:r.length)||0}),(0,Ne.jsx)(TR,{children:"Categor\xedas"})]}),(0,Ne.jsx)(DR,{onClick:()=>{const e=R.getSystemStatus(),n="\nEstado del Sistema de Archivos:\n\u2022 Sincronizaci\xf3n en progreso: ".concat(e.syncInProgress?"S\xed":"No","\n\u2022 \xdaltima sincronizaci\xf3n: ").concat(e.lastSyncTime||"Nunca","\n\u2022 Archivos en memoria: ").concat(e.totalFiles,"\n\u2022 Archivos marcados como eliminados: ").concat(e.deletedFilesCount,"\n\u2022 IndexedDB disponible: ").concat(e.indexedDBAvailable?"S\xed":"No","\n\u2022 Quota localStorage: ").concat(e.localStorageQuota.currentSizeMB,"MB (").concat(e.localStorageQuota.available?"Disponible":"No disponible",")\n    ");console.log("Estado del sistema:",e),l(n,"Estado del Sistema",(0,Ne.jsx)(QO,{size:16,color:"currentColor"}))},title:"Mostrar estado del sistema",children:"\ud83d\udd27 Estado"}),(0,Ne.jsxs)(DR,{onClick:async()=>{try{console.log("Forzando sincronizaci\xf3n..."),await R.forceSync(),await l("Sincronizaci\xf3n completada","Sincronizaci\xf3n Exitosa",(0,Ne.jsx)(eN,{size:16,color:"currentColor"})),await B(),await H()}catch(e){console.error("Error en sincronizaci\xf3n forzada:",e),await l("Error en sincronizaci\xf3n forzada","Error de Sincronizaci\xf3n",(0,Ne.jsx)(nN,{size:16,color:"currentColor"}))}},title:"Forzar sincronizaci\xf3n manual",children:[(0,Ne.jsx)(ZO,{size:16,color:"currentColor",style:{marginRight:"4px"}}),"Sync"]}),(0,Ne.jsx)(DR,{className:"warning",onClick:async()=>{if(await c("\xbfEst\xe1s seguro de que quieres limpiar archivos fantasma? Esto eliminar\xe1 archivos que aparecen como eliminados pero siguen en localStorage.","Limpiar Archivos Fantasma","\ud83e\uddf9"))try{console.log("Iniciando limpieza de archivos fantasma...");const e=await R.cleanupGhostFiles();e>0?(await l("Se eliminaron ".concat(e," archivos fantasma"),"Limpieza Exitosa",(0,Ne.jsx)(eN,{size:16,color:"currentColor"})),await B(),await H()):await l("No se encontraron archivos fantasma","Sin Archivos Fantasma","\u2139\ufe0f")}catch(e){console.error("Error al limpiar archivos fantasma:",e),await l("Error al limpiar archivos fantasma","Error de Limpieza",(0,Ne.jsx)(nN,{size:16,color:"currentColor"}))}},title:"Limpiar archivos fantasma",children:"\ud83e\uddf9 Limpiar"})]}),(0,Ne.jsxs)(IR,{children:[(0,Ne.jsx)(AR,{children:(0,Ne.jsx)(JO,{size:16,color:"currentColor"})}),(0,Ne.jsx)(LR,{type:"text",placeholder:"Buscar archivos...",value:j,onChange:e=>k(e.target.value)})]})]}),(0,Ne.jsxs)(OR,{children:[(0,Ne.jsxs)(NR,{children:[(0,Ne.jsx)(RR,{children:(0,Ne.jsx)(FR,{children:"Categor\xedas"})}),(0,Ne.jsx)(MR,{children:M.map(e=>{var r;return(0,Ne.jsxs)(HR,{active:d===e.id,onClick:()=>u(e.id),children:[(0,Ne.jsx)(BR,{active:d===e.id,children:n.createElement(e.icon,{size:20,color:"currentColor"})}),(0,Ne.jsxs)(WR,{children:[(0,Ne.jsx)(VR,{children:e.name}),(0,Ne.jsxs)(UR,{children:[(null===(r=D.categories)||void 0===r?void 0:r[e.id])||0," archivos"]})]})]},e.id)})})]}),(0,Ne.jsxs)(qR,{children:[(0,Ne.jsxs)(GR,{children:[(0,Ne.jsxs)(YR,{children:[null===(o=M.find(e=>e.id===d))||void 0===o?void 0:o.name,"(",W.length," archivos)"]}),(0,Ne.jsxs)($R,{children:[(0,Ne.jsx)(JR,{active:"grid"===v,onClick:()=>b("grid"),children:"\u229e Grid"}),(0,Ne.jsx)(JR,{active:"list"===v,onClick:()=>b("list"),children:"\u2630 Lista"}),(0,Ne.jsxs)(ZR,{value:y,onChange:e=>w(e.target.value),children:[(0,Ne.jsx)("option",{value:"name",children:"Ordenar por nombre"}),(0,Ne.jsx)("option",{value:"size",children:"Ordenar por tama\xf1o"}),(0,Ne.jsx)("option",{value:"date",children:"Ordenar por fecha"})]})]})]}),(0,Ne.jsx)(KR,{viewMode:v,children:x?(0,Ne.jsxs)(vF,{children:[(0,Ne.jsx)(bF,{children:"\u23f3"}),(0,Ne.jsx)(yF,{children:"Cargando archivos..."})]}):"characters"===d&&Object.keys(g).length>0?Object.entries(g).map(e=>{let[n,r]=e;return(0,Ne.jsxs)(jF,{children:[(0,Ne.jsxs)(kF,{children:[(0,Ne.jsxs)(SF,{children:[(0,Ne.jsx)(_F,{children:"\ud83d\udc64"}),(0,Ne.jsxs)(CF,{children:[(0,Ne.jsx)(EF,{children:F(n)}),(0,Ne.jsxs)(zF,{children:[r.length," sprite",1!==r.length?"s":""]})]})]}),(0,Ne.jsx)(NF,{children:(0,Ne.jsxs)(RF,{danger:!0,onClick:()=>(async e=>{const n=F(e);if(await c("\xbfEst\xe1s seguro de que quieres eliminar TODOS los sprites de ".concat(n,"? Esta acci\xf3n no se puede deshacer."),"Eliminar Carpeta Completa","\ud83d\uddd1\ufe0f"))try{console.log("Eliminando carpeta completa del personaje: ".concat(n));const r=g[e]||[];for(const e of r)console.log("Eliminando archivo: ".concat(e.name)),await R.deleteFile(e.id);await B(),await H(),console.log("Carpeta del personaje ".concat(n," eliminada exitosamente")),await l("Todos los sprites de ".concat(n," han sido eliminados"),"Eliminaci\xf3n Exitosa",(0,Ne.jsx)(eN,{size:16,color:"currentColor"}))}catch(r){console.error("Error al eliminar carpeta del personaje:",r),await l("Error al eliminar los archivos del personaje: "+r.message,"Error de Eliminaci\xf3n",(0,Ne.jsx)(nN,{size:16,color:"currentColor"}))}})(n),children:[(0,Ne.jsx)($O,{size:16,color:"currentColor",style:{marginRight:"4px"}}),"Eliminar Todo"]})})]}),(0,Ne.jsx)(PF,{children:r.map(e=>(0,Ne.jsxs)(TF,{onClick:()=>V(e.id,!S.has(e.id)),children:[(0,Ne.jsxs)(IF,{image:e.url&&e.url.startsWith("data:image/")?e.url:null,children:[!e.url||!e.url.startsWith("data:image/")&&(0,Ne.jsx)(LF,{children:"\ud83c\udfad"}),(0,Ne.jsx)(FF,{children:(0,Ne.jsx)(MF,{className:"danger",onClick:n=>{n.stopPropagation(),(async e=>{if(await c("\xbfEst\xe1s seguro de que quieres eliminar este sprite?","Eliminar Sprite","\ud83d\uddd1\ufe0f"))try{console.log("Eliminando sprite: ".concat(e)),await R.deleteFile(e),await B(),await H(),console.log("Sprite eliminado exitosamente")}catch(n){console.error("Error al eliminar sprite:",n),await l("Error al eliminar el sprite: "+n.message,"Error de Eliminaci\xf3n",(0,Ne.jsx)(nN,{size:16,color:"currentColor"}))}})(e.id)},children:(0,Ne.jsx)($O,{size:14,color:"currentColor"})})})]}),(0,Ne.jsxs)(AF,{children:[(0,Ne.jsx)(DF,{children:e.name}),(0,Ne.jsx)(OF,{children:G(e.size)})]})]},e.id))})]},n)}):0===W.length?(0,Ne.jsxs)(vF,{children:[(0,Ne.jsx)(bF,{children:null===(t=M.find(e=>e.id===d))||void 0===t?void 0:t.icon}),(0,Ne.jsx)(yF,{children:"No hay archivos en esta categor\xeda"}),(0,Ne.jsx)(wF,{children:null===(a=M.find(e=>e.id===d))||void 0===a?void 0:a.description})]}):W.map(e=>(0,Ne.jsxs)(QR,{selected:S.has(e.id),onClick:()=>V(e.id,!S.has(e.id)),children:[(0,Ne.jsxs)(XR,{viewMode:v,image:e.url&&e.url.startsWith("data:image/")?e.url:null,children:[!e.url||!e.url.startsWith("data:image/")&&(0,Ne.jsx)(eF,{viewMode:v,children:n.createElement(q(e),{size:48,color:"currentColor"})}),(0,Ne.jsx)(nF,{children:(0,Ne.jsxs)(rF,{children:[(0,Ne.jsxs)(oF,{primary:!0,children:[(0,Ne.jsx)(KO,{size:16,color:"currentColor",style:{marginRight:"4px"}}),"Seleccionar"]}),(0,Ne.jsx)(oF,{className:"danger",onClick:n=>{n.stopPropagation(),(async e=>{if(await c("\xbfEst\xe1s seguro de que quieres eliminar este archivo?","Eliminar Archivo","\ud83d\uddd1\ufe0f"))try{if(A(n=>new Set(n).add(e)),console.log("Eliminando archivo ".concat(e,"...")),await R.deleteFile(e)){console.log("Archivo eliminado exitosamente"),await B(),await H();const n=new Set(S);n.delete(e),_(n)}else await l("Error al eliminar el archivo","Error de Eliminaci\xf3n",(0,Ne.jsx)(nN,{size:16,color:"currentColor"}))}catch(n){console.error("Error al eliminar archivo:",n),await l("Error al eliminar el archivo: "+n.message,"Error de Eliminaci\xf3n",(0,Ne.jsx)(nN,{size:16,color:"currentColor"}))}finally{A(n=>{const r=new Set(n);return r.delete(e),r})}})(e.id)},disabled:L.has(e.id),children:L.has(e.id)?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(rN,{size:16,color:"currentColor",style:{marginRight:"4px"}}),"Eliminando..."]}):(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)($O,{size:16,color:"currentColor",style:{marginRight:"4px"}}),"Eliminar"]})})]})})]}),(0,Ne.jsxs)(tF,{children:[(0,Ne.jsx)(aF,{children:e.name}),(0,Ne.jsxs)(iF,{children:[G(e.size)," \u2022 ",new Date(e.uploadedAt).toLocaleDateString()]}),(0,Ne.jsxs)(sF,{children:[(0,Ne.jsx)(lF,{children:e.category}),e.size&&e.size>1048576&&(0,Ne.jsx)(lF,{children:"Grande"})]})]})]},e.id))})]})]}),(0,Ne.jsxs)(cF,{children:[(0,Ne.jsxs)(dF,{children:[(0,Ne.jsxs)(uF,{className:T?"dragover":"",onDrop:e=>{e.preventDefault(),I(!1);const n=Array.from(e.dataTransfer.files);U(n)},onDragOver:e=>{e.preventDefault(),I(!0)},onDragLeave:e=>{e.preventDefault(),I(!1)},onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},children:[(0,Ne.jsx)(pF,{children:"Arrastra archivos aqu\xed o haz clic para seleccionar"}),(0,Ne.jsx)(hF,{children:"Im\xe1genes: JPG, PNG, GIF, WebP | Audio: OGG, MP3, WAV | Videos: WebM, OGV, AVI, MP4 (m\xe1ximo 10MB)"}),C&&(0,Ne.jsx)(fF,{children:(0,Ne.jsx)(xF,{progress:z})})]}),(0,Ne.jsx)(gF,{value:d,onChange:e=>u(e.target.value),children:M.map(e=>(0,Ne.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Ne.jsx)(mF,{ref:N,type:"file",multiple:!0,accept:"image/*,audio/*,video/*",onChange:e=>U(Array.from(e.target.files))})]})]})};var WF,VF,UF,qF,GF,YF,$F,JF,ZF,KF,QF;const XF=De(WF||(WF=t(["\n  0% { opacity: 1; }\n  50% { opacity: 0.5; }\n  100% { opacity: 1; }\n"]))),eM=De(VF||(VF=t(["\n  from { transform: translateX(100%); opacity: 0; }\n  to { transform: translateX(0); opacity: 1; }\n"]))),nM=De(UF||(UF=t(["\n  from { transform: translateX(0); opacity: 1; }\n  to { transform: translateX(100%); opacity: 0; }\n"]))),rM=Oe.div(qF||(qF=t(["\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 16px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: 500;\n  backdrop-filter: blur(10px);\n  animation: "," 0.3s ease-out;\n  \n  ","\n"])),eM,e=>e.hidden&&be(GF||(GF=t(["\n    animation: "," 0.3s ease-in forwards;\n  "])),nM)),oM=Oe(rM)(YF||(YF=t(["\n  background: var(--color-success);\n  color: var(--color-textInverse);\n  border: 2px solid var(--color-successHover);\n  box-shadow: 0 4px 12px var(--color-shadow);\n  font-weight: 600;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),tM=Oe(rM)($F||($F=t(["\n  background: var(--color-warning);\n  color: var(--color-textInverse);\n  border: 2px solid var(--color-warningHover);\n  box-shadow: 0 4px 12px var(--color-shadow);\n  font-weight: 600;\n  text-shadow: 0 1px 2px var(--color-shadow);\n  animation: "," 1.5s infinite;\n"])),XF),aM=Oe(rM)(JF||(JF=t(["\n  background: var(--color-error);\n  color: var(--color-textInverse);\n  border: 2px solid var(--color-errorHover);\n  box-shadow: 0 4px 12px var(--color-shadow);\n  font-weight: 600;\n  text-shadow: 0 1px 2px var(--color-shadow);\n"]))),iM=Oe.span(ZF||(ZF=t(["\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n"]))),sM=Oe.span(KF||(KF=t(["\n  white-space: nowrap;\n"]))),lM=Oe.span(QF||(QF=t(["\n  font-size: 10px;\n  opacity: 0.8;\n  margin-left: 4px;\n"])));const cM=function(){const{saveStatus:e,storage:r}=jo(),[o,t]=n.useState(!1),[a,i]=n.useState(null);n.useEffect(()=>{if("saved"===e){t(!0);const e=setTimeout(()=>{t(!1)},2e3);return()=>clearTimeout(e)}t(!0)},[e]),n.useEffect(()=>{const e=()=>{const e=r.getLastSaveInfo();e&&i(new Date(e.lastSaved))};e();const n=setInterval(e,3e4);return()=>clearInterval(n)},[r]);const s=e=>{if(!e)return"";const n=new Date-e,r=Math.floor(n/6e4),o=Math.floor(n/36e5);return r<1?"ahora":r<60?"".concat(r,"m"):o<24?"".concat(o,"h"):e.toLocaleDateString()};return o?(()=>{switch(e){case"saving":return(0,Ne.jsxs)(tM,{children:[(0,Ne.jsx)(iM,{children:"\ud83d\udcbe"}),(0,Ne.jsx)(sM,{children:"Guardando..."})]});case"error":return(0,Ne.jsxs)(aM,{children:[(0,Ne.jsx)(iM,{children:"\u26a0\ufe0f"}),(0,Ne.jsx)(sM,{children:"Error al guardar"})]});default:return(0,Ne.jsxs)(oM,{children:[(0,Ne.jsx)(iM,{children:"\u2705"}),(0,Ne.jsxs)(sM,{children:["Guardado",a&&(0,Ne.jsxs)(lM,{children:["(",s(a),")"]})]})]})}})():null};var dM,uM,pM,hM,gM,fM,xM,mM,vM,bM,yM,wM,jM,kM,SM,_M,CM,EM;const zM=De(dM||(dM=t(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"]))),PM=De(uM||(uM=t(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]))),TM=De(pM||(pM=t(["\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n"])));Oe.div(hM||(hM=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(26, 26, 26, 0.95);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  z-index: 9999;\n  animation: "," 0.3s ease-out;\n"])),PM),Oe.div(gM||(gM=t(["\n  text-align: center;\n  color: white;\n  max-width: 400px;\n  padding: 20px;\n"]))),Oe.div(fM||(fM=t(["\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(74, 158, 255, 0.3);\n  border-top: 3px solid var(--color-primary);\n  border-radius: 50%;\n  animation: "," 1s linear infinite;\n  margin: 0 auto 20px;\n"])),zM),Oe.h2(xM||(xM=t(["\n  font-size: 24px;\n  margin: 0 0 10px 0;\n  color: var(--color-primary);\n  font-weight: 600;\n  transition: color 0.3s ease;\n"]))),Oe.p(mM||(mM=t(["\n  font-size: 16px;\n  margin: 0 0 20px 0;\n  color: #cccccc;\n  line-height: 1.4;\n"]))),Oe.div(vM||(vM=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-top: 20px;\n"]))),Oe.div(bM||(bM=t(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 14px;\n  color: ",";\n  \n  ","\n"])),e=>e.completed?"#4caf50":"#888888",e=>e.active&&be(yM||(yM=t(["\n    color: #4a9eff;\n    animation: "," 1.5s infinite;\n  "])),TM)),Oe.span(wM||(wM=t(["\n  font-size: 16px;\n  width: 20px;\n  text-align: center;\n"]))),Oe.div(jM||(jM=t(["\n  width: 100%;\n  height: 4px;\n  background: rgba(74, 158, 255, 0.2);\n  border-radius: 2px;\n  overflow: hidden;\n  margin: 20px 0;\n"]))),Oe.div(kM||(kM=t(["\n  height: 100%;\n  background: linear-gradient(90deg, #4a9eff, #66c1e0);\n  border-radius: 2px;\n  width: ","%;\n  transition: width 0.3s ease-out;\n"])),e=>e.progress||0),Oe.div(SM||(SM=t(["\n  margin-top: 20px;\n  padding: 15px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(74, 158, 255, 0.2);\n"]))),Oe.div(_M||(_M=t(["\n  display: flex;\n  justify-content: space-between;\n  margin: 5px 0;\n  font-size: 12px;\n  color: #aaaaaa;\n"]))),Oe.span(CM||(CM=t([""]))),Oe.span(EM||(EM=t(["\n  color: #4a9eff;\n  font-weight: 500;\n"])));var IM,LM,AM,DM,OM,NM,RM,FM,MM,HM,BM,WM,VM,UM,qM,GM,YM,$M,JM,ZM,KM,QM,XM,eH,nH,rH;const oH=De(IM||(IM=t(["\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]))),tH=De(LM||(LM=t(["\n  from {\n    opacity: 0;\n    transform: translateX(-30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n"]))),aH=De(AM||(AM=t(["\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n"]))),iH=De(DM||(DM=t(["\n  0% {\n    transform: scale(1);\n    box-shadow: 0 8px 24px rgba(74, 158, 255, 0.3);\n  }\n  50% {\n    transform: scale(1.05);\n    box-shadow: 0 12px 32px rgba(74, 158, 255, 0.5);\n  }\n  100% {\n    transform: scale(1);\n    box-shadow: 0 8px 24px rgba(74, 158, 255, 0.3);\n  }\n"]))),sH=De(OM||(OM=t(["\n  from {\n    width: 0%;\n  }\n  to {\n    width: 100%;\n  }\n"]))),lH=Oe.div(NM||(NM=t(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-backgroundSecondary) 100%);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n  overflow: hidden;\n"]))),cH=Oe.div(RM||(RM=t(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-image: \n    radial-gradient(circle at 20% 80%, rgba(74, 158, 255, 0.1) 0%, transparent 50%),\n    radial-gradient(circle at 80% 20%, rgba(74, 158, 255, 0.1) 0%, transparent 50%),\n    radial-gradient(circle at 40% 40%, rgba(74, 158, 255, 0.05) 0%, transparent 50%);\n  animation: "," 2s ease-out;\n"])),oH),dH=Oe.div(FM||(FM=t(["\n  position: relative;\n  z-index: 2;\n  text-align: center;\n  max-width: 800px;\n  padding: 40px;\n  animation: "," 1s ease-out 0.5s both;\n"])),oH),uH=Oe.div(MM||(MM=t(["\n  margin-bottom: 40px;\n  animation: "," 2s ease-in-out infinite;\n"])),aH),pH=Oe.img(HM||(HM=t(["\n  height: 120px;\n  width: auto;\n  object-fit: contain;\n  filter: drop-shadow(0 8px 32px rgba(74, 158, 255, 0.3));\n"]))),hH=Oe.h1(BM||(BM=t(["\n  font-size: 3rem;\n  font-weight: 700;\n  color: var(--color-primary);\n  margin: 0 0 16px 0;\n  text-shadow: 0 4px 16px rgba(74, 158, 255, 0.3);\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n"]))),gH=Oe.p(WM||(WM=t(["\n  font-size: 1.25rem;\n  color: var(--color-textSecondary);\n  margin: 0 0 40px 0;\n  font-weight: 400;\n"]))),fH=Oe.div(VM||(VM=t(["\n  width: 100%;\n  max-width: 500px;\n  margin: 0 auto 40px auto;\n"]))),xH=Oe.div(UM||(UM=t(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n  font-size: 14px;\n  color: var(--color-textSecondary);\n"]))),mH=Oe.div(qM||(qM=t(["\n  width: 100%;\n  height: 8px;\n  background-color: var(--color-border);\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n"]))),vH=Oe.div(GM||(GM=t(["\n  height: 100%;\n  background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  border-radius: 4px;\n  width: ","%;\n  transition: width 0.3s ease;\n  position: relative;\n  \n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);\n    animation: "," 2s ease-in-out infinite;\n  }\n"])),e=>e.progress,sH),bH=Oe.div(YM||(YM=t(["\n  background-color: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 16px;\n  padding: 24px;\n  margin: 20px 0;\n  box-shadow: 0 8px 32px var(--color-shadow);\n  animation: "," 0.8s ease-out 1s both;\n"])),tH),yH=Oe.h3($M||($M=t(["\n  color: var(--color-primary);\n  font-size: 1.25rem;\n  font-weight: 600;\n  margin: 0 0 16px 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),wH=Oe.p(JM||(JM=t(["\n  color: var(--color-textPrimary);\n  font-size: 1rem;\n  line-height: 1.6;\n  margin: 0;\n  font-style: italic;\n"]))),jH=Oe.div(ZM||(ZM=t(["\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  margin-top: 20px;\n  flex-wrap: wrap;\n"]))),kH=Oe.div(KM||(KM=t(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  color: ",";\n  transition: color 0.3s ease;\n"])),e=>e.completed?"var(--color-success)":"var(--color-textTertiary)"),SH=Oe.span(QM||(QM=t(["\n  font-size: 16px;\n"]))),_H=Oe.div(XM||(XM=t(["\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  font-size: 12px;\n  color: var(--color-textTertiary);\n  opacity: 0.7;\n"]))),CH=Oe.button(eH||(eH=t(["\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: var(--color-textInverse);\n  border: none;\n  border-radius: 12px;\n  padding: 16px 32px;\n  font-size: 18px;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  box-shadow: 0 8px 24px rgba(74, 158, 255, 0.3);\n  transition: all 0.3s ease;\n  margin: 20px auto 0 auto;\n  animation: "," 1s ease-out 2s both;\n  \n  ","\n\n  &:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 12px 32px rgba(74, 158, 255, 0.4);\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 8px 24px rgba(74, 158, 255, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n    background: linear-gradient(135deg, var(--color-textTertiary) 0%, var(--color-border) 100%);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    \n    &:hover {\n      transform: none;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n      background: linear-gradient(135deg, var(--color-textTertiary) 0%, var(--color-border) 100%);\n    }\n  }\n"])),oH,e=>e.isReady&&be(nH||(nH=t(["\n    animation: "," 2s ease-in-out infinite;\n  "])),iH)),EH=Oe.span(rH||(rH=t(["\n  font-size: 20px;\n"]))),zH=["\ud83d\udca1 Comienza con una historia simple y desarrolla los personajes gradualmente","\ud83c\udfad Crea personajes memorables con personalidades \xfanicas y motivaciones claras","\ud83c\udfa8 Usa fondos y m\xfasica para establecer el ambiente y la atm\xf3sfera","\ud83d\udcdd Escribe di\xe1logos naturales que reflejen la personalidad de cada personaje","\ud83c\udfac Planifica tus escenas con anticipaci\xf3n para mantener el ritmo narrativo","\ud83c\udfb5 La m\xfasica de fondo puede cambiar completamente la experiencia del jugador","\ud83c\udfa8 Los colores de los personajes ayudan a distinguirlos visualmente","\ud83d\udcd6 Las elecciones del jugador deben tener consecuencias significativas","\ud83c\udfad Var\xeda las expresiones de los personajes para mostrar emociones","\ud83c\udfac Usa transiciones suaves entre escenas para mantener la inmersi\xf3n","\ud83d\udcdd Revisa y edita tu historia varias veces para pulir los detalles","\ud83c\udfa8 Experimenta con diferentes estilos visuales para encontrar tu voz \xfanica"],PH=[{icon:"\ud83d\udd27",text:"Inicializando editor",completed:!1},{icon:"\ud83d\udcc1",text:"Cargando proyectos",completed:!1},{icon:"\ud83c\udfa8",text:"Preparando temas",completed:!1},{icon:"\ud83d\udcdd",text:"Configurando scripts",completed:!1},{icon:"\ud83c\udfac",text:"Cargando vista previa",completed:!1},{icon:"\u2705",text:"Listo para crear",completed:!1}];const TH=function(e){let{onComplete:r}=e;const[o,t]=(0,n.useState)(0),[a,i]=(0,n.useState)(0),[s,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{const e=setInterval(()=>{t(n=>n>=100?(clearInterval(e),d(!0),p(!0),100):n+100/52)},250),n=setInterval(()=>{i(e=>(e+1)%zH.length)},2e3),r=setInterval(()=>{l(e=>{const n=Math.min(e+1,PH.length-1);return n===PH.length-1&&clearInterval(r),n})},2166);return()=>{clearInterval(e),clearInterval(n),clearInterval(r)}},[r]),(0,Ne.jsxs)(lH,{children:[(0,Ne.jsx)(cH,{}),(0,Ne.jsxs)(dH,{children:[(0,Ne.jsx)(uH,{children:(0,Ne.jsx)(pH,{src:"/logo.png",alt:"RynEditor"})}),(0,Ne.jsx)(hH,{children:"\xa1Bienvenido a RynEditor!"}),(0,Ne.jsx)(gH,{children:"Tu editor profesional de novelas visuales compatible con Ren'Py"}),(0,Ne.jsxs)(fH,{children:[(0,Ne.jsxs)(xH,{children:[(0,Ne.jsx)("span",{children:"Inicializando aplicaci\xf3n..."}),(0,Ne.jsxs)("span",{children:[Math.round(o),"%"]})]}),(0,Ne.jsx)(mH,{children:(0,Ne.jsx)(vH,{progress:o})})]}),(0,Ne.jsx)(jH,{children:PH.map((e,n)=>(0,Ne.jsxs)(kH,{completed:n<=s,children:[(0,Ne.jsx)(SH,{children:e.icon}),(0,Ne.jsx)("span",{children:e.text})]},n))}),(0,Ne.jsxs)(bH,{children:[(0,Ne.jsx)(yH,{children:"\ud83d\udca1 Consejo para crear novelas visuales"}),(0,Ne.jsx)(wH,{children:zH[a]})]}),(0,Ne.jsxs)(CH,{onClick:r,disabled:!u,isReady:c,children:[(0,Ne.jsx)(EH,{children:c?"\ud83d\ude80":"\u23f3"}),(0,Ne.jsx)("span",{children:c?"\xa1Entrar al Editor!":"Cargando... ".concat(Math.round(o),"%")})]})]}),(0,Ne.jsx)(_H,{children:"RynEditor v1.0.1 - Editor de Novelas Visuales"})]})};var IH,LH,AH;const DH=Oe.div(IH||(IH=t(["\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  z-index: 1000;\n  opacity: 0.9;\n  \n  @media (min-width: 769px) {\n    display: none; /* Solo mostrar en m\xf3viles */\n  }\n  \n  @media (max-width: 768px) {\n    display: flex;\n  }\n"]))),OH=Oe.button(LH||(LH=t(["\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  border: none;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: var(--color-textInverse);\n  font-size: 20px;\n  font-weight: bold;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 6px 16px rgba(74, 158, 255, 0.4);\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  &.reset {\n    background: linear-gradient(135deg, var(--color-surfaceElevated) 0%, var(--color-borderSecondary) 100%);\n    color: var(--color-textPrimary);\n    font-size: 16px;\n  }\n"]))),NH=Oe.div(AH||(AH=t(["\n  background-color: var(--color-surfaceElevated);\n  color: var(--color-textPrimary);\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n  text-align: center;\n  border: 1px solid var(--color-border);\n  min-width: 48px;\n"])));const RH=function(){const[e,r]=(0,n.useState)(1),[o,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{const e=()=>{const e=window.innerWidth<=768;t(e)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{if("undefined"!==typeof document){const n=document.querySelector('meta[name="viewport"]');n&&n.setAttribute("content","width=device-width, initial-scale=".concat(e,", minimum-scale=0.5, maximum-scale=3, user-scalable=yes, viewport-fit=cover"))}},[e]),o?(0,Ne.jsxs)(DH,{children:[(0,Ne.jsx)(OH,{onClick:()=>{r(e=>Math.min(e+.1,2))},title:"Acercar",children:"+"}),(0,Ne.jsxs)(NH,{children:[Math.round(100*e),"%"]}),(0,Ne.jsx)(OH,{onClick:()=>{r(e=>Math.max(e-.1,.5))},title:"Alejar",children:"\u2212"}),(0,Ne.jsx)(OH,{className:"reset",onClick:()=>{r(1)},title:"Restablecer zoom",children:"\u21ba"})]}):null};var FH,MH,HH;const BH=Oe.div(FH||(FH=t(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: var(--color-background);\n  color: var(--color-textPrimary);\n  transition: background-color 0.3s ease, color 0.3s ease;\n"]))),WH=Oe.div(MH||(MH=t(["\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  margin-left: 60px; /* Espacio base para el sidebar */\n  transition: margin-left 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  \n  /* Ajustar margen seg\xfan el estado del sidebar */\n  @media (min-width: 768px) {\n    margin-left: 60px;\n  }\n"]))),VH=Oe.div(HH||(HH=t(["\n  display: flex;\n  flex: 1;\n  background-color: var(--color-backgroundSecondary);\n  transition: background-color 0.3s ease;\n"])));const UH=function(){const[e,r]=(0,n.useState)(!0);console.log("App render - showIntro:",e);const[o,t]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{It()},[]);const[h,g]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1),[m,v]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[w,j]=(0,n.useState)(!1);return(0,Ne.jsx)(wo,{children:(0,Ne.jsx)(Xo,{children:(0,Ne.jsx)(Et,{children:(0,Ne.jsx)(Zn,{backend:vr,children:(0,Ne.jsxs)(BH,{children:[e&&(0,Ne.jsx)(TH,{onComplete:()=>{console.log("handleIntroComplete called - setting showIntro to false"),r(!1)}}),!e&&o?(0,Ne.jsx)(tz,{onClose:()=>{t(!1)}}):a?(0,Ne.jsx)(cP,{onClose:()=>{i(!1)}}):s?(0,Ne.jsx)(mT,{onClose:()=>{l(!1)}}):c?(0,Ne.jsx)(MI,{onClose:()=>{d(!1)}}):u?(0,Ne.jsx)(BL,{onClose:()=>{p(!1)}}):h?(0,Ne.jsx)(UA,{onClose:()=>{g(!1)}}):f?(0,Ne.jsx)(cP,{onClose:()=>{x(!1)}}):m?(0,Ne.jsx)(VD,{onClose:()=>{v(!1)}}):b?(0,Ne.jsx)(FO,{onClose:()=>{y(!1)}}):!e&&w?(0,Ne.jsx)(BF,{onClose:()=>{j(!1)}}):e?null:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(o_,{onNavigateToFileManager:()=>{j(!0)}}),(0,Ne.jsx)(Kh,{}),(0,Ne.jsx)(WH,{children:(0,Ne.jsxs)(VH,{children:[(0,Ne.jsx)(ow,{}),(0,Ne.jsx)(Ej,{})]})}),(0,Ne.jsx)(B_,{onMenuClick:()=>console.log("Menu clicked"),onInfoClick:()=>console.log("Info modal opened"),onOptionsClick:()=>console.log("Options modal opened"),onHelpClick:()=>console.log("Help modal opened"),onAboutClick:()=>console.log("About modal opened"),onNavigateToTemplates:()=>{t(!0)},onNavigateToTroubleshooting:()=>{i(!0)},onNavigateToBeginnersGuide:()=>{l(!0)},onNavigateToResources:()=>{d(!0)},onNavigateToProjectStructure:()=>{p(!0)},onNavigateToBasicCustomization:()=>{g(!0)},onNavigateToTroubleshooting2:()=>{x(!0)},onNavigateToGlossary:()=>{v(!0)},onNavigateToGuide:()=>{y(!0)},children:{info:(0,Ne.jsx)(rC,{}),options:(0,Ne.jsx)(fC,{}),help:(0,Ne.jsx)(TC,{}),about:(0,Ne.jsx)(sE,{})}}),(0,Ne.jsx)(cM,{}),(0,Ne.jsx)(RH,{})]})]})})})})})};o.createRoot(document.getElementById("root")).render((0,Ne.jsx)(n.StrictMode,{children:(0,Ne.jsx)(UH,{})}))})()})();
//# sourceMappingURL=main.89198a2f.js.map
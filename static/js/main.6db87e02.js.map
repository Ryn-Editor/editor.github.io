{"version":3,"file":"static/js/main.6db87e02.js","mappings":"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iE,MAAMhD,UAAUiQ,OAAOpO,EAAQ4jE,MAAOvlE,GAAO6M,OAAOq1D,WAAA,EAGxDxgE,CAAA,CDzBO,CAAqC+8C,GAAiB39C,EAAA,EDJvD,CACb,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,WACA,SCnIU6I,QAAQ,SAAA7I,GAClBw5C,GAAOx5C,GAAcw5C,GAAOx5C,EAAA,IELT,oBAAAA,EAOPA,EAAgBoB,GAAA,KACrBwhE,MAAQ5iE,EAAA,KACR4jE,YAAcxiE,EAAA,KACduiE,SAAWvqB,EAAcp5C,GAI9BglB,EAAWm+C,WAAWjhE,KAAK0hE,YAAc,OAAAxiE,EAAApB,EAAAhB,UAAAoC,EAG3CgkE,aAAA,SACEplE,EACAoB,EACAlC,EACA6B,GAAA,IAGMF,EAAME,EADIkjE,GAAQ/hE,KAAK0gE,MAAOxhE,EAAkBlC,EAAY6B,GACvCW,KAAK,IAAK,IAC/Bd,EAAKsB,KAAK0hE,YAAc5jE,EAG9Bd,EAAWuiE,YAAY7gE,EAAIA,EA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","sources":["../node_modules/react/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/jszip/dist/jszip.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/shallowequal/index.js","../node_modules/react-dom/client.js","../node_modules/file-saver/src/FileSaver.js","../node_modules/react-is/cjs/react-is.production.js","utils/renpyGenerator.js","../node_modules/react/jsx-runtime.js","utils/assetStorage.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/hoist-non-react-statics/node_modules/react-is/index.js","../node_modules/scheduler/index.js","../node_modules/react-dom/index.js","../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/create fake namespace object","../webpack/runtime/define property getters","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/nonce","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/@emotion/stylis/dist/stylis.browser.esm.js","../node_modules/@emotion/unitless/dist/unitless.browser.esm.js","../node_modules/@emotion/memoize/dist/emotion-memoize.esm.js","../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js","../node_modules/styled-components/src/utils/interleave.js","../node_modules/styled-components/src/utils/isPlainObject.js","../node_modules/styled-components/src/utils/empties.js","../node_modules/styled-components/src/utils/isFunction.js","../node_modules/styled-components/src/utils/getComponentName.js","../node_modules/styled-components/src/utils/isStyledComponent.js","../node_modules/styled-components/src/constants.js","../node_modules/styled-components/src/utils/error.js","../node_modules/styled-components/src/sheet/GroupedTag.js","../node_modules/styled-components/src/sheet/GroupIDAllocator.js","../node_modules/styled-components/src/sheet/Rehydration.js","../node_modules/styled-components/src/utils/nonce.js","../node_modules/styled-components/src/sheet/dom.js","../node_modules/styled-components/src/sheet/Tag.js","../node_modules/styled-components/src/sheet/Sheet.js","../node_modules/styled-components/src/utils/generateAlphabeticName.js","../node_modules/styled-components/src/utils/hash.js","../node_modules/styled-components/src/utils/isStaticRules.js","../node_modules/styled-components/src/models/ComponentStyle.js","../node_modules/styled-components/src/utils/stylis.js","../node_modules/styled-components/src/utils/stylisPluginInsertRule.js","../node_modules/styled-components/src/models/StyleSheetManager.js","../node_modules/styled-components/src/models/Keyframes.js","../node_modules/styled-components/src/utils/hyphenateStyleName.js","../node_modules/styled-components/src/utils/flatten.js","../node_modules/styled-components/src/utils/isStatelessFunction.js","../node_modules/styled-components/src/utils/addUnitIfNeeded.js","../node_modules/styled-components/src/constructors/css.js","../node_modules/styled-components/src/utils/checkDynamicCreation.js","../node_modules/styled-components/src/utils/determineTheme.js","../node_modules/styled-components/src/utils/escape.js","../node_modules/styled-components/src/utils/generateComponentId.js","../node_modules/styled-components/src/utils/isTag.js","../node_modules/styled-components/src/utils/mixinDeep.js","../node_modules/styled-components/src/models/ThemeProvider.js","../node_modules/styled-components/src/models/StyledComponent.js","../node_modules/styled-components/src/utils/generateDisplayName.js","../node_modules/styled-components/src/utils/joinStrings.js","../node_modules/styled-components/src/utils/domElements.js","../node_modules/styled-components/src/constructors/styled.js","../node_modules/styled-components/src/constructors/constructWithOptions.js","../node_modules/styled-components/src/models/GlobalStyle.js","../node_modules/styled-components/src/constructors/keyframes.js","../node_modules/styled-components/src/models/ServerStyleSheet.js","../node_modules/styled-components/src/base.js","../node_modules/redux/es/redux.js","../node_modules/@react-dnd/invariant/src/index.ts","../node_modules/dnd-core/src/utils/js_utils.ts","../node_modules/dnd-core/src/actions/dragDrop/types.ts","../node_modules/dnd-core/src/actions/dragDrop/local/setClientOffset.ts","../node_modules/dnd-core/src/actions/dragDrop/beginDrag.ts","../node_modules/dnd-core/src/actions/dragDrop/drop.ts","../node_modules/dnd-core/src/actions/dragDrop/endDrag.ts","../node_modules/dnd-core/src/utils/matchesType.ts","../node_modules/dnd-core/src/actions/dragDrop/hover.ts","../node_modules/dnd-core/src/actions/dragDrop/publishDragSource.ts","../node_modules/dnd-core/src/classes/DragDropManagerImpl.ts","../node_modules/dnd-core/src/actions/dragDrop/index.ts","../node_modules/dnd-core/src/utils/coords.ts","../node_modules/dnd-core/src/utils/dirtiness.ts","../node_modules/dnd-core/src/classes/DragDropMonitorImpl.ts","../node_modules/@react-dnd/asap/src/makeRequestCall.ts","../node_modules/@react-dnd/asap/src/RawTask.ts","../node_modules/@react-dnd/asap/src/asap.ts","../node_modules/@react-dnd/asap/src/AsapQueue.ts","../node_modules/@react-dnd/asap/src/TaskFactory.ts","../node_modules/dnd-core/src/actions/registry.ts","../node_modules/dnd-core/src/contracts.ts","../node_modules/dnd-core/src/interfaces.ts","../node_modules/dnd-core/src/utils/getNextUniqueId.ts","../node_modules/dnd-core/src/classes/HandlerRegistryImpl.ts","../node_modules/dnd-core/src/utils/equality.ts","../node_modules/dnd-core/src/reducers/dirtyHandlerIds.ts","../node_modules/dnd-core/src/reducers/dragOffset.ts","../node_modules/dnd-core/src/reducers/dragOperation.ts","../node_modules/dnd-core/src/reducers/refCount.ts","../node_modules/dnd-core/src/reducers/stateId.ts","../node_modules/dnd-core/src/reducers/index.ts","../node_modules/dnd-core/src/createDragDropManager.ts","../node_modules/react-dnd/src/core/DndContext.ts","../node_modules/react-dnd/src/core/DndProvider.tsx","../node_modules/react-dnd-html5-backend/src/utils/js_utils.ts","../node_modules/react-dnd-html5-backend/src/EnterLeaveCounter.ts","../node_modules/react-dnd-html5-backend/src/NativeDragSources/NativeDragSource.ts","../node_modules/react-dnd-html5-backend/src/NativeTypes.ts","../node_modules/react-dnd-html5-backend/src/NativeDragSources/getDataFromDataTransfer.ts","../node_modules/react-dnd-html5-backend/src/NativeDragSources/nativeTypesConfig.ts","../node_modules/react-dnd-html5-backend/src/NativeDragSources/index.ts","../node_modules/react-dnd-html5-backend/src/BrowserDetector.ts","../node_modules/react-dnd-html5-backend/src/MonotonicInterpolant.ts","../node_modules/react-dnd-html5-backend/src/OffsetUtils.ts","../node_modules/react-dnd-html5-backend/src/OptionsReader.ts","../node_modules/react-dnd-html5-backend/src/HTML5BackendImpl.ts","../node_modules/react-dnd-html5-backend/src/index.ts","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","utils/projectStorage.js","utils/fileManager.js","utils/referenceValidator.js","context/VisualNovelContext.js","hooks/useAutoSave.js","context/ModalContext.js","context/NotificationContext.js","utils/themeManager.js","../node_modules/uuid/dist/esm-browser/native.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","components/panels/CharacterPanel.js","components/panels/ScenePanel.js","config/elementTypes.js","config/renpyTransitions.js","components/panels/ScriptPanel.js","utils/rynBackupManager.js","utils/guiGenerator.js","utils/screensGenerator.js","utils/projectExporter.js","components/BackupInfo.js","components/BackupManager.js","components/panels/ProjectPanel.js","components/panels/AdvancedConfigPanel.js","utils/collaborationClient.js","utils/ipDetector.js","utils/ipEncoder.js","components/CollaborationInstructions.js","components/CollaborationHelp.js","components/FloatingChat.js","utils/syncManager.js","hooks/useCollaborationSync.js","components/panels/CollaborationPanel.js","components/icons/SidebarIcons.js","components/Sidebar.js","config/scriptEditorConfig.js","components/ScriptEditor.js","components/TimelineView.js","components/panels/DecisionMapPanel.js","components/panels/VariablesPanel.js","components/MainEditor.js","utils/transitionEffects.js","components/icons/PreviewPanelIcons.js","components/PreviewPanel.js","components/ProjectManager.js","hooks/useTheme.js","components/ThemePage.js","components/CollaborationIndicator.js","hooks/useCollaboration.js","components/icons/TopBarIcons.js","components/TopBar.js","components/icons/FloatingButtonIcons.js","components/FloatingButtonsManager.js","components/modals/InfoModalContent.js","components/modals/OptionsModalContent.js","components/modals/HelpModalContent.js","components/modals/AboutModalContent.js","components/TemplatesPage.js","components/TroubleshootingPage.js","components/BeginnersGuidePage.js","components/ResourcesPage.js","components/ProjectStructurePage.js","components/BasicCustomizationPage.js","components/GlossaryPage.js","components/GuidePage.js","components/icons/FileManagerIcons.js","components/pages/FileManagerPage.js","components/AutoSaveIndicator.js","components/LoadingScreen.js","components/icons/IntroIcons.js","components/IntroScreen.js","App.js","index.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/*!\n\nJSZip v3.10.1 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/main/LICENSE\n*/\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=e()}}(function(){return function s(a,o,h){function u(r,e){if(!o[r]){if(!a[r]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error(\"Cannot find module '\"+r+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var i=o[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,e=0;e<h.length;e++)u(h[e]);return u}({1:[function(e,t,r){\"use strict\";var d=e(\"./utils\"),c=e(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(e){for(var t,r,n,i,s,a,o,h=[],u=0,l=e.length,f=l,c=\"string\"!==d.getTypeOf(e);u<e.length;)f=l-u,n=c?(t=e[u++],r=u<l?e[u++]:0,u<l?e[u++]:0):(t=e.charCodeAt(u++),r=u<l?e.charCodeAt(u++):0,u<l?e.charCodeAt(u++):0),i=t>>2,s=(3&t)<<4|r>>4,a=1<f?(15&r)<<2|n>>6:64,o=2<f?63&n:64,h.push(p.charAt(i)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(e){var t,r,n,i,s,a,o=0,h=0,u=\"data:\";if(e.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,\"\")).length/4;if(e.charAt(e.length-1)===p.charAt(64)&&f--,e.charAt(e.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=c.uint8array?new Uint8Array(0|f):new Array(0|f);o<e.length;)t=p.indexOf(e.charAt(o++))<<2|(i=p.indexOf(e.charAt(o++)))>>4,r=(15&i)<<4|(s=p.indexOf(e.charAt(o++)))>>2,n=(3&s)<<6|(a=p.indexOf(e.charAt(o++))),l[h++]=t,64!==s&&(l[h++]=r),64!==a&&(l[h++]=n);return l}},{\"./support\":30,\"./utils\":32}],2:[function(e,t,r){\"use strict\";var n=e(\"./external\"),i=e(\"./stream/DataWorker\"),s=e(\"./stream/Crc32Probe\"),a=e(\"./stream/DataLengthProbe\");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),t=this;return e.on(\"end\",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(t.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",t)},t.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(e,t,r){\"use strict\";var n=e(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(){return new n(\"STORE compression\")},uncompressWorker:function(){return new n(\"STORE decompression\")}},r.DEFLATE=e(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(e,t,r){\"use strict\";var n=e(\"./utils\");var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?\"string\"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{\"./utils\":32}],5:[function(e,t,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){\"use strict\";var n=null;n=\"undefined\"!=typeof Promise?Promise:e(\"lie\"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,i=e(\"pako\"),s=e(\"./utils\"),a=e(\"./stream/GenericWorker\"),o=n?\"uint8array\":\"array\";function h(e,t){a.call(this,\"FlateWorker/\"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(e){return new h(\"Deflate\",e)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(e,t,r){\"use strict\";function A(e,t){var r,n=\"\";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function n(e,t,r,n,i,s){var a,o,h=e.file,u=e.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),c=I.transformTo(\"string\",O.utf8encode(h.name)),d=h.comment,p=I.transformTo(\"string\",s(d)),m=I.transformTo(\"string\",O.utf8encode(d)),_=c.length!==h.name.length,g=m.length!==d.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===i?(C=798,z|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(e){return 63&(e||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+c,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(n,4)+f+b+p}}var I=e(\"../utils\"),i=e(\"../stream/GenericWorker\"),O=e(\"../utf8\"),B=e(\"../crc32\"),R=e(\"../signature\");function s(e,t,r,n){i.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,i),s.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},s.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return R.DATA_DESCRIPTOR+A(e.crc32,4)+A(e.compressedSize,4)+A(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,i){var s=I.transformTo(\"string\",i(n));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(e,2)+A(e,2)+A(t,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(\"error\",function(e){t.error(e)}),this},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},s.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(e,t,r){\"use strict\";var u=e(\"../compressions\"),n=e(\"./ZipFileWorker\");r.generateWorker=function(e,a,t){var o=new n(a.streamFiles,t,a.platform,a.encodeFileName),h=0;try{e.forEach(function(e,t){h++;var r=function(e,t){var r=e||t,n=u[r];if(!n)throw new Error(r+\" is not a valid compression method !\");return n}(t.options.compression,a.compression),n=t.options.compressionOptions||a.compressionOptions||{},i=t.dir,s=t.date;t._compressWorker(r,n).withStreamInfo(\"file\",{name:e,dir:i,date:s,comment:t.comment||\"\",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(e){o.error(e)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(e,t,r){\"use strict\";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var e=new n;for(var t in this)\"function\"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e(\"./object\")).loadAsync=e(\"./load\"),n.support=e(\"./support\"),n.defaults=e(\"./defaults\"),n.version=\"3.10.1\",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e(\"./external\"),t.exports=n},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(e,t,r){\"use strict\";var u=e(\"./utils\"),i=e(\"./external\"),n=e(\"./utf8\"),s=e(\"./zipEntries\"),a=e(\"./stream/Crc32Probe\"),l=e(\"./nodejsUtils\");function f(n){return new i.Promise(function(e,t){var r=n.decompressed.getContentWorker().pipe(new a);r.on(\"error\",function(e){t(e)}).on(\"end\",function(){r.streamInfo.crc32!==n.decompressed.crc32?t(new Error(\"Corrupted zip : CRC32 mismatch\")):e()}).resume()})}t.exports=function(e,o){var h=this;return o=u.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):u.prepareContent(\"the loaded zip file\",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new s(o);return t.load(e),t}).then(function(e){var t=[i.Promise.resolve(e)],r=e.files;if(o.checkCRC32)for(var n=0;n<r.length;n++)t.push(f(r[n]));return i.Promise.all(t)}).then(function(e){for(var t=e.shift(),r=t.files,n=0;n<r.length;n++){var i=r[n],s=i.fileNameStr,a=u.resolve(i.fileNameStr);h.file(a,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders}),i.dir||(h.file(a).unsafeOriginalName=s)}return t.zipComment.length&&(h.comment=t.zipComment),h})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../stream/GenericWorker\");function s(e,t){i.call(this,\"Nodejs stream input adapter for \"+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(\"data\",function(e){t.push({data:e,meta:{percent:0}})}).on(\"error\",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(\"end\",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(e,t,r){\"use strict\";var i=e(\"readable-stream\").Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on(\"data\",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on(\"error\",function(e){n.emit(\"error\",e)}).on(\"end\",function(){n.push(null)})}e(\"../utils\").inherits(n,i),n.prototype._read=function(){this._helper.resume()},t.exports=n},{\"../utils\":32,\"readable-stream\":16}],14:[function(e,t,r){\"use strict\";t.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(\"number\"==typeof e)throw new Error('The \"data\" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&\"function\"==typeof e.on&&\"function\"==typeof e.pause&&\"function\"==typeof e.resume}}},{}],15:[function(e,t,r){\"use strict\";function s(e,t,r){var n,i=u.getTypeOf(t),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(n=_(e))&&b.call(this,n,!0);var a=\"string\"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t=\"\",s.compression=\"STORE\",i=\"string\");var o=null;o=t instanceof c||t instanceof l?t:p.isNode&&p.isStream(t)?new m(e,t):u.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var h=new d(e,o,s);this.files[e]=h}var i=e(\"./utf8\"),u=e(\"./utils\"),l=e(\"./stream/GenericWorker\"),a=e(\"./stream/StreamHelper\"),f=e(\"./defaults\"),c=e(\"./compressedObject\"),d=e(\"./zipObject\"),o=e(\"./generate\"),p=e(\"./nodejsUtils\"),m=e(\"./nodejs/NodejsStreamInputAdapter\"),_=function(e){\"/\"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(\"/\");return 0<t?e.substring(0,t):\"\"},g=function(e){return\"/\"!==e.slice(-1)&&(e+=\"/\"),e},b=function(e,t){return t=void 0!==t?t:f.createFolders,e=g(e),this.files[e]||s.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function h(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)}var n={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(r){var n=[];return this.forEach(function(e,t){r(e,t)&&n.push(t)}),n},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,s.call(this,e,t,r),this;if(h(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(e,t){return t.dir&&r.test(e)});var e=this.root+r,t=b.call(this,e),n=this.clone();return n.root=t.name,n},remove:function(r){r=this.root+r;var e=this.files[r];if(e||(\"/\"!==r.slice(-1)&&(r+=\"/\"),e=this.files[r]),e&&!e.dir)delete this.files[r];else for(var t=this.filter(function(e,t){return t.name.slice(0,r.length)===r}),n=0;n<t.length;n++)delete this.files[t[n].name];return this},generate:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(e){var t,r={};try{if((r=u.extend(e||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var n=r.comment||this.comment||\"\";t=o.generateWorker(this,r,n)}catch(e){(t=new l(\"error\")).error(e)}return new a(t,r.type||\"string\",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type=\"nodebuffer\"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=n},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(e,t,r){\"use strict\";t.exports=e(\"stream\")},{stream:void 0}],17:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&n===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],18:[function(e,t,r){\"use strict\";var n=e(\"../utils\");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+e+\"). Corrupted zip ?\")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo(\"string\",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{\"../utils\":32}],19:[function(e,t,r){\"use strict\";var n=e(\"./Uint8ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],21:[function(e,t,r){\"use strict\";var n=e(\"./ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../support\"),s=e(\"./ArrayReader\"),a=e(\"./StringReader\"),o=e(\"./NodeBufferReader\"),h=e(\"./Uint8ArrayReader\");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),\"string\"!==t||i.uint8array?\"nodebuffer\"===t?new o(e):i.uint8array?new h(n.transformTo(\"uint8array\",e)):new s(n.transformTo(\"array\",e)):new a(e)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(e,t,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../utils\");function s(e){n.call(this,\"ConvertWorker to \"+e),this.destType=e}i.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../crc32\");function s(){n.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}e(\"../utils\").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataLengthProbe for \"+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataWorker\");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":e=this.data.substring(this.index,t);break;case\"uint8array\":e=this.data.subarray(this.index,t);break;case\"array\":case\"nodebuffer\":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(e,t,r){\"use strict\";function n(e){this.name=e||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit(\"data\",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.end()}),e.on(\"error\",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+e:e}},t.exports=n},{}],29:[function(e,t,r){\"use strict\";var h=e(\"../utils\"),i=e(\"./ConvertWorker\"),s=e(\"./GenericWorker\"),u=e(\"../base64\"),n=e(\"../support\"),a=e(\"../external\"),o=null;if(n.nodestream)try{o=e(\"../nodejs/NodejsStreamOutputAdapter\")}catch(e){}function l(e,o){return new a.Promise(function(t,r){var n=[],i=e._internalType,s=e._outputType,a=e._mimeType;e.on(\"data\",function(e,t){n.push(e),o&&o(t)}).on(\"error\",function(e){n=[],r(e)}).on(\"end\",function(){try{var e=function(e,t,r){switch(e){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",t),r);case\"base64\":return u.encode(t);default:return h.transformTo(e,t)}}(s,function(e,t){var r,n=0,i=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case\"string\":return t.join(\"\");case\"array\":return Array.prototype.concat.apply([],t);case\"uint8array\":for(i=new Uint8Array(s),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case\"nodebuffer\":return Buffer.concat(t);default:throw new Error(\"concat : unsupported type '\"+e+\"'\")}}(i,n),a);t(e)}catch(e){r(e)}n=[]}).resume()})}function f(e,t,r){var n=t;switch(t){case\"blob\":case\"arraybuffer\":n=\"uint8array\";break;case\"base64\":n=\"string\"}try{this._internalType=n,this._outputType=t,this._mimeType=r,h.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new s(\"error\"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return\"data\"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){h.delay(t,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},e)}},t.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(e,t,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:\"application/zip\"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob(\"application/zip\").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e(\"readable-stream\").Readable}catch(e){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(e,t,s){\"use strict\";for(var o=e(\"./utils\"),h=e(\"./support\"),r=e(\"./nodejsUtils\"),n=e(\"./stream/GenericWorker\"),u=new Array(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1;function a(){n.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){n.call(this,\"utf-8 encode\")}s.utf8encode=function(e){return h.nodebuffer?r.newBufferFrom(e,\"utf-8\"):function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=h.uint8array?new Uint8Array(o):new Array(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},s.utf8decode=function(e){return h.nodebuffer?o.transformTo(\"nodebuffer\",e).toString(\"utf-8\"):function(e){var t,r,n,i,s=e.length,a=new Array(2*s);for(t=r=0;t<s;)if((n=e[t++])<128)a[r++]=n;else if(4<(i=u[n]))a[r++]=65533,t+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&t<s;)n=n<<6|63&e[t++],i--;1<i?a[r++]=65533:n<65536?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(e=o.transformTo(h.uint8array?\"uint8array\":\"array\",e))},o.inherits(a,n),a.prototype.processChunk=function(e){var t=o.transformTo(h.uint8array?\"uint8array\":\"array\",e.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}(t),i=t;n!==t.length&&(h.uint8array?(i=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(i=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:s.utf8decode(i),meta:e.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,n),l.prototype.processChunk=function(e){this.push({data:s.utf8encode(e.data),meta:e.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(e,t,a){\"use strict\";var o=e(\"./support\"),h=e(\"./base64\"),r=e(\"./nodejsUtils\"),u=e(\"./external\");function n(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e(\"setimmediate\"),a.newBlob=function(t,r){a.checkSupport(\"blob\");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var i={stringifyByChunk:function(e,t,r){var n=[],i=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;i<s;)\"array\"===t||\"nodebuffer\"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,s)))),i+=r;return n.join(\"\")},stringifyByChar:function(e){for(var t=\"\",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function s(e){var t=65536,r=a.getTypeOf(e),n=!0;if(\"uint8array\"===r?n=i.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(n=i.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return i.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return i.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.applyFromCharCode=s;var c={};c.string={string:n,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,r.allocBuffer(e.length))}},c.array={string:s,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},c.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},c.uint8array={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return r.newBufferFrom(e)}},c.nodebuffer={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:n},a.transformTo=function(e,t){if(t=t||\"\",!e)return t;a.checkSupport(e);var r=a.getTypeOf(t);return c[r][e](t)},a.resolve=function(e){for(var t=e.split(\"/\"),r=[],n=0;n<t.length;n++){var i=t[n];\".\"===i||\"\"===i&&0!==n&&n!==t.length-1||(\"..\"===i?r.pop():r.push(i))}return r.join(\"/\")},a.getTypeOf=function(e){return\"string\"==typeof e?\"string\":\"[object Array]\"===Object.prototype.toString.call(e)?\"array\":o.nodebuffer&&r.isBuffer(e)?\"nodebuffer\":o.uint8array&&e instanceof Uint8Array?\"uint8array\":o.arraybuffer&&e instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,r,n=\"\";for(r=0;r<(e||\"\").length;r++)n+=\"\\\\x\"+((t=e.charCodeAt(r))<16?\"0\":\"\")+t.toString(16).toUpperCase();return n},a.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},a.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},a.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},a.prepareContent=function(r,e,n,i,s){return u.Promise.resolve(e).then(function(n){return o.blob&&(n instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(n)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(t,r){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){r(e.target.error)},e.readAsArrayBuffer(n)}):n}).then(function(e){var t=a.getTypeOf(e);return t?(\"arraybuffer\"===t?e=a.transformTo(\"uint8array\",e):\"string\"===t&&(s?e=h.decode(e):n&&!0!==i&&(e=function(e){return l(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(e))),e):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,setimmediate:54}],33:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),i=e(\"./utils\"),s=e(\"./signature\"),a=e(\"./zipEntry\"),o=e(\"./support\");function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+i.pretty(t)+\", expected \"+i.pretty(e)+\")\")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?\"uint8array\":\"array\",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(n)+\" bytes.\")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utils\":32,\"./zipEntry\":34}],34:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),s=e(\"./utils\"),i=e(\"./compressedObject\"),a=e(\"./crc32\"),o=e(\"./utf8\"),h=e(\"./compressions\"),u=e(\"./support\");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(t=function(e){for(var t in h)if(Object.prototype.hasOwnProperty.call(h,t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(e,t,r){\"use strict\";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=e(\"./stream/StreamHelper\"),i=e(\"./stream/DataWorker\"),a=e(\"./utf8\"),o=e(\"./compressedObject\"),h=e(\"./stream/GenericWorker\");n.prototype={internalStream:function(e){var t=null,r=\"string\";try{if(!e)throw new Error(\"No output type specified.\");var n=\"string\"===(r=e.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new h(\"error\")).error(e)}return new s(t,r,\"\")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||\"nodebuffer\").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new i(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)n.prototype[u[f]]=l;t.exports=n},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(e,l,t){(function(t){\"use strict\";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var i=0,s=new e(u),a=t.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r=\"document\"in t&&\"onreadystatechange\"in t.document.createElement(\"script\")?function(){var e=t.document.createElement(\"script\");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var o=new t.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var e,t;n=!0;for(var r=h.length;r;){for(t=h,h=[],e=-1;++e<r;)t[e]();r=h.length}n=!1}l.exports=function(e){1!==h.push(e)||n||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(e,t,r){\"use strict\";var i=e(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],n=[\"PENDING\"];function o(e){if(\"function\"!=typeof e)throw new TypeError(\"resolver must be a function\");this.state=n,this.queue=[],this.outcome=void 0,e!==u&&d(this,e)}function h(e,t,r){this.promise=e,\"function\"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){i(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(t,e)})}function c(e){var t=e&&e.then;if(e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof t)return function(){t.apply(e,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function i(e){r||(r=!0,l.resolve(t,e))}var s=p(function(){e(i,n)});\"error\"===s.status&&n(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status=\"success\"}catch(e){r.status=\"error\",r.value=e}return r}(t.exports=o).prototype.finally=function(t){if(\"function\"!=typeof t)return this;var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if(\"function\"!=typeof e&&this.state===a||\"function\"!=typeof t&&this.state===s)return this;var r=new this.constructor(u);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new h(r,e,t));return r},h.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){l.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=p(c,t);if(\"error\"===r.status)return l.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},l.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},o.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(u),e)},o.reject=function(e){var t=new this(u);return l.reject(t,e)},o.all=function(e){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,t=-1,o=new this(u);for(;++t<n;)h(e[t],t);return o;function h(e,t){r.resolve(e).then(function(e){s[t]=e,++a!==n||i||(i=!0,l.resolve(o,s))},function(e){i||(i=!0,l.reject(o,e))})}},o.race=function(e){var t=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,s=new this(u);for(;++i<r;)a=e[i],t.resolve(a).then(function(e){n||(n=!0,l.resolve(s,e))},function(e){n||(n=!0,l.reject(s,e))});var a;return s}},{immediate:36}],38:[function(e,t,r){\"use strict\";var n={};(0,e(\"./lib/utils/common\").assign)(n,e(\"./lib/deflate\"),e(\"./lib/inflate\"),e(\"./lib/zlib/constants\")),t.exports=n},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(e,t,r){\"use strict\";var a=e(\"./zlib/deflate\"),o=e(\"./utils/common\"),h=e(\"./utils/strings\"),i=e(\"./zlib/messages\"),s=e(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,c=0,d=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:\"\"},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n=\"string\"==typeof t.dictionary?h.string2buf(t.dictionary):\"[object ArrayBuffer]\"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=a.deflateSetDictionary(this.strm,n))!==l)throw new Error(i[r]);this._dict_set=!0}}function n(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,n,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,\"string\"==typeof e?i.input=h.string2buf(e):\"[object ArrayBuffer]\"===u.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(s),i.next_out=0,i.avail_out=s),1!==(r=a.deflate(i,n))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==r);return 4===n?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==n||(this.onEnd(l),!(i.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=n,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(e,t,r){\"use strict\";var c=e(\"./zlib/inflate\"),d=e(\"./utils/common\"),p=e(\"./utils/strings\"),m=e(\"./zlib/constants\"),n=e(\"./zlib/messages\"),i=e(\"./zlib/zstream\"),s=e(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var r=c.inflateInit2(this.strm,t.windowBits);if(r!==m.Z_OK)throw new Error(n[r]);this.header=new s,c.inflateGetHeader(this.strm,this.header)}function o(e,t){var r=new a(t);if(r.push(e,!0),r.err)throw r.msg||n[r.err];return r.result}a.prototype.push=function(e,t){var r,n,i,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof e?h.input=p.binstring2buf(e):\"[object ArrayBuffer]\"===_.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new d.Buf8(u),h.next_out=0,h.avail_out=u),(r=c.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=c.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||n!==m.Z_FINISH&&n!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(i=p.utf8border(h.output,h.next_out),s=h.next_out-i,a=p.buf2string(h.output,i),h.next_out=s,h.avail_out=u-s,s&&d.arraySet(h.output,h.output,i,s,0),this.onData(a)):this.onData(d.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(n=m.Z_FINISH),n===m.Z_FINISH?(r=c.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):n!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){\"use strict\";var h=e(\"./common\"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var u=new h.Buf8(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,h.shrinkBuf(e,t));for(var r=\"\",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}u[254]=u[254]=1,r.string2buf=function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new h.Buf8(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new h.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,s,a=t||e.length,o=new Array(2*a);for(r=n=0;r<a;)if((i=e[r++])<128)o[n++]=i;else if(4<(s=u[i]))o[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&r<a;)i=i<<6|63&e[r++],s--;1<s?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return l(o,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}},{\"./common\":41}],43:[function(e,t,r){\"use strict\";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(i=i+t[n++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,r){\"use strict\";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){\"use strict\";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,r){\"use strict\";var h,c=e(\"../utils/common\"),u=e(\"./trees\"),d=e(\"./adler32\"),p=e(\"./crc32\"),n=e(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,i=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(e,t){return e.msg=n[t],t}function T(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(c.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,u=e.window,l=e.w_mask,f=e.prev,c=e.strstart+S,d=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<c);if(n=S-(c-s),s=c-S,a<n){if(e.match_start=t,o<=(a=n))break;d=u[s+a-1],p=u[s+a]}}}while((t=f[t&l])>h&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,r,n,i,s,a,o,h,u,l,f=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-z)){for(c.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;n=e.head[--t],e.head[t]=f<=n?n-f:0,--r;);for(t=r=f;n=e.prev[--t],e.prev[t]=f<=n?n-f:0,--r;);i+=f}if(0===e.strm.avail_in)break;if(a=e.strm,o=e.window,h=e.strstart+e.lookahead,u=i,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,c.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=d(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=x)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+x-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function Z(e,t){for(var r,n;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r)),e.match_length>=x)if(n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var r,n,i;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((n=u._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function M(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*w),this.dyn_dtree=new c.Buf16(2*(2*a+1)),this.bl_tree=new c.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(k+1),this.heap=new c.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=l,u._tr_init(t),m):R(e,_)}function K(e){var t=G(e);return t===m&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=h[e.level].max_lazy,e.good_match=h[e.level].good_length,e.nice_match=h[e.level].nice_length,e.max_chain_length=h[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,r,n,i,s){if(!e)return _;var a=1;if(t===g&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),i<1||y<i||r!==v||n<8||15<n||t<0||9<t||s<0||b<s)return R(e,_);8===n&&(n=9);var o=new H;return(e.state=o).strm=e,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new c.Buf8(2*o.w_size),o.head=new c.Buf16(o.hash_size),o.prev=new c.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new c.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,K(e)}h=[new M(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-z&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(e,t){return Y(e,t,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?_:(e.state.gzhead=t,m):_},r.deflate=function(e,t){var r,n,i,s;if(!e||!e.state||5<t||t<0)return e?R(e,_):_;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==f)return R(e,0===e.avail_out?-5:_);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===C)if(2===n.wrap)e.adler=0,U(n,31),U(n,139),U(n,8),n.gzhead?(U(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),U(n,255&n.gzhead.time),U(n,n.gzhead.time>>8&255),U(n,n.gzhead.time>>16&255),U(n,n.gzhead.time>>24&255),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(U(n,255&n.gzhead.extra.length),U(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=p(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(U(n,0),U(n,0),U(n,0),U(n,0),U(n,0),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,3),n.status=E);else{var a=v+(n.w_bits-8<<4)<<8;a|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=E,P(n,a),0!==n.strstart&&(P(n,e.adler>>>16),P(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending!==n.pending_buf_size));)U(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&F(e),n.pending+2<=n.pending_buf_size&&(U(n,255&e.adler),U(n,e.adler>>8&255),e.adler=0,n.status=E)):n.status=E),0!==n.pending){if(F(e),0===e.avail_out)return n.last_flush=-1,m}else if(0===e.avail_in&&T(t)<=T(r)&&t!==f)return R(e,-5);if(666===n.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var o=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return A;break}if(e.match_length=0,r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):3===n.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===l)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+S;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=S-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(r=u._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):h[n.level].func(n,t);if(o!==O&&o!==B||(n.status=666),o===A||o===O)return 0===e.avail_out&&(n.last_flush=-1),m;if(o===I&&(1===t?u._tr_align(n):5!==t&&(u._tr_stored_block(n,0,0,!1),3===t&&(D(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),F(e),0===e.avail_out))return n.last_flush=-1,m}return t!==f?m:n.wrap<=0?1:(2===n.wrap?(U(n,255&e.adler),U(n,e.adler>>8&255),U(n,e.adler>>16&255),U(n,e.adler>>24&255),U(n,255&e.total_in),U(n,e.total_in>>8&255),U(n,e.total_in>>16&255),U(n,e.total_in>>24&255)):(P(n,e.adler>>>16),P(n,65535&e.adler)),F(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?m:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,_):(e.state=null,t===E?R(e,-3):m):_},r.deflateSetDictionary=function(e,t){var r,n,i,s,a,o,h,u,l=t.length;if(!e||!e.state)return _;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(e.adler=d(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new c.Buf8(r.w_size),c.arraySet(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),a=e.avail_in,o=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,j(r);r.lookahead>=x;){for(n=r.strstart,i=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+x-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=o,e.input=h,e.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(e,t,r){\"use strict\";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){\"use strict\";t.exports=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C;r=e.state,n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=m[d&g];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg=\"invalid literal/length code\",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(d+=z[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=_[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue r}e.msg=\"invalid distance code\",r.mode=30;break e}if(k=65535&v,p<(y&=15)&&(d+=z[n++]<<p,(p+=8)<y&&(d+=z[n++]<<p,p+=8)),h<(k+=d&(1<<y)-1)){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(d>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(S=c,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=c[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=c[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(n<i&&s<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){\"use strict\";var I=e(\"../utils/common\"),O=e(\"./adler32\"),B=e(\"./crc32\"),R=e(\"./inffast\"),T=e(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,n=852,i=592;function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(n),t.distcode=t.distdyn=new I.Buf32(i),t.sane=1,t.back=-1,N):U}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):U}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?U:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,o(e))):U}function u(e,t){var r,n;return e?(n=new s,(e.state=n).window=null,(r=h(e,t))!==N&&(e.state=null),r):U}var l,f,c=!0;function j(e){if(c){var t;for(l=new I.Buf32(512),f=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(T(D,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;T(F,e.lens,0,32,f,0,e.work,{bits:5}),c=!1}e.lencode=l,e.lenbits=9,e.distcode=f,e.distbits=5}function Z(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),n>=s.wsize?(I.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n<(i=s.wsize-s.wnext)&&(i=n),I.arraySet(s.window,t,r-n,i,s.wnext),(n-=i)?(I.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(e){return u(e,15)},r.inflateInit2=u,r.inflate=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return U;12===(r=e.state).mode&&(r.mode=13),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,f=o,c=h,x=N;e:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){e.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){e.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(d=r.length)&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,n,s,d,k)),512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(65535&r.check)){e.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}e.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==t)break;u>>>=2,l-=2;break e;case 2:r.mode=17;break;case 3:e.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(o<d&&(d=o),h<d&&(d=h),0===d)break e;I.arraySet(i,n,s,d,a),o-=d,s+=d,h-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){e.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){e.msg=\"invalid bit length repeat\",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){e.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=o&&258<=h){e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,R(e,c),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){e.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break e;if(d=c-h,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break}p=d>r.wnext?(d-=r.wnext,r.wsize-d):r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=a-r.offset,d=r.length;for(h<d&&(d=h),h-=d,r.length-=d;i[a++]=m[p++],--d;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;i[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[s++]<<l,l+=8}if(c-=h,e.total_out+=c,r.total+=c,c&&(e.adler=r.check=r.flags?B(r.check,i,c,a-c):O(r.check,i,c,a-c)),c=h,(r.flags?u:L(u))!==r.check){e.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return U}return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||c!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&Z(e,e.output,e.next_out,c-e.avail_out)?(r.mode=31,-4):(f-=e.avail_in,c-=e.avail_out,e.total_in+=f,e.total_out+=c,r.total+=c,r.wrap&&c&&(e.adler=r.check=r.flags?B(r.check,i,c,e.next_out-c):O(r.check,i,c,e.next_out-c)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===c||4===t)&&x===N&&(x=-5),x)},r.inflateEnd=function(e){if(!e||!e.state)return U;var t=e.state;return t.window&&(t.window=null),e.state=null,N},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?U:((r.head=t).done=!1,N):U},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,t,n,0)!==r.check?-3:Z(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(e,t,r){\"use strict\";var D=e(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,i,s,a,o){var h,u,l,f,c,d,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<n;v++)O[t[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===e||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<n;v++)0!==t[r+v]&&(a[B[t[r+v]]++]=v);if(d=0===e?(A=R=a,19):1===e?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,c=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===e&&852<C||2===e&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<d?(m=0,a[v]):a[v]>d?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;i[c+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=t[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),c+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===e&&852<C||2===e&&592<C)return 1;i[l=E&f]=k<<24|x<<16|c-s|0}}return 0!==E&&(i[c+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(e,t,r){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(e,t,r){\"use strict\";var i=e(\"../utils/common\"),o=0,h=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,a=29,u=256,l=u+1+a,f=30,c=19,_=2*l+1,g=15,d=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));n(z);var C=new Array(2*f);n(C);var E=new Array(512);n(E);var A=new Array(256);n(A);var I=new Array(a);n(I);var O,B,R,T=new Array(f);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>d-r?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=r-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function Z(e,t,r){var n,i,s=new Array(g+1),a=0;for(n=1;n<=g;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=j(s[o]++,o))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,s,a,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(s=A[i])+u+1,t),0!==(a=w[s])&&P(e,i-=I[s],a),L(e,s=N(--n),r),0!==(a=k[s])&&P(e,n-=T[s],a)),o<e.last_lit;);L(e,m,t)}function Y(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)G(e,s,r);for(i=h;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,a,o,h=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=g;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)p<(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)&&(s=p,m++),h[2*n+1]=s,u<n||(e.bl_count[s]++,a=0,d<=n&&(a=c[n-d]),o=h[2*n],e.opt_len+=o*(s+a),f&&(e.static_len+=o*(l[2*n+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(i=e.heap[--r])||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),Z(s,u,e.bl_count)}function X(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<h&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function V(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<h&&i===a)){if(o<u)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,v,e.bl_tree),P(e,o-3,3)):(L(e,y,e.bl_tree),P(e,o-11,7));s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}n(T);var q=!1;function J(e,t,r,n){P(e,(s<<1)+(n?1:0),3),function(e,t,r,n){M(e),n&&(U(e,r),U(e,~r)),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){q||(function(){var e,t,r,n,i,s=new Array(g+1);for(n=r=0;n<a-1;n++)for(I[n]=r,e=0;e<1<<w[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(T[n]=i,e=0;e<1<<k[n];e++)E[i++]=n;for(i>>=7;n<f;n++)for(T[n]=i<<7,e=0;e<1<<k[n]-7;e++)E[256+i++]=n;for(t=0;t<=g;t++)s[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,s[8]++;for(;e<=255;)z[2*e+1]=9,e++,s[9]++;for(;e<=279;)z[2*e+1]=7,e++,s[7]++;for(;e<=287;)z[2*e+1]=8,e++,s[8]++;for(Z(z,l+1,s),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=j(e,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,c,p)}(),q=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,n){var i,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return h;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return h;return o}(e)),Y(e,e.l_desc),Y(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?J(e,t,r,n):4===e.strategy||s===i?(P(e,2+(n?1:0),3),K(e,z,C)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*S[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+u+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){P(e,2,3),L(e,m,z),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{\"../utils/common\":41}],53:[function(e,t,r){\"use strict\";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(r,n){\"use strict\";if(!r.setImmediate){var i,s,t,a,o=1,h={},u=!1,l=r.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(r);e=e&&e.setTimeout?e:r,i=\"[object process]\"==={}.toString.call(r.process)?function(e){process.nextTick(function(){c(e)})}:function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage(\"\",\"*\"),r.onmessage=t,e}}()?(a=\"setImmediate$\"+Math.random()+\"$\",r.addEventListener?r.addEventListener(\"message\",d,!1):r.attachEvent(\"onmessage\",d),function(e){r.postMessage(a+e,\"*\")}):r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){c(e.data)},function(e){t.port2.postMessage(e)}):l&&\"onreadystatechange\"in l.createElement(\"script\")?(s=l.documentElement,function(e){var t=l.createElement(\"script\");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):function(e){setTimeout(c,0,e)},e.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return h[o]=n,i(o),o++},e.clearImmediate=f}function f(e){delete h[e]}function c(e){if(u)setTimeout(c,0,e);else{var t=h[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),u=!1}}}}function d(e){e.source===r&&\"string\"==typeof e.data&&0===e.data.indexOf(a)&&c(+e.data.slice(a.length))}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[10])(10)});","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","/**\n * @license React\n * react-is.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\nSymbol.for(\"react.provider\");\nvar REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_VIEW_TRANSITION_TYPE = Symbol.for(\"react.view_transition\"),\n  REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction typeOf(object) {\n  if (\"object\" === typeof object && null !== object) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        switch (((object = object.type), object)) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n          case REACT_VIEW_TRANSITION_TYPE:\n            return object;\n          default:\n            switch (((object = object && object.$$typeof), object)) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return object;\n              case REACT_CONSUMER_TYPE:\n                return object;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n}\nexports.ContextConsumer = REACT_CONSUMER_TYPE;\nexports.ContextProvider = REACT_CONTEXT_TYPE;\nexports.Element = REACT_ELEMENT_TYPE;\nexports.ForwardRef = REACT_FORWARD_REF_TYPE;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Lazy = REACT_LAZY_TYPE;\nexports.Memo = REACT_MEMO_TYPE;\nexports.Portal = REACT_PORTAL_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nexports.isContextConsumer = function (object) {\n  return typeOf(object) === REACT_CONSUMER_TYPE;\n};\nexports.isContextProvider = function (object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n};\nexports.isElement = function (object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n};\nexports.isForwardRef = function (object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n};\nexports.isFragment = function (object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n};\nexports.isLazy = function (object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n};\nexports.isMemo = function (object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n};\nexports.isPortal = function (object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n};\nexports.isProfiler = function (object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n};\nexports.isStrictMode = function (object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n};\nexports.isSuspense = function (object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n};\nexports.isSuspenseList = function (object) {\n  return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;\n};\nexports.isValidElementType = function (type) {\n  return \"string\" === typeof type ||\n    \"function\" === typeof type ||\n    type === REACT_FRAGMENT_TYPE ||\n    type === REACT_PROFILER_TYPE ||\n    type === REACT_STRICT_MODE_TYPE ||\n    type === REACT_SUSPENSE_TYPE ||\n    type === REACT_SUSPENSE_LIST_TYPE ||\n    (\"object\" === typeof type &&\n      null !== type &&\n      (type.$$typeof === REACT_LAZY_TYPE ||\n        type.$$typeof === REACT_MEMO_TYPE ||\n        type.$$typeof === REACT_CONTEXT_TYPE ||\n        type.$$typeof === REACT_CONSUMER_TYPE ||\n        type.$$typeof === REACT_FORWARD_REF_TYPE ||\n        type.$$typeof === REACT_CLIENT_REFERENCE ||\n        void 0 !== type.getModuleId))\n    ? !0\n    : !1;\n};\nexports.typeOf = typeOf;\n","// Generador de scripts Ren'Py\r\nexport class RenPyGenerator {\r\n  constructor() {\r\n    this.script = '';\r\n    this.characters = new Map();\r\n    this.images = new Set();\r\n    this.audio = new Set();\r\n    this.assetStorage = null;\r\n  }\r\n\r\n  // Configurar AssetStorage para acceso a archivos\r\n  setAssetStorage(assetStorage) {\r\n    this.assetStorage = assetStorage;\r\n  }\r\n\r\n  // Configurar proyecto para acceso a personajes\r\n  setProject(project) {\r\n    this.project = project;\r\n  }\r\n\r\n  // Funcin para obtener el nombre de imagen definido\r\n  async getImageDefinitionName(fileName, category) {\r\n    if (!this.assetStorage) return null;\r\n    \r\n    try {\r\n      console.log('getImageDefinitionName - fileName:', fileName);\r\n      console.log('getImageDefinitionName - category:', category);\r\n      \r\n      // Extraer solo el nombre del archivo de la ruta completa\r\n      let name = fileName;\r\n      \r\n      // Si es una ruta completa, extraer solo el nombre del archivo\r\n      if (fileName.includes('/')) {\r\n        name = fileName.split('/').pop(); // Obtener la ltima parte de la ruta\r\n      }\r\n      \r\n      console.log('getImageDefinitionName - nombre extrado:', name);\r\n      \r\n      // Remover extensin\r\n      name = name.replace(/\\.[^/.]+$/, \"\");\r\n      \r\n      console.log('getImageDefinitionName - sin extensin:', name);\r\n      \r\n      // Para personajes, buscar el personaje correspondiente en el proyecto\r\n      if (category === 'characters' && this.project) {\r\n        const character = this.project.characters.find(char => \r\n          char.sprites && char.sprites.some(sprite => \r\n            sprite.name.toLowerCase() === name.toLowerCase()\r\n          )\r\n        );\r\n        \r\n        if (character) {\r\n          const spriteName = name.toLowerCase();\r\n          const finalName = `${character.id} ${spriteName}`;\r\n          console.log('getImageDefinitionName - personaje encontrado:', character.id);\r\n          console.log('getImageDefinitionName - nombre final:', finalName);\r\n          return finalName;\r\n        }\r\n      }\r\n      \r\n      // Convertir a minsculas y reemplazar espacios y caracteres especiales\r\n      name = name.toLowerCase()\r\n        .replace(/\\s+/g, '_')\r\n        .replace(/[^a-z0-9_]/g, '')\r\n        .replace(/_+/g, '_')\r\n        .replace(/^_|_$/g, '');\r\n      \r\n      console.log('getImageDefinitionName - nombre procesado:', name);\r\n      \r\n      // Agregar prefijo segn categora\r\n      let finalName;\r\n      switch (category) {\r\n        case 'characters':\r\n          finalName = `char_${name}`;\r\n          break;\r\n        case 'backgrounds':\r\n          finalName = `bg_${name}`;\r\n          break;\r\n        case 'gui':\r\n          finalName = `gui_${name}`;\r\n          break;\r\n        case 'effects':\r\n          finalName = `fx_${name}`;\r\n          break;\r\n        default:\r\n          finalName = name;\r\n      }\r\n      \r\n      console.log('getImageDefinitionName - nombre final:', finalName);\r\n      return finalName;\r\n    } catch (error) {\r\n      console.error('Error al generar nombre de imagen:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Formatear texto de narracin con estilos de Ren'Py\r\n  formatNarrationText(element) {\r\n    let text = element.text || '';\r\n    \r\n    // Aplicar estilos si estn definidos\r\n    if (element.fontSize || element.textColor) {\r\n      let styledText = text;\r\n      \r\n      // Aplicar tamao de fuente usando text tags de Ren'Py\r\n      if (element.fontSize) {\r\n        const fontSizeMap = {\r\n          'small': '12',\r\n          'medium': '16', \r\n          'large': '20',\r\n          'xlarge': '24'\r\n        };\r\n        const size = fontSizeMap[element.fontSize] || '16';\r\n        styledText = `{size=${size}}${styledText}{/size}`;\r\n      }\r\n      \r\n      // Aplicar color usando text tags de Ren'Py\r\n      if (element.textColor) {\r\n        styledText = `{color=${element.textColor}}${styledText}{/color}`;\r\n      }\r\n      \r\n      return styledText;\r\n    }\r\n    \r\n    return text;\r\n  }\r\n\r\n  // Generar el script principal de Ren'Py\r\n  async generateScript(project) {\r\n    this.script = '';\r\n    this.characters.clear();\r\n    this.images.clear();\r\n    this.audio.clear();\r\n\r\n    // Asegurar que el proyecto est configurado\r\n    this.project = project;\r\n    \r\n    console.log(' generateScript - Proyecto configurado:', this.project);\r\n    console.log(' generateScript - protagonistConfig:', this.project?.protagonistConfig);\r\n\r\n    // Generar encabezado del script\r\n    this.generateHeader(project);\r\n    \r\n    // Definir personajes\r\n    this.generateCharacters(project.characters);\r\n    \r\n    // Definir variables y flags\r\n    this.generateVariablesAndFlags(project.variables, project.flags);\r\n    \r\n    // Generar escenas\r\n    this.generateScenes(project.scenes);\r\n    \r\n    // Generar definiciones de videos\r\n    this.generateVideos(project);\r\n    \r\n    // Generar script principal (usar elementos del archivo principal)\r\n    const mainSceneFile = project.sceneFiles.find(file => file.isMain);\r\n    if (mainSceneFile) {\r\n      await this.generateMainScript(mainSceneFile.elements);\r\n    }\r\n\r\n    return this.script;\r\n  }\r\n\r\n  // Generar archivos de escenas separados\r\n  async generateSceneFiles(project) {\r\n    const sceneFiles = {};\r\n    \r\n    // Primero, analizar todos los jumps para identificar referencias a archivos de escena\r\n    const requiredLabels = this.analyzeJumpReferences(project);\r\n    console.log(' Labels requeridos por jumps:', requiredLabels);\r\n    \r\n    // Usar for...of con await para manejar funciones asncronas\r\n    for (const sceneFile of project.sceneFiles) {\r\n      this.script = '';\r\n      this.characters.clear();\r\n      this.images.clear();\r\n      this.audio.clear();\r\n\r\n      if (sceneFile.isMain) {\r\n        // Para el archivo principal, generar como script principal\r\n        await this.generateMainScript(sceneFile.elements);\r\n      } else {\r\n        // Para archivos de escena, generar como archivos separados\r\n        this.generateSceneFileHeader(sceneFile);\r\n        \r\n        // Verificar si este archivo necesita labels adicionales por jumps\r\n        const fileRequiredLabels = requiredLabels.filter(label => \r\n          label.sceneFileId === sceneFile.id\r\n        );\r\n        \r\n        // Generar labels requeridos por jumps si no existen\r\n        this.generateRequiredLabels(sceneFile, fileRequiredLabels);\r\n        \r\n        await this.generateSceneFileElements(sceneFile.elements);\r\n      }\r\n\r\n      sceneFiles[sceneFile.name] = this.script;\r\n    }\r\n\r\n    return sceneFiles;\r\n  }\r\n\r\n  // Generar un archivo de escena especfico\r\n  async generateSceneFile(sceneFile) {\r\n    this.script = '';\r\n    this.characters.clear();\r\n    this.images.clear();\r\n    this.audio.clear();\r\n\r\n    if (sceneFile.isMain) {\r\n      // Si es el archivo principal, generar como script principal\r\n      await this.generateMainScript(sceneFile.elements);\r\n    } else {\r\n      // Si es un archivo de escena, generar como archivo separado\r\n      // Verificar si hay elementos de tipo 'label' en todo el archivo\r\n      const hasAnyManualLabel = sceneFile.elements.some(element => element.type === 'label');\r\n      console.log(` Generando archivo de escena: ${sceneFile.name}`);\r\n      console.log(` Elementos totales: ${sceneFile.elements.length}`);\r\n      console.log(` Tiene labels manuales: ${hasAnyManualLabel}`);\r\n      console.log(` Generar label automtico: ${!hasAnyManualLabel}`);\r\n      \r\n      this.generateSceneFileHeader(sceneFile, !hasAnyManualLabel);\r\n      await this.generateSceneFileElements(sceneFile.elements);\r\n    }\r\n\r\n    return this.script;\r\n  }\r\n\r\n  // Analizar todas las referencias de jump en el proyecto\r\n  analyzeJumpReferences(project) {\r\n    const requiredLabels = [];\r\n    const sceneFileIds = project.sceneFiles.map(file => file.id);\r\n    \r\n    console.log(' Analizando referencias de jump en el proyecto...');\r\n    console.log(' IDs de archivos de escena:', sceneFileIds);\r\n    \r\n    // Analizar todos los elementos de todos los archivos de escena\r\n    for (const sceneFile of project.sceneFiles) {\r\n      console.log(` Analizando archivo: ${sceneFile.name} (${sceneFile.elements.length} elementos)`);\r\n      \r\n      for (const element of sceneFile.elements) {\r\n        // Buscar jumps en elementos de tipo 'jump'\r\n        if (element.type === 'jump' && element.jump) {\r\n          const jumpTarget = element.jump;\r\n          console.log(` Jump encontrado: ${jumpTarget} en ${sceneFile.name}`);\r\n          \r\n          // Verificar si el jump target coincide con un ID de archivo de escena\r\n          if (sceneFileIds.includes(jumpTarget)) {\r\n            console.log(` Jump target ${jumpTarget} coincide con archivo de escena`);\r\n            requiredLabels.push({\r\n              labelName: jumpTarget,\r\n              sceneFileId: jumpTarget,\r\n              requiredBy: {\r\n                file: sceneFile.name,\r\n                element: element.id\r\n              }\r\n            });\r\n          }\r\n        }\r\n        \r\n        // Buscar jumps en elementos de tipo 'choice'\r\n        if (element.type === 'choice' && element.choices) {\r\n          for (const choice of element.choices) {\r\n            if (choice.jump && sceneFileIds.includes(choice.jump)) {\r\n              console.log(` Choice jump target ${choice.jump} coincide con archivo de escena`);\r\n              requiredLabels.push({\r\n                labelName: choice.jump,\r\n                sceneFileId: choice.jump,\r\n                requiredBy: {\r\n                  file: sceneFile.name,\r\n                  element: element.id,\r\n                  choice: choice.text\r\n                }\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    return requiredLabels;\r\n  }\r\n\r\n  // Generar labels requeridos por jumps\r\n  generateRequiredLabels(sceneFile, requiredLabels) {\r\n    if (requiredLabels.length === 0) return;\r\n    \r\n    console.log(` Generando labels requeridos para ${sceneFile.name}:`, requiredLabels);\r\n    \r\n    for (const requiredLabel of requiredLabels) {\r\n      // Verificar si el label ya existe en los elementos del archivo\r\n      const labelExists = sceneFile.elements.some(element => \r\n        element.type === 'label' && element.label === requiredLabel.labelName\r\n      );\r\n      \r\n      if (!labelExists) {\r\n        console.log(` Generando label automtico: ${requiredLabel.labelName} (requerido por ${requiredLabel.requiredBy.file})`);\r\n        this.script += `label ${requiredLabel.labelName}:\\n\\n`;\r\n      } else {\r\n        console.log(` Label ya existe: ${requiredLabel.labelName}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Generar encabezado para archivo de escena\r\n  generateSceneFileHeader(sceneFile, shouldGenerateAutoLabel = true) {\r\n    this.script += `# Generado por RynEditor - Gracias por confiar en nosotros\\n\\n`;\r\n    \r\n    // Agregar label para archivos de escena (no para el archivo principal)\r\n    // Solo si no se va a generar un label manualmente desde los elementos\r\n    if (!sceneFile.isMain && shouldGenerateAutoLabel) {\r\n      // Crear un nombre de label basado en el ID o nombre del archivo\r\n      const labelName = sceneFile.id || sceneFile.name.replace('.rpy', '').replace(/\\s+/g, '_').toLowerCase();\r\n      console.log(` Generando label automtico: ${labelName}`);\r\n      this.script += `label ${labelName}:\\n\\n`;\r\n    } else if (!sceneFile.isMain) {\r\n      console.log(` Saltando generacin de label automtico para ${sceneFile.name}`);\r\n    }\r\n  }\r\n\r\n  // Generar elementos de archivo de escena\r\n  async generateSceneFileElements(elements) {\r\n    if (elements.length === 0) {\r\n      this.script += `# Esta escena est vaca\\n`;\r\n      return;\r\n    }\r\n\r\n    // Usar for...of con await para manejar funciones asncronas\r\n    for (let index = 0; index < elements.length; index++) {\r\n      await this.generateScriptElement(elements[index], index);\r\n    }\r\n  }\r\n\r\n  // Generar encabezado del proyecto\r\n  generateHeader(project) {\r\n    this.script += `# Generado por RynEditor - Gracias por confiar en nosotros\\n\\n`;\r\n    \r\n    if (project.name) {\r\n    this.script += `# ${project.name}\\n`;\r\n    }\r\n    \r\n    if (project.description) {\r\n      this.script += `# ${project.description}\\n`;\r\n    }\r\n    \r\n    this.script += `\\n`;\r\n  }\r\n\r\n  // Definir personajes\r\n  generateCharacters(characters) {\r\n    if (characters.length === 0) return;\r\n\r\n    this.script += `# Definicin de personajes\\n`;\r\n    \r\n    characters.forEach(character => {\r\n      this.characters.set(character.id, character.name);\r\n      this.script += `define ${character.id} = Character(\"${character.name}\"`;\r\n      \r\n      if (character.color) {\r\n        this.script += `, color=\"${character.color}\"`;\r\n      }\r\n      \r\n      if (character.who_color) {\r\n        this.script += `, who_color=\"${character.who_color}\"`;\r\n      }\r\n      \r\n      if (character.what_color) {\r\n        this.script += `, what_color=\"${character.what_color}\"`;\r\n      }\r\n      \r\n      this.script += `)\\n`;\r\n      \r\n      // Generar sprites del personaje\r\n      if (character.sprites && character.sprites.length > 0) {\r\n        character.sprites.forEach(sprite => {\r\n          // Convertir ruta a formato Ren'Py (sin game/ prefix)\r\n          let renpyPath = sprite.path;\r\n          \r\n          // Limpiar rutas para Ren'Py\r\n          if (renpyPath.startsWith('images/')) {\r\n            renpyPath = renpyPath.replace('images/', '');\r\n          }\r\n          if (renpyPath.startsWith('game/')) {\r\n            renpyPath = renpyPath.replace('game/', '');\r\n          }\r\n          \r\n          // Generar nombre limpio para el sprite\r\n          const spriteName = sprite.name.toLowerCase()\r\n            .replace(/\\s+/g, '_')\r\n            .replace(/[^a-z0-9_]/g, '');\r\n          \r\n          this.script += `image ${character.id} ${spriteName} = \"${renpyPath}\"\\n`;\r\n          this.images.add(sprite.path);\r\n        });\r\n      }\r\n    });\r\n    \r\n    this.script += `\\n`;\r\n  }\r\n\r\n  // Generar variables y flags\r\n  generateVariablesAndFlags(variables, flags) {\r\n    // Verificar que las variables y flags existan y sean arrays\r\n    const safeVariables = Array.isArray(variables) ? variables : [];\r\n    const safeFlags = Array.isArray(flags) ? flags : [];\r\n    \r\n    if (safeVariables.length === 0 && safeFlags.length === 0) return;\r\n\r\n    this.script += `# Variables y Flags del proyecto\\n`;\r\n    \r\n    // Generar variables\r\n    safeVariables.forEach(variable => {\r\n      if (variable && variable.name) {\r\n        let value = variable.value;\r\n        if (variable.type === 'string') {\r\n          value = `\"${value}\"`;\r\n        } else if (variable.type === 'boolean') {\r\n          value = value ? 'True' : 'False';\r\n        }\r\n        this.script += `default ${variable.name} = ${value}\\n`;\r\n      }\r\n    });\r\n    \r\n    // Generar flags\r\n    safeFlags.forEach(flag => {\r\n      if (flag && flag.name) {\r\n        const value = flag.value ? 'True' : 'False';\r\n        this.script += `default ${flag.name} = ${value}\\n`;\r\n      }\r\n    });\r\n    \r\n    this.script += `\\n`;\r\n  }\r\n\r\n  // Generar escenas\r\n  generateScenes(scenes) {\r\n    if (scenes.length === 0) return;\r\n\r\n    this.script += `# Definicin de escenas\\n`;\r\n    \r\n    scenes.forEach(scene => {\r\n      this.script += `# Escena: ${scene.name}\\n`;\r\n      \r\n      if (scene.background) {\r\n        // Convertir ruta a formato Ren'Py (sin game/ prefix)\r\n        const renpyPath = scene.background.replace('images/', '');\r\n        this.script += `image ${scene.id} = \"${renpyPath}\"\\n`;\r\n        this.images.add(scene.background);\r\n      }\r\n      \r\n      if (scene.music) {\r\n        // Convertir ruta a formato Ren'Py (sin game/ prefix)\r\n        const renpyPath = scene.music.replace('audio/', '');\r\n        this.script += `define audio.${scene.id}_music = \"${renpyPath}\"\\n`;\r\n        this.audio.add(scene.music);\r\n      }\r\n    });\r\n    \r\n    this.script += `\\n`;\r\n  }\r\n\r\n  // Generar definiciones de videos\r\n  generateVideos(project) {\r\n    // Buscar todos los videos usados en el proyecto\r\n    const videos = new Set();\r\n    const movieSprites = new Map();\r\n    \r\n    // Buscar en todos los archivos de escenas\r\n    project.sceneFiles.forEach(sceneFile => {\r\n      sceneFile.elements.forEach(element => {\r\n        if ((element.type === 'video' || element.type === 'movie_sprite' || element.type === 'movie_cutscene') && element.file) {\r\n          if (element.type === 'movie_sprite' && element.spriteName) {\r\n            // Para movie sprites, usar el nombre personalizado\r\n            movieSprites.set(element.spriteName, element.file);\r\n          } else {\r\n            // Para videos normales y cutscenes\r\n            videos.add(element.file);\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    if (videos.size === 0 && movieSprites.size === 0) return;\r\n\r\n    this.script += `# Definicin de videos\\n`;\r\n    \r\n    // Generar definiciones de videos normales\r\n    videos.forEach(videoPath => {\r\n      // Convertir ruta a formato Ren'Py (sin game/ prefix)\r\n      const renpyPath = videoPath.replace('videos/', '');\r\n      const videoName = renpyPath.replace(/\\.[^/.]+$/, \"\").replace(/[^a-zA-Z0-9_]/g, '_');\r\n      \r\n      // Generar definicin de video\r\n      this.script += `image ${videoName} = Movie(play=\"${renpyPath}\")\\n`;\r\n    });\r\n    \r\n    // Generar definiciones de movie sprites\r\n    movieSprites.forEach((videoPath, spriteName) => {\r\n      const renpyPath = videoPath.replace('videos/', '');\r\n      this.script += `image ${spriteName} = Movie(play=\"${renpyPath}\")\\n`;\r\n    });\r\n    \r\n    this.script += `\\n`;\r\n  }\r\n\r\n  // Generar script principal\r\n  async generateMainScript(scriptElements) {\r\n    this.script += `label start:\\n\\n`;\r\n\r\n    // Usar for...of con await para manejar funciones asncronas\r\n    for (let index = 0; index < scriptElements.length; index++) {\r\n      await this.generateScriptElement(scriptElements[index], index);\r\n    }\r\n\r\n    // Agregar saltos a archivos de escenas\r\n    this.generateSceneJumps();\r\n\r\n    this.script += `\\n    return\\n`;\r\n  }\r\n\r\n  // Generar setup del protagonista\r\n  generateProtagonistSetup() {\r\n    console.log(' generateProtagonistSetup - Iniciando generacin...');\r\n    const config = this.project.protagonistConfig;\r\n    const defaultName = config.defaultName || 'Jugador';\r\n    const promptText = config.promptText || 'Por favor, introduce tu nombre:';\r\n    \r\n    console.log(' Configuracin:', { defaultName, promptText });\r\n    \r\n    this.script += `# Configuracin del protagonista\\n`;\r\n    this.script += `label setup_protagonist:\\n`;\r\n    this.script += `    python:\\n`;\r\n    this.script += `        mc_name = renpy.input(\"${promptText}\")\\n`;\r\n    this.script += `        mc_name = mc_name.strip() or \"${defaultName}\"\\n\\n`;\r\n    this.script += `    \"Tu nombre es [mc_name].\"\\n`;\r\n    this.script += `    menu:\\n`;\r\n    this.script += `        \"Ests seguro?\"\\n`;\r\n    this.script += `        \"S, continuar.\":\\n`;\r\n    this.script += `            \"Perfecto! Ahora comienza tu historia...\"\\n`;\r\n    this.script += `            jump main_story\\n`;\r\n    this.script += `        \"No, quiero cambiar mi nombre.\":\\n`;\r\n    this.script += `            jump setup_protagonist\\n\\n`;\r\n    \r\n    console.log(' generateProtagonistSetup - Cdigo generado exitosamente');\r\n  }\r\n\r\n  // Generar saltos a archivos de escenas\r\n  generateSceneJumps() {\r\n    // Esto se completar cuando se implemente la lgica de saltos\r\n    // Por ahora, se puede agregar manualmente en el script principal\r\n  }\r\n\r\n  // Generar elemento individual del script\r\n  async generateScriptElement(element, index) {\r\n    const indent = '    ';\r\n\r\n    switch (element.type) {\r\n      case 'dialogue':\r\n        // Mostrar sprite si est especificado\r\n        if (element.showSprite && element.character) {\r\n          const position = element.spritePosition || 'center';\r\n          const positionMap = {\r\n            'left': 'at left',\r\n            'center': 'at center',\r\n            'right': 'at right'\r\n          };\r\n          \r\n          // Limpiar nombre del sprite para coincidir con la definicin\r\n          const cleanSpriteName = element.showSprite.toLowerCase()\r\n            .replace(/\\s+/g, '_')\r\n            .replace(/[^a-z0-9_]/g, '');\r\n          \r\n          this.script += `${indent}show ${element.character} ${cleanSpriteName} ${positionMap[position]}\\n`;\r\n        }\r\n        \r\n        // Generar el dilogo\r\n        if (element.character && this.characters.has(element.character)) {\r\n          // Verificar si es el protagonista\r\n          const character = this.project.characters.find(char => char.id === element.character);\r\n          if (character && character.isProtagonist) {\r\n            // Para el protagonista, usar mc_name y reemplazar [mc_name] con mc_name\r\n            const dialogueText = element.text.replace(/\\[mc_name\\]/g, '[mc_name]');\r\n            this.script += `${indent}mc_name \"${dialogueText}\"\\n`;\r\n          } else {\r\n            // Para otros personajes, usar el ID del personaje\r\n            this.script += `${indent}${element.character} \"${element.text}\"\\n`;\r\n          }\r\n        } else {\r\n          this.script += `${indent}'${element.text}'\\n`;\r\n        }\r\n        break;\r\n\r\n      case 'narration':\r\n        // Aplicar estilos de Ren'Py si estn definidos\r\n        const narrationText = this.formatNarrationText(element);\r\n        this.script += `${indent}'${narrationText}'\\n`;\r\n        break;\r\n\r\n      case 'scene':\r\n        if (element.background) {\r\n          // Obtener el nombre de imagen definido\r\n          const imageName = await this.getImageDefinitionName(element.background, 'backgrounds');\r\n          if (imageName) {\r\n            this.script += `${indent}scene ${imageName}`;\r\n          } else {\r\n            // Fallback: usar ruta directa\r\n            let renpyPath = element.background.replace('images/', '');\r\n            renpyPath = renpyPath.replace('game/', '');\r\n            this.script += `${indent}scene ${renpyPath}`;\r\n          }\r\n          \r\n          // Agregar transicin si est definida\r\n          if (element.backgroundTransition) {\r\n            const transitionType = element.backgroundTransition;\r\n            const transitionDuration = element.backgroundTransitionDuration || '';\r\n            \r\n            if (transitionDuration) {\r\n              this.script += ` with ${transitionType}(${transitionDuration})\\n`;\r\n            } else {\r\n              this.script += ` with ${transitionType}\\n`;\r\n            }\r\n          } else {\r\n            this.script += '\\n';\r\n          }\r\n        }\r\n        // Manejar show/hide de personajes en elementos de escena\r\n        if (element.show && Array.isArray(element.show)) {\r\n          element.show.forEach(characterInfo => {\r\n            if (typeof characterInfo === 'string') {\r\n              // Formato simple: solo nombre del personaje\r\n              this.script += `${indent}show ${characterInfo}\\n`;\r\n            } else if (characterInfo.character && characterInfo.sprite) {\r\n              // Formato completo: personaje con sprite y posicin\r\n              const position = characterInfo.position || 'center';\r\n              const positionMap = {\r\n                'left': 'at left',\r\n                'center': 'at center',\r\n                'right': 'at right'\r\n              };\r\n              \r\n              const cleanSpriteName = characterInfo.sprite.toLowerCase()\r\n                .replace(/\\s+/g, '_')\r\n                .replace(/[^a-z0-9_]/g, '');\r\n              \r\n              this.script += `${indent}show ${characterInfo.character} ${cleanSpriteName} ${positionMap[position]}\\n`;\r\n            }\r\n          });\r\n        }\r\n        \r\n        if (element.hide && Array.isArray(element.hide)) {\r\n          element.hide.forEach(character => {\r\n            this.script += `${indent}hide ${character}\\n`;\r\n          });\r\n        }\r\n        break;\r\n\r\n      case 'transition':\r\n        // Generar comando de transicin\r\n        const transitionType = element.transitionType || 'dissolve';\r\n        const transitionDuration = element.transitionDuration || '';\r\n        \r\n        if (transitionDuration) {\r\n          // Usar duracin personalizada\r\n          this.script += `${indent}with ${transitionType}(${transitionDuration})\\n`;\r\n        } else {\r\n          // Usar duracin por defecto\r\n          this.script += `${indent}with ${transitionType}\\n`;\r\n        }\r\n        break;\r\n\r\n      case 'choice':\r\n        if (element.text) {\r\n          this.script += `${indent}'${element.text}'\\n`;\r\n        }\r\n        this.script += `${indent}menu:\\n\\n`;\r\n        element.choices.forEach(choice => {\r\n          // Agregar condicin si existe\r\n          const conditionText = choice.condition ? ` if ${choice.condition}` : '';\r\n          this.script += `${indent}    \"${choice.text}\"${conditionText}:\\n\\n`;\r\n          if (choice.jump) {\r\n            this.script += `${indent}        jump ${choice.jump}\\n`;\r\n          }\r\n        });\r\n        break;\r\n\r\n      case 'jump':\r\n        this.script += `${indent}jump ${element.jump}\\n\\n`;\r\n        break;\r\n\r\n      case 'label':\r\n        console.log(` Generando label manual: ${element.label}`);\r\n        this.script += `label ${element.label}:\\n\\n`;\r\n        break;\r\n\r\n      case 'condition':\r\n        this.script += `${indent}if ${element.condition}:\\n`;\r\n        if (element.text) {\r\n          this.script += `${indent}    '${element.text}'\\n`;\r\n        }\r\n        break;\r\n\r\n      case 'variable':\r\n        this.script += `${indent}$ ${element.variableName} = ${element.variableValue}\\n`;\r\n        break;\r\n\r\n      case 'flag':\r\n        this.script += `${indent}$ ${element.flagName} = ${element.flagValue}\\n`;\r\n        break;\r\n\r\n      case 'music':\r\n        if (element.action === 'play') {\r\n          // Convertir ruta a formato Ren'Py (sin game/ prefix)\r\n          const renpyPath = element.file.replace('audio/', '');\r\n          this.script += `${indent}play music \"${renpyPath}\"\\n`;\r\n        } else if (element.action === 'stop') {\r\n          this.script += `${indent}stop music\\n`;\r\n        }\r\n        this.audio.add(element.file);\r\n        break;\r\n\r\n      case 'sound':\r\n        // Convertir ruta a formato Ren'Py (sin game/ prefix)\r\n        const renpyPath = element.file.replace('audio/', '');\r\n        this.script += `${indent}play sound \"${renpyPath}\"\\n`;\r\n        this.audio.add(element.file);\r\n        break;\r\n\r\n      case 'pause':\r\n        this.script += `${indent}$ renpy.pause(${element.duration || 1.0})\\n`;\r\n        break;\r\n\r\n      case 'show_sprite':\r\n        if (element.character && element.spriteName) {\r\n          // Agregar posicin si est definida\r\n          const position = element.spritePosition || 'center';\r\n          const positionMap = {\r\n            'left': 'at left',\r\n            'center': 'at center', \r\n            'right': 'at right'\r\n          };\r\n          \r\n          this.script += `${indent}show ${element.character} ${element.spriteName} ${positionMap[position]}`;\r\n          \r\n          // Agregar transicin si est definida\r\n          if (element.spriteTransition) {\r\n            const transitionType = element.spriteTransition;\r\n            const transitionDuration = element.spriteTransitionDuration || '';\r\n            \r\n            if (transitionDuration) {\r\n              this.script += ` with ${transitionType}(${transitionDuration})\\n`;\r\n            } else {\r\n              this.script += ` with ${transitionType}\\n`;\r\n            }\r\n          } else {\r\n            this.script += '\\n';\r\n          }\r\n        } else if (element.character) {\r\n          // Si no hay sprite especfico, mostrar el personaje por defecto\r\n          const position = element.spritePosition || 'center';\r\n          const positionMap = {\r\n            'left': 'at left',\r\n            'center': 'at center',\r\n            'right': 'at right'\r\n          };\r\n          \r\n          this.script += `${indent}show ${element.character} ${positionMap[position]}\\n`;\r\n        }\r\n        break;\r\n\r\n      case 'hide_sprite':\r\n        if (element.character) {\r\n          // Agregar transicin si est definida\r\n          if (element.spriteTransition) {\r\n            const transitionType = element.spriteTransition;\r\n            const transitionDuration = element.spriteTransitionDuration || '';\r\n            \r\n            if (transitionDuration) {\r\n              this.script += `${indent}hide ${element.character} with ${transitionType}(${transitionDuration})\\n`;\r\n            } else {\r\n              this.script += `${indent}hide ${element.character} with ${transitionType}\\n`;\r\n            }\r\n          } else {\r\n            this.script += `${indent}hide ${element.character}\\n`;\r\n          }\r\n        }\r\n        break;\r\n\r\n      case 'video':\r\n        if (element.file) {\r\n          // Convertir ruta a formato Ren'Py (sin game/ prefix)\r\n          const renpyPath = element.file.replace('videos/', '');\r\n          if (element.displayType === 'fullscreen') {\r\n            this.script += `${indent}$ renpy.movie_cutscene(\"${renpyPath}\"`;\r\n            if (element.delay !== undefined && element.delay !== '') {\r\n              this.script += `, delay=${element.delay}`;\r\n            }\r\n            if (element.loops !== undefined && element.loops !== 0) {\r\n              this.script += `, loops=${element.loops}`;\r\n            }\r\n            if (element.stopMusic !== undefined && element.stopMusic === false) {\r\n              this.script += `, stop_music=False`;\r\n            }\r\n            this.script += `)\\n`;\r\n          } else {\r\n            // Video como displayable - usar el nombre generado en generateVideos\r\n            const videoName = renpyPath.replace(/\\.[^/.]+$/, \"\").replace(/[^a-zA-Z0-9_]/g, '_');\r\n            this.script += `${indent}show ${videoName}\\n`;\r\n          }\r\n        }\r\n        break;\r\n\r\n      case 'movie_sprite':\r\n        if (element.file) {\r\n          const renpyPath = element.file.replace('videos/', '');\r\n          const spriteName = element.spriteName || 'movie_sprite';\r\n          this.script += `${indent}show ${spriteName}\\n`;\r\n        }\r\n        break;\r\n\r\n      case 'movie_cutscene':\r\n        if (element.file) {\r\n          const renpyPath = element.file.replace('videos/', '');\r\n          this.script += `${indent}$ renpy.movie_cutscene(\"${renpyPath}\"`;\r\n          if (element.delay !== undefined && element.delay !== '') {\r\n            this.script += `, delay=${element.delay}`;\r\n          }\r\n          if (element.loops !== undefined && element.loops !== 0) {\r\n            this.script += `, loops=${element.loops}`;\r\n          }\r\n          if (element.stopMusic !== undefined && element.stopMusic === false) {\r\n            this.script += `, stop_music=False`;\r\n          }\r\n          this.script += `)\\n`;\r\n        }\r\n        break;\r\n\r\n      case 'protagonist_setup':\r\n        // Generar setup del protagonista\r\n        console.log(' Generando setup del protagonista desde elemento...');\r\n        this.generateProtagonistSetup();\r\n        // Generar label main_story despus del setup\r\n        this.script += `label main_story:\\n\\n`;\r\n        break;\r\n\r\n      default:\r\n        // Elemento desconocido - no generar nada\r\n        break;\r\n    }\r\n\r\n    // Solo agregar salto de lnea si el elemento no es un label o jump (ya tienen su propio espaciado)\r\n    if (element.type !== 'label' && element.type !== 'jump') {\r\n    this.script += `\\n`;\r\n    }\r\n  }\r\n\r\n  // Generar archivo de configuracin options.rpy\r\n  generateOptions(project) {\r\n    return `# Configuracin del juego\r\ndefine config.name = _(\"${project.name}\")\r\n\r\ndefine gui.show_name = True\r\n\r\ndefine config.version = \"${project.version}\"\r\n\r\ndefine gui.about = _p(\"\"\"\r\n${project.description || 'Una novela visual creada con Visual Novel Creator'}\r\n\"\"\")\r\n\r\ndefine build.name = \"${project.name.replace(/\\s+/g, '_')}\"\r\n\r\n# Configuracin de pantalla\r\ndefine config.screen_width = 1920\r\ndefine config.screen_height = 1080\r\n\r\n# Configuracin de audio\r\ndefine config.has_sound = True\r\ndefine config.has_music = True\r\ndefine config.has_voice = True\r\n\r\n# Configuracin de texto\r\ndefine config.enter_transition = dissolve\r\ndefine config.exit_transition = dissolve\r\ndefine config.after_load_transition = None\r\ndefine config.end_game_transition = fade\r\n\r\n# Configuracin de ventana\r\ndefine config.window = \"auto\"\r\n\r\n# Configuracin de archivos\r\ndefine config.archives = None\r\n`;\r\n  }\r\n\r\n  // Generar archivo de guin script.rpy\r\n  async generateScriptFile(project) {\r\n    return await this.generateScript(project);\r\n  }\r\n\r\n  // Obtener lista de recursos necesarios\r\n  getResources() {\r\n    return {\r\n      images: Array.from(this.images),\r\n      audio: Array.from(this.audio)\r\n    };\r\n  }\r\n}\r\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","// Sistema de almacenamiento de assets hbrido (IndexedDB + localStorage)\nexport class AssetStorage {\n  constructor() {\n    this.dbName = 'VisualNovelAssets';\n    this.dbVersion = 1;\n    this.db = null;\n    this.metadataKey = 'visual_novel_files_metadata';\n  }\n\n  // Inicializar IndexedDB\n  async init() {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, this.dbVersion);\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        this.db = request.result;\n        resolve();\n      };\n\n      request.onupgradeneeded = (event) => {\n        const db = event.target.result;\n        \n        // Crear store para archivos\n        if (!db.objectStoreNames.contains('files')) {\n          const fileStore = db.createObjectStore('files', { keyPath: 'id' });\n          fileStore.createIndex('category', 'category', { unique: false });\n          fileStore.createIndex('name', 'name', { unique: false });\n        }\n      };\n    });\n  }\n\n  // Guardar archivo en IndexedDB con reintentos\n  async saveFile(fileData, retryCount = 0) {\n    if (!this.db) {\n      await this.init();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction(['files'], 'readwrite');\n      const store = transaction.objectStore('files');\n      \n      const fileRecord = {\n        id: fileData.id,\n        name: fileData.name,\n        category: fileData.category,\n        data: fileData.data,\n        folderPath: fileData.folderPath,\n        filePath: fileData.filePath,\n        uploadedAt: new Date().toISOString()\n      };\n\n      console.log(`=== AssetStorage: Guardando archivo ===`);\n      console.log(`AssetStorage: \"${fileData.name}\" con categora \"${fileData.category}\"`);\n      console.log(`AssetStorage: ID: ${fileData.id}`);\n      console.log(`AssetStorage: Intento: ${retryCount + 1}`);\n\n      const request = store.put(fileRecord);\n      \n      request.onsuccess = () => {\n        console.log(`AssetStorage: Archivo guardado exitosamente con ID: ${fileData.id}`);\n        // Actualizar metadatos en localStorage\n        this.updateMetadata(fileData);\n        resolve(fileData.id);\n      };\n      \n      request.onerror = () => {\n        console.error('AssetStorage: Error al guardar archivo:', request.error);\n        \n        // Reintentar hasta 3 veces\n        if (retryCount < 2) {\n          console.log(`AssetStorage: Reintentando guardado (${retryCount + 1}/3)...`);\n          setTimeout(() => {\n            this.saveFile(fileData, retryCount + 1)\n              .then(resolve)\n              .catch(reject);\n          }, 1000 * (retryCount + 1)); // Delay incremental\n        } else {\n          reject(request.error);\n        }\n      };\n    });\n  }\n\n  // Obtener archivo de IndexedDB\n  async getFile(id) {\n    if (!this.db) {\n      await this.init();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction(['files'], 'readonly');\n      const store = transaction.objectStore('files');\n      const request = store.get(id);\n\n      request.onsuccess = () => {\n        if (request.result) {\n          resolve(request.result);\n        } else {\n          resolve(null);\n        }\n      };\n\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  // Obtener todos los archivos de una categora\n  async getFilesByCategory(category) {\n    if (!this.db) {\n      await this.init();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction(['files'], 'readonly');\n      const store = transaction.objectStore('files');\n      const index = store.index('category');\n      const request = index.getAll(category);\n\n      request.onsuccess = () => {\n        resolve(request.result || []);\n      };\n\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  // Obtener todos los archivos\n  async getAllFiles() {\n    if (!this.db) {\n      await this.init();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction(['files'], 'readonly');\n      const store = transaction.objectStore('files');\n      const request = store.getAll();\n\n      request.onsuccess = () => {\n        console.log('AssetStorage: getAllFiles - request.result:', request.result);\n        resolve(request.result || []);\n      };\n\n      request.onerror = () => {\n        console.error('AssetStorage: Error en getAllFiles:', request.error);\n        reject(request.error);\n      };\n    });\n  }\n\n  // Eliminar archivo\n  async deleteFile(id) {\n    if (!this.db) {\n      await this.init();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction(['files'], 'readwrite');\n      const store = transaction.objectStore('files');\n      const request = store.delete(id);\n\n      request.onsuccess = () => {\n        // Actualizar metadatos en localStorage\n        this.removeFromMetadata(id);\n        resolve();\n      };\n\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  // Eliminar todos los archivos\n  async clearAllFiles() {\n    if (!this.db) {\n      await this.init();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction(['files'], 'readwrite');\n      const store = transaction.objectStore('files');\n      const request = store.clear();\n\n      request.onsuccess = () => {\n        // Limpiar metadatos en localStorage\n        localStorage.removeItem(this.metadataKey);\n        console.log(' Todos los archivos eliminados de IndexedDB');\n        resolve();\n      };\n\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  // Actualizar metadatos en localStorage\n  updateMetadata(fileData) {\n    try {\n      const metadata = this.getMetadata();\n      metadata[fileData.id] = {\n        name: fileData.name,\n        category: fileData.category,\n        folderPath: fileData.folderPath,\n        filePath: fileData.filePath,\n        uploadedAt: new Date().toISOString(),\n        lastSync: new Date().toISOString()\n      };\n      localStorage.setItem(this.metadataKey, JSON.stringify(metadata));\n      console.log(`AssetStorage: Metadatos actualizados para ${fileData.name}`);\n    } catch (error) {\n      console.warn('No se pudieron actualizar metadatos en localStorage:', error);\n    }\n  }\n\n  // Remover de metadatos\n  removeFromMetadata(id) {\n    try {\n      const metadata = this.getMetadata();\n      delete metadata[id];\n      localStorage.setItem(this.metadataKey, JSON.stringify(metadata));\n    } catch (error) {\n      console.warn('No se pudieron actualizar metadatos en localStorage:', error);\n    }\n  }\n\n  // Obtener metadatos\n  getMetadata() {\n    try {\n      const metadata = localStorage.getItem(this.metadataKey);\n      return metadata ? JSON.parse(metadata) : {};\n    } catch (error) {\n      console.warn('Error al obtener metadatos:', error);\n      return {};\n    }\n  }\n\n  // Obtener URL de imagen\n  async getImageUrl(imagePath) {\n    if (!imagePath) return null;\n\n    // Buscar en IndexedDB\n    const files = await this.getAllFiles();\n    const file = files.find(f => f.folderPath === imagePath || f.name === imagePath.split('/').pop());\n    \n    if (file) {\n      return file.data; // Data URL\n    }\n\n    return null;\n  }\n\n  // Obtener archivos por categora (compatible con FileManager existente)\n  async getFilesByCategoryCompat(category) {\n    console.log(`=== AssetStorage: Buscando archivos en categora \"${category}\" ===`);\n    \n    try {\n      // Usar siempre filtrado manual para evitar problemas con el ndice\n      console.log(`AssetStorage: Filtrando manualmente archivos para categora \"${category}\"...`);\n      const allFiles = await this.getAllFiles();\n      console.log(`AssetStorage: Total de archivos en DB: ${allFiles.length}`);\n      \n      const filteredFiles = allFiles.filter(file => {\n        const matches = file.category === category;\n        console.log(`AssetStorage: Archivo \"${file.name}\" - categora: \"${file.category}\", coincide: ${matches}`);\n        return matches;\n      });\n      \n      console.log(`AssetStorage: Archivos filtrados para \"${category}\": ${filteredFiles.length}`);\n      \n      return filteredFiles.map(file => ({\n        id: file.id,\n        name: file.name,\n        category: file.category,\n        folderPath: file.folderPath,\n        data: file.data,\n        url: file.data\n      }));\n      \n    } catch (error) {\n      console.error('AssetStorage: Error al buscar archivos por categora:', error);\n      return [];\n    }\n  }\n\n  // Limpiar todos los archivos\n  async clearAll() {\n    if (!this.db) {\n      await this.init();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db.transaction(['files'], 'readwrite');\n      const store = transaction.objectStore('files');\n      const request = store.clear();\n\n      request.onsuccess = () => {\n        // Limpiar metadatos\n        localStorage.removeItem(this.metadataKey);\n        resolve();\n      };\n\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  // Obtener estadsticas de almacenamiento\n  async getStorageStats() {\n    console.log('=== AssetStorage: Obteniendo estadsticas ===');\n    const files = await this.getAllFiles();\n    console.log('AssetStorage: Archivos encontrados:', files.length);\n    console.log('AssetStorage: Archivos:', files.map(f => ({ id: f.id, name: f.name, category: f.category })));\n    \n    const totalSize = files.reduce((sum, file) => sum + (file.data ? file.data.length : 0), 0);\n    \n    const stats = {\n      totalFiles: files.length,\n      totalSize: totalSize,\n      totalSizeMB: (totalSize / (1024 * 1024)).toFixed(2),\n      categories: [...new Set(files.map(f => f.category))]\n    };\n    \n    console.log('AssetStorage: Estadsticas calculadas:', stats);\n    console.log('=== AssetStorage: Fin estadsticas ===');\n    \n    return stats;\n  }\n}\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; (typeof current == 'object' || typeof current == 'function') && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","function _taggedTemplateLiteral(e, t) {\n  return t || (t = e.slice(0)), Object.freeze(Object.defineProperties(e, {\n    raw: {\n      value: Object.freeze(t)\n    }\n  }));\n}\nexport { _taggedTemplateLiteral as default };","function stylis_min (W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {\n                  }\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport { memoize as default };\n","import memoize from '@emotion/memoize';\n\n// eslint-disable-next-line no-undef\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport { isPropValid as default };\n","// @flow\nimport type { Interpolation } from '../types';\n\nexport default (\n  strings: Array<string>,\n  interpolations: Array<Interpolation>\n): Array<Interpolation> => {\n  const result = [strings[0]];\n\n  for (let i = 0, len = interpolations.length; i < len; i += 1) {\n    result.push(interpolations[i], strings[i + 1]);\n  }\n\n  return result;\n};\n","// @flow\nimport { typeOf } from 'react-is';\n\nexport default (x: any): boolean =>\n  x !== null &&\n  typeof x === 'object' &&\n  (x.toString ? x.toString() : Object.prototype.toString.call(x)) === '[object Object]' &&\n  !typeOf(x);\n","// @flow\nexport const EMPTY_ARRAY = Object.freeze([]);\nexport const EMPTY_OBJECT = Object.freeze({});\n","// @flow\nexport default function isFunction(test: any): boolean %checks {\n  return typeof test === 'function';\n}\n","// @flow\nimport type { IStyledComponent } from '../types';\n\nexport default function getComponentName(\n  target: $PropertyType<IStyledComponent, 'target'>\n): string {\n  return (\n    (process.env.NODE_ENV !== 'production' ? typeof target === 'string' && target : false) ||\n    // $FlowFixMe\n    target.displayName ||\n    // $FlowFixMe\n    target.name ||\n    'Component'\n  );\n}\n","// @flow\nexport default function isStyledComponent(target: any): boolean %checks {\n  return target && typeof target.styledComponentId === 'string';\n}\n","// @flow\n\ndeclare var SC_DISABLE_SPEEDY: ?boolean;\ndeclare var __VERSION__: string;\n\nexport const SC_ATTR: string =\n  (typeof process !== 'undefined' &&\n    typeof process.env !== 'undefined' &&\n    (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR)) ||\n  'data-styled';\n\nexport const SC_ATTR_ACTIVE = 'active';\nexport const SC_ATTR_VERSION = 'data-styled-version';\nexport const SC_VERSION = __VERSION__;\nexport const SPLITTER = '/*!sc*/\\n';\n\nexport const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\n\nexport const DISABLE_SPEEDY = Boolean(\n  typeof SC_DISABLE_SPEEDY === 'boolean'\n    ? SC_DISABLE_SPEEDY\n    : typeof process !== 'undefined' && typeof process.env !== 'undefined'\n    ? typeof process.env.REACT_APP_SC_DISABLE_SPEEDY !== 'undefined' &&\n      process.env.REACT_APP_SC_DISABLE_SPEEDY !== ''\n      ? process.env.REACT_APP_SC_DISABLE_SPEEDY === 'false'\n        ? false\n        : process.env.REACT_APP_SC_DISABLE_SPEEDY\n      : typeof process.env.SC_DISABLE_SPEEDY !== 'undefined' && process.env.SC_DISABLE_SPEEDY !== ''\n      ? process.env.SC_DISABLE_SPEEDY === 'false'\n        ? false\n        : process.env.SC_DISABLE_SPEEDY\n      : process.env.NODE_ENV !== 'production'\n    : false\n);\n\n// Shared empty execution context when generating static styles\nexport const STATIC_EXECUTION_CONTEXT = {};\n","// @flow\nimport errorMap from './errors';\n\nconst ERRORS = process.env.NODE_ENV !== 'production' ? errorMap : {};\n\n/**\n * super basic version of sprintf\n */\nfunction format(...args) {\n  let a = args[0];\n  const b = [];\n\n  for (let c = 1, len = args.length; c < len; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(d => {\n    a = a.replace(/%[a-z]/, d);\n  });\n\n  return a;\n}\n\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n */\nexport default function throwStyledComponentsError(\n  code: string | number,\n  ...interpolations: Array<any>\n) {\n  if (process.env.NODE_ENV === 'production') {\n    throw new Error(\n      `An error occurred. See https://git.io/JUIaE#${code} for more information.${\n        interpolations.length > 0 ? ` Args: ${interpolations.join(', ')}` : ''\n      }`\n    );\n  } else {\n    throw new Error(format(ERRORS[code], ...interpolations).trim());\n  }\n}\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport type { GroupedTag, Tag } from './types';\nimport { SPLITTER } from '../constants';\nimport throwStyledError from '../utils/error';\n\n/** Create a GroupedTag with an underlying Tag implementation */\nexport const makeGroupedTag = (tag: Tag): GroupedTag => {\n  return new DefaultGroupedTag(tag);\n};\n\nconst BASE_SIZE = 1 << 9;\n\nclass DefaultGroupedTag implements GroupedTag {\n  groupSizes: Uint32Array;\n\n  length: number;\n\n  tag: Tag;\n\n  constructor(tag: Tag) {\n    this.groupSizes = new Uint32Array(BASE_SIZE);\n    this.length = BASE_SIZE;\n    this.tag = tag;\n  }\n\n  indexOfGroup(group: number): number {\n    let index = 0;\n    for (let i = 0; i < group; i++) {\n      index += this.groupSizes[i];\n    }\n\n    return index;\n  }\n\n  insertRules(group: number, rules: string[]): void {\n    if (group >= this.groupSizes.length) {\n      const oldBuffer = this.groupSizes;\n      const oldSize = oldBuffer.length;\n\n      let newSize = oldSize;\n      while (group >= newSize) {\n        newSize <<= 1;\n        if (newSize < 0) {\n          throwStyledError(16, `${group}`);\n        }\n      }\n\n      this.groupSizes = new Uint32Array(newSize);\n      this.groupSizes.set(oldBuffer);\n      this.length = newSize;\n\n      for (let i = oldSize; i < newSize; i++) {\n        this.groupSizes[i] = 0;\n      }\n    }\n\n    let ruleIndex = this.indexOfGroup(group + 1);\n    for (let i = 0, l = rules.length; i < l; i++) {\n      if (this.tag.insertRule(ruleIndex, rules[i])) {\n        this.groupSizes[group]++;\n        ruleIndex++;\n      }\n    }\n  }\n\n  clearGroup(group: number): void {\n    if (group < this.length) {\n      const length = this.groupSizes[group];\n      const startIndex = this.indexOfGroup(group);\n      const endIndex = startIndex + length;\n\n      this.groupSizes[group] = 0;\n\n      for (let i = startIndex; i < endIndex; i++) {\n        this.tag.deleteRule(startIndex);\n      }\n    }\n  }\n\n  getGroup(group: number): string {\n    let css = '';\n    if (group >= this.length || this.groupSizes[group] === 0) {\n      return css;\n    }\n\n    const length = this.groupSizes[group];\n    const startIndex = this.indexOfGroup(group);\n    const endIndex = startIndex + length;\n\n    for (let i = startIndex; i < endIndex; i++) {\n      css += `${this.tag.getRule(i)}${SPLITTER}`;\n    }\n\n    return css;\n  }\n}\n","// @flow\n\nimport throwStyledError from '../utils/error';\n\nconst MAX_SMI = 1 << 31 - 1;\n\nlet groupIDRegister: Map<string, number> = new Map();\nlet reverseRegister: Map<number, string> = new Map();\nlet nextFreeGroup = 1;\n\nexport const resetGroupIds = () => {\n  groupIDRegister = new Map();\n  reverseRegister = new Map();\n  nextFreeGroup = 1;\n};\n\nexport const getGroupForId = (id: string): number => {\n  if (groupIDRegister.has(id)) {\n    return (groupIDRegister.get(id): any);\n  }\n\n  while (reverseRegister.has(nextFreeGroup)) {\n    nextFreeGroup++;\n  }\n\n  const group = nextFreeGroup++;\n\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    ((group | 0) < 0 || group > MAX_SMI)\n  ) {\n    throwStyledError(16, `${group}`);\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n  return group;\n};\n\nexport const getIdForGroup = (group: number): void | string => {\n  return reverseRegister.get(group);\n};\n\nexport const setGroupForId = (id: string, group: number) => {\n  if (group >= nextFreeGroup) {\n    nextFreeGroup = group + 1;\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n};\n","// @flow\n\nimport { SPLITTER, SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport { getIdForGroup, setGroupForId } from './GroupIDAllocator';\nimport type { Sheet } from './types';\n\nconst SELECTOR = `style[${SC_ATTR}][${SC_ATTR_VERSION}=\"${SC_VERSION}\"]`;\nconst MARKER_RE = new RegExp(`^${SC_ATTR}\\\\.g(\\\\d+)\\\\[id=\"([\\\\w\\\\d-]+)\"\\\\].*?\"([^\"]*)`);\n\nexport const outputSheet = (sheet: Sheet) => {\n  const tag = sheet.getTag();\n  const { length } = tag;\n\n  let css = '';\n  for (let group = 0; group < length; group++) {\n    const id = getIdForGroup(group);\n    if (id === undefined) continue;\n\n    const names = sheet.names.get(id);\n    const rules = tag.getGroup(group);\n    if (!names || !rules || !names.size) continue;\n\n    const selector = `${SC_ATTR}.g${group}[id=\"${id}\"]`;\n\n    let content = '';\n    if (names !== undefined) {\n      names.forEach(name => {\n        if (name.length > 0) {\n          content += `${name},`;\n        }\n      });\n    }\n\n    // NOTE: It's easier to collect rules and have the marker\n    // after the actual rules to simplify the rehydration\n    css += `${rules}${selector}{content:\"${content}\"}${SPLITTER}`;\n  }\n\n  return css;\n};\n\nconst rehydrateNamesFromContent = (sheet: Sheet, id: string, content: string) => {\n  const names = content.split(',');\n  let name;\n\n  for (let i = 0, l = names.length; i < l; i++) {\n    // eslint-disable-next-line\n    if ((name = names[i])) {\n      sheet.registerName(id, name);\n    }\n  }\n};\n\nconst rehydrateSheetFromTag = (sheet: Sheet, style: HTMLStyleElement) => {\n  const parts = (style.textContent || '').split(SPLITTER);\n  const rules: string[] = [];\n\n  for (let i = 0, l = parts.length; i < l; i++) {\n    const part = parts[i].trim();\n    if (!part) continue;\n\n    const marker = part.match(MARKER_RE);\n\n    if (marker) {\n      const group = parseInt(marker[1], 10) | 0;\n      const id = marker[2];\n\n      if (group !== 0) {\n        // Rehydrate componentId to group index mapping\n        setGroupForId(id, group);\n        // Rehydrate names and rules\n        // looks like: data-styled.g11[id=\"idA\"]{content:\"nameA,\"}\n        rehydrateNamesFromContent(sheet, id, marker[3]);\n        sheet.getTag().insertRules(group, rules);\n      }\n\n      rules.length = 0;\n    } else {\n      rules.push(part);\n    }\n  }\n};\n\nexport const rehydrateSheet = (sheet: Sheet) => {\n  const nodes = document.querySelectorAll(SELECTOR);\n\n  for (let i = 0, l = nodes.length; i < l; i++) {\n    const node = ((nodes[i]: any): HTMLStyleElement);\n    if (node && node.getAttribute(SC_ATTR) !== SC_ATTR_ACTIVE) {\n      rehydrateSheetFromTag(sheet, node);\n\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    }\n  }\n};\n","// @flow\n/* eslint-disable camelcase, no-undef */\n\ndeclare var __webpack_nonce__: string;\n\nconst getNonce = () => {\n  return typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n};\n\nexport default getNonce;\n","// @flow\n\nimport { SC_ATTR, SC_ATTR_ACTIVE, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport getNonce from '../utils/nonce';\nimport throwStyledError from '../utils/error';\n\nconst ELEMENT_TYPE = 1; /* Node.ELEMENT_TYPE */\n\n/** Find last style element if any inside target */\nconst findLastStyleTag = (target: HTMLElement): void | HTMLStyleElement => {\n  const { childNodes } = target;\n\n  for (let i = childNodes.length; i >= 0; i--) {\n    const child = ((childNodes[i]: any): ?HTMLElement);\n    if (child && child.nodeType === ELEMENT_TYPE && child.hasAttribute(SC_ATTR)) {\n      return ((child: any): HTMLStyleElement);\n    }\n  }\n\n  return undefined;\n};\n\n/** Create a style element inside `target` or <head> after the last */\nexport const makeStyleTag = (target?: HTMLElement): HTMLStyleElement => {\n  const head = ((document.head: any): HTMLElement);\n  const parent = target || head;\n  const style = document.createElement('style');\n  const prevStyle = findLastStyleTag(parent);\n  const nextSibling = prevStyle !== undefined ? prevStyle.nextSibling : null;\n\n  style.setAttribute(SC_ATTR, SC_ATTR_ACTIVE);\n  style.setAttribute(SC_ATTR_VERSION, SC_VERSION);\n\n  const nonce = getNonce();\n\n  if (nonce) style.setAttribute('nonce', nonce);\n\n  parent.insertBefore(style, nextSibling);\n\n  return style;\n};\n\n/** Get the CSSStyleSheet instance for a given style element */\nexport const getSheet = (tag: HTMLStyleElement): CSSStyleSheet => {\n  if (tag.sheet) {\n    return ((tag.sheet: any): CSSStyleSheet);\n  }\n\n  // Avoid Firefox quirk where the style element might not have a sheet property\n  const { styleSheets } = document;\n  for (let i = 0, l = styleSheets.length; i < l; i++) {\n    const sheet = styleSheets[i];\n    if (sheet.ownerNode === tag) {\n      return ((sheet: any): CSSStyleSheet);\n    }\n  }\n\n  throwStyledError(17);\n  return (undefined: any);\n};\n","// @flow\n/* eslint-disable no-use-before-define */\n\nimport { makeStyleTag, getSheet } from './dom';\nimport type { SheetOptions, Tag } from './types';\n\n/** Create a CSSStyleSheet-like tag depending on the environment */\nexport const makeTag = ({ isServer, useCSSOMInjection, target }: SheetOptions): Tag => {\n  if (isServer) {\n    return new VirtualTag(target);\n  } else if (useCSSOMInjection) {\n    return new CSSOMTag(target);\n  } else {\n    return new TextTag(target);\n  }\n};\n\nexport class CSSOMTag implements Tag {\n  element: HTMLStyleElement;\n\n  sheet: CSSStyleSheet;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n\n    // Avoid Edge bug where empty style elements don't create sheets\n    element.appendChild(document.createTextNode(''));\n\n    this.sheet = getSheet(element);\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    try {\n      this.sheet.insertRule(rule, index);\n      this.length++;\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.sheet.deleteRule(index);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    const rule = this.sheet.cssRules[index];\n    // Avoid IE11 quirk where cssText is inaccessible on some invalid rules\n    if (rule !== undefined && typeof rule.cssText === 'string') {\n      return rule.cssText;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A Tag that emulates the CSSStyleSheet API but uses text nodes */\nexport class TextTag implements Tag {\n  element: HTMLStyleElement;\n\n  nodes: NodeList<Node>;\n\n  length: number;\n\n  constructor(target?: HTMLElement) {\n    const element = (this.element = makeStyleTag(target));\n    this.nodes = element.childNodes;\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length && index >= 0) {\n      const node = document.createTextNode(rule);\n      const refNode = this.nodes[index];\n      this.element.insertBefore(node, refNode || null);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.element.removeChild(this.nodes[index]);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.nodes[index].textContent;\n    } else {\n      return '';\n    }\n  }\n}\n\n/** A completely virtual (server-side) Tag that doesn't manipulate the DOM */\nexport class VirtualTag implements Tag {\n  rules: string[];\n\n  length: number;\n\n  constructor(_target?: HTMLElement) {\n    this.rules = [];\n    this.length = 0;\n  }\n\n  insertRule(index: number, rule: string): boolean {\n    if (index <= this.length) {\n      this.rules.splice(index, 0, rule);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  deleteRule(index: number): void {\n    this.rules.splice(index, 1);\n    this.length--;\n  }\n\n  getRule(index: number): string {\n    if (index < this.length) {\n      return this.rules[index];\n    } else {\n      return '';\n    }\n  }\n}\n","// @flow\nimport { DISABLE_SPEEDY, IS_BROWSER } from '../constants';\nimport { EMPTY_OBJECT } from '../utils/empties';\nimport { makeGroupedTag } from './GroupedTag';\nimport { getGroupForId } from './GroupIDAllocator';\nimport { outputSheet, rehydrateSheet } from './Rehydration';\nimport { makeTag } from './Tag';\nimport type { GroupedTag, Sheet, SheetOptions } from './types';\n\nlet SHOULD_REHYDRATE = IS_BROWSER;\n\ntype SheetConstructorArgs = {\n  isServer?: boolean,\n  useCSSOMInjection?: boolean,\n  target?: HTMLElement,\n};\n\ntype GlobalStylesAllocationMap = { [key: string]: number };\ntype NamesAllocationMap = Map<string, Set<string>>;\n\nconst defaultOptions: SheetOptions = {\n  isServer: !IS_BROWSER,\n  useCSSOMInjection: !DISABLE_SPEEDY,\n};\n\n/** Contains the main stylesheet logic for stringification and caching */\nexport default class StyleSheet implements Sheet {\n  gs: GlobalStylesAllocationMap;\n\n  names: NamesAllocationMap;\n\n  options: SheetOptions;\n\n  server: boolean;\n\n  tag: void | GroupedTag;\n\n  /** Register a group ID to give it an index */\n  static registerId(id: string): number {\n    return getGroupForId(id);\n  }\n\n  constructor(\n    options: SheetConstructorArgs = EMPTY_OBJECT,\n    globalStyles?: GlobalStylesAllocationMap = {},\n    names?: NamesAllocationMap\n  ) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.gs = globalStyles;\n    this.names = new Map(names);\n    this.server = !!options.isServer;\n\n    // We rehydrate only once and use the sheet that is created first\n    if (!this.server && IS_BROWSER && SHOULD_REHYDRATE) {\n      SHOULD_REHYDRATE = false;\n      rehydrateSheet(this);\n    }\n  }\n\n  reconstructWithOptions(options: SheetConstructorArgs, withNames?: boolean = true) {\n    return new StyleSheet(\n      { ...this.options, ...options },\n      this.gs,\n      (withNames && this.names) || undefined\n    );\n  }\n\n  allocateGSInstance(id: string) {\n    return (this.gs[id] = (this.gs[id] || 0) + 1);\n  }\n\n  /** Lazily initialises a GroupedTag for when it's actually needed */\n  getTag(): GroupedTag {\n    return this.tag || (this.tag = makeGroupedTag(makeTag(this.options)));\n  }\n\n  /** Check whether a name is known for caching */\n  hasNameForId(id: string, name: string): boolean {\n    return this.names.has(id) && (this.names.get(id): any).has(name);\n  }\n\n  /** Mark a group's name as known for caching */\n  registerName(id: string, name: string) {\n    getGroupForId(id);\n\n    if (!this.names.has(id)) {\n      const groupNames = new Set();\n      groupNames.add(name);\n      this.names.set(id, groupNames);\n    } else {\n      (this.names.get(id): any).add(name);\n    }\n  }\n\n  /** Insert new rules which also marks the name as known */\n  insertRules(id: string, name: string, rules: string[]) {\n    this.registerName(id, name);\n    this.getTag().insertRules(getGroupForId(id), rules);\n  }\n\n  /** Clears all cached names for a given group ID */\n  clearNames(id: string) {\n    if (this.names.has(id)) {\n      (this.names.get(id): any).clear();\n    }\n  }\n\n  /** Clears all rules for a given group ID */\n  clearRules(id: string) {\n    this.getTag().clearGroup(getGroupForId(id));\n    this.clearNames(id);\n  }\n\n  /** Clears the entire tag which deletes all rules but not its names */\n  clearTag() {\n    // NOTE: This does not clear the names, since it's only used during SSR\n    // so that we can continuously output only new rules\n    this.tag = undefined;\n  }\n\n  /** Outputs the current sheet as a CSS string with markers for SSR */\n  toString(): string {\n    return outputSheet(this);\n  }\n}\n","// @flow\n/* eslint-disable no-bitwise */\n\nconst AD_REPLACER_R = /(a)(d)/gi;\n\n/* This is the \"capacity\" of our alphabet i.e. 2x26 for all letters plus their capitalised\n * counterparts */\nconst charsLength = 52;\n\n/* start at 75 for 'a' until 'z' (25) and then start at 65 for capitalised letters */\nconst getAlphabeticChar = (code: number): string =>\n  String.fromCharCode(code + (code > 25 ? 39 : 97));\n\n/* input a number, usually a hash and convert it to base-52 */\nexport default function generateAlphabeticName(code: number): string {\n  let name = '';\n  let x;\n\n  /* get a char and divide by alphabet-length */\n  for (x = Math.abs(code); x > charsLength; x = (x / charsLength) | 0) {\n    name = getAlphabeticChar(x % charsLength) + name;\n  }\n\n  return (getAlphabeticChar(x % charsLength) + name).replace(AD_REPLACER_R, '$1-$2');\n}\n","// @flow\n/* eslint-disable */\n\nexport const SEED = 5381;\n\n// When we have separate strings it's useful to run a progressive\n// version of djb2 where we pretend that we're still looping over\n// the same string\nexport const phash = (h: number, x: string): number => {\n  let i = x.length;\n\n  while (i) {\n    h = (h * 33) ^ x.charCodeAt(--i);\n  }\n\n  return h;\n};\n\n// This is a djb2 hashing function\nexport const hash = (x: string): number => {\n  return phash(SEED, x);\n};\n","// @flow\nimport isFunction from './isFunction';\nimport isStyledComponent from './isStyledComponent';\nimport type { RuleSet } from '../types';\n\nexport default function isStaticRules(rules: RuleSet): boolean {\n  for (let i = 0; i < rules.length; i += 1) {\n    const rule = rules[i];\n\n    if (isFunction(rule) && !isStyledComponent(rule)) {\n      // functions are allowed to be static if they're just being\n      // used to get the classname of a nested styled component\n      return false;\n    }\n  }\n\n  return true;\n}\n","// @flow\nimport { SC_VERSION } from '../constants';\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport generateName from '../utils/generateAlphabeticName';\nimport { hash, phash } from '../utils/hash';\nimport isStaticRules from '../utils/isStaticRules';\n\nconst SEED = hash(SC_VERSION);\n\n/**\n * ComponentStyle is all the CSS-specific stuff, not the React-specific stuff.\n */\nexport default class ComponentStyle {\n  baseHash: number;\n\n  baseStyle: ?ComponentStyle;\n\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  staticRulesId: string;\n\n  constructor(rules: RuleSet, componentId: string, baseStyle?: ComponentStyle) {\n    this.rules = rules;\n    this.staticRulesId = '';\n    this.isStatic = process.env.NODE_ENV === 'production' &&\n      (baseStyle === undefined || baseStyle.isStatic) &&\n      isStaticRules(rules);\n    this.componentId = componentId;\n\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    this.baseHash = phash(SEED, componentId);\n\n    this.baseStyle = baseStyle;\n\n    // NOTE: This registers the componentId, which ensures a consistent order\n    // for this component's styles compared to others\n    StyleSheet.registerId(componentId);\n  }\n\n  /*\n   * Flattens a rule set into valid CSS\n   * Hashes it, wraps the whole chunk in a .hash1234 {}\n   * Returns the hash to be injected on render()\n   * */\n  generateAndInjectStyles(executionContext: Object, styleSheet: StyleSheet, stylis: Stringifier) {\n    const { componentId } = this;\n\n    const names = [];\n\n    if (this.baseStyle) {\n      names.push(this.baseStyle.generateAndInjectStyles(executionContext, styleSheet, stylis));\n    }\n\n    // force dynamic classnames if user-supplied stylis plugins are in use\n    if (this.isStatic && !stylis.hash) {\n      if (this.staticRulesId && styleSheet.hasNameForId(componentId, this.staticRulesId)) {\n        names.push(this.staticRulesId);\n      } else {\n        const cssStatic = flatten(this.rules, executionContext, styleSheet, stylis).join('');\n        const name = generateName(phash(this.baseHash, cssStatic) >>> 0);\n\n        if (!styleSheet.hasNameForId(componentId, name)) {\n          const cssStaticFormatted = stylis(cssStatic, `.${name}`, undefined, componentId);\n\n          styleSheet.insertRules(componentId, name, cssStaticFormatted);\n        }\n\n        names.push(name);\n        this.staticRulesId = name;\n      }\n    } else {\n      const { length } = this.rules;\n      let dynamicHash = phash(this.baseHash, stylis.hash);\n      let css = '';\n\n      for (let i = 0; i < length; i++) {\n        const partRule = this.rules[i];\n\n        if (typeof partRule === 'string') {\n          css += partRule;\n\n          if (process.env.NODE_ENV !== 'production') dynamicHash = phash(dynamicHash, partRule + i);\n        } else if (partRule) {\n          const partChunk = flatten(partRule, executionContext, styleSheet, stylis);\n          const partString = Array.isArray(partChunk) ? partChunk.join('') : partChunk;\n          dynamicHash = phash(dynamicHash, partString + i);\n          css += partString;\n        }\n      }\n\n      if (css) {\n        const name = generateName(dynamicHash >>> 0);\n\n        if (!styleSheet.hasNameForId(componentId, name)) {\n          const cssFormatted = stylis(css, `.${name}`, undefined, componentId);\n          styleSheet.insertRules(componentId, name, cssFormatted);\n        }\n\n        names.push(name);\n      }\n    }\n\n    return names.join(' ');\n  }\n}\n","import Stylis from '@emotion/stylis';\nimport { type Stringifier } from '../types';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from './empties';\nimport throwStyledError from './error';\nimport { phash, SEED } from './hash';\nimport insertRulePlugin from './stylisPluginInsertRule';\n\nconst COMMENT_REGEX = /^\\s*\\/\\/.*$/gm;\nconst COMPLEX_SELECTOR_PREFIX = [':', '[', '.', '#'];\n\ntype StylisInstanceConstructorArgs = {\n  options?: Object,\n  plugins?: Array<Function>,\n};\n\nexport default function createStylisInstance({\n  options = EMPTY_OBJECT,\n  plugins = EMPTY_ARRAY,\n}: StylisInstanceConstructorArgs = EMPTY_OBJECT) {\n  const stylis = new Stylis(options);\n\n  // Wrap `insertRulePlugin to build a list of rules,\n  // and then make our own plugin to return the rules. This\n  // makes it easier to hook into the existing SSR architecture\n\n  let parsingRules = [];\n\n  // eslint-disable-next-line consistent-return\n  const returnRulesPlugin = context => {\n    if (context === -2) {\n      const parsedRules = parsingRules;\n      parsingRules = [];\n      return parsedRules;\n    }\n  };\n\n  const parseRulesPlugin = insertRulePlugin(rule => {\n    parsingRules.push(rule);\n  });\n\n  let _componentId: string;\n  let _selector: string;\n  let _selectorRegexp: RegExp;\n  let _consecutiveSelfRefRegExp: RegExp;\n\n  const selfReferenceReplacer = (match, offset, string) => {\n    if (\n      // do not replace the first occurrence if it is complex (has a modifier)\n      (offset === 0 ? COMPLEX_SELECTOR_PREFIX.indexOf(string[_selector.length]) === -1 : true) &&\n      // no consecutive self refs (.b.b); that is a precedence boost and treated differently\n      !string.match(_consecutiveSelfRefRegExp)\n    ) {\n      return `.${_componentId}`;\n    }\n\n    return match;\n  };\n\n  /**\n   * When writing a style like\n   *\n   * & + & {\n   *   color: red;\n   * }\n   *\n   * The second ampersand should be a reference to the static component class. stylis\n   * has no knowledge of static class so we have to intelligently replace the base selector.\n   *\n   * https://github.com/thysultan/stylis.js/tree/v3.5.4#plugins <- more info about the context phase values\n   * \"2\" means this plugin is taking effect at the very end after all other processing is complete\n   */\n  const selfReferenceReplacementPlugin = (context, _, selectors) => {\n    if (context === 2 && selectors.length && selectors[0].lastIndexOf(_selector) > 0) {\n      // eslint-disable-next-line no-param-reassign\n      selectors[0] = selectors[0].replace(_selectorRegexp, selfReferenceReplacer);\n    }\n  };\n\n  stylis.use([...plugins, selfReferenceReplacementPlugin, parseRulesPlugin, returnRulesPlugin]);\n\n  function stringifyRules(css, selector, prefix, componentId = '&'): Stringifier {\n    const flatCSS = css.replace(COMMENT_REGEX, '');\n    const cssStr = selector && prefix ? `${prefix} ${selector} { ${flatCSS} }` : flatCSS;\n\n    // stylis has no concept of state to be passed to plugins\n    // but since JS is single-threaded, we can rely on that to ensure\n    // these properties stay in sync with the current stylis run\n    _componentId = componentId;\n    _selector = selector;\n    _selectorRegexp = new RegExp(`\\\\${_selector}\\\\b`, 'g');\n    _consecutiveSelfRefRegExp = new RegExp(`(\\\\${_selector}\\\\b){2,}`);\n\n    return stylis(prefix || !selector ? '' : selector, cssStr);\n  }\n\n  stringifyRules.hash = plugins.length\n    ? plugins\n        .reduce((acc, plugin) => {\n          if (!plugin.name) {\n            throwStyledError(15);\n          }\n\n          return phash(acc, plugin.name);\n        }, SEED)\n        .toString()\n    : '';\n\n  return stringifyRules;\n}\n","/**\n * MIT License\n *\n * Copyright (c) 2016 Sultan Tarimo\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR\n * IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n/* eslint-disable */\n\nexport default function(insertRule) {\n  const delimiter = '/*|*/';\n  const needle = `${delimiter}}`;\n\n  function toSheet(block) {\n    if (block) {\n      try {\n        insertRule(`${block}}`);\n      } catch (e) {}\n    }\n  }\n\n  return function ruleSheet(\n    context,\n    content,\n    selectors,\n    parents,\n    line,\n    column,\n    length,\n    ns,\n    depth,\n    at\n  ) {\n    switch (context) {\n      // property\n      case 1:\n        // @import\n        if (depth === 0 && content.charCodeAt(0) === 64) return insertRule(`${content};`), '';\n        break;\n      // selector\n      case 2:\n        if (ns === 0) return content + delimiter;\n        break;\n      // at-rule\n      case 3:\n        switch (ns) {\n          // @font-face, @page\n          case 102:\n          case 112:\n            return insertRule(selectors[0] + content), '';\n          default:\n            return content + (at === 0 ? delimiter : '');\n        }\n      case -2:\n        content.split(needle).forEach(toSheet);\n    }\n  };\n}\n","// @flow\nimport React, { type Context, type Node, useContext, useEffect, useMemo, useState } from 'react';\nimport shallowequal from 'shallowequal';\nimport StyleSheet from '../sheet';\nimport type { Stringifier } from '../types';\nimport createStylisInstance from '../utils/stylis';\n\ntype Props = {\n  children?: Node,\n  disableCSSOMInjection?: boolean,\n  disableVendorPrefixes?: boolean,\n  sheet?: StyleSheet,\n  stylisPlugins?: Array<Function>,\n  target?: HTMLElement,\n};\n\nexport const StyleSheetContext: Context<StyleSheet | void> = React.createContext();\nexport const StyleSheetConsumer = StyleSheetContext.Consumer;\nexport const StylisContext: Context<Stringifier | void> = React.createContext();\nexport const StylisConsumer = StylisContext.Consumer;\n\nexport const masterSheet: StyleSheet = new StyleSheet();\nexport const masterStylis: Stringifier = createStylisInstance();\n\nexport function useStyleSheet(): StyleSheet {\n  return useContext(StyleSheetContext) || masterSheet;\n}\n\nexport function useStylis(): Stringifier {\n  return useContext(StylisContext) || masterStylis;\n}\n\nexport default function StyleSheetManager(props: Props) {\n  const [plugins, setPlugins] = useState(props.stylisPlugins);\n  const contextStyleSheet = useStyleSheet();\n\n  const styleSheet = useMemo(() => {\n    let sheet = contextStyleSheet;\n\n    if (props.sheet) {\n      // eslint-disable-next-line prefer-destructuring\n      sheet = props.sheet;\n    } else if (props.target) {\n      sheet = sheet.reconstructWithOptions({ target: props.target }, false);\n    }\n\n    if (props.disableCSSOMInjection) {\n      sheet = sheet.reconstructWithOptions({ useCSSOMInjection: false });\n    }\n\n    return sheet;\n  }, [props.disableCSSOMInjection, props.sheet, props.target]);\n\n  const stylis = useMemo(\n    () =>\n      createStylisInstance({\n        options: { prefix: !props.disableVendorPrefixes },\n        plugins,\n      }),\n    [props.disableVendorPrefixes, plugins]\n  );\n\n  useEffect(() => {\n    if (!shallowequal(plugins, props.stylisPlugins)) setPlugins(props.stylisPlugins);\n  }, [props.stylisPlugins]);\n\n  return (\n    <StyleSheetContext.Provider value={styleSheet}>\n      <StylisContext.Provider value={stylis}>\n        {process.env.NODE_ENV !== 'production'\n          ? React.Children.only(props.children)\n          : props.children}\n      </StylisContext.Provider>\n    </StyleSheetContext.Provider>\n  );\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport { type Stringifier } from '../types';\nimport throwStyledError from '../utils/error';\nimport { masterStylis } from './StyleSheetManager';\n\nexport default class Keyframes {\n  id: string;\n\n  name: string;\n\n  rules: string;\n\n  constructor(name: string, rules: string) {\n    this.name = name;\n    this.id = `sc-keyframes-${name}`;\n    this.rules = rules;\n  }\n\n  inject = (styleSheet: StyleSheet, stylisInstance: Stringifier = masterStylis) => {\n    const resolvedName = this.name + stylisInstance.hash;\n\n    if (!styleSheet.hasNameForId(this.id, resolvedName)) {\n      styleSheet.insertRules(\n        this.id,\n        resolvedName,\n        stylisInstance(this.rules, resolvedName, '@keyframes')\n      );\n    }\n  };\n\n  toString = () => {\n    return throwStyledError(12, String(this.name));\n  };\n\n  getName(stylisInstance: Stringifier = masterStylis) {\n    return this.name + stylisInstance.hash;\n  }\n}\n","// @flow\n\n/**\n * inlined version of\n * https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/hyphenateStyleName.js\n */\n\nconst uppercaseCheck = /([A-Z])/;\nconst uppercasePattern = /([A-Z])/g;\nconst msPattern = /^ms-/;\nconst prefixAndLowerCase = (char: string): string => `-${char.toLowerCase()}`;\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n *\n * @param {string} string\n * @return {string}\n */\nexport default function hyphenateStyleName(string: string): string {\n  return uppercaseCheck.test(string)\n  ? string\n    .replace(uppercasePattern, prefixAndLowerCase)\n    .replace(msPattern, '-ms-')\n  : string;\n}\n","// @flow\nimport { isElement } from 'react-is';\nimport getComponentName from './getComponentName';\nimport isFunction from './isFunction';\nimport isStatelessFunction from './isStatelessFunction';\nimport isPlainObject from './isPlainObject';\nimport isStyledComponent from './isStyledComponent';\nimport Keyframes from '../models/Keyframes';\nimport hyphenate from './hyphenateStyleName';\nimport addUnitIfNeeded from './addUnitIfNeeded';\nimport { type Stringifier } from '../types';\n\n/**\n * It's falsish not falsy because 0 is allowed.\n */\nconst isFalsish = chunk => chunk === undefined || chunk === null || chunk === false || chunk === '';\n\nexport const objToCssArray = (obj: Object, prevKey?: string): Array<string | Function> => {\n  const rules = [];\n\n  for (const key in obj) {\n    if (!obj.hasOwnProperty(key) || isFalsish(obj[key])) continue;\n\n    if ((Array.isArray(obj[key]) && obj[key].isCss) || isFunction(obj[key])) {\n      rules.push(`${hyphenate(key)}:`, obj[key], ';');\n    } else if (isPlainObject(obj[key])) {\n      rules.push(...objToCssArray(obj[key], key));\n    } else {\n      rules.push(`${hyphenate(key)}: ${addUnitIfNeeded(key, obj[key])};`);\n    }\n  }\n\n  return prevKey ? [`${prevKey} {`, ...rules, '}'] : rules;\n};\n\nexport default function flatten(\n  chunk: any,\n  executionContext: ?Object,\n  styleSheet: ?Object,\n  stylisInstance: ?Stringifier\n): any {\n  if (Array.isArray(chunk)) {\n    const ruleSet = [];\n\n    for (let i = 0, len = chunk.length, result; i < len; i += 1) {\n      result = flatten(chunk[i], executionContext, styleSheet, stylisInstance);\n\n      if (result === '') continue;\n      else if (Array.isArray(result)) ruleSet.push(...result);\n      else ruleSet.push(result);\n    }\n\n    return ruleSet;\n  }\n\n  if (isFalsish(chunk)) {\n    return '';\n  }\n\n  /* Handle other components */\n  if (isStyledComponent(chunk)) {\n    return `.${chunk.styledComponentId}`;\n  }\n\n  /* Either execute or defer the function */\n  if (isFunction(chunk)) {\n    if (isStatelessFunction(chunk) && executionContext) {\n      const result = chunk(executionContext);\n\n      if (process.env.NODE_ENV !== 'production' && isElement(result)) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `${getComponentName(\n            chunk\n          )} is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.`\n        );\n      }\n\n      return flatten(result, executionContext, styleSheet, stylisInstance);\n    } else return chunk;\n  }\n\n  if (chunk instanceof Keyframes) {\n    if (styleSheet) {\n      chunk.inject(styleSheet, stylisInstance);\n      return chunk.getName(stylisInstance);\n    } else return chunk;\n  }\n\n  /* Handle objects */\n  return isPlainObject(chunk) ? objToCssArray(chunk) : chunk.toString();\n}\n","// @flow\nexport default function isStatelessFunction(test: any): boolean {\n  return (\n    typeof test === 'function'\n    && !(\n      test.prototype\n      && test.prototype.isReactComponent\n    )\n  );\n}\n","// @flow\nimport unitless from '@emotion/unitless';\n\n// Taken from https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/dangerousStyleValue.js\nexport default function addUnitIfNeeded(name: string, value: any): any {\n  // https://github.com/amilajack/eslint-plugin-flowtype-errors/issues/133\n  // $FlowFixMe\n  if (value == null || typeof value === 'boolean' || value === '') {\n    return '';\n  }\n\n  if (typeof value === 'number' && value !== 0 && !(name in unitless) && !name.startsWith('--')) {\n    return `${value}px`; // Presumes implicit 'px' suffix for unitless numbers except for CSS variables\n  }\n\n  return String(value).trim();\n}\n","// @flow\nimport interleave from '../utils/interleave';\nimport isPlainObject from '../utils/isPlainObject';\nimport { EMPTY_ARRAY } from '../utils/empties';\nimport isFunction from '../utils/isFunction';\nimport flatten from '../utils/flatten';\nimport type { Interpolation, RuleSet, Styles } from '../types';\n\n/**\n * Used when flattening object styles to determine if we should\n * expand an array of styles.\n */\nconst addTag = arg => {\n  if (Array.isArray(arg)) {\n    // eslint-disable-next-line no-param-reassign\n    arg.isCss = true;\n  }\n  return arg;\n};\n\nexport default function css(styles: Styles, ...interpolations: Array<Interpolation>): RuleSet {\n  if (isFunction(styles) || isPlainObject(styles)) {\n    // $FlowFixMe\n    return addTag(flatten(interleave(EMPTY_ARRAY, [styles, ...interpolations])));\n  }\n\n  if (interpolations.length === 0 && styles.length === 1 && typeof styles[0] === 'string') {\n    // $FlowFixMe\n    return styles;\n  }\n\n  // $FlowFixMe\n  return addTag(flatten(interleave(styles, interpolations)));\n}\n","// @flow\n\nimport { useRef } from 'react';\n\nconst invalidHookCallRe = /invalid hook call/i;\nconst seen = new Set();\n\nexport const checkDynamicCreation = (displayName: string, componentId?: string) => {\n  if (process.env.NODE_ENV !== 'production') {\n    const parsedIdString = componentId ? ` with the id of \"${componentId}\"` : '';\n    const message =\n      `The component ${displayName}${parsedIdString} has been created dynamically.\\n` +\n      \"You may see this warning because you've called styled inside another component.\\n\" +\n      'To resolve this only create new StyledComponents outside of any render method and function component.';\n\n    // If a hook is called outside of a component:\n    // React 17 and earlier throw an error\n    // React 18 and above use console.error\n\n    const originalConsoleError = console.error // eslint-disable-line no-console\n    try {\n      let didNotCallInvalidHook = true\n      /* $FlowIgnore[cannot-write] */\n      console.error = (consoleErrorMessage, ...consoleErrorArgs) => { // eslint-disable-line no-console\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n        if (invalidHookCallRe.test(consoleErrorMessage)) {\n          didNotCallInvalidHook = false\n          // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n          seen.delete(message);\n        } else {\n          originalConsoleError(consoleErrorMessage, ...consoleErrorArgs);\n        }\n      }\n      // We purposefully call `useRef` outside of a component and expect it to throw\n      // If it doesn't, then we're inside another component.\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useRef();\n\n      if (didNotCallInvalidHook && !seen.has(message)) {\n        // eslint-disable-next-line no-console\n        console.warn(message);\n        seen.add(message);\n      }\n    } catch (error) {\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n      if (invalidHookCallRe.test(error.message)) {\n        // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n        seen.delete(message);\n      }\n    } finally {\n      /* $FlowIgnore[cannot-write] */\n      console.error = originalConsoleError; // eslint-disable-line no-console\n    }\n  }\n};\n","// @flow\nimport { EMPTY_OBJECT } from './empties';\n\ntype Props = {\n  theme?: any,\n};\n\nexport default (props: Props, providedTheme: any, defaultProps: any = EMPTY_OBJECT) => {\n  return (props.theme !== defaultProps.theme && props.theme) || providedTheme || defaultProps.theme;\n};\n","// @flow\n\n// Source: https://www.w3.org/TR/cssom-1/#serialize-an-identifier\n// Control characters and non-letter first symbols are not supported\nconst escapeRegex = /[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g;\n\nconst dashesAtEnds = /(^-|-$)/g;\n\n/**\n * TODO: Explore using CSS.escape when it becomes more available\n * in evergreen browsers.\n */\nexport default function escape(str: string): string {\n  return (\n    str\n      // Replace all possible CSS selectors\n      .replace(escapeRegex, '-')\n\n      // Remove extraneous hyphens at the start and end\n      .replace(dashesAtEnds, '')\n  );\n}\n","// @flow\n/* eslint-disable */\nimport generateAlphabeticName from './generateAlphabeticName';\nimport { hash } from './hash';\n\nexport default (str: string): string => {\n  return generateAlphabeticName(hash(str) >>> 0);\n};\n","// @flow\nimport type { IStyledComponent } from '../types';\n\nexport default function isTag(target: $PropertyType<IStyledComponent, 'target'>): boolean %checks {\n  return (\n    typeof target === 'string' &&\n    (process.env.NODE_ENV !== 'production'\n      ? target.charAt(0) === target.charAt(0).toLowerCase()\n      : true)\n  );\n}\n","/* eslint-disable */\n/**\n  mixin-deep; https://github.com/jonschlinkert/mixin-deep\n  Inlined such that it will be consistently transpiled to an IE-compatible syntax.\n\n  The MIT License (MIT)\n\n  Copyright (c) 2014-present, Jon Schlinkert.\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  THE SOFTWARE.\n*/\n\nconst isObject = val => {\n  return (\n    typeof val === 'function' || (typeof val === 'object' && val !== null && !Array.isArray(val))\n  );\n};\n\nconst isValidKey = key => {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n};\n\nfunction mixin(target, val, key) {\n  const obj = target[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    target[key] = val;\n  }\n}\n\nexport default function mixinDeep(target, ...rest) {\n  for (const obj of rest) {\n    if (isObject(obj)) {\n      for (const key in obj) {\n        if (isValidKey(key)) {\n          mixin(target, obj[key], key);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n","// @flow\nimport React, { useContext, useMemo, type Element, type Context } from 'react';\nimport throwStyledError from '../utils/error';\nimport isFunction from '../utils/isFunction';\n\nexport type Theme = { [key: string]: mixed };\n\ntype ThemeArgument = Theme | ((outerTheme?: Theme) => Theme);\n\ntype Props = {\n  children?: Element<any>,\n  theme: ThemeArgument,\n};\n\nexport const ThemeContext: Context<Theme | void> = React.createContext();\n\nexport const ThemeConsumer = ThemeContext.Consumer;\n\nfunction mergeTheme(theme: ThemeArgument, outerTheme?: Theme): Theme {\n  if (!theme) {\n    return throwStyledError(14);\n  }\n\n  if (isFunction(theme)) {\n    const mergedTheme = theme(outerTheme);\n\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      (mergedTheme === null || Array.isArray(mergedTheme) || typeof mergedTheme !== 'object')\n    ) {\n      return throwStyledError(7);\n    }\n\n    return mergedTheme;\n  }\n\n  if (Array.isArray(theme) || typeof theme !== 'object') {\n    return throwStyledError(8);\n  }\n\n  return outerTheme ? { ...outerTheme, ...theme } : theme;\n}\n\n/**\n * Provide a theme to an entire react component tree via context\n */\nexport default function ThemeProvider(props: Props) {\n  const outerTheme = useContext(ThemeContext);\n  const themeContext = useMemo(() => mergeTheme(props.theme, outerTheme), [\n    props.theme,\n    outerTheme,\n  ]);\n\n  if (!props.children) {\n    return null;\n  }\n\n  return <ThemeContext.Provider value={themeContext}>{props.children}</ThemeContext.Provider>;\n}\n","// @flow\nimport validAttr from '@emotion/is-prop-valid';\nimport hoist from 'hoist-non-react-statics';\nimport React, { createElement, type Ref, useContext } from 'react';\nimport { SC_VERSION } from '../constants';\nimport type {\n  Attrs,\n  IStyledComponent,\n  IStyledStatics,\n  RuleSet,\n  ShouldForwardProp,\n  Target,\n} from '../types';\nimport { checkDynamicCreation } from '../utils/checkDynamicCreation';\nimport createWarnTooManyClasses from '../utils/createWarnTooManyClasses';\nimport determineTheme from '../utils/determineTheme';\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from '../utils/empties';\nimport escape from '../utils/escape';\nimport generateComponentId from '../utils/generateComponentId';\nimport generateDisplayName from '../utils/generateDisplayName';\nimport getComponentName from '../utils/getComponentName';\nimport isFunction from '../utils/isFunction';\nimport isStyledComponent from '../utils/isStyledComponent';\nimport isTag from '../utils/isTag';\nimport joinStrings from '../utils/joinStrings';\nimport merge from '../utils/mixinDeep';\nimport ComponentStyle from './ComponentStyle';\nimport { useStyleSheet, useStylis } from './StyleSheetManager';\nimport { ThemeContext } from './ThemeProvider';\n\nconst identifiers = {};\n\n/* We depend on components having unique IDs */\nfunction generateId(displayName?: string, parentComponentId?: string) {\n  const name = typeof displayName !== 'string' ? 'sc' : escape(displayName);\n  // Ensure that no displayName can lead to duplicate componentIds\n  identifiers[name] = (identifiers[name] || 0) + 1;\n\n  const componentId = `${name}-${generateComponentId(\n    // SC_VERSION gives us isolation between multiple runtimes on the page at once\n    // this is improved further with use of the babel plugin \"namespace\" feature\n    SC_VERSION + name + identifiers[name]\n  )}`;\n\n  return parentComponentId ? `${parentComponentId}-${componentId}` : componentId;\n}\n\nfunction useResolvedAttrs<Config>(theme: any = EMPTY_OBJECT, props: Config, attrs: Attrs) {\n  // NOTE: can't memoize this\n  // returns [context, resolvedAttrs]\n  // where resolvedAttrs is only the things injected by the attrs themselves\n  const context = { ...props, theme };\n  const resolvedAttrs = {};\n\n  attrs.forEach(attrDef => {\n    let resolvedAttrDef = attrDef;\n    let key;\n\n    if (isFunction(resolvedAttrDef)) {\n      resolvedAttrDef = resolvedAttrDef(context);\n    }\n\n    /* eslint-disable guard-for-in */\n    for (key in resolvedAttrDef) {\n      context[key] = resolvedAttrs[key] =\n        key === 'className'\n          ? joinStrings(resolvedAttrs[key], resolvedAttrDef[key])\n          : resolvedAttrDef[key];\n    }\n    /* eslint-enable guard-for-in */\n  });\n\n  return [context, resolvedAttrs];\n}\n\nfunction useInjectedStyle<T>(\n  componentStyle: ComponentStyle,\n  isStatic: boolean,\n  resolvedAttrs: T,\n  warnTooManyClasses?: $Call<typeof createWarnTooManyClasses, string, string>\n) {\n  const styleSheet = useStyleSheet();\n  const stylis = useStylis();\n\n  const className = isStatic\n    ? componentStyle.generateAndInjectStyles(EMPTY_OBJECT, styleSheet, stylis)\n    : componentStyle.generateAndInjectStyles(resolvedAttrs, styleSheet, stylis);\n\n  if (process.env.NODE_ENV !== 'production' && !isStatic && warnTooManyClasses) {\n    warnTooManyClasses(className);\n  }\n\n  return className;\n}\n\nfunction useStyledComponentImpl(\n  forwardedComponent: IStyledComponent,\n  props: Object,\n  forwardedRef: Ref<any>,\n  isStatic: boolean\n) {\n  const {\n    attrs: componentAttrs,\n    componentStyle,\n    defaultProps,\n    foldedComponentIds,\n    shouldForwardProp,\n    styledComponentId,\n    target,\n  } = forwardedComponent;\n\n  // NOTE: the non-hooks version only subscribes to this when !componentStyle.isStatic,\n  // but that'd be against the rules-of-hooks. We could be naughty and do it anyway as it\n  // should be an immutable value, but behave for now.\n  const theme = determineTheme(props, useContext(ThemeContext), defaultProps);\n\n  const [context, attrs] = useResolvedAttrs(theme || EMPTY_OBJECT, props, componentAttrs);\n\n  const generatedClassName = useInjectedStyle(\n    componentStyle,\n    isStatic,\n    context,\n    process.env.NODE_ENV !== 'production' ? forwardedComponent.warnTooManyClasses : undefined\n  );\n\n  const refToForward = forwardedRef;\n\n  const elementToBeCreated: Target = attrs.$as || props.$as || attrs.as || props.as || target;\n\n  const isTargetTag = isTag(elementToBeCreated);\n  const computedProps = attrs !== props ? { ...props, ...attrs } : props;\n  const propsForElement = {};\n\n  // eslint-disable-next-line guard-for-in\n  for (const key in computedProps) {\n    if (key[0] === '$' || key === 'as') continue;\n    else if (key === 'forwardedAs') {\n      propsForElement.as = computedProps[key];\n    } else if (\n      shouldForwardProp\n        ? shouldForwardProp(key, validAttr, elementToBeCreated)\n        : isTargetTag\n        ? validAttr(key)\n        : true\n    ) {\n      // Don't pass through non HTML tags through to HTML elements\n      propsForElement[key] = computedProps[key];\n    }\n  }\n\n  if (props.style && attrs.style !== props.style) {\n    propsForElement.style = { ...props.style, ...attrs.style };\n  }\n\n  propsForElement.className = Array.prototype\n    .concat(\n      foldedComponentIds,\n      styledComponentId,\n      generatedClassName !== styledComponentId ? generatedClassName : null,\n      props.className,\n      attrs.className\n    )\n    .filter(Boolean)\n    .join(' ');\n\n  propsForElement.ref = refToForward;\n\n  return createElement(elementToBeCreated, propsForElement);\n}\n\nexport default function createStyledComponent(\n  target: $PropertyType<IStyledComponent, 'target'>,\n  options: {\n    attrs?: Attrs,\n    componentId: string,\n    displayName?: string,\n    parentComponentId?: string,\n    shouldForwardProp?: ShouldForwardProp,\n  },\n  rules: RuleSet\n) {\n  const isTargetStyledComp = isStyledComponent(target);\n  const isCompositeComponent = !isTag(target);\n\n  const {\n    attrs = EMPTY_ARRAY,\n    componentId = generateId(options.displayName, options.parentComponentId),\n    displayName = generateDisplayName(target),\n  } = options;\n\n  const styledComponentId =\n    options.displayName && options.componentId\n      ? `${escape(options.displayName)}-${options.componentId}`\n      : options.componentId || componentId;\n\n  // fold the underlying StyledComponent attrs up (implicit extend)\n  const finalAttrs =\n    isTargetStyledComp && ((target: any): IStyledComponent).attrs\n      ? Array.prototype.concat(((target: any): IStyledComponent).attrs, attrs).filter(Boolean)\n      : attrs;\n\n  // eslint-disable-next-line prefer-destructuring\n  let shouldForwardProp = options.shouldForwardProp;\n\n  if (isTargetStyledComp && target.shouldForwardProp) {\n    if (options.shouldForwardProp) {\n      // compose nested shouldForwardProp calls\n      shouldForwardProp = (prop, filterFn, elementToBeCreated) =>\n        ((((target: any): IStyledComponent).shouldForwardProp: any): ShouldForwardProp)(\n          prop,\n          filterFn,\n          elementToBeCreated\n        ) &&\n        ((options.shouldForwardProp: any): ShouldForwardProp)(prop, filterFn, elementToBeCreated);\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      shouldForwardProp = ((target: any): IStyledComponent).shouldForwardProp;\n    }\n  }\n\n  const componentStyle = new ComponentStyle(\n    rules,\n    styledComponentId,\n    isTargetStyledComp ? ((target: Object).componentStyle: ComponentStyle) : undefined\n  );\n\n  // statically styled-components don't need to build an execution context object,\n  // and shouldn't be increasing the number of class names\n  const isStatic = componentStyle.isStatic && attrs.length === 0;\n\n  /**\n   * forwardRef creates a new interim component, which we'll take advantage of\n   * instead of extending ParentComponent to create _another_ interim class\n   */\n  let WrappedStyledComponent: IStyledComponent;\n\n  const forwardRef = (props, ref) =>\n    // eslint-disable-next-line\n    useStyledComponentImpl(WrappedStyledComponent, props, ref, isStatic);\n\n  forwardRef.displayName = displayName;\n\n  WrappedStyledComponent = ((React.forwardRef(forwardRef): any): IStyledComponent);\n  WrappedStyledComponent.attrs = finalAttrs;\n  WrappedStyledComponent.componentStyle = componentStyle;\n  WrappedStyledComponent.displayName = displayName;\n  WrappedStyledComponent.shouldForwardProp = shouldForwardProp;\n\n  // this static is used to preserve the cascade of static classes for component selector\n  // purposes; this is especially important with usage of the css prop\n  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp\n    ? Array.prototype.concat(\n        ((target: any): IStyledComponent).foldedComponentIds,\n        ((target: any): IStyledComponent).styledComponentId\n      )\n    : EMPTY_ARRAY;\n\n  WrappedStyledComponent.styledComponentId = styledComponentId;\n\n  // fold the underlying StyledComponent target up since we folded the styles\n  WrappedStyledComponent.target = isTargetStyledComp\n    ? ((target: any): IStyledComponent).target\n    : target;\n\n  WrappedStyledComponent.withComponent = function withComponent(tag: Target) {\n    const { componentId: previousComponentId, ...optionsToCopy } = options;\n\n    const newComponentId =\n      previousComponentId &&\n      `${previousComponentId}-${isTag(tag) ? tag : escape(getComponentName(tag))}`;\n\n    const newOptions = {\n      ...optionsToCopy,\n      attrs: finalAttrs,\n      componentId: newComponentId,\n    };\n\n    return createStyledComponent(tag, newOptions, rules);\n  };\n\n  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {\n    get() {\n      return this._foldedDefaultProps;\n    },\n\n    set(obj) {\n      this._foldedDefaultProps = isTargetStyledComp\n        ? merge({}, ((target: any): IStyledComponent).defaultProps, obj)\n        : obj;\n    },\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(displayName, styledComponentId);\n\n    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(\n      displayName,\n      styledComponentId\n    );\n  }\n\n  // If the Object prototype is frozen, the \"toString\" property is non-writable. This means that any objects which inherit this property\n  // cannot have the property changed using an assignment. If using strict mode, attempting that will cause an error. If not using strict\n  // mode, attempting that will be silently ignored.\n  // However, we can still explicitly shadow the prototype's \"toString\" property by defining a new \"toString\" property on this object.\n  Object.defineProperty(WrappedStyledComponent, 'toString', { value: () => `.${WrappedStyledComponent.styledComponentId}` });\n\n  if (isCompositeComponent) {\n    hoist<\n      IStyledStatics,\n      $PropertyType<IStyledComponent, 'target'>,\n      { [key: $Keys<IStyledStatics>]: true }\n    >(WrappedStyledComponent, ((target: any): $PropertyType<IStyledComponent, 'target'>), {\n      // all SC-specific things should not be hoisted\n      attrs: true,\n      componentStyle: true,\n      displayName: true,\n      foldedComponentIds: true,\n      shouldForwardProp: true,\n      styledComponentId: true,\n      target: true,\n      withComponent: true,\n    });\n  }\n\n  return WrappedStyledComponent;\n}\n","// @flow\nimport type { IStyledComponent } from '../types';\nimport getComponentName from './getComponentName';\nimport isTag from './isTag';\n\nexport default function generateDisplayName(\n  target: $PropertyType<IStyledComponent, 'target'>\n): string {\n  return isTag(target) ? `styled.${target}` : `Styled(${getComponentName(target)})`;\n}\n","/**\n * Convenience function for joining strings to form className chains\n */\nexport default function joinStrings(a: ?String, b: ?String): ?String {\n  return a && b ? `${a} ${b}` : a || b;\n}\n","// @flow\n// Thanks to ReactDOMFactories for this handy list!\n\nexport default [\n  'a',\n  'abbr',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'bdi',\n  'bdo',\n  'big',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'nav',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'small',\n  'source',\n  'span',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'title',\n  'tr',\n  'track',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n\n  // SVG\n  'circle',\n  'clipPath',\n  'defs',\n  'ellipse',\n  'foreignObject',\n  'g',\n  'image',\n  'line',\n  'linearGradient',\n  'marker',\n  'mask',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialGradient',\n  'rect',\n  'stop',\n  'svg',\n  'text',\n  'textPath',\n  'tspan',\n];\n","// @flow\nimport constructWithOptions from './constructWithOptions';\nimport StyledComponent from '../models/StyledComponent';\nimport domElements from '../utils/domElements';\n\nimport type { Target } from '../types';\n\nconst styled = (tag: Target) => constructWithOptions(StyledComponent, tag);\n\n// Shorthands for all valid HTML Elements\ndomElements.forEach(domElement => {\n  styled[domElement] = styled(domElement);\n});\n\nexport default styled;\n","// @flow\nimport { isValidElementType } from 'react-is';\nimport css from './css';\nimport throwStyledError from '../utils/error';\nimport { EMPTY_OBJECT } from '../utils/empties';\n\nimport type { Target } from '../types';\n\nexport default function constructWithOptions(\n  componentConstructor: Function,\n  tag: Target,\n  options: Object = EMPTY_OBJECT\n) {\n  if (!isValidElementType(tag)) {\n    return throwStyledError(1, String(tag));\n  }\n\n  /* This is callable directly as a template function */\n  // $FlowFixMe: Not typed to avoid destructuring arguments\n  const templateFunction = (...args) => componentConstructor(tag, options, css(...args));\n\n  /* If config methods are called, wrap up a new template function and merge options */\n  templateFunction.withConfig = config =>\n    constructWithOptions(componentConstructor, tag, { ...options, ...config });\n\n  /* Modify/inject new props at runtime */\n  templateFunction.attrs = attrs =>\n    constructWithOptions(componentConstructor, tag, {\n      ...options,\n      attrs: Array.prototype.concat(options.attrs, attrs).filter(Boolean),\n    });\n\n  return templateFunction;\n}\n","// @flow\nimport StyleSheet from '../sheet';\nimport type { RuleSet, Stringifier } from '../types';\nimport flatten from '../utils/flatten';\nimport isStaticRules from '../utils/isStaticRules';\n\nexport default class GlobalStyle {\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  constructor(rules: RuleSet, componentId: string) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules);\n\n    // pre-register the first instance to ensure global styles\n    // load before component ones\n    StyleSheet.registerId(this.componentId + 1);\n  }\n\n  createStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    const flatCSS = flatten(this.rules, executionContext, styleSheet, stylis);\n    const css = stylis(flatCSS.join(''), '');\n    const id = this.componentId + instance;\n\n    // NOTE: We use the id as a name as well, since these rules never change\n    styleSheet.insertRules(id, id, css);\n  }\n\n  removeStyles(instance: number, styleSheet: StyleSheet) {\n    styleSheet.clearRules(this.componentId + instance);\n  }\n\n  renderStyles(\n    instance: number,\n    executionContext: Object,\n    styleSheet: StyleSheet,\n    stylis: Stringifier\n  ) {\n    if (instance > 2) StyleSheet.registerId(this.componentId + instance);\n\n    // NOTE: Remove old styles, then inject the new ones\n    this.removeStyles(instance, styleSheet);\n    this.createStyles(instance, executionContext, styleSheet, stylis);\n  }\n}\n","// @flow\n\nimport css from './css';\nimport generateComponentId from '../utils/generateComponentId';\nimport Keyframes from '../models/Keyframes';\n\nimport type { Interpolation, Styles } from '../types';\n\nexport default function keyframes(\n  strings: Styles,\n  ...interpolations: Array<Interpolation>\n): Keyframes {\n  /* Warning if you've used keyframes on React Native */\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative'\n  ) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      '`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.'\n    );\n  }\n\n  const rules = css(strings, ...interpolations).join('');\n  const name = generateComponentId(rules);\n  return new Keyframes(name, rules);\n}\n","// @flow\n/* eslint-disable no-underscore-dangle */\nimport React from 'react';\nimport { IS_BROWSER, SC_ATTR, SC_ATTR_VERSION, SC_VERSION } from '../constants';\nimport throwStyledError from '../utils/error';\nimport getNonce from '../utils/nonce';\nimport StyleSheet from '../sheet';\nimport StyleSheetManager from './StyleSheetManager';\n\ndeclare var __SERVER__: boolean;\n\nconst CLOSING_TAG_R = /^\\s*<\\/[a-z]/i;\n\nexport default class ServerStyleSheet {\n  isStreaming: boolean;\n\n  instance: StyleSheet;\n\n  sealed: boolean;\n\n  constructor() {\n    this.instance = new StyleSheet({ isServer: true });\n    this.sealed = false;\n  }\n\n  _emitSheetCSS = (): string => {\n    const css = this.instance.toString();\n    if (!css) return '';\n\n    const nonce = getNonce();\n    const attrs = [nonce && `nonce=\"${nonce}\"`, `${SC_ATTR}=\"true\"`, `${SC_ATTR_VERSION}=\"${SC_VERSION}\"`];\n    const htmlAttr = attrs.filter(Boolean).join(' ');\n\n    return `<style ${htmlAttr}>${css}</style>`;\n  };\n\n  collectStyles(children: any) {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return <StyleSheetManager sheet={this.instance}>{children}</StyleSheetManager>;\n  }\n\n  getStyleTags = (): string => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    return this._emitSheetCSS();\n  };\n\n  getStyleElement = () => {\n    if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    const props = {\n      [SC_ATTR]: '',\n      [SC_ATTR_VERSION]: SC_VERSION,\n      dangerouslySetInnerHTML: {\n        __html: this.instance.toString(),\n      },\n    };\n\n    const nonce = getNonce();\n    if (nonce) {\n      (props: any).nonce = nonce;\n    }\n\n    // v4 returned an array for this fn, so we'll do the same for v5 for backward compat\n    return [<style {...props} key=\"sc-0-0\" />];\n  };\n\n  // eslint-disable-next-line consistent-return\n  interleaveWithNodeStream(input: any) {\n    if (!__SERVER__ || IS_BROWSER) {\n      return throwStyledError(3);\n    } else if (this.sealed) {\n      return throwStyledError(2);\n    }\n\n    if (__SERVER__) {\n      this.seal();\n\n      // eslint-disable-next-line global-require\n      const { Readable, Transform } = require('stream');\n\n      const readableStream: Readable = input;\n      const { instance: sheet, _emitSheetCSS } = this;\n\n      const transformer = new Transform({\n        transform: function appendStyleChunks(chunk, /* encoding */ _, callback) {\n          // Get the chunk and retrieve the sheet's CSS as an HTML chunk,\n          // then reset its rules so we get only new ones for the next chunk\n          const renderedHtml = chunk.toString();\n          const html = _emitSheetCSS();\n\n          sheet.clearTag();\n\n          // prepend style html to chunk, unless the start of the chunk is a\n          // closing tag in which case append right after that\n          if (CLOSING_TAG_R.test(renderedHtml)) {\n            const endOfClosingTag = renderedHtml.indexOf('>') + 1;\n            const before = renderedHtml.slice(0, endOfClosingTag);\n            const after = renderedHtml.slice(endOfClosingTag);\n\n            this.push(before + html + after);\n          } else {\n            this.push(html + renderedHtml);\n          }\n\n          callback();\n        },\n      });\n\n      readableStream.on('error', err => {\n        // forward the error to the transform stream\n        transformer.emit('error', err);\n      });\n\n      return readableStream.pipe(transformer);\n    }\n  }\n\n  seal = () => {\n    this.sealed = true;\n  };\n}\n","// @flow\n/* Import singletons */\nimport isStyledComponent from './utils/isStyledComponent';\nimport css from './constructors/css';\nimport createGlobalStyle from './constructors/createGlobalStyle';\nimport keyframes from './constructors/keyframes';\nimport ServerStyleSheet from './models/ServerStyleSheet';\nimport { SC_VERSION } from './constants';\n\nimport StyleSheetManager, {\n  StyleSheetContext,\n  StyleSheetConsumer,\n} from './models/StyleSheetManager';\n\n/* Import components */\nimport ThemeProvider, { ThemeContext, ThemeConsumer } from './models/ThemeProvider';\n\n/* Import Higher Order Components */\nimport withTheme from './hoc/withTheme';\n\n/* Import hooks */\nimport useTheme from './hooks/useTheme';\n\ndeclare var __SERVER__: boolean;\n\n/* Warning if you've imported this file on React Native */\nif (\n  process.env.NODE_ENV !== 'production' &&\n  typeof navigator !== 'undefined' &&\n  navigator.product === 'ReactNative'\n) {\n  // eslint-disable-next-line no-console\n  console.warn(\n    \"It looks like you've imported 'styled-components' on React Native.\\n\" +\n      \"Perhaps you're looking to import 'styled-components/native'?\\n\" +\n      'Read more about this at https://www.styled-components.com/docs/basics#react-native'\n  );\n}\n\n/* Warning if there are several instances of styled-components */\nif (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test' && typeof window !== 'undefined') {\n  window['__styled-components-init__'] = window['__styled-components-init__'] || 0;\n\n  if (window['__styled-components-init__'] === 1) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      \"It looks like there are several instances of 'styled-components' initialized in this application. \" +\n        'This may cause dynamic styles to not render properly, errors during the rehydration process, ' +\n        'a missing theme prop, and makes your application bigger without good reason.\\n\\n' +\n        'See https://s-c.sh/2BAXzed for more info.'\n    );\n  }\n\n  window['__styled-components-init__'] += 1;\n}\n\n/* Export everything */\nexport * from './secretInternals';\nexport {\n  createGlobalStyle,\n  css,\n  isStyledComponent,\n  keyframes,\n  ServerStyleSheet,\n  StyleSheetConsumer,\n  StyleSheetContext,\n  StyleSheetManager,\n  ThemeConsumer,\n  ThemeContext,\n  ThemeProvider,\n  useTheme,\n  SC_VERSION as version,\n  withTheme,\n};\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nexport function invariant(condition: any, format: string, ...args: any[]) {\n\tif (isProduction()) {\n\t\tif (format === undefined) {\n\t\t\tthrow new Error('invariant requires an error message argument')\n\t\t}\n\t}\n\n\tif (!condition) {\n\t\tlet error\n\t\tif (format === undefined) {\n\t\t\terror = new Error(\n\t\t\t\t'Minified exception occurred; use the non-minified dev environment ' +\n\t\t\t\t\t'for the full error message and additional helpful warnings.',\n\t\t\t)\n\t\t} else {\n\t\t\tlet argIndex = 0\n\t\t\terror = new Error(\n\t\t\t\tformat.replace(/%s/g, function () {\n\t\t\t\t\treturn args[argIndex++]\n\t\t\t\t}),\n\t\t\t)\n\t\t\terror.name = 'Invariant Violation'\n\t\t}\n\n\t\t;(error as any).framesToPop = 1 // we don't care about invariant's own frame\n\t\tthrow error\n\t}\n}\n\nfunction isProduction() {\n\treturn (\n\t\ttypeof process !== 'undefined' && process.env['NODE_ENV'] === 'production'\n\t)\n}\n","// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get<T>(obj: any, path: string, defaultValue: T): T {\n\treturn path\n\t\t.split('.')\n\t\t.reduce((a, c) => (a && a[c] ? a[c] : defaultValue || null), obj) as T\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T): T[] {\n\treturn items.filter((i) => i !== item)\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isString(input: any): boolean {\n\treturn typeof input === 'string'\n}\n\n/**\n * drop-in replacement for _.isString\n * @param input\n */\nexport function isObject(input: any): boolean {\n\treturn typeof input === 'object'\n}\n\n/**\n * replacement for _.xor\n * @param itemsA\n * @param itemsB\n */\nexport function xor<T extends string | number>(itemsA: T[], itemsB: T[]): T[] {\n\tconst map = new Map<T, number>()\n\tconst insertItem = (item: T) => {\n\t\tmap.set(item, map.has(item) ? (map.get(item) as number) + 1 : 1)\n\t}\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tmap.forEach((count, key) => {\n\t\tif (count === 1) {\n\t\t\tresult.push(key)\n\t\t}\n\t})\n\treturn result\n}\n\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\nexport function intersection<T>(itemsA: T[], itemsB: T[]): T[] {\n\treturn itemsA.filter((t) => itemsB.indexOf(t) > -1)\n}\n","export const INIT_COORDS = 'dnd-core/INIT_COORDS'\nexport const BEGIN_DRAG = 'dnd-core/BEGIN_DRAG'\nexport const PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE'\nexport const HOVER = 'dnd-core/HOVER'\nexport const DROP = 'dnd-core/DROP'\nexport const END_DRAG = 'dnd-core/END_DRAG'\n","import type { AnyAction } from 'redux'\n\nimport type { XYCoord } from '../../../interfaces.js'\nimport { INIT_COORDS } from '../types.js'\n\nexport function setClientOffset(\n\tclientOffset: XYCoord | null | undefined,\n\tsourceClientOffset?: XYCoord | null | undefined,\n): AnyAction {\n\treturn {\n\t\ttype: INIT_COORDS,\n\t\tpayload: {\n\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\tclientOffset: clientOffset || null,\n\t\t},\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tBeginDragOptions,\n\tBeginDragPayload,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tXYCoord,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { setClientOffset } from './local/setClientOffset.js'\nimport { BEGIN_DRAG, INIT_COORDS } from './types.js'\n\nconst ResetCoordinatesAction = {\n\ttype: INIT_COORDS,\n\tpayload: {\n\t\tclientOffset: null,\n\t\tsourceClientOffset: null,\n\t},\n}\n\nexport function createBeginDrag(manager: DragDropManager) {\n\treturn function beginDrag(\n\t\tsourceIds: Identifier[] = [],\n\t\toptions: BeginDragOptions = {\n\t\t\tpublishSource: true,\n\t\t},\n\t): Action<BeginDragPayload> | undefined {\n\t\tconst {\n\t\t\tpublishSource = true,\n\t\t\tclientOffset,\n\t\t\tgetSourceClientOffset,\n\t\t}: BeginDragOptions = options\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\n\t\t// Initialize the coordinates using the client offset\n\t\tmanager.dispatch(setClientOffset(clientOffset))\n\n\t\tverifyInvariants(sourceIds, monitor, registry)\n\n\t\t// Get the draggable source\n\t\tconst sourceId = getDraggableSource(sourceIds, monitor)\n\t\tif (sourceId == null) {\n\t\t\tmanager.dispatch(ResetCoordinatesAction)\n\t\t\treturn\n\t\t}\n\n\t\t// Get the source client offset\n\t\tlet sourceClientOffset: XYCoord | null = null\n\t\tif (clientOffset) {\n\t\t\tif (!getSourceClientOffset) {\n\t\t\t\tthrow new Error('getSourceClientOffset must be defined')\n\t\t\t}\n\t\t\tverifyGetSourceClientOffsetIsFunction(getSourceClientOffset)\n\t\t\tsourceClientOffset = getSourceClientOffset(sourceId)\n\t\t}\n\n\t\t// Initialize the full coordinates\n\t\tmanager.dispatch(setClientOffset(clientOffset, sourceClientOffset))\n\n\t\tconst source = registry.getSource(sourceId)\n\t\tconst item = source.beginDrag(monitor, sourceId)\n\t\t// If source.beginDrag returns null, this is an indicator to cancel the drag\n\t\tif (item == null) {\n\t\t\treturn undefined\n\t\t}\n\t\tverifyItemIsObject(item)\n\t\tregistry.pinSource(sourceId)\n\n\t\tconst itemType = registry.getSourceType(sourceId)\n\t\treturn {\n\t\t\ttype: BEGIN_DRAG,\n\t\t\tpayload: {\n\t\t\t\titemType,\n\t\t\t\titem,\n\t\t\t\tsourceId,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t\tsourceClientOffset: sourceClientOffset || null,\n\t\t\t\tisSourcePublic: !!publishSource,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyInvariants(\n\tsourceIds: Identifier[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.')\n\tsourceIds.forEach(function (sourceId) {\n\t\tinvariant(\n\t\t\tregistry.getSource(sourceId),\n\t\t\t'Expected sourceIds to be registered.',\n\t\t)\n\t})\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset: any) {\n\tinvariant(\n\t\ttypeof getSourceClientOffset === 'function',\n\t\t'When clientOffset is provided, getSourceClientOffset must be a function.',\n\t)\n}\n\nfunction verifyItemIsObject(item: any) {\n\tinvariant(isObject(item), 'Item must be an object.')\n}\n\nfunction getDraggableSource(sourceIds: Identifier[], monitor: DragDropMonitor) {\n\tlet sourceId = null\n\tfor (let i = sourceIds.length - 1; i >= 0; i--) {\n\t\tif (monitor.canDragSource(sourceIds[i])) {\n\t\t\tsourceId = sourceIds[i]\n\t\t\tbreak\n\t\t}\n\t}\n\treturn sourceId\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tDropPayload,\n\tHandlerRegistry,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { isObject } from '../../utils/js_utils.js'\nimport { DROP } from './types.js'\n\nexport function createDrop(manager: DragDropManager) {\n\treturn function drop(options = {}): void {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyInvariants(monitor)\n\t\tconst targetIds = getDroppableTargets(monitor)\n\n\t\t// Multiple actions are dispatched here, which is why this doesn't return an action\n\t\ttargetIds.forEach((targetId, index) => {\n\t\t\tconst dropResult = determineDropResult(targetId, index, registry, monitor)\n\t\t\tconst action: Action<DropPayload> = {\n\t\t\t\ttype: DROP,\n\t\t\t\tpayload: {\n\t\t\t\t\tdropResult: {\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\t...dropResult,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t\tmanager.dispatch(action)\n\t\t})\n\t}\n}\n\nfunction verifyInvariants(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call drop while not dragging.')\n\tinvariant(\n\t\t!monitor.didDrop(),\n\t\t'Cannot call drop twice during one drag operation.',\n\t)\n}\n\nfunction determineDropResult(\n\ttargetId: Identifier,\n\tindex: number,\n\tregistry: HandlerRegistry,\n\tmonitor: DragDropMonitor,\n) {\n\tconst target = registry.getTarget(targetId)\n\tlet dropResult = target ? target.drop(monitor, targetId) : undefined\n\tverifyDropResultType(dropResult)\n\tif (typeof dropResult === 'undefined') {\n\t\tdropResult = index === 0 ? {} : monitor.getDropResult()\n\t}\n\treturn dropResult\n}\n\nfunction verifyDropResultType(dropResult: any) {\n\tinvariant(\n\t\ttypeof dropResult === 'undefined' || isObject(dropResult),\n\t\t'Drop result must either be an object or undefined.',\n\t)\n}\n\nfunction getDroppableTargets(monitor: DragDropMonitor) {\n\tconst targetIds = monitor\n\t\t.getTargetIds()\n\t\t.filter(monitor.canDropOnTarget, monitor)\n\ttargetIds.reverse()\n\treturn targetIds\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tSentinelAction,\n} from '../../interfaces.js'\nimport { END_DRAG } from './types.js'\n\nexport function createEndDrag(manager: DragDropManager) {\n\treturn function endDrag(): SentinelAction {\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tverifyIsDragging(monitor)\n\n\t\tconst sourceId = monitor.getSourceId()\n\t\tif (sourceId != null) {\n\t\t\tconst source = registry.getSource(sourceId, true)\n\t\t\tsource.endDrag(monitor, sourceId)\n\t\t\tregistry.unpinSource()\n\t\t}\n\t\treturn { type: END_DRAG }\n\t}\n}\n\nfunction verifyIsDragging(monitor: DragDropMonitor) {\n\tinvariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.')\n}\n","import type { Identifier } from '../interfaces.js'\n\nexport function matchesType(\n\ttargetType: Identifier | Identifier[] | null,\n\tdraggedItemType: Identifier | null,\n): boolean {\n\tif (draggedItemType === null) {\n\t\treturn targetType === null\n\t}\n\treturn Array.isArray(targetType)\n\t\t? (targetType as Identifier[]).some((t) => t === draggedItemType)\n\t\t: targetType === draggedItemType\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tAction,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tHoverOptions,\n\tHoverPayload,\n\tIdentifier,\n} from '../../interfaces.js'\nimport { matchesType } from '../../utils/matchesType.js'\nimport { HOVER } from './types.js'\n\nexport function createHover(manager: DragDropManager) {\n\treturn function hover(\n\t\ttargetIdsArg: string[],\n\t\t{ clientOffset }: HoverOptions = {},\n\t): Action<HoverPayload> {\n\t\tverifyTargetIdsIsArray(targetIdsArg)\n\t\tconst targetIds = targetIdsArg.slice(0)\n\t\tconst monitor = manager.getMonitor()\n\t\tconst registry = manager.getRegistry()\n\t\tconst draggedItemType = monitor.getItemType()\n\t\tremoveNonMatchingTargetIds(targetIds, registry, draggedItemType)\n\t\tcheckInvariants(targetIds, monitor, registry)\n\t\thoverAllTargets(targetIds, monitor, registry)\n\n\t\treturn {\n\t\t\ttype: HOVER,\n\t\t\tpayload: {\n\t\t\t\ttargetIds,\n\t\t\t\tclientOffset: clientOffset || null,\n\t\t\t},\n\t\t}\n\t}\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg: string[]) {\n\tinvariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.')\n}\n\nfunction checkInvariants(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\tinvariant(monitor.isDragging(), 'Cannot call hover while not dragging.')\n\tinvariant(!monitor.didDrop(), 'Cannot call hover after drop.')\n\tfor (let i = 0; i < targetIds.length; i++) {\n\t\tconst targetId = targetIds[i] as string\n\t\tinvariant(\n\t\t\ttargetIds.lastIndexOf(targetId) === i,\n\t\t\t'Expected targetIds to be unique in the passed array.',\n\t\t)\n\n\t\tconst target = registry.getTarget(targetId)\n\t\tinvariant(target, 'Expected targetIds to be registered.')\n\t}\n}\n\nfunction removeNonMatchingTargetIds(\n\ttargetIds: string[],\n\tregistry: HandlerRegistry,\n\tdraggedItemType: Identifier | null,\n) {\n\t// Remove those targetIds that don't match the targetType.  This\n\t// fixes shallow isOver which would only be non-shallow because of\n\t// non-matching targets.\n\tfor (let i = targetIds.length - 1; i >= 0; i--) {\n\t\tconst targetId = targetIds[i] as string\n\t\tconst targetType = registry.getTargetType(targetId)\n\t\tif (!matchesType(targetType, draggedItemType)) {\n\t\t\ttargetIds.splice(i, 1)\n\t\t}\n\t}\n}\n\nfunction hoverAllTargets(\n\ttargetIds: string[],\n\tmonitor: DragDropMonitor,\n\tregistry: HandlerRegistry,\n) {\n\t// Finally call hover on all matching targets.\n\ttargetIds.forEach(function (targetId) {\n\t\tconst target = registry.getTarget(targetId)\n\t\ttarget.hover(monitor, targetId)\n\t})\n}\n","import type { DragDropManager, SentinelAction } from '../../interfaces.js'\nimport { PUBLISH_DRAG_SOURCE } from './types.js'\n\nexport function createPublishDragSource(manager: DragDropManager) {\n\treturn function publishDragSource(): SentinelAction | undefined {\n\t\tconst monitor = manager.getMonitor()\n\t\tif (monitor.isDragging()) {\n\t\t\treturn { type: PUBLISH_DRAG_SOURCE }\n\t\t}\n\t\treturn\n\t}\n}\n","import type { Action, Store } from 'redux'\n\nimport { createDragDropActions } from '../actions/dragDrop/index.js'\nimport type {\n\tActionCreator,\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport type { DragDropMonitorImpl } from './DragDropMonitorImpl.js'\n\nexport class DragDropManagerImpl implements DragDropManager {\n\tprivate store: Store<State>\n\tprivate monitor: DragDropMonitor\n\tprivate backend: Backend | undefined\n\tprivate isSetUp = false\n\n\tpublic constructor(store: Store<State>, monitor: DragDropMonitor) {\n\t\tthis.store = store\n\t\tthis.monitor = monitor\n\t\tstore.subscribe(this.handleRefCountChange)\n\t}\n\n\tpublic receiveBackend(backend: Backend): void {\n\t\tthis.backend = backend\n\t}\n\n\tpublic getMonitor(): DragDropMonitor {\n\t\treturn this.monitor\n\t}\n\n\tpublic getBackend(): Backend {\n\t\treturn this.backend as Backend\n\t}\n\n\tpublic getRegistry(): HandlerRegistry {\n\t\treturn (this.monitor as DragDropMonitorImpl).registry\n\t}\n\n\tpublic getActions(): DragDropActions {\n\t\t/* eslint-disable-next-line @typescript-eslint/no-this-alias */\n\t\tconst manager = this\n\t\tconst { dispatch } = this.store\n\n\t\tfunction bindActionCreator(actionCreator: ActionCreator<any>) {\n\t\t\treturn (...args: any[]) => {\n\t\t\t\tconst action = actionCreator.apply(manager, args as any)\n\t\t\t\tif (typeof action !== 'undefined') {\n\t\t\t\t\tdispatch(action)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst actions = createDragDropActions(this)\n\n\t\treturn Object.keys(actions).reduce(\n\t\t\t(boundActions: DragDropActions, key: string) => {\n\t\t\t\tconst action: ActionCreator<any> = (actions as any)[\n\t\t\t\t\tkey\n\t\t\t\t] as ActionCreator<any>\n\t\t\t\t;(boundActions as any)[key] = bindActionCreator(action)\n\t\t\t\treturn boundActions\n\t\t\t},\n\t\t\t{} as DragDropActions,\n\t\t)\n\t}\n\n\tpublic dispatch(action: Action<any>): void {\n\t\tthis.store.dispatch(action)\n\t}\n\n\tprivate handleRefCountChange = (): void => {\n\t\tconst shouldSetUp = this.store.getState().refCount > 0\n\t\tif (this.backend) {\n\t\t\tif (shouldSetUp && !this.isSetUp) {\n\t\t\t\tthis.backend.setup()\n\t\t\t\tthis.isSetUp = true\n\t\t\t} else if (!shouldSetUp && this.isSetUp) {\n\t\t\t\tthis.backend.teardown()\n\t\t\t\tthis.isSetUp = false\n\t\t\t}\n\t\t}\n\t}\n}\n","import type { DragDropActions, DragDropManager } from '../../interfaces.js'\nimport { createBeginDrag } from './beginDrag.js'\nimport { createDrop } from './drop.js'\nimport { createEndDrag } from './endDrag.js'\nimport { createHover } from './hover.js'\nimport { createPublishDragSource } from './publishDragSource.js'\n\nexport * from './types.js'\n\nexport function createDragDropActions(\n\tmanager: DragDropManager,\n): DragDropActions {\n\treturn {\n\t\tbeginDrag: createBeginDrag(manager),\n\t\tpublishDragSource: createPublishDragSource(manager),\n\t\thover: createHover(manager),\n\t\tdrop: createDrop(manager),\n\t\tendDrag: createEndDrag(manager),\n\t}\n}\n","import type { XYCoord } from '../interfaces.js'\nimport type { State } from '../reducers/dragOffset.js'\n\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x + b.x,\n\t\ty: a.y + b.y,\n\t}\n}\n\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function subtract(a: XYCoord, b: XYCoord): XYCoord {\n\treturn {\n\t\tx: a.x - b.x,\n\t\ty: a.y - b.y,\n\t}\n}\n\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\nexport function getSourceClientOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset, initialSourceClientOffset } = state\n\tif (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(\n\t\tadd(clientOffset, initialSourceClientOffset),\n\t\tinitialClientOffset,\n\t)\n}\n\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\nexport function getDifferenceFromInitialOffset(state: State): XYCoord | null {\n\tconst { clientOffset, initialClientOffset } = state\n\tif (!clientOffset || !initialClientOffset) {\n\t\treturn null\n\t}\n\treturn subtract(clientOffset, initialClientOffset)\n}\n","import { intersection } from './js_utils.js'\n\nexport const NONE: string[] = []\nexport const ALL: string[] = []\n// Add these flags for debug\n;(NONE as any).__IS_NONE__ = true\n;(ALL as any).__IS_ALL__ = true\n\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\nexport function areDirty(\n\tdirtyIds: string[],\n\thandlerIds: string[] | undefined,\n): boolean {\n\tif (dirtyIds === NONE) {\n\t\treturn false\n\t}\n\n\tif (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n\t\treturn true\n\t}\n\n\tconst commonIds = intersection(handlerIds, dirtyIds)\n\treturn commonIds.length > 0\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport type {\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport {\n\tgetDifferenceFromInitialOffset,\n\tgetSourceClientOffset,\n} from '../utils/coords.js'\nimport { areDirty } from '../utils/dirtiness.js'\nimport { matchesType } from '../utils/matchesType.js'\n\nexport class DragDropMonitorImpl implements DragDropMonitor {\n\tprivate store: Store<State>\n\tpublic readonly registry: HandlerRegistry\n\n\tpublic constructor(store: Store<State>, registry: HandlerRegistry) {\n\t\tthis.store = store\n\t\tthis.registry = registry\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions: { handlerIds?: string[] } = {},\n\t): Unsubscribe {\n\t\tconst { handlerIds } = options\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\t\tinvariant(\n\t\t\ttypeof handlerIds === 'undefined' || Array.isArray(handlerIds),\n\t\t\t'handlerIds, when specified, must be an array of strings.',\n\t\t)\n\n\t\tlet prevStateId = this.store.getState().stateId\n\t\tconst handleChange = () => {\n\t\t\tconst state = this.store.getState()\n\t\t\tconst currentStateId = state.stateId\n\t\t\ttry {\n\t\t\t\tconst canSkipListener =\n\t\t\t\t\tcurrentStateId === prevStateId ||\n\t\t\t\t\t(currentStateId === prevStateId + 1 &&\n\t\t\t\t\t\t!areDirty(state.dirtyHandlerIds, handlerIds))\n\n\t\t\t\tif (!canSkipListener) {\n\t\t\t\t\tlistener()\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tprevStateId = currentStateId\n\t\t\t}\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\tinvariant(typeof listener === 'function', 'listener must be a function.')\n\n\t\tlet previousState = this.store.getState().dragOffset\n\t\tconst handleChange = () => {\n\t\t\tconst nextState = this.store.getState().dragOffset\n\t\t\tif (nextState === previousState) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tpreviousState = nextState\n\t\t\tlistener()\n\t\t}\n\n\t\treturn this.store.subscribe(handleChange)\n\t}\n\n\tpublic canDragSource(sourceId: string | undefined): boolean {\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.canDrag(this, sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\t\tconst target = this.registry.getTarget(targetId)\n\t\tinvariant(target, `Expected to find a valid target. targetId=${targetId}`)\n\n\t\tif (!this.isDragging() || this.didDrop()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\treturn (\n\t\t\tmatchesType(targetType, draggedItemType) && target.canDrop(this, targetId)\n\t\t)\n\t}\n\n\tpublic isDragging(): boolean {\n\t\treturn Boolean(this.getItemType())\n\t}\n\n\tpublic isDraggingSource(sourceId: string | undefined): boolean {\n\t\t// undefined on initial render\n\t\tif (!sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tconst source = this.registry.getSource(sourceId, true)\n\t\tinvariant(source, `Expected to find a valid source. sourceId=${sourceId}`)\n\n\t\tif (!this.isDragging() || !this.isSourcePublic()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst sourceType = this.registry.getSourceType(sourceId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (sourceType !== draggedItemType) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn source.isDragging(this, sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: string | undefined,\n\t\toptions = { shallow: false },\n\t): boolean {\n\t\t// undefined on initial render\n\t\tif (!targetId) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst { shallow } = options\n\t\tif (!this.isDragging()) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetType = this.registry.getTargetType(targetId)\n\t\tconst draggedItemType = this.getItemType()\n\t\tif (draggedItemType && !matchesType(targetType, draggedItemType)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst targetIds = this.getTargetIds()\n\t\tif (!targetIds.length) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst index = targetIds.indexOf(targetId)\n\t\tif (shallow) {\n\t\t\treturn index === targetIds.length - 1\n\t\t} else {\n\t\t\treturn index > -1\n\t\t}\n\t}\n\n\tpublic getItemType(): Identifier {\n\t\treturn this.store.getState().dragOperation.itemType as Identifier\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.store.getState().dragOperation.item\n\t}\n\n\tpublic getSourceId(): string | null {\n\t\treturn this.store.getState().dragOperation.sourceId\n\t}\n\n\tpublic getTargetIds(): string[] {\n\t\treturn this.store.getState().dragOperation.targetIds\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.store.getState().dragOperation.dropResult\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.store.getState().dragOperation.didDrop\n\t}\n\n\tpublic isSourcePublic(): boolean {\n\t\treturn Boolean(this.store.getState().dragOperation.isSourcePublic)\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialClientOffset\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.initialSourceClientOffset\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.store.getState().dragOffset.clientOffset\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn getSourceClientOffset(this.store.getState().dragOffset)\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn getDifferenceFromInitialOffset(this.store.getState().dragOffset)\n\t}\n}\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { Task, TaskFn } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\nimport type { Task } from './types.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.jss\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import { RawTask } from './RawTask.js'\nimport type { Task } from './types.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","import type { Action, SourceIdPayload, TargetIdPayload } from '../interfaces.js'\n\nexport const ADD_SOURCE = 'dnd-core/ADD_SOURCE'\nexport const ADD_TARGET = 'dnd-core/ADD_TARGET'\nexport const REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE'\nexport const REMOVE_TARGET = 'dnd-core/REMOVE_TARGET'\n\nexport function addSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: ADD_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function addTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: ADD_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n\nexport function removeSource(sourceId: string): Action<SourceIdPayload> {\n\treturn {\n\t\ttype: REMOVE_SOURCE,\n\t\tpayload: {\n\t\t\tsourceId,\n\t\t},\n\t}\n}\n\nexport function removeTarget(targetId: string): Action<TargetIdPayload> {\n\treturn {\n\t\ttype: REMOVE_TARGET,\n\t\tpayload: {\n\t\t\ttargetId,\n\t\t},\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type { DragSource, DropTarget, Identifier } from './interfaces.js'\n\nexport function validateSourceContract(source: DragSource): void {\n\tinvariant(\n\t\ttypeof source.canDrag === 'function',\n\t\t'Expected canDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.beginDrag === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.endDrag === 'function',\n\t\t'Expected endDrag to be a function.',\n\t)\n}\n\nexport function validateTargetContract(target: DropTarget): void {\n\tinvariant(\n\t\ttypeof target.canDrop === 'function',\n\t\t'Expected canDrop to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.hover === 'function',\n\t\t'Expected hover to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.drop === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n}\n\nexport function validateType(\n\ttype: Identifier | Identifier[],\n\tallowArray?: boolean,\n): void {\n\tif (allowArray && Array.isArray(type)) {\n\t\ttype.forEach((t) => validateType(t, false))\n\t\treturn\n\t}\n\n\tinvariant(\n\t\ttypeof type === 'string' || typeof type === 'symbol',\n\t\tallowArray\n\t\t\t? 'Type can only be a string, a symbol, or an array of either.'\n\t\t\t: 'Type can only be a string or a symbol.',\n\t)\n}\n","export type Identifier = string | symbol\nexport type SourceType = Identifier\nexport type TargetType = Identifier | Identifier[]\nexport type Unsubscribe = () => void\nexport type Listener = () => void\n\nexport interface XYCoord {\n\tx: number\n\ty: number\n}\n\nexport enum HandlerRole {\n\tSOURCE = 'SOURCE',\n\tTARGET = 'TARGET',\n}\n\nexport interface Backend {\n\tsetup(): void\n\tteardown(): void\n\tconnectDragSource(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDragPreview(sourceId: any, node?: any, options?: any): Unsubscribe\n\tconnectDropTarget(targetId: any, node?: any, options?: any): Unsubscribe\n\tprofile(): Record<string, number>\n}\n\nexport interface DragDropMonitor {\n\tsubscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: {\n\t\t\thandlerIds?: Identifier[]\n\t\t},\n\t): Unsubscribe\n\tsubscribeToOffsetChange(listener: Listener): Unsubscribe\n\tcanDragSource(sourceId: Identifier | undefined): boolean\n\tcanDropOnTarget(targetId: Identifier | undefined): boolean\n\n\t/**\n\t * Returns true if a drag operation is in progress, and either the owner initiated the drag, or its isDragging()\n\t * is defined and returns true.\n\t */\n\tisDragging(): boolean\n\tisDraggingSource(sourceId: Identifier | undefined): boolean\n\tisOverTarget(\n\t\ttargetId: Identifier | undefined,\n\t\toptions?: {\n\t\t\tshallow?: boolean\n\t\t},\n\t): boolean\n\n\t/**\n\t * Returns a string or a symbol identifying the type of the current dragged item. Returns null if no item is being dragged.\n\t */\n\tgetItemType(): Identifier | null\n\n\t/**\n\t * Returns a plain object representing the currently dragged item. Every drag source must specify it by returning an object\n\t * from its beginDrag() method. Returns null if no item is being dragged.\n\t */\n\tgetItem(): any\n\tgetSourceId(): Identifier | null\n\tgetTargetIds(): Identifier[]\n\t/**\n\t * Returns a plain object representing the last recorded drop result. The drop targets may optionally specify it by returning an\n\t * object from their drop() methods. When a chain of drop() is dispatched for the nested targets, bottom up, any parent that\n\t * explicitly returns its own result from drop() overrides the child drop result previously set by the child. Returns null if\n\t * called outside endDrag().\n\t */\n\tgetDropResult(): any\n\t/**\n\t * Returns true if some drop target has handled the drop event, false otherwise. Even if a target did not return a drop result,\n\t * didDrop() returns true. Use it inside endDrag() to test whether any drop target has handled the drop. Returns false if called\n\t * outside endDrag().\n\t */\n\tdidDrop(): boolean\n\tisSourcePublic(): boolean | null\n\t/**\n\t * Returns the { x, y } client offset of the pointer at the time when the current drag operation has started.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetInitialClientOffset(): XYCoord | null\n\t/**\n\t * Returns the { x, y } client offset of the drag source component's root DOM node at the time when the current drag\n\t * operation has started. Returns null if no item is being dragged.\n\t */\n\tgetInitialSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the last recorded { x, y } client offset of the pointer while a drag operation is in progress.\n\t * Returns null if no item is being dragged.\n\t */\n\tgetClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the projected { x, y } client offset of the drag source component's root DOM node, based on its position at the time\n\t * when the current drag operation has started, and the movement difference. Returns null if no item is being dragged.\n\t */\n\tgetSourceClientOffset(): XYCoord | null\n\n\t/**\n\t * Returns the { x, y } difference between the last recorded client offset of the pointer and the client offset when the current\n\t * drag operation has started. Returns null if no item is being dragged.\n\t */\n\tgetDifferenceFromInitialOffset(): XYCoord | null\n}\n\nexport interface HandlerRegistry {\n\taddSource(type: SourceType, source: DragSource): Identifier\n\taddTarget(type: TargetType, target: DropTarget): Identifier\n\tcontainsHandler(handler: DragSource | DropTarget): boolean\n\tgetSource(sourceId: Identifier, includePinned?: boolean): DragSource\n\tgetSourceType(sourceId: Identifier): SourceType\n\tgetTargetType(targetId: Identifier): TargetType\n\tgetTarget(targetId: Identifier): DropTarget\n\tisSourceId(handlerId: Identifier): boolean\n\tisTargetId(handlerId: Identifier): boolean\n\tremoveSource(sourceId: Identifier): void\n\tremoveTarget(targetId: Identifier): void\n\tpinSource(sourceId: Identifier): void\n\tunpinSource(): void\n}\n\nexport interface Action<Payload> {\n\ttype: Identifier\n\tpayload: Payload\n}\nexport interface SentinelAction {\n\ttype: Identifier\n}\n\nexport type ActionCreator<Payload> = (args: any[]) => Action<Payload>\n\nexport interface BeginDragOptions {\n\tpublishSource?: boolean\n\tclientOffset?: XYCoord\n\tgetSourceClientOffset?: (sourceId: Identifier | undefined) => XYCoord\n}\n\nexport interface InitCoordsPayload {\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n}\n\nexport interface BeginDragPayload {\n\titemType: Identifier\n\titem: any\n\tsourceId: Identifier\n\tclientOffset: XYCoord | null\n\tsourceClientOffset: XYCoord | null\n\tisSourcePublic: boolean\n}\n\nexport interface HoverPayload {\n\ttargetIds: Identifier[]\n\tclientOffset: XYCoord | null\n}\n\nexport interface HoverOptions {\n\tclientOffset?: XYCoord\n}\n\nexport interface DropPayload {\n\tdropResult: any\n}\n\nexport interface TargetIdPayload {\n\ttargetId: Identifier\n}\n\nexport interface SourceIdPayload {\n\tsourceId: Identifier\n}\n\nexport interface DragDropActions {\n\tbeginDrag(\n\t\tsourceIds?: Identifier[],\n\t\toptions?: any,\n\t): Action<BeginDragPayload> | undefined\n\tpublishDragSource(): SentinelAction | undefined\n\thover(targetIds: Identifier[], options?: any): Action<HoverPayload>\n\tdrop(options?: any): void\n\tendDrag(): SentinelAction\n}\n\nexport interface DragDropManager {\n\tgetMonitor(): DragDropMonitor\n\tgetBackend(): Backend\n\tgetRegistry(): HandlerRegistry\n\tgetActions(): DragDropActions\n\tdispatch(action: any): void\n}\n\nexport type BackendFactory = (\n\tmanager: DragDropManager,\n\tglobalContext?: any,\n\tconfiguration?: any,\n) => Backend\n\nexport interface DragSource {\n\tbeginDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tendDrag(monitor: DragDropMonitor, targetId: Identifier): void\n\tcanDrag(monitor: DragDropMonitor, targetId: Identifier): boolean\n\tisDragging(monitor: DragDropMonitor, targetId: Identifier): boolean\n}\n\nexport interface DropTarget {\n\tcanDrop(monitor: DragDropMonitor, targetId: Identifier): boolean\n\thover(monitor: DragDropMonitor, targetId: Identifier): void\n\tdrop(monitor: DragDropMonitor, targetId: Identifier): any\n}\n","let nextUniqueId = 0\n\nexport function getNextUniqueId(): number {\n\treturn nextUniqueId++\n}\n","import { asap } from '@react-dnd/asap'\nimport { invariant } from '@react-dnd/invariant'\nimport type { Store } from 'redux'\n\nimport {\n\taddSource,\n\taddTarget,\n\tremoveSource,\n\tremoveTarget,\n} from '../actions/registry.js'\nimport {\n\tvalidateSourceContract,\n\tvalidateTargetContract,\n\tvalidateType,\n} from '../contracts.js'\nimport type {\n\tDragSource,\n\tDropTarget,\n\tHandlerRegistry,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n} from '../interfaces.js'\nimport { HandlerRole } from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport { getNextUniqueId } from '../utils/getNextUniqueId.js'\n\nfunction getNextHandlerId(role: HandlerRole): string {\n\tconst id = getNextUniqueId().toString()\n\tswitch (role) {\n\t\tcase HandlerRole.SOURCE:\n\t\t\treturn `S${id}`\n\t\tcase HandlerRole.TARGET:\n\t\t\treturn `T${id}`\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown Handler Role: ${role}`)\n\t}\n}\n\nfunction parseRoleFromHandlerId(handlerId: string) {\n\tswitch (handlerId[0]) {\n\t\tcase 'S':\n\t\t\treturn HandlerRole.SOURCE\n\t\tcase 'T':\n\t\t\treturn HandlerRole.TARGET\n\t\tdefault:\n\t\t\tthrow new Error(`Cannot parse handler ID: ${handlerId}`)\n\t}\n}\n\nfunction mapContainsValue<T>(map: Map<string, T>, searchValue: T) {\n\tconst entries = map.entries()\n\tlet isDone = false\n\tdo {\n\t\tconst {\n\t\t\tdone,\n\t\t\tvalue: [, value],\n\t\t} = entries.next()\n\t\tif (value === searchValue) {\n\t\t\treturn true\n\t\t}\n\t\tisDone = !!done\n\t} while (!isDone)\n\treturn false\n}\n\nexport class HandlerRegistryImpl implements HandlerRegistry {\n\tprivate types: Map<string, SourceType | TargetType> = new Map()\n\tprivate dragSources: Map<string, DragSource> = new Map()\n\tprivate dropTargets: Map<string, DropTarget> = new Map()\n\tprivate pinnedSourceId: string | null = null\n\tprivate pinnedSource: any = null\n\tprivate store: Store<State>\n\n\tpublic constructor(store: Store<State>) {\n\t\tthis.store = store\n\t}\n\n\tpublic addSource(type: SourceType, source: DragSource): string {\n\t\tvalidateType(type)\n\t\tvalidateSourceContract(source)\n\n\t\tconst sourceId = this.addHandler(HandlerRole.SOURCE, type, source)\n\t\tthis.store.dispatch(addSource(sourceId))\n\t\treturn sourceId\n\t}\n\n\tpublic addTarget(type: TargetType, target: DropTarget): string {\n\t\tvalidateType(type, true)\n\t\tvalidateTargetContract(target)\n\n\t\tconst targetId = this.addHandler(HandlerRole.TARGET, type, target)\n\t\tthis.store.dispatch(addTarget(targetId))\n\t\treturn targetId\n\t}\n\n\tpublic containsHandler(handler: DragSource | DropTarget): boolean {\n\t\treturn (\n\t\t\tmapContainsValue(this.dragSources, handler) ||\n\t\t\tmapContainsValue(this.dropTargets, handler)\n\t\t)\n\t}\n\n\tpublic getSource(sourceId: string, includePinned = false): DragSource {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\tconst isPinned = includePinned && sourceId === this.pinnedSourceId\n\t\tconst source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId)\n\t\treturn source\n\t}\n\n\tpublic getTarget(targetId: string): DropTarget {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.dropTargets.get(targetId) as DropTarget\n\t}\n\n\tpublic getSourceType(sourceId: string): Identifier {\n\t\tinvariant(this.isSourceId(sourceId), 'Expected a valid source ID.')\n\t\treturn this.types.get(sourceId) as Identifier\n\t}\n\n\tpublic getTargetType(targetId: string): Identifier | Identifier[] {\n\t\tinvariant(this.isTargetId(targetId), 'Expected a valid target ID.')\n\t\treturn this.types.get(targetId) as Identifier | Identifier[]\n\t}\n\n\tpublic isSourceId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.SOURCE\n\t}\n\n\tpublic isTargetId(handlerId: string): boolean {\n\t\tconst role = parseRoleFromHandlerId(handlerId)\n\t\treturn role === HandlerRole.TARGET\n\t}\n\n\tpublic removeSource(sourceId: string): void {\n\t\tinvariant(this.getSource(sourceId), 'Expected an existing source.')\n\t\tthis.store.dispatch(removeSource(sourceId))\n\t\tasap(() => {\n\t\t\tthis.dragSources.delete(sourceId)\n\t\t\tthis.types.delete(sourceId)\n\t\t})\n\t}\n\n\tpublic removeTarget(targetId: string): void {\n\t\tinvariant(this.getTarget(targetId), 'Expected an existing target.')\n\t\tthis.store.dispatch(removeTarget(targetId))\n\t\tthis.dropTargets.delete(targetId)\n\t\tthis.types.delete(targetId)\n\t}\n\n\tpublic pinSource(sourceId: string): void {\n\t\tconst source = this.getSource(sourceId)\n\t\tinvariant(source, 'Expected an existing source.')\n\n\t\tthis.pinnedSourceId = sourceId\n\t\tthis.pinnedSource = source\n\t}\n\n\tpublic unpinSource(): void {\n\t\tinvariant(this.pinnedSource, 'No source is pinned at the time.')\n\n\t\tthis.pinnedSourceId = null\n\t\tthis.pinnedSource = null\n\t}\n\n\tprivate addHandler(\n\t\trole: HandlerRole,\n\t\ttype: SourceType | TargetType,\n\t\thandler: DragSource | DropTarget,\n\t): string {\n\t\tconst id = getNextHandlerId(role)\n\t\tthis.types.set(id, type)\n\t\tif (role === HandlerRole.SOURCE) {\n\t\t\tthis.dragSources.set(id, handler as DragSource)\n\t\t} else if (role === HandlerRole.TARGET) {\n\t\t\tthis.dropTargets.set(id, handler as DropTarget)\n\t\t}\n\t\treturn id\n\t}\n}\n","import type { XYCoord } from '../interfaces.js'\n\nexport type EqualityCheck<T> = (a: T, b: T) => boolean\nexport const strictEquality = <T>(a: T, b: T): boolean => a === b\n\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\nexport function areCoordsEqual(\n\toffsetA: XYCoord | null | undefined,\n\toffsetB: XYCoord | null | undefined,\n): boolean {\n\tif (!offsetA && !offsetB) {\n\t\treturn true\n\t} else if (!offsetA || !offsetB) {\n\t\treturn false\n\t} else {\n\t\treturn offsetA.x === offsetB.x && offsetA.y === offsetB.y\n\t}\n}\n\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\nexport function areArraysEqual<T>(\n\ta: T[],\n\tb: T[],\n\tisEqual: EqualityCheck<T> = strictEquality,\n): boolean {\n\tif (a.length !== b.length) {\n\t\treturn false\n\t}\n\tfor (let i = 0; i < a.length; ++i) {\n\t\tif (!isEqual(a[i] as T, b[i] as T)) {\n\t\t\treturn false\n\t\t}\n\t}\n\treturn true\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\nimport { ALL, NONE } from '../utils/dirtiness.js'\nimport { areArraysEqual } from '../utils/equality.js'\nimport { xor } from '../utils/js_utils.js'\n\nexport type State = string[]\n\nexport interface DirtyHandlerIdPayload {\n\ttargetIds: string[]\n\tprevTargetIds: string[]\n}\n\nexport function reduce(\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t_state: State = NONE,\n\taction: Action<DirtyHandlerIdPayload>,\n): State {\n\tswitch (action.type) {\n\t\tcase HOVER:\n\t\t\tbreak\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\tcase REMOVE_TARGET:\n\t\tcase REMOVE_SOURCE:\n\t\t\treturn NONE\n\t\tcase BEGIN_DRAG:\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\tdefault:\n\t\t\treturn ALL\n\t}\n\n\tconst { targetIds = [], prevTargetIds = [] } = action.payload\n\tconst result = xor(targetIds, prevTargetIds)\n\tconst didChange =\n\t\tresult.length > 0 || !areArraysEqual(targetIds, prevTargetIds)\n\n\tif (!didChange) {\n\t\treturn NONE\n\t}\n\n\t// Check the target ids at the innermost position. If they are valid, add them\n\t// to the result\n\tconst prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1]\n\tconst innermostTargetId = targetIds[targetIds.length - 1]\n\tif (prevInnermostTargetId !== innermostTargetId) {\n\t\tif (prevInnermostTargetId) {\n\t\t\tresult.push(prevInnermostTargetId)\n\t\t}\n\t\tif (innermostTargetId) {\n\t\t\tresult.push(innermostTargetId)\n\t\t}\n\t}\n\n\treturn result\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tINIT_COORDS,\n} from '../actions/dragDrop/index.js'\nimport type { Action, XYCoord } from '../interfaces.js'\nimport { areCoordsEqual } from '../utils/equality.js'\n\nexport interface State {\n\tinitialSourceClientOffset: XYCoord | null\n\tinitialClientOffset: XYCoord | null\n\tclientOffset: XYCoord | null\n}\n\nconst initialState: State = {\n\tinitialSourceClientOffset: null,\n\tinitialClientOffset: null,\n\tclientOffset: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\tsourceClientOffset: XYCoord\n\t\tclientOffset: XYCoord\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase INIT_COORDS:\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\tinitialSourceClientOffset: payload.sourceClientOffset,\n\t\t\t\tinitialClientOffset: payload.clientOffset,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\tif (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tclientOffset: payload.clientOffset,\n\t\t\t}\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\t\treturn initialState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport { REMOVE_TARGET } from '../actions/registry.js'\nimport type { Action, Identifier } from '../interfaces.js'\nimport { without } from '../utils/js_utils.js'\n\nexport interface State {\n\titemType: Identifier | Identifier[] | null\n\titem: any\n\tsourceId: string | null\n\ttargetIds: string[]\n\tdropResult: any\n\tdidDrop: boolean\n\tisSourcePublic: boolean | null\n}\n\nconst initialState: State = {\n\titemType: null,\n\titem: null,\n\tsourceId: null,\n\ttargetIds: [],\n\tdropResult: null,\n\tdidDrop: false,\n\tisSourcePublic: null,\n}\n\nexport function reduce(\n\tstate: State = initialState,\n\taction: Action<{\n\t\titemType: Identifier | Identifier[]\n\t\titem: any\n\t\tsourceId: string\n\t\ttargetId: string\n\t\ttargetIds: string[]\n\t\tisSourcePublic: boolean\n\t\tdropResult: any\n\t}>,\n): State {\n\tconst { payload } = action\n\tswitch (action.type) {\n\t\tcase BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: payload.itemType,\n\t\t\t\titem: payload.item,\n\t\t\t\tsourceId: payload.sourceId,\n\t\t\t\tisSourcePublic: payload.isSourcePublic,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t}\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisSourcePublic: true,\n\t\t\t}\n\t\tcase HOVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: payload.targetIds,\n\t\t\t}\n\t\tcase REMOVE_TARGET:\n\t\t\tif (state.targetIds.indexOf(payload.targetId) === -1) {\n\t\t\t\treturn state\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttargetIds: without(state.targetIds, payload.targetId),\n\t\t\t}\n\t\tcase DROP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdropResult: payload.dropResult,\n\t\t\t\tdidDrop: true,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tcase END_DRAG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\titemType: null,\n\t\t\t\titem: null,\n\t\t\t\tsourceId: null,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t\tisSourcePublic: null,\n\t\t\t\ttargetIds: [],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\n\nexport type State = number\n\nexport function reduce(state: State = 0, action: Action<any>): State {\n\tswitch (action.type) {\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\t\treturn state + 1\n\t\tcase REMOVE_SOURCE:\n\t\tcase REMOVE_TARGET:\n\t\t\treturn state - 1\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","export type State = number\n\nexport function reduce(state: State = 0): State {\n\treturn state + 1\n}\n","import type { Action } from '../interfaces.js'\nimport { get } from '../utils/js_utils.js'\nimport type { State as DirtyHandlerIdsState } from './dirtyHandlerIds.js'\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds.js'\nimport type { State as DragOffsetState } from './dragOffset.js'\nimport { reduce as dragOffset } from './dragOffset.js'\nimport type { State as DragOperationState } from './dragOperation.js'\nimport { reduce as dragOperation } from './dragOperation.js'\nimport type { State as RefCountState } from './refCount.js'\nimport { reduce as refCount } from './refCount.js'\nimport type { State as StateIdState } from './stateId.js'\nimport { reduce as stateId } from './stateId.js'\n\nexport interface State {\n\tdirtyHandlerIds: DirtyHandlerIdsState\n\tdragOffset: DragOffsetState\n\trefCount: RefCountState\n\tdragOperation: DragOperationState\n\tstateId: StateIdState\n}\n\nexport function reduce(state: State = {} as State, action: Action<any>): State {\n\treturn {\n\t\tdirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n\t\t\ttype: action.type,\n\t\t\tpayload: {\n\t\t\t\t...action.payload,\n\t\t\t\tprevTargetIds: get<string[]>(state, 'dragOperation.targetIds', []),\n\t\t\t},\n\t\t}),\n\t\tdragOffset: dragOffset(state.dragOffset, action),\n\t\trefCount: refCount(state.refCount, action),\n\t\tdragOperation: dragOperation(state.dragOperation, action),\n\t\tstateId: stateId(state.stateId),\n\t}\n}\n","import type { Store } from 'redux'\nimport { createStore } from 'redux'\n\nimport { DragDropManagerImpl } from './classes/DragDropManagerImpl.js'\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl.js'\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl.js'\nimport type { BackendFactory, DragDropManager } from './interfaces.js'\nimport type { State } from './reducers/index.js'\nimport { reduce } from './reducers/index.js'\n\nexport function createDragDropManager(\n\tbackendFactory: BackendFactory,\n\tglobalContext: unknown = undefined,\n\tbackendOptions: unknown = {},\n\tdebugMode = false,\n): DragDropManager {\n\tconst store = makeStoreInstance(debugMode)\n\tconst monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store))\n\tconst manager = new DragDropManagerImpl(store, monitor)\n\tconst backend = backendFactory(manager, globalContext, backendOptions)\n\tmanager.receiveBackend(backend)\n\treturn manager\n}\n\nfunction makeStoreInstance(debugMode: boolean): Store<State> {\n\t// TODO: if we ever make a react-native version of this,\n\t// we'll need to consider how to pull off dev-tooling\n\tconst reduxDevTools =\n\t\ttypeof window !== 'undefined' &&\n\t\t(window as any).__REDUX_DEVTOOLS_EXTENSION__\n\treturn createStore(\n\t\treduce,\n\t\tdebugMode &&\n\t\t\treduxDevTools &&\n\t\t\treduxDevTools({\n\t\t\t\tname: 'dnd-core',\n\t\t\t\tinstanceId: 'dnd-core',\n\t\t\t}),\n\t)\n}\n","import type { DragDropManager } from 'dnd-core'\nimport { createContext } from 'react'\n\n/**\n * The React context type\n */\nexport interface DndContextType {\n\tdragDropManager: DragDropManager | undefined\n}\n\n/**\n * Create the React Context\n */\nexport const DndContext = createContext<DndContextType>({\n\tdragDropManager: undefined,\n})\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\nimport { createDragDropManager } from 'dnd-core'\nimport type { FC, ReactNode } from 'react'\nimport { memo, useEffect } from 'react'\n\nimport { DndContext } from './DndContext.js'\n\nexport type DndProviderProps<BackendContext, BackendOptions> =\n\t| {\n\t\t\tchildren?: ReactNode\n\t\t\tmanager: DragDropManager\n\t  }\n\t| {\n\t\t\tbackend: BackendFactory\n\t\t\tchildren?: ReactNode\n\t\t\tcontext?: BackendContext\n\t\t\toptions?: BackendOptions\n\t\t\tdebugMode?: boolean\n\t  }\n\nlet refCount = 0\nconst INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__')\n\n/**\n * A React component that provides the React-DnD context\n */\nexport const DndProvider: FC<DndProviderProps<unknown, unknown>> = memo(\n\tfunction DndProvider({ children, ...props }) {\n\t\tconst [manager, isGlobalInstance] = getDndContextValue(props) // memoized from props\n\t\t/**\n\t\t * If the global context was used to store the DND context\n\t\t * then where theres no more references to it we should\n\t\t * clean it up to avoid memory leaks\n\t\t */\n\t\tuseEffect(() => {\n\t\t\tif (isGlobalInstance) {\n\t\t\t\tconst context = getGlobalContext()\n\t\t\t\t++refCount\n\n\t\t\t\treturn () => {\n\t\t\t\t\tif (--refCount === 0) {\n\t\t\t\t\t\tcontext[INSTANCE_SYM] = null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\n\t\t}, [])\n\n\t\treturn <DndContext.Provider value={manager}>{children}</DndContext.Provider>\n\t},\n)\n\nfunction getDndContextValue(props: DndProviderProps<unknown, unknown>) {\n\tif ('manager' in props) {\n\t\tconst manager = { dragDropManager: props.manager }\n\t\treturn [manager, false]\n\t}\n\n\tconst manager = createSingletonDndContext(\n\t\tprops.backend,\n\t\tprops.context,\n\t\tprops.options,\n\t\tprops.debugMode,\n\t)\n\tconst isGlobalInstance = !props.context\n\n\treturn [manager, isGlobalInstance]\n}\n\nfunction createSingletonDndContext<BackendContext, BackendOptions>(\n\tbackend: BackendFactory,\n\tcontext: BackendContext = getGlobalContext(),\n\toptions: BackendOptions,\n\tdebugMode?: boolean,\n) {\n\tconst ctx = context as any\n\tif (!ctx[INSTANCE_SYM]) {\n\t\tctx[INSTANCE_SYM] = {\n\t\t\tdragDropManager: createDragDropManager(\n\t\t\t\tbackend,\n\t\t\t\tcontext,\n\t\t\t\toptions,\n\t\t\t\tdebugMode,\n\t\t\t),\n\t\t}\n\t}\n\treturn ctx[INSTANCE_SYM]\n}\n\ndeclare const global: any\nfunction getGlobalContext() {\n\treturn typeof global !== 'undefined' ? global : (window as any)\n}\n","// cheap lodash replacements\n\nexport function memoize<T>(fn: () => T): () => T {\n\tlet result: T | null = null\n\tconst memoized = () => {\n\t\tif (result == null) {\n\t\t\tresult = fn()\n\t\t}\n\t\treturn result\n\t}\n\treturn memoized\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T) {\n\treturn items.filter((i) => i !== item)\n}\n\nexport function union<T extends string | number>(itemsA: T[], itemsB: T[]) {\n\tconst set = new Set<T>()\n\tconst insertItem = (item: T) => set.add(item)\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tset.forEach((key) => result.push(key))\n\treturn result\n}\n","import { union, without } from './utils/js_utils.js'\n\ntype NodePredicate = (node: Node | null | undefined) => boolean\n\nexport class EnterLeaveCounter {\n\tprivate entered: any[] = []\n\tprivate isNodeInDocument: NodePredicate\n\n\tpublic constructor(isNodeInDocument: NodePredicate) {\n\t\tthis.isNodeInDocument = isNodeInDocument\n\t}\n\n\tpublic enter(enteringNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tconst isNodeEntered = (node: Node): boolean =>\n\t\t\tthis.isNodeInDocument(node) &&\n\t\t\t(!node.contains || node.contains(enteringNode as Node))\n\n\t\tthis.entered = union(this.entered.filter(isNodeEntered), [enteringNode])\n\n\t\treturn previousLength === 0 && this.entered.length > 0\n\t}\n\n\tpublic leave(leavingNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tthis.entered = without(\n\t\t\tthis.entered.filter(this.isNodeInDocument),\n\t\t\tleavingNode,\n\t\t)\n\n\t\treturn previousLength > 0 && this.entered.length === 0\n\t}\n\n\tpublic reset(): void {\n\t\tthis.entered = []\n\t}\n}\n","import type { DragDropMonitor } from 'dnd-core'\n\nimport type { NativeItemConfig } from './nativeTypesConfig.js'\n\nexport class NativeDragSource {\n\tpublic item: any\n\tprivate config: NativeItemConfig\n\n\tpublic constructor(config: NativeItemConfig) {\n\t\tthis.config = config\n\t\tthis.item = {}\n\t\tthis.initializeExposedProperties()\n\t}\n\n\tprivate initializeExposedProperties() {\n\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\tObject.defineProperty(this.item, property, {\n\t\t\t\tconfigurable: true, // This is needed to allow redefining it later\n\t\t\t\tenumerable: true,\n\t\t\t\tget() {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`Browser doesn't allow reading \"${property}\" until the drop event.`,\n\t\t\t\t\t)\n\t\t\t\t\treturn null\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t}\n\n\tpublic loadDataTransfer(dataTransfer: DataTransfer | null | undefined): void {\n\t\tif (dataTransfer) {\n\t\t\tconst newProperties: PropertyDescriptorMap = {}\n\t\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\t\tconst propertyFn = this.config.exposeProperties[property]\n\t\t\t\tif (propertyFn != null) {\n\t\t\t\t\tnewProperties[property] = {\n\t\t\t\t\t\tvalue: propertyFn(dataTransfer, this.config.matchesTypes),\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tObject.defineProperties(this.item, newProperties)\n\t\t}\n\t}\n\n\tpublic canDrag(): boolean {\n\t\treturn true\n\t}\n\n\tpublic beginDrag(): any {\n\t\treturn this.item\n\t}\n\n\tpublic isDragging(monitor: DragDropMonitor, handle: string): boolean {\n\t\treturn handle === monitor.getSourceId()\n\t}\n\n\tpublic endDrag(): void {\n\t\t// empty\n\t}\n}\n","export const FILE = '__NATIVE_FILE__'\nexport const URL = '__NATIVE_URL__'\nexport const TEXT = '__NATIVE_TEXT__'\nexport const HTML = '__NATIVE_HTML__'\n","export function getDataFromDataTransfer(\n\tdataTransfer: DataTransfer,\n\ttypesToTry: string[],\n\tdefaultValue: string,\n): string {\n\tconst result = typesToTry.reduce(\n\t\t(resultSoFar, typeToTry) => resultSoFar || dataTransfer.getData(typeToTry),\n\t\t'',\n\t)\n\n\treturn result != null ? result : defaultValue\n}\n","import * as NativeTypes from '../NativeTypes.js'\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer.js'\n\nexport interface NativeItemConfigExposePropreties {\n\t[property: string]: (\n\t\tdataTransfer: DataTransfer,\n\t\tmatchesTypes: string[],\n\t) => any\n}\n\nexport interface NativeItemConfig {\n\texposeProperties: NativeItemConfigExposePropreties\n\tmatchesTypes: string[]\n}\n\nexport const nativeTypesConfig: {\n\t[key: string]: NativeItemConfig\n} = {\n\t[NativeTypes.FILE]: {\n\t\texposeProperties: {\n\t\t\tfiles: (dataTransfer: DataTransfer): File[] =>\n\t\t\t\tArray.prototype.slice.call(dataTransfer.files),\n\t\t\titems: (dataTransfer: DataTransfer): DataTransferItemList =>\n\t\t\t\tdataTransfer.items,\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Files'],\n\t},\n\t[NativeTypes.HTML]: {\n\t\texposeProperties: {\n\t\t\thtml: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Html', 'text/html'],\n\t},\n\t[NativeTypes.URL]: {\n\t\texposeProperties: {\n\t\t\turls: (dataTransfer: DataTransfer, matchesTypes: string[]): string[] =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n'),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Url', 'text/uri-list'],\n\t},\n\t[NativeTypes.TEXT]: {\n\t\texposeProperties: {\n\t\t\ttext: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Text', 'text/plain'],\n\t},\n}\n","import { NativeDragSource } from './NativeDragSource.js'\nimport { nativeTypesConfig } from './nativeTypesConfig.js'\n\nexport function createNativeDragSource(\n\ttype: string,\n\tdataTransfer?: DataTransfer,\n): NativeDragSource {\n\tconst config = nativeTypesConfig[type]\n\tif (!config) {\n\t\tthrow new Error(`native type ${type} has no configuration`)\n\t}\n\tconst result = new NativeDragSource(config)\n\tresult.loadDataTransfer(dataTransfer)\n\treturn result\n}\n\nexport function matchNativeItemType(\n\tdataTransfer: DataTransfer | null,\n): string | null {\n\tif (!dataTransfer) {\n\t\treturn null\n\t}\n\n\tconst dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || [])\n\treturn (\n\t\tObject.keys(nativeTypesConfig).filter((nativeItemType) => {\n\t\t\tconst typeConfig = nativeTypesConfig[nativeItemType]\n\t\t\tif (!typeConfig?.matchesTypes) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn typeConfig.matchesTypes.some(\n\t\t\t\t(t) => dataTransferTypes.indexOf(t) > -1,\n\t\t\t)\n\t\t})[0] || null\n\t)\n}\n","import { memoize } from './utils/js_utils.js'\n\ndeclare global {\n\tinterface Window extends HTMLElement {\n\t\tsafari: any\n\t}\n}\n\nexport type Predicate = () => boolean\nexport const isFirefox: Predicate = memoize(() =>\n\t/firefox/i.test(navigator.userAgent),\n)\nexport const isSafari: Predicate = memoize(() => Boolean(window.safari))\n","export class MonotonicInterpolant {\n\tprivate xs: any\n\tprivate ys: any\n\tprivate c1s: any\n\tprivate c2s: any\n\tprivate c3s: any\n\n\tpublic constructor(xs: number[], ys: number[]) {\n\t\tconst { length } = xs\n\n\t\t// Rearrange xs and ys so that xs is sorted\n\t\tconst indexes = []\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tindexes.push(i)\n\t\t}\n\t\tindexes.sort((a, b) => ((xs[a] as number) < (xs[b] as number) ? -1 : 1))\n\n\t\t// Get consecutive differences and slopes\n\t\tconst dys = []\n\t\tconst dxs = []\n\t\tconst ms = []\n\t\tlet dx\n\t\tlet dy\n\t\tfor (let i = 0; i < length - 1; i++) {\n\t\t\tdx = (xs[i + 1] as number) - (xs[i] as number)\n\t\t\tdy = (ys[i + 1] as number) - (ys[i] as number)\n\t\t\tdxs.push(dx)\n\t\t\tdys.push(dy)\n\t\t\tms.push(dy / dx)\n\t\t}\n\n\t\t// Get degree-1 coefficients\n\t\tconst c1s = [ms[0]]\n\t\tfor (let i = 0; i < dxs.length - 1; i++) {\n\t\t\tconst m2 = ms[i] as number\n\t\t\tconst mNext = ms[i + 1] as number\n\t\t\tif (m2 * mNext <= 0) {\n\t\t\t\tc1s.push(0)\n\t\t\t} else {\n\t\t\t\tdx = dxs[i] as number\n\t\t\t\tconst dxNext = dxs[i + 1] as number\n\t\t\t\tconst common = dx + dxNext\n\t\t\t\tc1s.push(\n\t\t\t\t\t(3 * common) / ((common + dxNext) / m2 + (common + dx) / mNext),\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tc1s.push(ms[ms.length - 1])\n\n\t\t// Get degree-2 and degree-3 coefficients\n\t\tconst c2s = []\n\t\tconst c3s = []\n\t\tlet m\n\t\tfor (let i = 0; i < c1s.length - 1; i++) {\n\t\t\tm = ms[i] as number\n\t\t\tconst c1 = c1s[i] as number\n\t\t\tconst invDx = 1 / (dxs[i] as number)\n\t\t\tconst common = c1 + (c1s[i + 1] as number) - m - m\n\t\t\tc2s.push((m - c1 - common) * invDx)\n\t\t\tc3s.push(common * invDx * invDx)\n\t\t}\n\n\t\tthis.xs = xs\n\t\tthis.ys = ys\n\t\tthis.c1s = c1s\n\t\tthis.c2s = c2s\n\t\tthis.c3s = c3s\n\t}\n\n\tpublic interpolate(x: number): number {\n\t\tconst { xs, ys, c1s, c2s, c3s } = this\n\n\t\t// The rightmost point in the dataset should give an exact result\n\t\tlet i = xs.length - 1\n\t\tif (x === xs[i]) {\n\t\t\treturn ys[i]\n\t\t}\n\n\t\t// Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\t\tlet low = 0\n\t\tlet high = c3s.length - 1\n\t\tlet mid\n\t\twhile (low <= high) {\n\t\t\tmid = Math.floor(0.5 * (low + high))\n\t\t\tconst xHere = xs[mid]\n\t\t\tif (xHere < x) {\n\t\t\t\tlow = mid + 1\n\t\t\t} else if (xHere > x) {\n\t\t\t\thigh = mid - 1\n\t\t\t} else {\n\t\t\t\treturn ys[mid]\n\t\t\t}\n\t\t}\n\t\ti = Math.max(0, high)\n\n\t\t// Interpolate\n\t\tconst diff = x - xs[i]\n\t\tconst diffSq = diff * diff\n\t\treturn ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq\n\t}\n}\n","import type { XYCoord } from 'dnd-core'\n\nimport { isFirefox, isSafari } from './BrowserDetector.js'\nimport { MonotonicInterpolant } from './MonotonicInterpolant.js'\n\nconst ELEMENT_NODE = 1\n\nexport function getNodeClientOffset(node: Node): XYCoord | null {\n\tconst el = node.nodeType === ELEMENT_NODE ? node : node.parentElement\n\n\tif (!el) {\n\t\treturn null\n\t}\n\n\tconst { top, left } = (el as HTMLElement).getBoundingClientRect()\n\treturn { x: left, y: top }\n}\n\nexport function getEventClientOffset(e: MouseEvent): XYCoord {\n\treturn {\n\t\tx: e.clientX,\n\t\ty: e.clientY,\n\t}\n}\n\nfunction isImageNode(node: any) {\n\treturn (\n\t\tnode.nodeName === 'IMG' &&\n\t\t(isFirefox() || !document.documentElement?.contains(node))\n\t)\n}\n\nfunction getDragPreviewSize(\n\tisImage: boolean,\n\tdragPreview: any,\n\tsourceWidth: number,\n\tsourceHeight: number,\n) {\n\tlet dragPreviewWidth = isImage ? dragPreview.width : sourceWidth\n\tlet dragPreviewHeight = isImage ? dragPreview.height : sourceHeight\n\n\t// Work around @2x coordinate discrepancies in browsers\n\tif (isSafari() && isImage) {\n\t\tdragPreviewHeight /= window.devicePixelRatio\n\t\tdragPreviewWidth /= window.devicePixelRatio\n\t}\n\treturn { dragPreviewWidth, dragPreviewHeight }\n}\n\nexport function getDragPreviewOffset(\n\tsourceNode: HTMLElement,\n\tdragPreview: HTMLElement,\n\tclientOffset: XYCoord,\n\tanchorPoint: { anchorX: number; anchorY: number },\n\toffsetPoint: { offsetX: number; offsetY: number },\n): XYCoord {\n\t// The browsers will use the image intrinsic size under different conditions.\n\t// Firefox only cares if it's an image, but WebKit also wants it to be detached.\n\tconst isImage = isImageNode(dragPreview)\n\tconst dragPreviewNode = isImage ? sourceNode : dragPreview\n\tconst dragPreviewNodeOffsetFromClient = getNodeClientOffset(\n\t\tdragPreviewNode,\n\t) as XYCoord\n\tconst offsetFromDragPreview = {\n\t\tx: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n\t\ty: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n\t}\n\tconst { offsetWidth: sourceWidth, offsetHeight: sourceHeight } = sourceNode\n\tconst { anchorX, anchorY } = anchorPoint\n\tconst { dragPreviewWidth, dragPreviewHeight } = getDragPreviewSize(\n\t\tisImage,\n\t\tdragPreview,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t)\n\n\tconst calculateYOffset = () => {\n\t\tconst interpolantY = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the top\n\t\t\t\toffsetFromDragPreview.y,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n\t\t\t\t// Dock to the bottom\n\t\t\t\toffsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n\t\t\t],\n\t\t)\n\t\tlet y = interpolantY.interpolate(anchorY)\n\t\t// Work around Safari 8 positioning bug\n\t\tif (isSafari() && isImage) {\n\t\t\t// We'll have to wait for @3x to see if this is entirely correct\n\t\t\ty += (window.devicePixelRatio - 1) * dragPreviewHeight\n\t\t}\n\t\treturn y\n\t}\n\n\tconst calculateXOffset = () => {\n\t\t// Interpolate coordinates depending on anchor point\n\t\t// If you know a simpler way to do this, let me know\n\t\tconst interpolantX = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the left\n\t\t\t\toffsetFromDragPreview.x,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n\t\t\t\t// Dock to the right\n\t\t\t\toffsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n\t\t\t],\n\t\t)\n\t\treturn interpolantX.interpolate(anchorX)\n\t}\n\n\t// Force offsets if specified in the options.\n\tconst { offsetX, offsetY } = offsetPoint\n\tconst isManualOffsetX = offsetX === 0 || offsetX\n\tconst isManualOffsetY = offsetY === 0 || offsetY\n\treturn {\n\t\tx: isManualOffsetX ? offsetX : calculateXOffset(),\n\t\ty: isManualOffsetY ? offsetY : calculateYOffset(),\n\t}\n}\n","import type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport class OptionsReader {\n\tpublic ownerDocument: Document | null = null\n\tprivate globalContext: HTML5BackendContext\n\tprivate optionsArgs: HTML5BackendOptions | undefined\n\n\tpublic constructor(\n\t\tglobalContext: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.globalContext = globalContext\n\t\tthis.optionsArgs = options\n\t}\n\n\tpublic get window(): Window | undefined {\n\t\tif (this.globalContext) {\n\t\t\treturn this.globalContext\n\t\t} else if (typeof window !== 'undefined') {\n\t\t\treturn window\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic get document(): Document | undefined {\n\t\tif (this.globalContext?.document) {\n\t\t\treturn this.globalContext.document\n\t\t} else if (this.window) {\n\t\t\treturn this.window.document\n\t\t} else {\n\t\t\treturn undefined\n\t\t}\n\t}\n\n\tpublic get rootElement(): Node | undefined {\n\t\treturn this.optionsArgs?.rootElement || this.window\n\t}\n}\n","import type {\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter.js'\nimport {\n\tcreateNativeDragSource,\n\tmatchNativeItemType,\n} from './NativeDragSources/index.js'\nimport type { NativeDragSource } from './NativeDragSources/NativeDragSource.js'\nimport * as NativeTypes from './NativeTypes.js'\nimport {\n\tgetDragPreviewOffset,\n\tgetEventClientOffset,\n\tgetNodeClientOffset,\n} from './OffsetUtils.js'\nimport { OptionsReader } from './OptionsReader.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\ntype RootNode = Node & { __isReactDndBackendSetUp: boolean | undefined }\n\nexport class HTML5BackendImpl implements Backend {\n\tprivate options: OptionsReader\n\n\t// React-Dnd Components\n\tprivate actions: DragDropActions\n\tprivate monitor: DragDropMonitor\n\tprivate registry: HandlerRegistry\n\n\t// Internal State\n\tprivate enterLeaveCounter: EnterLeaveCounter\n\n\tprivate sourcePreviewNodes: Map<string, Element> = new Map()\n\tprivate sourcePreviewNodeOptions: Map<string, any> = new Map()\n\tprivate sourceNodes: Map<string, Element> = new Map()\n\tprivate sourceNodeOptions: Map<string, any> = new Map()\n\n\tprivate dragStartSourceIds: string[] | null = null\n\tprivate dropTargetIds: string[] = []\n\tprivate dragEnterTargetIds: string[] = []\n\tprivate currentNativeSource: NativeDragSource | null = null\n\tprivate currentNativeHandle: Identifier | null = null\n\tprivate currentDragSourceNode: Element | null = null\n\tprivate altKeyPressed = false\n\tprivate mouseMoveTimeoutTimer: number | null = null\n\tprivate asyncEndDragFrameId: number | null = null\n\tprivate dragOverTargetIds: string[] | null = null\n\n\tprivate lastClientOffset: XYCoord | null = null\n\tprivate hoverRafId: number | null = null\n\n\tpublic constructor(\n\t\tmanager: DragDropManager,\n\t\tglobalContext?: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.options = new OptionsReader(globalContext, options)\n\t\tthis.actions = manager.getActions()\n\t\tthis.monitor = manager.getMonitor()\n\t\tthis.registry = manager.getRegistry()\n\t\tthis.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument)\n\t}\n\n\t/**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */\n\tpublic profile(): Record<string, number> {\n\t\treturn {\n\t\t\tsourcePreviewNodes: this.sourcePreviewNodes.size,\n\t\t\tsourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n\t\t\tsourceNodeOptions: this.sourceNodeOptions.size,\n\t\t\tsourceNodes: this.sourceNodes.size,\n\t\t\tdragStartSourceIds: this.dragStartSourceIds?.length || 0,\n\t\t\tdropTargetIds: this.dropTargetIds.length,\n\t\t\tdragEnterTargetIds: this.dragEnterTargetIds.length,\n\t\t\tdragOverTargetIds: this.dragOverTargetIds?.length || 0,\n\t\t}\n\t}\n\n\t// public for test\n\tpublic get window(): Window | undefined {\n\t\treturn this.options.window\n\t}\n\tpublic get document(): Document | undefined {\n\t\treturn this.options.document\n\t}\n\t/**\n\t * Get the root element to use for event subscriptions\n\t */\n\tprivate get rootElement(): Node | undefined {\n\t\treturn this.options.rootElement as Node\n\t}\n\n\tpublic setup(): void {\n\t\tconst root = this.rootElement as RootNode | undefined\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (root.__isReactDndBackendSetUp) {\n\t\t\tthrow new Error('Cannot have two HTML5 backends at the same time.')\n\t\t}\n\t\troot.__isReactDndBackendSetUp = true\n\t\tthis.addEventListeners(root)\n\t}\n\n\tpublic teardown(): void {\n\t\tconst root = this.rootElement as RootNode\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\troot.__isReactDndBackendSetUp = false\n\t\tthis.removeEventListeners(this.rootElement as Element)\n\t\tthis.clearCurrentDragSourceNode()\n\t\tif (this.asyncEndDragFrameId) {\n\t\t\tthis.window?.cancelAnimationFrame(this.asyncEndDragFrameId)\n\t\t}\n\t}\n\n\tpublic connectDragPreview(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourcePreviewNodeOptions.set(sourceId, options)\n\t\tthis.sourcePreviewNodes.set(sourceId, node)\n\n\t\treturn (): void => {\n\t\t\tthis.sourcePreviewNodes.delete(sourceId)\n\t\t\tthis.sourcePreviewNodeOptions.delete(sourceId)\n\t\t}\n\t}\n\n\tpublic connectDragSource(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourceNodes.set(sourceId, node)\n\t\tthis.sourceNodeOptions.set(sourceId, options)\n\n\t\tconst handleDragStart = (e: any) => this.handleDragStart(e, sourceId)\n\t\tconst handleSelectStart = (e: any) => this.handleSelectStart(e)\n\n\t\tnode.setAttribute('draggable', 'true')\n\t\tnode.addEventListener('dragstart', handleDragStart)\n\t\tnode.addEventListener('selectstart', handleSelectStart)\n\n\t\treturn (): void => {\n\t\t\tthis.sourceNodes.delete(sourceId)\n\t\t\tthis.sourceNodeOptions.delete(sourceId)\n\n\t\t\tnode.removeEventListener('dragstart', handleDragStart)\n\t\t\tnode.removeEventListener('selectstart', handleSelectStart)\n\t\t\tnode.setAttribute('draggable', 'false')\n\t\t}\n\t}\n\n\tpublic connectDropTarget(targetId: string, node: HTMLElement): Unsubscribe {\n\t\tconst handleDragEnter = (e: DragEvent) => this.handleDragEnter(e, targetId)\n\t\tconst handleDragOver = (e: DragEvent) => this.handleDragOver(e, targetId)\n\t\tconst handleDrop = (e: DragEvent) => this.handleDrop(e, targetId)\n\n\t\tnode.addEventListener('dragenter', handleDragEnter)\n\t\tnode.addEventListener('dragover', handleDragOver)\n\t\tnode.addEventListener('drop', handleDrop)\n\n\t\treturn (): void => {\n\t\t\tnode.removeEventListener('dragenter', handleDragEnter)\n\t\t\tnode.removeEventListener('dragover', handleDragOver)\n\t\t\tnode.removeEventListener('drop', handleDrop)\n\t\t}\n\t}\n\n\tprivate addEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.addEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.addEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStart as EventListener,\n\t\t)\n\t\ttarget.addEventListener('dragstart', this.handleTopDragStartCapture, true)\n\t\ttarget.addEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('dragover', this.handleTopDragOver as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate removeEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.removeEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.removeEventListener('dragstart', this.handleTopDragStart as any)\n\t\ttarget.removeEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStartCapture,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOver as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.removeEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate getCurrentSourceNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourceNodeOptions = this.sourceNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tdropEffect: this.altKeyPressed ? 'copy' : 'move',\n\t\t\t...(sourceNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getCurrentDropEffect() {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\t// It makes more sense to default to 'copy' for native resources\n\t\t\treturn 'copy'\n\t\t}\n\n\t\treturn this.getCurrentSourceNodeOptions().dropEffect\n\t}\n\n\tprivate getCurrentSourcePreviewNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tanchorX: 0.5,\n\t\t\tanchorY: 0.5,\n\t\t\tcaptureDraggingState: false,\n\t\t\t...(sourcePreviewNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getSourceClientOffset = (sourceId: string): XYCoord | null => {\n\t\tconst source = this.sourceNodes.get(sourceId)\n\t\treturn (source && getNodeClientOffset(source as HTMLElement)) || null\n\t}\n\n\tprivate isDraggingNativeItem() {\n\t\tconst itemType = this.monitor.getItemType()\n\t\treturn Object.keys(NativeTypes).some(\n\t\t\t(key: string) => (NativeTypes as any)[key] === itemType,\n\t\t)\n\t}\n\n\tprivate beginDragNativeItem(type: string, dataTransfer?: DataTransfer) {\n\t\tthis.clearCurrentDragSourceNode()\n\n\t\tthis.currentNativeSource = createNativeDragSource(type, dataTransfer)\n\t\tthis.currentNativeHandle = this.registry.addSource(\n\t\t\ttype,\n\t\t\tthis.currentNativeSource,\n\t\t)\n\t\tthis.actions.beginDrag([this.currentNativeHandle])\n\t}\n\n\tprivate endDragNativeItem = (): void => {\n\t\tif (!this.isDraggingNativeItem()) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.actions.endDrag()\n\t\tif (this.currentNativeHandle) {\n\t\t\tthis.registry.removeSource(this.currentNativeHandle)\n\t\t}\n\t\tthis.currentNativeHandle = null\n\t\tthis.currentNativeSource = null\n\t}\n\n\tprivate isNodeInDocument = (node: Node | null | undefined): boolean => {\n\t\t// Check the node either in the main document or in the current context\n\t\treturn Boolean(\n\t\t\tnode &&\n\t\t\t\tthis.document &&\n\t\t\t\tthis.document.body &&\n\t\t\t\tthis.document.body.contains(node),\n\t\t)\n\t}\n\n\tprivate endDragIfSourceWasRemovedFromDOM = (): void => {\n\t\tconst node = this.currentDragSourceNode\n\t\tif (node == null || this.isNodeInDocument(node)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tprivate setCurrentDragSourceNode(node: Element | null) {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.currentDragSourceNode = node\n\n\t\t// A timeout of > 0 is necessary to resolve Firefox issue referenced\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\tconst MOUSE_MOVE_TIMEOUT = 1000\n\n\t\t// Receiving a mouse event in the middle of a dragging operation\n\t\t// means it has ended and the drag source node disappeared from DOM,\n\t\t// so the browser didn't dispatch the dragend event.\n\t\t//\n\t\t// We need to wait before we start listening for mousemove events.\n\t\t// This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n\t\t// immediately in some browsers.\n\t\t//\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\t//\n\t\tthis.mouseMoveTimeoutTimer = setTimeout(() => {\n\t\t\treturn this.rootElement?.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}, MOUSE_MOVE_TIMEOUT) as any as number\n\t}\n\n\tprivate clearCurrentDragSourceNode() {\n\t\tif (this.currentDragSourceNode) {\n\t\t\tthis.currentDragSourceNode = null\n\n\t\t\tif (this.rootElement) {\n\t\t\t\tthis.window?.clearTimeout(this.mouseMoveTimeoutTimer || undefined)\n\t\t\t\tthis.rootElement.removeEventListener(\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\t\ttrue,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tthis.mouseMoveTimeoutTimer = null\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\tprivate scheduleHover = (dragOverTargetIds: string[] | null) => {\n\t\tif (\n\t\t\tthis.hoverRafId === null &&\n\t\t\ttypeof requestAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tthis.hoverRafId = requestAnimationFrame(() => {\n\t\t\t\tif (this.monitor.isDragging()) {\n\t\t\t\t\tthis.actions.hover(dragOverTargetIds || [], {\n\t\t\t\t\t\tclientOffset: this.lastClientOffset,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.hoverRafId = null\n\t\t\t})\n\t\t}\n\t}\n\n\tprivate cancelHover = () => {\n\t\tif (\n\t\t\tthis.hoverRafId !== null &&\n\t\t\ttypeof cancelAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tcancelAnimationFrame(this.hoverRafId)\n\t\t\tthis.hoverRafId = null\n\t\t}\n\t}\n\n\tpublic handleTopDragStartCapture = (): void => {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.dragStartSourceIds = []\n\t}\n\n\tpublic handleDragStart(e: DragEvent, sourceId: string): void {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.dragStartSourceIds) {\n\t\t\tthis.dragStartSourceIds = []\n\t\t}\n\t\tthis.dragStartSourceIds.unshift(sourceId)\n\t}\n\n\tpublic handleTopDragStart = (e: DragEvent): void => {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dragStartSourceIds } = this\n\t\tthis.dragStartSourceIds = null\n\n\t\tconst clientOffset = getEventClientOffset(e)\n\n\t\t// Avoid crashing if we missed a drop event or our previous drag died\n\t\tif (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t\tthis.cancelHover()\n\t\t}\n\n\t\t// Don't publish the source just yet (see why below)\n\t\tthis.actions.beginDrag(dragStartSourceIds || [], {\n\t\t\tpublishSource: false,\n\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\tclientOffset,\n\t\t})\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (this.monitor.isDragging()) {\n\t\t\tif (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n\t\t\t\t// Use custom drag image if user specifies it.\n\t\t\t\t// If child drag source refuses drag but parent agrees,\n\t\t\t\t// use parent's node as drag image. Neither works in IE though.\n\t\t\t\tconst sourceId: string = this.monitor.getSourceId() as string\n\t\t\t\tconst sourceNode = this.sourceNodes.get(sourceId)\n\t\t\t\tconst dragPreview = this.sourcePreviewNodes.get(sourceId) || sourceNode\n\n\t\t\t\tif (dragPreview) {\n\t\t\t\t\tconst { anchorX, anchorY, offsetX, offsetY } =\n\t\t\t\t\t\tthis.getCurrentSourcePreviewNodeOptions()\n\t\t\t\t\tconst anchorPoint = { anchorX, anchorY }\n\t\t\t\t\tconst offsetPoint = { offsetX, offsetY }\n\t\t\t\t\tconst dragPreviewOffset = getDragPreviewOffset(\n\t\t\t\t\t\tsourceNode as HTMLElement,\n\t\t\t\t\t\tdragPreview as HTMLElement,\n\t\t\t\t\t\tclientOffset,\n\t\t\t\t\t\tanchorPoint,\n\t\t\t\t\t\toffsetPoint,\n\t\t\t\t\t)\n\n\t\t\t\t\tdataTransfer.setDragImage(\n\t\t\t\t\t\tdragPreview,\n\t\t\t\t\t\tdragPreviewOffset.x,\n\t\t\t\t\t\tdragPreviewOffset.y,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Firefox won't drag without setting data\n\t\t\t\tdataTransfer?.setData('application/json', {} as any)\n\t\t\t} catch (err) {\n\t\t\t\t// IE doesn't support MIME types in setData\n\t\t\t}\n\n\t\t\t// Store drag source node so we can check whether\n\t\t\t// it is removed from DOM and trigger endDrag manually.\n\t\t\tthis.setCurrentDragSourceNode(e.target as Element)\n\n\t\t\t// Now we are ready to publish the drag source.. or are we not?\n\t\t\tconst { captureDraggingState } = this.getCurrentSourcePreviewNodeOptions()\n\t\t\tif (!captureDraggingState) {\n\t\t\t\t// Usually we want to publish it in the next tick so that browser\n\t\t\t\t// is able to screenshot the current (not yet dragging) state.\n\t\t\t\t//\n\t\t\t\t// It also neatly avoids a situation where render() returns null\n\t\t\t\t// in the same tick for the source element, and browser freaks out.\n\t\t\t\tsetTimeout(() => this.actions.publishDragSource(), 0)\n\t\t\t} else {\n\t\t\t\t// In some cases the user may want to override this behavior, e.g.\n\t\t\t\t// to work around IE not supporting custom drag previews.\n\t\t\t\t//\n\t\t\t\t// When using a custom drag layer, the only way to prevent\n\t\t\t\t// the default drag preview from drawing in IE is to screenshot\n\t\t\t\t// the dragging state in which the node itself has zero opacity\n\t\t\t\t// and height. In this case, though, returning null from render()\n\t\t\t\t// will abruptly end the dragging, which is not obvious.\n\t\t\t\t//\n\t\t\t\t// This is the reason such behavior is strictly opt-in.\n\t\t\t\tthis.actions.publishDragSource()\n\t\t\t}\n\t\t} else if (nativeType) {\n\t\t\t// A native item (such as URL) dragged from inside the document\n\t\t\tthis.beginDragNativeItem(nativeType)\n\t\t} else if (\n\t\t\tdataTransfer &&\n\t\t\t!dataTransfer.types &&\n\t\t\t((e.target && !(e.target as Element).hasAttribute) ||\n\t\t\t\t!(e.target as Element).hasAttribute('draggable'))\n\t\t) {\n\t\t\t// Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n\t\t\t// Just let it drag. It's a native type (URL or text) and will be picked up in\n\t\t\t// dragenter handler.\n\t\t\treturn\n\t\t} else {\n\t\t\t// If by this time no drag source reacted, tell browser not to drag.\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\n\tpublic handleTopDragEndCapture = (): void => {\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\t// Firefox can dispatch this event in an infinite loop\n\t\t\t// if dragend handler does something like showing an alert.\n\t\t\t// Only proceed if we have not handled it already.\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDragEnterCapture = (e: DragEvent): void => {\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\n\t\tconst isFirstEnter = this.enterLeaveCounter.enter(e.target)\n\t\tif (!isFirstEnter || this.monitor.isDragging()) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (nativeType) {\n\t\t\t// A native item (such as file or URL) dragged from outside the document\n\t\t\tthis.beginDragNativeItem(nativeType, dataTransfer as DataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragEnter(_e: DragEvent, targetId: string): void {\n\t\tthis.dragEnterTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragEnter = (e: DragEvent): void => {\n\t\tconst { dragEnterTargetIds } = this\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\n\t\t// If the target changes position as the result of `dragenter`, `dragover` might still\n\t\t// get dispatched despite target being no longer there. The easy solution is to check\n\t\t// whether there actually is a target before firing `hover`.\n\t\tif (dragEnterTargetIds.length > 0) {\n\t\t\tthis.actions.hover(dragEnterTargetIds, {\n\t\t\t\tclientOffset: getEventClientOffset(e),\n\t\t\t})\n\t\t}\n\n\t\tconst canDrop = dragEnterTargetIds.some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// IE requires this to fire dragover events\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragOverCapture = (e: DragEvent): void => {\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragOver(_e: DragEvent, targetId: string): void {\n\t\tif (this.dragOverTargetIds === null) {\n\t\t\tthis.dragOverTargetIds = []\n\t\t}\n\t\tthis.dragOverTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragOver = (e: DragEvent): void => {\n\t\tconst { dragOverTargetIds } = this\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\t// Prevent default \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\t\tthis.lastClientOffset = getEventClientOffset(e)\n\n\t\tthis.scheduleHover(dragOverTargetIds)\n\n\t\tconst canDrop = (dragOverTargetIds || []).some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// Show user-specified drop effect.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t} else if (this.isDraggingNativeItem()) {\n\t\t\t// Don't show a nice cursor but still prevent default\n\t\t\t// \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t} else {\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragLeaveCapture = (e: DragEvent): void => {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tconst isLastLeave = this.enterLeaveCounter.leave(e.target)\n\t\tif (!isLastLeave) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tsetTimeout(() => this.endDragNativeItem(), 0)\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDropCapture = (e: DragEvent): void => {\n\t\tthis.dropTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t} else if (matchNativeItemType(e.dataTransfer)) {\n\t\t\t// Dragging some elements, like <a> and <img> may still behave like a native drag event,\n\t\t\t// even if the current drag event matches a user-defined type.\n\t\t\t// Stop the default behavior when we're not expecting a native item to be dropped.\n\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tthis.enterLeaveCounter.reset()\n\t}\n\n\tpublic handleDrop(_e: DragEvent, targetId: string): void {\n\t\tthis.dropTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDrop = (e: DragEvent): void => {\n\t\tconst { dropTargetIds } = this\n\t\tthis.dropTargetIds = []\n\n\t\tthis.actions.hover(dropTargetIds, {\n\t\t\tclientOffset: getEventClientOffset(e),\n\t\t})\n\t\tthis.actions.drop({ dropEffect: this.getCurrentDropEffect() })\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.endDragNativeItem()\n\t\t} else if (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleSelectStart = (e: DragEvent): void => {\n\t\tconst target = e.target as HTMLElement & { dragDrop: () => void }\n\n\t\t// Only IE requires us to explicitly say\n\t\t// we want drag drop operation to start\n\t\tif (typeof target.dragDrop !== 'function') {\n\t\t\treturn\n\t\t}\n\n\t\t// Inputs and textareas should be selectable\n\t\tif (\n\t\t\ttarget.tagName === 'INPUT' ||\n\t\t\ttarget.tagName === 'SELECT' ||\n\t\t\ttarget.tagName === 'TEXTAREA' ||\n\t\t\ttarget.isContentEditable\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\t// For other targets, ask IE\n\t\t// to enable drag and drop\n\t\te.preventDefault()\n\t\ttarget.dragDrop()\n\t}\n}\n","import type { BackendFactory, DragDropManager } from 'dnd-core'\n\nimport { HTML5BackendImpl } from './HTML5BackendImpl.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\nexport { getEmptyImage } from './getEmptyImage.js'\nexport * as NativeTypes from './NativeTypes.js'\nexport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport const HTML5Backend: BackendFactory = function createBackend(\n\tmanager: DragDropManager,\n\tcontext?: HTML5BackendContext,\n\toptions?: HTML5BackendOptions,\n): HTML5BackendImpl {\n\treturn new HTML5BackendImpl(manager, context, options)\n}\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","// Utilidad para guardar y cargar proyectos localmente\r\nexport class ProjectStorage {\r\n  constructor() {\r\n    this.storageKey = 'visual_novel_projects';\r\n    this.currentProjectKey = 'current_visual_novel_project';\r\n    this.fullStateKey = 'visual_novel_full_state';\r\n    this.autoSaveKey = 'visual_novel_autosave';\r\n  }\r\n\r\n  // Guardar proyecto actual\r\n  saveCurrentProject(project) {\r\n    try {\r\n      localStorage.setItem(this.currentProjectKey, JSON.stringify(project));\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error al guardar proyecto:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Cargar proyecto actual\r\n  loadCurrentProject() {\r\n    try {\r\n      const projectData = localStorage.getItem(this.currentProjectKey);\r\n      return projectData ? JSON.parse(projectData) : null;\r\n    } catch (error) {\r\n      console.error('Error al cargar proyecto:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Guardar proyecto con nombre especfico\r\n  saveProject(projectName, project) {\r\n    try {\r\n      // Validar proyecto antes de guardar\r\n      if (!this.validateProject(project)) {\r\n        console.error(' Proyecto no vlido, no se puede guardar');\r\n        return false;\r\n      }\r\n\r\n      const projects = this.getAllProjects();\r\n      projects[projectName] = {\r\n        ...project,\r\n        savedAt: new Date().toISOString(),\r\n        name: projectName,\r\n        version: project.version || '1.0.0'\r\n      };\r\n      \r\n      localStorage.setItem(this.storageKey, JSON.stringify(projects));\r\n      \r\n      // Tambin guardar como proyecto actual para consistencia\r\n      this.saveCurrentProject(project);\r\n      \r\n      console.log(' Proyecto guardado exitosamente:', {\r\n        name: projectName,\r\n        characters: project.characters?.length || 0,\r\n        sceneFiles: project.sceneFiles?.length || 0\r\n      });\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error(' Error al guardar proyecto:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Cargar proyecto por nombre\r\n  loadProject(projectName) {\r\n    try {\r\n      const projects = this.getAllProjects();\r\n      const project = projects[projectName];\r\n      \r\n      if (project && this.validateProject(project)) {\r\n        console.log(' Proyecto cargado exitosamente:', {\r\n          name: projectName,\r\n          characters: project.characters?.length || 0,\r\n          sceneFiles: project.sceneFiles?.length || 0\r\n        });\r\n        return project;\r\n      } else if (project) {\r\n        console.warn(' Proyecto encontrado pero no es vlido:', projectName);\r\n        return null;\r\n      }\r\n      \r\n      return null;\r\n    } catch (error) {\r\n      console.error(' Error al cargar proyecto:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Obtener todos los proyectos guardados\r\n  getAllProjects() {\r\n    try {\r\n      const projects = localStorage.getItem(this.storageKey);\r\n      if (projects) {\r\n        const parsedProjects = JSON.parse(projects);\r\n        \r\n        // Filtrar proyectos vlidos\r\n        const validProjects = {};\r\n        Object.keys(parsedProjects).forEach(name => {\r\n          if (this.validateProject(parsedProjects[name])) {\r\n            validProjects[name] = parsedProjects[name];\r\n          } else {\r\n            console.warn(' Proyecto invlido encontrado y filtrado:', name);\r\n          }\r\n        });\r\n        \r\n        return validProjects;\r\n      }\r\n      return {};\r\n    } catch (error) {\r\n      console.error(' Error al obtener proyectos:', error);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  // Eliminar proyecto\r\n  async deleteProject(projectName) {\r\n    try {\r\n      console.log(` Eliminando proyecto: ${projectName}`);\r\n      \r\n      // Obtener el proyecto antes de eliminarlo para limpiar sus assets\r\n      const projects = this.getAllProjects();\r\n      const projectToDelete = projects[projectName];\r\n      \r\n      if (projectToDelete) {\r\n        // Limpiar assets del proyecto si tiene personajes\r\n        if (projectToDelete.characters && projectToDelete.characters.length > 0) {\r\n          await this.clearProjectAssets(projectToDelete);\r\n        }\r\n      }\r\n      \r\n      // Eliminar el proyecto de la lista\r\n      delete projects[projectName];\r\n      localStorage.setItem(this.storageKey, JSON.stringify(projects));\r\n      \r\n      // Si el proyecto eliminado es el proyecto actual, limpiar tambin el proyecto actual\r\n      const currentProject = this.loadCurrentProject();\r\n      if (currentProject && currentProject.name === projectName) {\r\n        console.log(' Limpiando proyecto actual ya que fue eliminado');\r\n        this.clearCurrentProjectState();\r\n      }\r\n      \r\n      console.log(` Proyecto \"${projectName}\" eliminado exitosamente`);\r\n      return true;\r\n    } catch (error) {\r\n      console.error(' Error al eliminar proyecto:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Limpiar assets de un proyecto especfico\r\n  async clearProjectAssets(project) {\r\n    try {\r\n      console.log(' Limpiando assets del proyecto...');\r\n      \r\n      // Importar AssetStorage dinmicamente\r\n      const { AssetStorage } = await import('./assetStorage.js');\r\n      const assetStorage = new AssetStorage();\r\n      await assetStorage.init();\r\n      \r\n      // Obtener todos los archivos\r\n      const allFiles = await assetStorage.getAllFiles();\r\n      \r\n      // Filtrar archivos que pertenecen a los personajes del proyecto\r\n      const projectCharacterIds = project.characters.map(char => char.id);\r\n      const filesToDelete = allFiles.filter(file => \r\n        file.characterId && projectCharacterIds.includes(file.characterId)\r\n      );\r\n      \r\n      console.log(` Eliminando ${filesToDelete.length} archivos del proyecto`);\r\n      \r\n      // Eliminar archivos uno por uno\r\n      for (const file of filesToDelete) {\r\n        try {\r\n          await assetStorage.deleteFile(file.id);\r\n          console.log(` Archivo eliminado: ${file.name}`);\r\n        } catch (error) {\r\n          console.error(` Error eliminando archivo ${file.name}:`, error);\r\n        }\r\n      }\r\n      \r\n      console.log(' Assets del proyecto limpiados');\r\n      return true;\r\n    } catch (error) {\r\n      console.error(' Error limpiando assets del proyecto:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Obtener lista de nombres de proyectos\r\n  getProjectNames() {\r\n    const projects = this.getAllProjects();\r\n    return Object.keys(projects).map(name => ({\r\n      name,\r\n      savedAt: projects[name].savedAt,\r\n      description: projects[name].description || 'Sin descripcin'\r\n    }));\r\n  }\r\n\r\n  // Verificar si hay espacio suficiente\r\n  checkStorageSpace() {\r\n    try {\r\n      const testData = 'x'.repeat(1024 * 1024); // 1MB\r\n      localStorage.setItem('test', testData);\r\n      localStorage.removeItem('test');\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Limpiar todos los proyectos\r\n  clearAllProjects() {\r\n    try {\r\n      localStorage.removeItem(this.storageKey);\r\n      localStorage.removeItem(this.currentProjectKey);\r\n      localStorage.removeItem(this.fullStateKey);\r\n      localStorage.removeItem(this.autoSaveKey);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error al limpiar proyectos:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Limpiar completamente todos los datos (proyectos + assets)\r\n  async clearAllData() {\r\n    try {\r\n      console.log(' Iniciando limpieza completa de datos...');\r\n      \r\n      // Limpiar localStorage\r\n      this.clearAllProjects();\r\n      \r\n      // Limpiar sessionStorage\r\n      sessionStorage.removeItem('visual_novel_session');\r\n      sessionStorage.clear();\r\n      \r\n      // Limpiar IndexedDB\r\n      await this.clearIndexedDB();\r\n      \r\n      // Limpiar datos hurfanos\r\n      await this.cleanupOrphanedData();\r\n      \r\n      // Limpiar cookies relacionadas (si las hay)\r\n      document.cookie.split(\";\").forEach(function(c) { \r\n        document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); \r\n      });\r\n      \r\n      console.log(' Limpieza completa realizada');\r\n      return true;\r\n    } catch (error) {\r\n      console.error(' Error durante limpieza completa:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Limpiar IndexedDB\r\n  async clearIndexedDB() {\r\n    try {\r\n      console.log(' Limpiando IndexedDB...');\r\n      \r\n      // Importar AssetStorage dinmicamente para evitar dependencias circulares\r\n      const { AssetStorage } = await import('./assetStorage.js');\r\n      const assetStorage = new AssetStorage();\r\n      \r\n      // Inicializar y limpiar\r\n      await assetStorage.init();\r\n      await assetStorage.clearAllFiles();\r\n      \r\n      console.log(' IndexedDB limpiado');\r\n      return true;\r\n    } catch (error) {\r\n      console.error(' Error limpiando IndexedDB:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Limpiar estado actual del proyecto\r\n  clearCurrentProjectState() {\r\n    try {\r\n      console.log(' Limpiando estado actual del proyecto...');\r\n      \r\n      // Limpiar todas las claves relacionadas con el estado actual\r\n      localStorage.removeItem(this.currentProjectKey);\r\n      localStorage.removeItem(this.fullStateKey);\r\n      localStorage.removeItem(this.autoSaveKey);\r\n      \r\n      // Limpiar cualquier otra clave que pueda contener datos del proyecto\r\n      const keysToRemove = [];\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorage.key(i);\r\n        if (key && (\r\n          key.startsWith('visual_novel_') ||\r\n          key.startsWith('ryn-editor_') ||\r\n          key.includes('project') ||\r\n          key.includes('character') ||\r\n          key.includes('scene')\r\n        )) {\r\n          keysToRemove.push(key);\r\n        }\r\n      }\r\n      \r\n      keysToRemove.forEach(key => {\r\n        localStorage.removeItem(key);\r\n        console.log(` Clave eliminada: ${key}`);\r\n      });\r\n      \r\n      console.log(' Estado actual del proyecto limpiado');\r\n      return true;\r\n    } catch (error) {\r\n      console.error(' Error limpiando estado actual:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Verificar y limpiar datos hurfanos\r\n  async cleanupOrphanedData() {\r\n    try {\r\n      console.log(' Verificando datos hurfanos...');\r\n      \r\n      // Obtener todos los proyectos vlidos\r\n      const validProjects = this.getAllProjects();\r\n      const validProjectNames = Object.keys(validProjects);\r\n      \r\n      // Obtener todos los archivos de IndexedDB\r\n      const { AssetStorage } = await import('./assetStorage.js');\r\n      const assetStorage = new AssetStorage();\r\n      await assetStorage.init();\r\n      const allFiles = await assetStorage.getAllFiles();\r\n      \r\n      // Encontrar archivos hurfanos (archivos que no pertenecen a ningn proyecto vlido)\r\n      const orphanedFiles = [];\r\n      for (const file of allFiles) {\r\n        if (file.characterId) {\r\n          // Verificar si el personaje existe en algn proyecto vlido\r\n          let characterExists = false;\r\n          for (const projectName of validProjectNames) {\r\n            const project = validProjects[projectName];\r\n            if (project.characters && project.characters.some(char => char.id === file.characterId)) {\r\n              characterExists = true;\r\n              break;\r\n            }\r\n          }\r\n          \r\n          if (!characterExists) {\r\n            orphanedFiles.push(file);\r\n          }\r\n        }\r\n      }\r\n      \r\n      console.log(` Encontrados ${orphanedFiles.length} archivos hurfanos`);\r\n      \r\n      // Eliminar archivos hurfanos\r\n      for (const file of orphanedFiles) {\r\n        try {\r\n          await assetStorage.deleteFile(file.id);\r\n          console.log(` Archivo hurfano eliminado: ${file.name}`);\r\n        } catch (error) {\r\n          console.error(` Error eliminando archivo hurfano ${file.name}:`, error);\r\n        }\r\n      }\r\n      \r\n      console.log(' Limpieza de datos hurfanos completada');\r\n      return orphanedFiles.length;\r\n    } catch (error) {\r\n      console.error(' Error limpiando datos hurfanos:', error);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  // Exportar todos los proyectos como JSON\r\n  exportAllProjects() {\r\n    try {\r\n      const projects = this.getAllProjects();\r\n      const currentProject = this.loadCurrentProject();\r\n      \r\n      const exportData = {\r\n        projects,\r\n        currentProject,\r\n        exportedAt: new Date().toISOString(),\r\n        version: '1.0.0'\r\n      };\r\n\r\n      const blob = new Blob([JSON.stringify(exportData, null, 2)], { \r\n        type: 'application/json' \r\n      });\r\n      \r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `visual_novel_projects_backup_${new Date().toISOString().split('T')[0]}.json`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error al exportar proyectos:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Importar proyectos desde JSON\r\n  importProjects(jsonData) {\r\n    try {\r\n      const data = typeof jsonData === 'string' ? JSON.parse(jsonData) : jsonData;\r\n      \r\n      if (data.projects) {\r\n        localStorage.setItem(this.storageKey, JSON.stringify(data.projects));\r\n      }\r\n      \r\n      if (data.currentProject) {\r\n        localStorage.setItem(this.currentProjectKey, JSON.stringify(data.currentProject));\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error al importar proyectos:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // ===== NUEVOS MTODOS PARA GUARDADO AUTOMTICO =====\r\n\r\n  // Guardar estado completo de la aplicacin\r\n  saveFullState(state) {\r\n    try {\r\n      const stateToSave = {\r\n        ...state,\r\n        lastSaved: new Date().toISOString(),\r\n        version: '1.0.0'\r\n      };\r\n\r\n      // Guardar estado completo\r\n      localStorage.setItem(this.fullStateKey, JSON.stringify(stateToSave));\r\n      \r\n      // Tambin guardar como backup en autosave\r\n      localStorage.setItem(this.autoSaveKey, JSON.stringify(stateToSave));\r\n      \r\n      console.log(' Estado completo guardado:', {\r\n        timestamp: stateToSave.lastSaved,\r\n        projectName: state.project.name,\r\n        characters: state.project.characters.length,\r\n        sceneFiles: state.project.sceneFiles.length,\r\n        currentScene: state.currentScene,\r\n        selectedElement: state.selectedElement?.type || 'none'\r\n      });\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error(' Error al guardar estado completo:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Cargar estado completo de la aplicacin\r\n  loadFullState() {\r\n    try {\r\n      // Intentar cargar estado principal\r\n      let stateData = localStorage.getItem(this.fullStateKey);\r\n      \r\n      // Si no existe, intentar cargar desde backup\r\n      if (!stateData) {\r\n        stateData = localStorage.getItem(this.autoSaveKey);\r\n      }\r\n\r\n      if (stateData) {\r\n        const state = JSON.parse(stateData);\r\n        \r\n        // Validar que el estado cargado sea vlido\r\n        if (this.validateState(state)) {\r\n          console.log(' Estado completo cargado:', {\r\n            timestamp: state.lastSaved,\r\n            projectName: state.project?.name || 'Sin nombre',\r\n            characters: state.project?.characters?.length || 0,\r\n            sceneFiles: state.project?.sceneFiles?.length || 0\r\n          });\r\n          return state;\r\n        } else {\r\n          console.warn(' Estado cargado no es vlido, intentando recuperar desde proyecto guardado');\r\n          // Intentar cargar desde proyecto guardado como fallback\r\n          return this.loadProjectAsState();\r\n        }\r\n      }\r\n\r\n      return null;\r\n    } catch (error) {\r\n      console.error(' Error al cargar estado completo:', error);\r\n      // Intentar cargar desde proyecto guardado como fallback\r\n      return this.loadProjectAsState();\r\n    }\r\n  }\r\n\r\n  // Validar que el estado sea vlido\r\n  validateState(state) {\r\n    try {\r\n      // Verificar estructura bsica\r\n      if (!state || typeof state !== 'object') return false;\r\n      if (!state.project || typeof state.project !== 'object') return false;\r\n      \r\n      // Verificar propiedades esenciales del proyecto\r\n      if (!state.project.name || typeof state.project.name !== 'string') return false;\r\n      if (!Array.isArray(state.project.characters)) return false;\r\n      if (!Array.isArray(state.project.sceneFiles)) return false;\r\n      \r\n      // Verificar que tenga al menos un archivo de escena\r\n      if (state.project.sceneFiles.length === 0) return false;\r\n      \r\n      // Verificar que el archivo de escena actual exista\r\n      if (state.project.currentSceneFile) {\r\n        const currentFileExists = state.project.sceneFiles.some(\r\n          file => file.id === state.project.currentSceneFile\r\n        );\r\n        if (!currentFileExists) return false;\r\n      }\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error validando estado:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Cargar proyecto guardado como estado completo\r\n  loadProjectAsState() {\r\n    try {\r\n      const savedProject = this.loadCurrentProject();\r\n      if (savedProject && this.validateProject(savedProject)) {\r\n        console.log(' Cargando proyecto guardado como estado completo');\r\n        \r\n        // Convertir proyecto a estado completo\r\n        const fullState = {\r\n          project: savedProject,\r\n          currentScene: null,\r\n          selectedElement: null,\r\n          previewMode: false,\r\n          isPlaying: false,\r\n          theme: 'dark-default',\r\n          lastSaved: new Date().toISOString(),\r\n          version: '1.0.0'\r\n        };\r\n        \r\n        return fullState;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error cargando proyecto como estado:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Validar que un proyecto sea vlido\r\n  validateProject(project) {\r\n    try {\r\n      if (!project || typeof project !== 'object') return false;\r\n      if (!project.name || typeof project.name !== 'string') return false;\r\n      if (!Array.isArray(project.characters)) return false;\r\n      if (!Array.isArray(project.sceneFiles)) return false;\r\n      if (project.sceneFiles.length === 0) return false;\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error validando proyecto:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Guardar estado de sesin (para recuperacin rpida)\r\n  saveSessionState(state) {\r\n    try {\r\n      const sessionData = {\r\n        currentScene: state.currentScene,\r\n        selectedElement: state.selectedElement,\r\n        previewMode: state.previewMode,\r\n        isPlaying: state.isPlaying,\r\n        lastActiveTab: this.getLastActiveTab(),\r\n        lastScrollPosition: this.getLastScrollPosition(),\r\n        timestamp: new Date().toISOString()\r\n      };\r\n\r\n      sessionStorage.setItem('visual_novel_session', JSON.stringify(sessionData));\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error al guardar estado de sesin:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Cargar estado de sesin\r\n  loadSessionState() {\r\n    try {\r\n      const sessionData = sessionStorage.getItem('visual_novel_session');\r\n      if (sessionData) {\r\n        const session = JSON.parse(sessionData);\r\n        console.log(' Estado de sesin cargado:', session);\r\n        return session;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error al cargar estado de sesin:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Obtener informacin del ltimo guardado\r\n  getLastSaveInfo() {\r\n    try {\r\n      const stateData = localStorage.getItem(this.fullStateKey);\r\n      if (stateData) {\r\n        const state = JSON.parse(stateData);\r\n        return {\r\n          lastSaved: state.lastSaved,\r\n          projectName: state.project?.name || 'Sin nombre',\r\n          hasUnsavedChanges: this.hasUnsavedChanges(state)\r\n        };\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error al obtener info del ltimo guardado:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Verificar si hay cambios sin guardar\r\n  hasUnsavedChanges(currentState) {\r\n    try {\r\n      const savedState = this.loadFullState();\r\n      if (!savedState) return true;\r\n\r\n      // Comparar elementos clave\r\n      const currentHash = this.generateStateHash(currentState);\r\n      const savedHash = this.generateStateHash(savedState);\r\n\r\n      return currentHash !== savedHash;\r\n    } catch (error) {\r\n      console.error('Error al verificar cambios sin guardar:', error);\r\n      return true;\r\n    }\r\n  }\r\n\r\n  // Generar hash del estado para comparacin\r\n  generateStateHash(state) {\r\n    try {\r\n      const keyData = {\r\n        project: state.project,\r\n        currentScene: state.currentScene,\r\n        selectedElement: state.selectedElement\r\n      };\r\n      return btoa(JSON.stringify(keyData)).substring(0, 50);\r\n    } catch (error) {\r\n      return Date.now().toString();\r\n    }\r\n  }\r\n\r\n  // Limpiar estado guardado\r\n  clearSavedState() {\r\n    try {\r\n      localStorage.removeItem(this.fullStateKey);\r\n      localStorage.removeItem(this.autoSaveKey);\r\n      sessionStorage.removeItem('visual_novel_session');\r\n      console.log(' Estado guardado limpiado');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error al limpiar estado guardado:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Mtodos auxiliares para UI\r\n  getLastActiveTab(context = 'sidebar') {\r\n    try {\r\n      const key = `visual_novel_last_tab_${context}`;\r\n      const defaultValue = context === 'mainEditor' ? 'script' : 'project';\r\n      return localStorage.getItem(key) || defaultValue;\r\n    } catch {\r\n      return context === 'mainEditor' ? 'script' : 'project';\r\n    }\r\n  }\r\n\r\n  setLastActiveTab(tab, context = 'sidebar') {\r\n    try {\r\n      const key = `visual_novel_last_tab_${context}`;\r\n      localStorage.setItem(key, tab);\r\n    } catch (error) {\r\n      console.error('Error al guardar ltima pestaa activa:', error);\r\n    }\r\n  }\r\n\r\n  getLastScrollPosition() {\r\n    try {\r\n      const position = localStorage.getItem('visual_novel_scroll_position');\r\n      return position ? JSON.parse(position) : { x: 0, y: 0 };\r\n    } catch {\r\n      return { x: 0, y: 0 };\r\n    }\r\n  }\r\n\r\n  setLastScrollPosition(x, y) {\r\n    try {\r\n      localStorage.setItem('visual_novel_scroll_position', JSON.stringify({ x, y }));\r\n    } catch (error) {\r\n      console.error('Error al guardar posicin de scroll:', error);\r\n    }\r\n  }\r\n\r\n  // Obtener estadsticas de almacenamiento\r\n  getStorageStats() {\r\n    try {\r\n      const fullStateSize = localStorage.getItem(this.fullStateKey)?.length || 0;\r\n      const autoSaveSize = localStorage.getItem(this.autoSaveKey)?.length || 0;\r\n      const projectSize = localStorage.getItem(this.currentProjectKey)?.length || 0;\r\n      const totalSize = fullStateSize + autoSaveSize + projectSize;\r\n\r\n      return {\r\n        fullStateSize: this.formatBytes(fullStateSize),\r\n        autoSaveSize: this.formatBytes(autoSaveSize),\r\n        projectSize: this.formatBytes(projectSize),\r\n        totalSize: this.formatBytes(totalSize),\r\n        totalSizeBytes: totalSize\r\n      };\r\n    } catch (error) {\r\n      console.error('Error al obtener estadsticas:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Formatear bytes a formato legible\r\n  formatBytes(bytes) {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  }\r\n\r\n  // Limpiar datos corruptos y recuperar proyectos vlidos\r\n  cleanupCorruptedData() {\r\n    try {\r\n      console.log(' Iniciando limpieza de datos corruptos...');\r\n      \r\n      let cleanedCount = 0;\r\n      \r\n      // Limpiar estado completo corrupto\r\n      const fullStateData = localStorage.getItem(this.fullStateKey);\r\n      if (fullStateData) {\r\n        try {\r\n          const state = JSON.parse(fullStateData);\r\n          if (!this.validateState(state)) {\r\n            localStorage.removeItem(this.fullStateKey);\r\n            console.log(' Estado completo corrupto eliminado');\r\n            cleanedCount++;\r\n          }\r\n        } catch (error) {\r\n          localStorage.removeItem(this.fullStateKey);\r\n          console.log(' Estado completo corrupto eliminado (JSON invlido)');\r\n          cleanedCount++;\r\n        }\r\n      }\r\n      \r\n      // Limpiar autosave corrupto\r\n      const autoSaveData = localStorage.getItem(this.autoSaveKey);\r\n      if (autoSaveData) {\r\n        try {\r\n          const state = JSON.parse(autoSaveData);\r\n          if (!this.validateState(state)) {\r\n            localStorage.removeItem(this.autoSaveKey);\r\n            console.log(' Autosave corrupto eliminado');\r\n            cleanedCount++;\r\n          }\r\n        } catch (error) {\r\n          localStorage.removeItem(this.autoSaveKey);\r\n          console.log(' Autosave corrupto eliminado (JSON invlido)');\r\n          cleanedCount++;\r\n        }\r\n      }\r\n      \r\n      // Limpiar proyecto actual corrupto\r\n      const currentProjectData = localStorage.getItem(this.currentProjectKey);\r\n      if (currentProjectData) {\r\n        try {\r\n          const project = JSON.parse(currentProjectData);\r\n          if (!this.validateProject(project)) {\r\n            localStorage.removeItem(this.currentProjectKey);\r\n            console.log(' Proyecto actual corrupto eliminado');\r\n            cleanedCount++;\r\n          }\r\n        } catch (error) {\r\n          localStorage.removeItem(this.currentProjectKey);\r\n          console.log(' Proyecto actual corrupto eliminado (JSON invlido)');\r\n          cleanedCount++;\r\n        }\r\n      }\r\n      \r\n      // Limpiar proyectos guardados corruptos\r\n      const projectsData = localStorage.getItem(this.storageKey);\r\n      if (projectsData) {\r\n        try {\r\n          const projects = JSON.parse(projectsData);\r\n          const validProjects = {};\r\n          let removedCount = 0;\r\n          \r\n          Object.keys(projects).forEach(name => {\r\n            if (this.validateProject(projects[name])) {\r\n              validProjects[name] = projects[name];\r\n            } else {\r\n              removedCount++;\r\n            }\r\n          });\r\n          \r\n          if (removedCount > 0) {\r\n            localStorage.setItem(this.storageKey, JSON.stringify(validProjects));\r\n            console.log(` ${removedCount} proyectos corruptos eliminados`);\r\n            cleanedCount += removedCount;\r\n          }\r\n        } catch (error) {\r\n          localStorage.removeItem(this.storageKey);\r\n          console.log(' Lista de proyectos corrupta eliminada');\r\n          cleanedCount++;\r\n        }\r\n      }\r\n      \r\n      console.log(` Limpieza completada. ${cleanedCount} elementos corruptos eliminados`);\r\n      return cleanedCount;\r\n      \r\n    } catch (error) {\r\n      console.error(' Error durante la limpieza:', error);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  // Verificar integridad de todos los datos\r\n  checkDataIntegrity() {\r\n    try {\r\n      console.log(' Verificando integridad de datos...');\r\n      \r\n      const issues = [];\r\n      \r\n      // Verificar estado completo\r\n      const fullStateData = localStorage.getItem(this.fullStateKey);\r\n      if (fullStateData) {\r\n        try {\r\n          const state = JSON.parse(fullStateData);\r\n          if (!this.validateState(state)) {\r\n            issues.push('Estado completo corrupto');\r\n          }\r\n        } catch (error) {\r\n          issues.push('Estado completo con JSON invlido');\r\n        }\r\n      }\r\n      \r\n      // Verificar autosave\r\n      const autoSaveData = localStorage.getItem(this.autoSaveKey);\r\n      if (autoSaveData) {\r\n        try {\r\n          const state = JSON.parse(autoSaveData);\r\n          if (!this.validateState(state)) {\r\n            issues.push('Autosave corrupto');\r\n          }\r\n        } catch (error) {\r\n          issues.push('Autosave con JSON invlido');\r\n        }\r\n      }\r\n      \r\n      // Verificar proyecto actual\r\n      const currentProjectData = localStorage.getItem(this.currentProjectKey);\r\n      if (currentProjectData) {\r\n        try {\r\n          const project = JSON.parse(currentProjectData);\r\n          if (!this.validateProject(project)) {\r\n            issues.push('Proyecto actual corrupto');\r\n          }\r\n        } catch (error) {\r\n          issues.push('Proyecto actual con JSON invlido');\r\n        }\r\n      }\r\n      \r\n      // Verificar proyectos guardados\r\n      const projectsData = localStorage.getItem(this.storageKey);\r\n      if (projectsData) {\r\n        try {\r\n          const projects = JSON.parse(projectsData);\r\n          let corruptProjects = 0;\r\n          \r\n          Object.keys(projects).forEach(name => {\r\n            if (!this.validateProject(projects[name])) {\r\n              corruptProjects++;\r\n            }\r\n          });\r\n          \r\n          if (corruptProjects > 0) {\r\n            issues.push(`${corruptProjects} proyectos guardados corruptos`);\r\n          }\r\n        } catch (error) {\r\n          issues.push('Lista de proyectos con JSON invlido');\r\n        }\r\n      }\r\n      \r\n      if (issues.length === 0) {\r\n        console.log(' Integridad de datos verificada. No se encontraron problemas.');\r\n        return { isValid: true, issues: [] };\r\n      } else {\r\n        console.warn(' Problemas de integridad encontrados:', issues);\r\n        return { isValid: false, issues };\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(' Error verificando integridad:', error);\r\n      return { isValid: false, issues: ['Error durante la verificacin'] };\r\n    }\r\n  }\r\n}\r\n","// Utilidad para gestionar archivos e imgenes\r\nimport { AssetStorage } from './assetStorage.js';\r\n\r\nexport class FileManager {\r\n  constructor() {\r\n    this.uploadedFiles = new Map();\r\n    this.assetStorage = new AssetStorage();\r\n    this.syncInProgress = false;\r\n    this.lastSyncTime = null;\r\n    this.deletedFiles = new Set(); // Track files that were intentionally deleted\r\n    this.loadFromStorage();\r\n    this.loadDeletedFiles(); // Cargar archivos eliminados desde localStorage\r\n    this.initializeSync();\r\n  }\r\n\r\n  // Inicializar sincronizacin automtica\r\n  async initializeSync() {\r\n    try {\r\n      // Sincronizar inmediatamente al inicializar\r\n      await this.syncStorage();\r\n      \r\n      // Configurar sincronizacin automtica cada 10 minutos (600000ms) para reducir lag\r\n      setInterval(async () => {\r\n        if (!this.syncInProgress) {\r\n          console.log(' Ejecutando sincronizacin automtica programada...');\r\n          await this.syncStorage();\r\n        }\r\n      }, 600000); // 10 minutos\r\n      \r\n      console.log('Sincronizacin automtica inicializada (cada 10 minutos)');\r\n    } catch (error) {\r\n      console.error('Error al inicializar sincronizacin:', error);\r\n    }\r\n  }\r\n\r\n  // Sincronizar IndexedDB con localStorage con rollback y manejo de errores\r\n  async syncStorage() {\r\n    if (this.syncInProgress) {\r\n      console.log('Sincronizacin ya en progreso, saltando...');\r\n      return { success: false, reason: 'already_in_progress' };\r\n    }\r\n\r\n    this.syncInProgress = true;\r\n    console.log('=== INICIANDO SINCRONIZACIN MEJORADA ===');\r\n\r\n    // Crear backup del estado actual\r\n    const backup = this.createBackup();\r\n    let syncResult = { success: false, errors: [], warnings: [] };\r\n\r\n    try {\r\n      // Obtener archivos de IndexedDB\r\n      const indexedFiles = await this.assetStorage.getAllFiles();\r\n      console.log(`Archivos en IndexedDB: ${indexedFiles.length}`);\r\n\r\n      // Obtener archivos de localStorage\r\n      const localFiles = this.getAllLocalFiles();\r\n      console.log(`Archivos en localStorage: ${localFiles.length}`);\r\n\r\n      // Verificar integridad antes de sincronizar\r\n      const integrityCheck = await this.verifyStorageIntegrity();\r\n      if (!integrityCheck.isHealthy) {\r\n        syncResult.warnings.push('Problemas de integridad detectados antes de sincronizacin');\r\n        console.warn(' Problemas de integridad detectados:', integrityCheck);\r\n      }\r\n\r\n      // Sincronizar desde IndexedDB a localStorage (solo metadatos)\r\n      const indexedToLocal = [];\r\n      for (const indexedFile of indexedFiles) {\r\n        const key = `file_${indexedFile.id}`;\r\n        const wasDeleted = this.deletedFiles.has(indexedFile.id);\r\n        \r\n        // NO sincronizar archivos que fueron eliminados intencionalmente\r\n        if (!this.uploadedFiles.has(key) && !wasDeleted) {\r\n          console.log(`Sincronizando archivo desde IndexedDB: ${indexedFile.name}`);\r\n          try {\r\n            this.uploadedFiles.set(key, {\r\n              id: indexedFile.id,\r\n              name: indexedFile.name,\r\n              type: indexedFile.type,\r\n              size: indexedFile.size,\r\n              category: indexedFile.category,\r\n              folderPath: indexedFile.folderPath,\r\n              filePath: indexedFile.folderPath ? `${indexedFile.folderPath}/${indexedFile.name}` : `images/${indexedFile.category}/${indexedFile.name}`,\r\n              uploadedAt: indexedFile.uploadedAt,\r\n              data: null,\r\n              hasData: true\r\n            });\r\n            indexedToLocal.push(indexedFile.id);\r\n          } catch (error) {\r\n            syncResult.errors.push(`Error sincronizando ${indexedFile.name} desde IndexedDB: ${error.message}`);\r\n            console.error(`Error sincronizando ${indexedFile.name}:`, error);\r\n          }\r\n        } else if (wasDeleted) {\r\n          console.log(`Archivo ${indexedFile.name} fue eliminado intencionalmente, no sincronizando desde IndexedDB`);\r\n        }\r\n      }\r\n\r\n      // Sincronizar desde localStorage a IndexedDB\r\n      const localToIndexed = [];\r\n      for (const [key, localFile] of this.uploadedFiles) {\r\n        const existsInIndexedDB = indexedFiles.some(f => f.id === localFile.id);\r\n        const wasDeleted = this.deletedFiles.has(localFile.id);\r\n        \r\n        if (!existsInIndexedDB && !wasDeleted) {\r\n          console.log(`Sincronizando archivo a IndexedDB: ${localFile.name}`);\r\n          try {\r\n            await this.assetStorage.saveFile(localFile);\r\n            localToIndexed.push(localFile.id);\r\n          } catch (error) {\r\n            syncResult.errors.push(`Error sincronizando ${localFile.name} a IndexedDB: ${error.message}`);\r\n            console.error(`Error sincronizando ${localFile.name} a IndexedDB:`, error);\r\n          }\r\n        } else if (wasDeleted) {\r\n          console.log(`Archivo ${localFile.name} fue eliminado intencionalmente, no sincronizando`);\r\n          this.uploadedFiles.delete(key);\r\n        }\r\n      }\r\n\r\n      // NO limpiar archivos eliminados de la lista de tracking automticamente\r\n      // Solo limpiar despus de un tiempo para evitar restauracin accidental\r\n      // this.deletedFiles.clear(); // Comentado para evitar restauracin de archivos eliminados\r\n      \r\n      // Limpiar archivos eliminados muy antiguos (ms de 24 horas)\r\n      this.cleanupOldDeletedFiles();\r\n\r\n      // Guardar cambios en localStorage\r\n      this.saveToStorage();\r\n      this.lastSyncTime = new Date().toISOString();\r\n\r\n      // Verificar integridad despus de sincronizar\r\n      const postSyncIntegrity = await this.verifyStorageIntegrity();\r\n      if (!postSyncIntegrity.isHealthy) {\r\n        syncResult.warnings.push('Problemas de integridad detectados despus de sincronizacin');\r\n        console.warn(' Problemas de integridad post-sincronizacin:', postSyncIntegrity);\r\n      }\r\n\r\n      syncResult = {\r\n        success: syncResult.errors.length === 0,\r\n        errors: syncResult.errors,\r\n        warnings: syncResult.warnings,\r\n        indexedToLocal: indexedToLocal.length,\r\n        localToIndexed: localToIndexed.length,\r\n        integrityCheck: integrityCheck,\r\n        postSyncIntegrity: postSyncIntegrity,\r\n        timestamp: this.lastSyncTime\r\n      };\r\n\r\n      console.log('=== SINCRONIZACIN COMPLETADA ===', syncResult);\r\n      \r\n    } catch (error) {\r\n      console.error(' Error crtico durante sincronizacin:', error);\r\n      syncResult.errors.push(`Error crtico: ${error.message}`);\r\n      \r\n      // Intentar rollback\r\n      try {\r\n        console.log(' Intentando rollback...');\r\n        await this.rollbackFromBackup(backup);\r\n        syncResult.rollback = { success: true, message: 'Rollback exitoso' };\r\n        console.log(' Rollback completado');\r\n      } catch (rollbackError) {\r\n        console.error(' Error durante rollback:', rollbackError);\r\n        syncResult.rollback = { success: false, error: rollbackError.message };\r\n      }\r\n      \r\n    } finally {\r\n      this.syncInProgress = false;\r\n    }\r\n\r\n    return syncResult;\r\n  }\r\n\r\n  // Crear backup del estado actual\r\n  createBackup() {\r\n    return {\r\n      uploadedFiles: new Map(this.uploadedFiles),\r\n      deletedFiles: new Set(this.deletedFiles),\r\n      lastSyncTime: this.lastSyncTime,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n  }\r\n\r\n  // Rollback desde backup\r\n  async rollbackFromBackup(backup) {\r\n    try {\r\n      console.log(' Ejecutando rollback desde backup...');\r\n      \r\n      // Restaurar estado\r\n      this.uploadedFiles = new Map(backup.uploadedFiles);\r\n      this.deletedFiles = new Set(backup.deletedFiles);\r\n      this.lastSyncTime = backup.lastSyncTime;\r\n      \r\n      // Guardar estado restaurado\r\n      this.saveToStorage();\r\n      \r\n      console.log(' Rollback completado exitosamente');\r\n      return true;\r\n      \r\n    } catch (error) {\r\n      console.error(' Error durante rollback:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Obtener todos los archivos de localStorage\r\n  getAllLocalFiles() {\r\n    const files = [];\r\n    this.uploadedFiles.forEach((fileData, key) => {\r\n      files.push(fileData);\r\n    });\r\n    return files;\r\n  }\r\n\r\n  // Cargar archivos guardados desde localStorage\r\n  loadFromStorage() {\r\n    try {\r\n      const savedFiles = localStorage.getItem('visual_novel_files');\r\n      if (savedFiles) {\r\n        const files = JSON.parse(savedFiles);\r\n        Object.entries(files).forEach(([key, fileData]) => {\r\n          this.uploadedFiles.set(key, fileData);\r\n        });\r\n        console.log(`Cargados ${Object.keys(files).length} archivos desde localStorage`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al cargar archivos:', error);\r\n    }\r\n  }\r\n\r\n  // Cargar archivos eliminados desde localStorage\r\n  loadDeletedFiles() {\r\n    try {\r\n      const stored = localStorage.getItem('fileManager_deletedFiles');\r\n      if (stored) {\r\n        const deletedIds = JSON.parse(stored);\r\n        this.deletedFiles = new Set(deletedIds);\r\n        console.log(`Cargados ${this.deletedFiles.size} archivos eliminados desde localStorage`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al cargar archivos eliminados desde localStorage:', error);\r\n      this.deletedFiles = new Set();\r\n    }\r\n  }\r\n\r\n  // Guardar archivos eliminados en localStorage\r\n  saveDeletedFiles() {\r\n    try {\r\n      const deletedIds = Array.from(this.deletedFiles);\r\n      localStorage.setItem('fileManager_deletedFiles', JSON.stringify(deletedIds));\r\n      console.log(`Guardados ${deletedIds.length} archivos eliminados en localStorage`);\r\n    } catch (error) {\r\n      console.error('Error al guardar archivos eliminados en localStorage:', error);\r\n    }\r\n  }\r\n\r\n  // Limpiar archivos eliminados muy antiguos (ms de 24 horas)\r\n  cleanupOldDeletedFiles() {\r\n    try {\r\n      const stored = localStorage.getItem('fileManager_deletedFiles_timestamps');\r\n      if (!stored) return;\r\n\r\n      const timestamps = JSON.parse(stored);\r\n      const now = Date.now();\r\n      const twentyFourHours = 24 * 60 * 60 * 1000; // 24 horas en milisegundos\r\n      \r\n      const oldDeletedFiles = [];\r\n      const currentDeletedFiles = Array.from(this.deletedFiles);\r\n      \r\n      // Verificar cules archivos eliminados son muy antiguos\r\n      currentDeletedFiles.forEach(fileId => {\r\n        const deletedTime = timestamps[fileId];\r\n        if (deletedTime && (now - deletedTime) > twentyFourHours) {\r\n          oldDeletedFiles.push(fileId);\r\n        }\r\n      });\r\n      \r\n      // Eliminar archivos muy antiguos de la lista\r\n      if (oldDeletedFiles.length > 0) {\r\n        oldDeletedFiles.forEach(fileId => {\r\n          this.deletedFiles.delete(fileId);\r\n          delete timestamps[fileId];\r\n        });\r\n        \r\n        // Guardar cambios\r\n        this.saveDeletedFiles();\r\n        localStorage.setItem('fileManager_deletedFiles_timestamps', JSON.stringify(timestamps));\r\n        \r\n        console.log(` Limpiados ${oldDeletedFiles.length} archivos eliminados antiguos`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al limpiar archivos eliminados antiguos:', error);\r\n    }\r\n  }\r\n\r\n  // Guardar archivos en localStorage con manejo de quota\r\n  saveToStorage() {\r\n    try {\r\n      const filesObject = {};\r\n      this.uploadedFiles.forEach((fileData, key) => {\r\n        // Solo guardar metadatos en localStorage, no los datos completos\r\n        filesObject[key] = {\r\n          id: fileData.id,\r\n          name: fileData.name,\r\n          type: fileData.type,\r\n          size: fileData.size,\r\n          category: fileData.category,\r\n          folderPath: fileData.folderPath,\r\n          filePath: fileData.filePath,\r\n          uploadedAt: fileData.uploadedAt,\r\n          // No incluir 'data' para evitar QuotaExceededError\r\n          hasData: !!fileData.data\r\n        };\r\n      });\r\n      \r\n      const jsonString = JSON.stringify(filesObject);\r\n      localStorage.setItem('visual_novel_files', jsonString);\r\n      console.log(`FileManager: Metadatos guardados en localStorage (${jsonString.length} bytes)`);\r\n    } catch (error) {\r\n      if (error.name === 'QuotaExceededError') {\r\n        console.warn('FileManager: QuotaExceededError en localStorage, limpiando datos antiguos...');\r\n        this.handleQuotaExceeded();\r\n      } else {\r\n      console.error('Error al guardar archivos:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Manejar QuotaExceededError\r\n  handleQuotaExceeded() {\r\n    try {\r\n      // Limpiar localStorage completamente\r\n      localStorage.removeItem('visual_novel_files');\r\n      localStorage.removeItem('visual_novel_files_metadata');\r\n      \r\n      // Guardar solo metadatos esenciales\r\n      const essentialData = {};\r\n      this.uploadedFiles.forEach((fileData, key) => {\r\n        essentialData[key] = {\r\n          id: fileData.id,\r\n          name: fileData.name,\r\n          category: fileData.category,\r\n          folderPath: fileData.folderPath,\r\n          uploadedAt: fileData.uploadedAt\r\n        };\r\n      });\r\n      \r\n      localStorage.setItem('visual_novel_files', JSON.stringify(essentialData));\r\n      console.log('FileManager: Datos esenciales guardados despus de limpiar quota');\r\n    } catch (error) {\r\n      console.error('FileManager: Error crtico al manejar quota:', error);\r\n      // En caso extremo, solo guardar IDs\r\n      const idsOnly = Array.from(this.uploadedFiles.keys());\r\n      localStorage.setItem('visual_novel_files_ids', JSON.stringify(idsOnly));\r\n    }\r\n  }\r\n\r\n  // Subir archivo con manejo robusto de errores\r\n  async uploadFile(file, category = 'general', characterId = null) {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        // Validar archivo antes de procesarlo\r\n        await this.validateFile(file, category);\r\n        console.log(' Archivo validado correctamente');\r\n        \r\n      const reader = new FileReader();\r\n      \r\n        reader.onload = async (e) => {\r\n          try {\r\n        // Determinar la ruta correcta segn la categora y tipo de archivo\r\n        const { folderPath, filePath } = this.getCategoryPath(category, file, characterId);\r\n        \r\n        const fileData = {\r\n          name: file.name,\r\n          type: file.type,\r\n          size: file.size,\r\n          data: e.target.result,\r\n          category: category,\r\n          folderPath: folderPath,\r\n          filePath: filePath,\r\n          uploadedAt: new Date().toISOString(),\r\n          id: Date.now() + Math.random(),\r\n          characterId: characterId // Agregar ID del personaje para rastreo\r\n        };\r\n\r\n        // Usar ID nico como clave para evitar conflictos\r\n        const key = `file_${fileData.id}`;\r\n        \r\n        console.log(`=== SUBIENDO ARCHIVO ===`);\r\n        console.log(`Archivo: ${file.name}`);\r\n        console.log(`Categora solicitada: ${category}`);\r\n        console.log(`Categora en fileData: ${fileData.category}`);\r\n        console.log(`Carpeta: ${folderPath}`);\r\n        console.log(`Ruta completa: ${filePath}`);\r\n        console.log(`Clave: ${key}`);\r\n        console.log(`ID: ${fileData.id}`);\r\n        if (characterId) {\r\n          console.log(` Personaje: ${characterId}`);\r\n          console.log(` Carpeta especfica creada para el personaje`);\r\n        }\r\n        \r\n          // Intentar guardar en IndexedDB primero\r\n          let indexedDBSuccess = false;\r\n          try {\r\n            await this.assetStorage.saveFile(fileData);\r\n            indexedDBSuccess = true;\r\n            console.log(`Archivo guardado exitosamente en IndexedDB: ${fileData.name}`);\r\n          } catch (indexedDBError) {\r\n            console.warn('Error al guardar en IndexedDB, usando fallback:', indexedDBError);\r\n          }\r\n\r\n          // Guardar en memoria (localStorage) como respaldo\r\n          this.uploadedFiles.set(key, fileData);\r\n          this.saveToStorage();\r\n          \r\n          // Verificar que se guard correctamente\r\n          const savedFile = this.uploadedFiles.get(key);\r\n          console.log(`Archivo guardado con categora: ${savedFile.category}`);\r\n          console.log(`IndexedDB exitoso: ${indexedDBSuccess}`);\r\n          console.log(`=== FIN SUBIDA ===`);\r\n          \r\n          // Programar sincronizacin si IndexedDB fall\r\n          if (!indexedDBSuccess) {\r\n            setTimeout(() => {\r\n              this.syncStorage();\r\n            }, 1000);\r\n          }\r\n          \r\n          resolve({\r\n            id: fileData.id,\r\n            name: file.name,\r\n            url: e.target.result,\r\n            path: filePath,\r\n            indexedDBSuccess: indexedDBSuccess\r\n          });\r\n          \r\n        } catch (error) {\r\n          console.error('Error durante subida de archivo:', error);\r\n          reject(error);\r\n        }\r\n      };\r\n\r\n      reader.onerror = () => reject(new Error('Error al leer el archivo'));\r\n      reader.readAsDataURL(file);\r\n      \r\n      } catch (validationError) {\r\n        console.error('Error de validacin:', validationError);\r\n        reject(validationError);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Obtener la ruta correcta segn la categora y tipo de archivo\r\n  getCategoryPath(category, file, characterId = null) {\r\n    const isAudio = file.type.startsWith('audio/');\r\n    const isImage = file.type.startsWith('image/');\r\n    const isVideo = file.type.startsWith('video/');\r\n    \r\n    let folderPath, filePath;\r\n    \r\n    if (isAudio) {\r\n      // Archivos de audio van a game/audio/\r\n      switch (category) {\r\n        case 'music':\r\n          folderPath = 'game/audio/music';\r\n          break;\r\n        case 'sounds':\r\n          folderPath = 'game/audio/sounds';\r\n          break;\r\n        case 'voice':\r\n          folderPath = 'game/audio/voice';\r\n          break;\r\n        default:\r\n          folderPath = 'game/audio';\r\n      }\r\n      filePath = `${folderPath}/${file.name}`;\r\n    } else if (isImage) {\r\n      // Archivos de imagen van a game/images/\r\n      switch (category) {\r\n        case 'characters':\r\n          // Si se proporciona characterId, crear carpeta especfica para el personaje\r\n          if (characterId) {\r\n            folderPath = `game/images/characters/${characterId}`;\r\n            console.log(` Creando carpeta especfica para personaje: ${characterId}`);\r\n          } else {\r\n          folderPath = 'game/images/characters';\r\n          }\r\n          break;\r\n        case 'backgrounds':\r\n          folderPath = 'game/images/backgrounds';\r\n          break;\r\n        case 'gui':\r\n          folderPath = 'game/images/gui';\r\n          break;\r\n        case 'effects':\r\n          folderPath = 'game/images/effects';\r\n          break;\r\n        default:\r\n          folderPath = 'game/images/general';\r\n      }\r\n      filePath = `${folderPath}/${file.name}`;\r\n    } else if (isVideo) {\r\n      // Archivos de video van a game/videos/\r\n      folderPath = 'game/videos';\r\n      filePath = `${folderPath}/${file.name}`;\r\n    } else {\r\n      // Otros archivos van a general\r\n      folderPath = 'game/general';\r\n      filePath = `${folderPath}/${file.name}`;\r\n    }\r\n    \r\n    return { folderPath, filePath };\r\n  }\r\n\r\n  // Obtener archivo por ID\r\n  getFile(id) {\r\n    for (const [, fileData] of this.uploadedFiles) {\r\n      if (fileData.id === id) {\r\n        return fileData;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // Obtener URL de imagen por ruta\r\n  async getImageUrl(path) {\r\n    if (!path) return null;\r\n    \r\n    // Primero buscar en IndexedDB\r\n    try {\r\n      const imageUrl = await this.assetStorage.getImageUrl(path);\r\n      if (imageUrl) {\r\n        console.log(`FileManager - getImageUrl: encontrado en IndexedDB para ruta ${path}`);\r\n        return imageUrl;\r\n      }\r\n    } catch (error) {\r\n      console.warn('Error al buscar en IndexedDB:', error);\r\n    }\r\n    \r\n    // Fallback: buscar en memoria y obtener datos de IndexedDB si es necesario\r\n    for (const [, fileData] of this.uploadedFiles) {\r\n      const expectedPath = `images/${fileData.category}/${fileData.name}`;\r\n      const gamePath = `game/images/${fileData.category}/${fileData.name}`;\r\n      \r\n      // Verificar si coincide con cualquiera de los formatos\r\n      if (expectedPath === path || gamePath === path) {\r\n        console.log(`FileManager - getImageUrl: encontrado ${fileData.name} para ruta ${path}`);\r\n        \r\n        // Si tenemos los datos en memoria, usarlos\r\n        if (fileData.data) {\r\n          return fileData.data;\r\n        }\r\n        \r\n        // Si no tenemos los datos pero sabemos que existen en IndexedDB, obtenerlos\r\n        if (fileData.hasData) {\r\n          try {\r\n            const indexedFile = await this.assetStorage.getFile(fileData.id);\r\n            if (indexedFile && indexedFile.data) {\r\n              console.log(`FileManager - getImageUrl: obteniendo datos de IndexedDB para ${fileData.name}`);\r\n              return indexedFile.data;\r\n            }\r\n          } catch (error) {\r\n            console.warn(`Error al obtener datos de IndexedDB para ${fileData.name}:`, error);\r\n          }\r\n        }\r\n        \r\n        return null;\r\n      }\r\n    }\r\n    \r\n    console.log(`FileManager - getImageUrl: no encontrado para ruta ${path}`);\r\n    return null;\r\n  }\r\n\r\n  // Obtener URL de imagen por nombre y categora\r\n  getImageUrlByName(name, category) {\r\n    const key = `${category}_${name}`;\r\n    const fileData = this.uploadedFiles.get(key);\r\n    return fileData ? fileData.data : null;\r\n  }\r\n\r\n  // Obtener archivos por personaje\r\n  async getFilesByCharacter(characterId) {\r\n    const files = [];\r\n    console.log(`=== BUSCANDO ARCHIVOS DEL PERSONAJE: ${characterId} ===`);\r\n    \r\n    // Buscar en IndexedDB primero\r\n    try {\r\n      const indexedFiles = await this.assetStorage.getAllFiles();\r\n      indexedFiles.forEach(fileData => {\r\n        if (fileData.characterId === characterId && !this.deletedFiles.has(fileData.id)) {\r\n          const fullPath = fileData.filePath || `${fileData.folderPath}/${fileData.name}`;\r\n          console.log(`Archivo del personaje encontrado: ${fileData.name}`);\r\n          \r\n          files.push({\r\n            id: fileData.id,\r\n            name: fileData.name,\r\n            url: fileData.data || null,\r\n            path: fullPath,\r\n            category: fileData.category,\r\n            folderPath: fileData.folderPath,\r\n            characterId: fileData.characterId,\r\n            uploadedAt: fileData.uploadedAt,\r\n            hasData: fileData.hasData || !!fileData.data\r\n          });\r\n        } else if (this.deletedFiles.has(fileData.id)) {\r\n          console.log(`Archivo ${fileData.name} fue eliminado intencionalmente, omitiendo de resultados`);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.warn('Error al buscar en IndexedDB:', error);\r\n    }\r\n    \r\n    // Fallback: buscar en memoria (localStorage)\r\n    this.uploadedFiles.forEach((fileData, key) => {\r\n      if (fileData.characterId === characterId && !this.deletedFiles.has(fileData.id)) {\r\n        // Evitar duplicados\r\n        const exists = files.some(f => f.id === fileData.id);\r\n        if (!exists) {\r\n          const fullPath = fileData.filePath || `images/${fileData.category}/${fileData.name}`;\r\n          console.log(`Archivo del personaje en memoria: ${fileData.name}`);\r\n          \r\n          files.push({\r\n            id: fileData.id,\r\n            name: fileData.name,\r\n            url: fileData.data || null,\r\n            path: fullPath,\r\n            category: fileData.category,\r\n            folderPath: fileData.folderPath,\r\n            characterId: fileData.characterId,\r\n            uploadedAt: fileData.uploadedAt,\r\n            hasData: fileData.hasData || !!fileData.data\r\n          });\r\n        }\r\n      } else if (this.deletedFiles.has(fileData.id)) {\r\n        console.log(`Archivo ${fileData.name} fue eliminado intencionalmente, omitiendo de resultados`);\r\n      }\r\n    });\r\n    \r\n    console.log(`Archivos encontrados para ${characterId}: ${files.length}`);\r\n    files.forEach(file => console.log(`- ${file.name} (${file.path})`));\r\n    console.log(`=== FIN BSQUEDA POR PERSONAJE ===`);\r\n    \r\n    return files;\r\n  }\r\n\r\n  // Obtener archivos por categora\r\n  async getFilesByCategory(category) {\r\n    const files = [];\r\n    console.log(`=== BUSCANDO ARCHIVOS EN CATEGORA: ${category} ===`);\r\n    \r\n    // Buscar en IndexedDB primero\r\n    try {\r\n      const indexedFiles = await this.assetStorage.getFilesByCategoryCompat(category);\r\n      indexedFiles.forEach(fileData => {\r\n        console.log(`Revisando archivo IndexedDB: ${fileData.name}, categora: ${fileData.category}, coincide: ${fileData.category === category}`);\r\n        if (fileData.category === category && !this.deletedFiles.has(fileData.id)) {\r\n          const fullPath = `${fileData.folderPath || `images/${category}`}/${fileData.name}`;\r\n          console.log(`FileManager - Creando archivo con ruta completa: ${fullPath}`);\r\n          console.log(`FileManager - folderPath: ${fileData.folderPath}`);\r\n          console.log(`FileManager - name: ${fileData.name}`);\r\n          console.log(`FileManager - characterId original: ${fileData.characterId}`);\r\n          \r\n          // Extraer characterId de la ruta si no est en los metadatos\r\n          let characterId = fileData.characterId;\r\n          if (!characterId && fileData.folderPath && fileData.folderPath.includes('/characters/')) {\r\n            const pathParts = fileData.folderPath.split('/');\r\n            const charactersIndex = pathParts.indexOf('characters');\r\n            if (charactersIndex !== -1 && pathParts[charactersIndex + 1]) {\r\n              characterId = pathParts[charactersIndex + 1];\r\n              console.log(`FileManager - characterId extrado de ruta: ${characterId}`);\r\n            }\r\n          }\r\n          \r\n          console.log(`FileManager - characterId final: ${characterId}`);\r\n          \r\n          files.push({\r\n            id: fileData.id,\r\n            name: fileData.name,\r\n            url: fileData.data || null, // Puede ser null si los datos estn en IndexedDB\r\n            path: fullPath,\r\n            category: fileData.category,\r\n            folderPath: fileData.folderPath,\r\n            characterId: characterId, // Incluir characterId (extrado si es necesario)\r\n            uploadedAt: fileData.uploadedAt,\r\n            hasData: fileData.hasData || !!fileData.data\r\n          });\r\n        } else if (this.deletedFiles.has(fileData.id)) {\r\n          console.log(`Archivo ${fileData.name} fue eliminado intencionalmente, omitiendo de resultados`);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.warn('Error al buscar en IndexedDB:', error);\r\n    }\r\n    \r\n    // Fallback: buscar en memoria (localStorage)\r\n    this.uploadedFiles.forEach((fileData, key) => {\r\n      console.log(`Revisando archivo memoria: ${fileData.name}, categora: ${fileData.category}, coincide: ${fileData.category === category}`);\r\n      if (fileData.category === category && !this.deletedFiles.has(fileData.id)) {\r\n        // Evitar duplicados\r\n        const exists = files.some(f => f.id === fileData.id);\r\n        if (!exists) {\r\n          const fullPath = fileData.filePath || `images/${category}/${fileData.name}`;\r\n          console.log(`FileManager - localStorage - Creando archivo con ruta: ${fullPath}`);\r\n          console.log(`FileManager - localStorage - filePath: ${fileData.filePath}`);\r\n          console.log(`FileManager - localStorage - name: ${fileData.name}`);\r\n          console.log(`FileManager - localStorage - characterId original: ${fileData.characterId}`);\r\n          \r\n          // Extraer characterId de la ruta si no est en los metadatos\r\n          let characterId = fileData.characterId;\r\n          if (!characterId && fileData.folderPath && fileData.folderPath.includes('/characters/')) {\r\n            const pathParts = fileData.folderPath.split('/');\r\n            const charactersIndex = pathParts.indexOf('characters');\r\n            if (charactersIndex !== -1 && pathParts[charactersIndex + 1]) {\r\n              characterId = pathParts[charactersIndex + 1];\r\n              console.log(`FileManager - localStorage - characterId extrado de ruta: ${characterId}`);\r\n            }\r\n          }\r\n          \r\n          console.log(`FileManager - localStorage - characterId final: ${characterId}`);\r\n          \r\n          files.push({\r\n            id: fileData.id,\r\n            name: fileData.name,\r\n            url: fileData.data || null, // Puede ser null si los datos estn en IndexedDB\r\n            path: fullPath,\r\n            category: fileData.category,\r\n            folderPath: fileData.folderPath,\r\n            characterId: characterId, // Incluir characterId (extrado si es necesario)\r\n            uploadedAt: fileData.uploadedAt,\r\n            hasData: fileData.hasData || !!fileData.data\r\n          });\r\n        }\r\n      } else if (this.deletedFiles.has(fileData.id)) {\r\n        console.log(`Archivo ${fileData.name} fue eliminado intencionalmente, omitiendo de resultados`);\r\n      }\r\n    });\r\n    \r\n    console.log(`Archivos encontrados en ${category}: ${files.length}`);\r\n    files.forEach(file => console.log(`- ${file.name} (${file.path})`));\r\n    console.log(`=== FIN BSQUEDA ===`);\r\n    \r\n    return files;\r\n  }\r\n\r\n  // Eliminar archivo con sincronizacin\r\n  async deleteFile(id) {\r\n    try {\r\n      console.log(`=== ELIMINANDO ARCHIVO ${id} ===`);\r\n      \r\n      // Marcar archivo como eliminado intencionalmente ANTES de eliminar\r\n      this.deletedFiles.add(id);\r\n      this.saveDeletedFiles(); // Guardar inmediatamente en localStorage\r\n      \r\n      // Guardar timestamp de eliminacin\r\n      try {\r\n        const stored = localStorage.getItem('fileManager_deletedFiles_timestamps') || '{}';\r\n        const timestamps = JSON.parse(stored);\r\n        timestamps[id] = Date.now();\r\n        localStorage.setItem('fileManager_deletedFiles_timestamps', JSON.stringify(timestamps));\r\n      } catch (error) {\r\n        console.error('Error al guardar timestamp de eliminacin:', error);\r\n      }\r\n      \r\n      console.log(`Archivo ${id} marcado como eliminado intencionalmente`);\r\n      \r\n      // Eliminar de IndexedDB\r\n      let indexedDBSuccess = true;\r\n      try {\r\n        await this.assetStorage.deleteFile(id);\r\n        console.log(`Archivo ${id} eliminado de IndexedDB`);\r\n      } catch (indexedDBError) {\r\n        console.warn('Error al eliminar de IndexedDB:', indexedDBError);\r\n        indexedDBSuccess = false;\r\n      }\r\n      \r\n      // Eliminar de memoria (localStorage)\r\n      let localSuccess = false;\r\n      for (const [key, fileData] of this.uploadedFiles) {\r\n        if (fileData.id === id) {\r\n          this.uploadedFiles.delete(key); // Usar la clave real encontrada\r\n          this.saveToStorage();\r\n          localSuccess = true;\r\n          console.log(`Archivo ${id} eliminado de localStorage (clave: ${key})`);\r\n          break;\r\n        }\r\n      }\r\n      \r\n      if (!localSuccess) {\r\n        console.warn(`Archivo ${id} no encontrado en localStorage`);\r\n        // Debug: mostrar todas las claves disponibles\r\n        console.log('Claves disponibles en uploadedFiles:', Array.from(this.uploadedFiles.keys()));\r\n      }\r\n      \r\n      // NO programar sincronizacin automtica despus de eliminar\r\n      // Esto evita que el archivo se restaure\r\n      // if (!indexedDBSuccess || !localSuccess) {\r\n      //   setTimeout(() => {\r\n      //     this.syncStorage();\r\n      //   }, 1000);\r\n      // }\r\n      \r\n      console.log(`=== ARCHIVO ${id} ELIMINADO ===`);\r\n      return indexedDBSuccess && localSuccess;\r\n    } catch (error) {\r\n      console.error('Error al eliminar archivo:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Obtener todos los archivos\r\n  getAllFiles() {\r\n    const files = [];\r\n    this.uploadedFiles.forEach((fileData, key) => {\r\n      // Verificar que fileData existe y tiene los campos necesarios\r\n      if (!fileData || !fileData.name) {\r\n        console.warn(` Archivo invlido encontrado en getAllFiles:`, fileData);\r\n        return;\r\n      }\r\n      \r\n      // NO incluir archivos eliminados intencionalmente\r\n      if (this.deletedFiles.has(fileData.id)) {\r\n        console.log(`Archivo ${fileData.name} fue eliminado intencionalmente, omitiendo de getAllFiles`);\r\n        return;\r\n      }\r\n      \r\n      files.push({\r\n        id: fileData.id,\r\n        name: fileData.name,\r\n        url: fileData.data || null, // Manejar caso donde data es null/undefined\r\n        path: fileData.filePath || `images/${fileData.category || 'general'}/${fileData.name}`,\r\n        category: fileData.category || 'general',\r\n        folderPath: fileData.folderPath,\r\n        uploadedAt: fileData.uploadedAt,\r\n        hasData: !!fileData.data // Indicar si tiene datos\r\n      });\r\n    });\r\n    return files;\r\n  }\r\n\r\n  // Mtodo para debuggear - mostrar todos los archivos\r\n  debugFiles() {\r\n    console.log('=== DEBUG: Todos los archivos ===');\r\n    this.uploadedFiles.forEach((fileData, key) => {\r\n      console.log(`Clave: ${key}, Archivo: ${fileData.name}, Categora: ${fileData.category}`);\r\n    });\r\n    console.log('=== FIN DEBUG ===');\r\n  }\r\n\r\n  // Verificar integridad del almacenamiento\r\n  async verifyStorageIntegrity() {\r\n    console.log('=== VERIFICANDO INTEGRIDAD DEL ALMACENAMIENTO ===');\r\n    \r\n    try {\r\n      const indexedFiles = await this.assetStorage.getAllFiles();\r\n      const localFiles = this.getAllLocalFiles();\r\n      \r\n      console.log(`Archivos en IndexedDB: ${indexedFiles.length}`);\r\n      console.log(`Archivos en localStorage: ${localFiles.length}`);\r\n      console.log(`Archivos eliminados intencionalmente: ${this.deletedFiles.size}`);\r\n      \r\n      // Verificar archivos faltantes (EXCLUYENDO archivos eliminados intencionalmente)\r\n      const missingInIndexedDB = localFiles.filter(local => \r\n        !indexedFiles.some(indexed => indexed.id === local.id) &&\r\n        !this.deletedFiles.has(local.id) // NO considerar archivos eliminados intencionalmente\r\n      );\r\n      \r\n      const missingInLocal = indexedFiles.filter(indexed => \r\n        !localFiles.some(local => local.id === indexed.id) &&\r\n        !this.deletedFiles.has(indexed.id) // NO considerar archivos eliminados intencionalmente\r\n      );\r\n      \r\n      if (missingInIndexedDB.length > 0) {\r\n        console.warn(`Archivos faltantes en IndexedDB: ${missingInIndexedDB.length}`);\r\n        missingInIndexedDB.forEach(file => console.warn(`- ${file.name} (${file.id})`));\r\n      }\r\n      \r\n      if (missingInLocal.length > 0) {\r\n        console.warn(`Archivos faltantes en localStorage: ${missingInLocal.length}`);\r\n        missingInLocal.forEach(file => console.warn(`- ${file.name} (${file.id})`));\r\n      }\r\n      \r\n      // Mostrar archivos eliminados intencionalmente para debug\r\n      if (this.deletedFiles.size > 0) {\r\n        console.log(`Archivos eliminados intencionalmente (${this.deletedFiles.size}):`);\r\n        this.deletedFiles.forEach(id => console.log(`- ID: ${id}`));\r\n      }\r\n      \r\n      const integrity = {\r\n        totalIndexedDB: indexedFiles.length,\r\n        totalLocal: localFiles.length,\r\n        missingInIndexedDB: missingInIndexedDB.length,\r\n        missingInLocal: missingInLocal.length,\r\n        deletedFiles: this.deletedFiles.size,\r\n        isHealthy: missingInIndexedDB.length === 0 && missingInLocal.length === 0\r\n      };\r\n      \r\n      console.log('Estado de integridad:', integrity);\r\n      console.log('=== FIN VERIFICACIN ===');\r\n      \r\n      return integrity;\r\n    } catch (error) {\r\n      console.error('Error al verificar integridad:', error);\r\n      return { isHealthy: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  // Forzar sincronizacin manual\r\n  async forceSync() {\r\n    console.log('=== FORZANDO SINCRONIZACIN MANUAL ===');\r\n    await this.syncStorage();\r\n    console.log('=== SINCRONIZACIN MANUAL COMPLETADA ===');\r\n  }\r\n\r\n  // Obtener estado del sistema\r\n  getSystemStatus() {\r\n    return {\r\n      syncInProgress: this.syncInProgress,\r\n      lastSyncTime: this.lastSyncTime,\r\n      totalFiles: this.uploadedFiles.size,\r\n      deletedFilesCount: this.deletedFiles.size,\r\n      indexedDBAvailable: !!this.assetStorage.db,\r\n      localStorageQuota: this.getLocalStorageQuota()\r\n    };\r\n  }\r\n\r\n  // Obtener informacin de quota de localStorage\r\n  getLocalStorageQuota() {\r\n    try {\r\n      const testKey = 'quota_test';\r\n      const testData = 'x'.repeat(1024); // 1KB de datos de prueba\r\n      \r\n      // Intentar guardar datos de prueba\r\n      localStorage.setItem(testKey, testData);\r\n      localStorage.removeItem(testKey);\r\n      \r\n      // Calcular tamao aproximado de datos actuales\r\n      let currentSize = 0;\r\n      for (let key in localStorage) {\r\n        if (localStorage.hasOwnProperty(key)) {\r\n          currentSize += localStorage[key].length;\r\n        }\r\n      }\r\n      \r\n      return {\r\n        currentSize: currentSize,\r\n        currentSizeMB: (currentSize / (1024 * 1024)).toFixed(2),\r\n        available: true\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        currentSize: 0,\r\n        currentSizeMB: '0.00',\r\n        available: false,\r\n        error: error.message\r\n      };\r\n    }\r\n  }\r\n\r\n  // Limpiar localStorage y mantener solo metadatos\r\n  clearLocalStorageData() {\r\n    try {\r\n      console.log('FileManager: Limpiando datos de localStorage...');\r\n      \r\n      // Limpiar datos antiguos\r\n      localStorage.removeItem('visual_novel_files');\r\n      localStorage.removeItem('visual_novel_files_metadata');\r\n      \r\n      // Guardar solo metadatos esenciales\r\n      this.saveToStorage();\r\n      \r\n      console.log('FileManager: localStorage limpiado exitosamente');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('FileManager: Error al limpiar localStorage:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Limpiar todos los archivos\r\n  async clearAllFiles() {\r\n    console.log('=== LIMPIANDO TODOS LOS ARCHIVOS ===');\r\n    try {\r\n      // Marcar todos los archivos actuales como eliminados intencionalmente\r\n      this.uploadedFiles.forEach((fileData, key) => {\r\n        this.deletedFiles.add(fileData.id);\r\n      });\r\n      console.log(`${this.deletedFiles.size} archivos marcados como eliminados intencionalmente`);\r\n      \r\n      // Limpiar IndexedDB\r\n      await this.assetStorage.clearAll();\r\n      \r\n      // Limpiar memoria (localStorage)\r\n      this.uploadedFiles.clear();\r\n      localStorage.removeItem('visual_novel_files');\r\n      \r\n      console.log('Archivos limpiados correctamente');\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error al limpiar archivos:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Mtodo para limpiar y reiniciar (til para debugging)\r\n  async resetFileManager() {\r\n    console.log('=== REINICIANDO FILE MANAGER ===');\r\n    await this.clearAllFiles();\r\n    this.loadFromStorage();\r\n    console.log('File Manager reiniciado');\r\n  }\r\n\r\n  // Limpiar archivos fantasma (archivos que aparecen como eliminados pero siguen en localStorage)\r\n  async cleanupGhostFiles() {\r\n    console.log('=== LIMPIANDO ARCHIVOS FANTASMA ===');\r\n    try {\r\n      const indexedFiles = await this.assetStorage.getAllFiles();\r\n      const indexedFileIds = new Set(indexedFiles.map(f => f.id));\r\n      \r\n      let cleanedCount = 0;\r\n      \r\n      // Buscar archivos en localStorage que no estn en IndexedDB\r\n      for (const [key, fileData] of this.uploadedFiles) {\r\n        if (!indexedFileIds.has(fileData.id)) {\r\n          console.log(`Archivo fantasma encontrado: ${fileData.name} (ID: ${fileData.id})`);\r\n          this.uploadedFiles.delete(key);\r\n          cleanedCount++;\r\n        }\r\n      }\r\n      \r\n      if (cleanedCount > 0) {\r\n        this.saveToStorage();\r\n        console.log(`${cleanedCount} archivos fantasma eliminados`);\r\n      } else {\r\n        console.log('No se encontraron archivos fantasma');\r\n      }\r\n      \r\n      return cleanedCount;\r\n    } catch (error) {\r\n      console.error('Error al limpiar archivos fantasma:', error);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  // Exportar archivos como ZIP\r\n  async exportFiles() {\r\n    const JSZip = (await import('jszip')).default;\r\n    const zip = new JSZip();\r\n    \r\n    // Organizar archivos por carpeta\r\n    const folders = {};\r\n    this.uploadedFiles.forEach((fileData, key) => {\r\n      const folderPath = fileData.folderPath || `game/images/${fileData.category}`;\r\n      if (!folders[folderPath]) {\r\n        folders[folderPath] = [];\r\n      }\r\n      folders[folderPath].push(fileData);\r\n    });\r\n\r\n    // Agregar archivos al ZIP con estructura Ren'Py\r\n    Object.entries(folders).forEach(([folderPath, files]) => {\r\n      const folder = zip.folder(folderPath);\r\n      files.forEach(fileData => {\r\n        // Convertir data URL a blob\r\n        const base64Data = fileData.data.split(',')[1];\r\n        const binaryData = atob(base64Data);\r\n        const bytes = new Uint8Array(binaryData.length);\r\n        for (let i = 0; i < binaryData.length; i++) {\r\n          bytes[i] = binaryData.charCodeAt(i);\r\n        }\r\n        folder.file(fileData.name, bytes);\r\n      });\r\n    });\r\n\r\n    // Generar y descargar ZIP\r\n    const content = await zip.generateAsync({ type: 'blob' });\r\n    const url = URL.createObjectURL(content);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `visual_novel_assets_${new Date().toISOString().split('T')[0]}.zip`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  }\r\n\r\n  // Configuracin de validacin por categora\r\n  getValidationConfig(category) {\r\n    const configs = {\r\n      backgrounds: {\r\n        allowedTypes: ['image/jpeg', 'image/png', 'image/webp'],\r\n        maxSizeMB: 10,\r\n        minDimensions: { width: 800, height: 600 },\r\n        maxDimensions: { width: 4096, height: 4096 },\r\n        requiredAspectRatio: null // null = cualquier ratio\r\n      },\r\n      characters: {\r\n        allowedTypes: ['image/jpeg', 'image/png', 'image/webp'],\r\n        maxSizeMB: 5,\r\n        minDimensions: { width: 200, height: 300 },\r\n        maxDimensions: { width: 2048, height: 2048 },\r\n        requiredAspectRatio: null\r\n      },\r\n      gui: {\r\n        allowedTypes: ['image/jpeg', 'image/png', 'image/webp'],\r\n        maxSizeMB: 2,\r\n        minDimensions: { width: 100, height: 100 },\r\n        maxDimensions: { width: 1024, height: 1024 },\r\n        requiredAspectRatio: null\r\n      },\r\n      effects: {\r\n        allowedTypes: ['image/jpeg', 'image/png', 'image/webp', 'image/gif'],\r\n        maxSizeMB: 3,\r\n        minDimensions: { width: 50, height: 50 },\r\n        maxDimensions: { width: 1024, height: 1024 },\r\n        requiredAspectRatio: null\r\n      },\r\n      music: {\r\n        allowedTypes: ['audio/ogg', 'audio/mp3', 'audio/wav', 'audio/mpeg'],\r\n        maxSizeMB: 50,\r\n        minDuration: 0,\r\n        maxDuration: 600 // 10 minutos\r\n      },\r\n      sounds: {\r\n        allowedTypes: ['audio/ogg', 'audio/mp3', 'audio/wav', 'audio/mpeg'],\r\n        maxSizeMB: 5,\r\n        minDuration: 0,\r\n        maxDuration: 30 // 30 segundos\r\n      },\r\n      voice: {\r\n        allowedTypes: ['audio/ogg', 'audio/mp3', 'audio/wav', 'audio/mpeg'],\r\n        maxSizeMB: 10,\r\n        minDuration: 0,\r\n        maxDuration: 60 // 1 minuto\r\n      },\r\n      videos: {\r\n        allowedTypes: ['video/webm', 'video/mp4', 'video/ogg'],\r\n        maxSizeMB: 100,\r\n        minDuration: 0,\r\n        maxDuration: 300 // 5 minutos\r\n      },\r\n      general: {\r\n        allowedTypes: ['image/jpeg', 'image/png', 'image/webp', 'text/plain', 'application/json'],\r\n        maxSizeMB: 5,\r\n        minDimensions: null,\r\n        maxDimensions: null\r\n      }\r\n    };\r\n    \r\n    return configs[category] || configs.general;\r\n  }\r\n\r\n  // Validar tipo de archivo con verificacin de contenido (OPCIONAL)\r\n  async validateFileType(file, category) {\r\n    console.log(`=== VALIDACIN DE TIPO DE ARCHIVO (OPCIONAL) ===`);\r\n    console.log(`Archivo: ${file.name}`);\r\n    console.log(`Tipo: ${file.type}`);\r\n    console.log(`Categora: ${category}`);\r\n    \r\n    // Validacin bsica de MIME type - SOLO ADVERTENCIA\r\n    const config = this.getValidationConfig(category);\r\n    if (!config.allowedTypes.includes(file.type)) {\r\n      console.warn(` Tipo de archivo no est en la lista permitida para ${category}: ${file.type}`);\r\n      console.warn(` Tipos permitidos: ${config.allowedTypes.join(', ')}`);\r\n      console.warn(` Continuando con la subida del archivo...`);\r\n    } else {\r\n      console.log(` Tipo de archivo permitido para ${category}: ${file.type}`);\r\n    }\r\n    \r\n    // Validacin de contenido real - SOLO ADVERTENCIA\r\n    try {\r\n      const isValidContent = await this.validateFileContent(file, category);\r\n      if (!isValidContent) {\r\n        console.warn(` El contenido del archivo no coincide con el tipo declarado: ${file.type}`);\r\n        console.warn(` Continuando con la subida del archivo...`);\r\n      } else {\r\n        console.log(` Contenido del archivo vlido: ${file.type}`);\r\n      }\r\n    } catch (error) {\r\n      console.warn(` Error durante validacin de contenido: ${error.message}`);\r\n      console.warn(` Continuando con la subida del archivo...`);\r\n    }\r\n    \r\n    console.log(`=== VALIDACIN COMPLETADA - ARCHIVO ACEPTADO ===`);\r\n    return true; // SIEMPRE ACEPTAR EL ARCHIVO\r\n  }\r\n\r\n  // Validar contenido real del archivo (OPCIONAL - SOLO PARA INFORMACIN)\r\n  async validateFileContent(file, category) {\r\n    return new Promise((resolve) => {\r\n      console.log(`=== VALIDACIN DE CONTENIDO (INFORMATIVA) ===`);\r\n      console.log(`Archivo: ${file.name}`);\r\n      console.log(`Tipo: ${file.type}`);\r\n      \r\n      const reader = new FileReader();\r\n      \r\n      reader.onload = (e) => {\r\n        try {\r\n          const arrayBuffer = e.target.result;\r\n          const uint8Array = new Uint8Array(arrayBuffer);\r\n          \r\n          // Verificar firma del archivo (magic numbers) - Solo para informacin\r\n          const isValidSignature = this.validateFileSignature(uint8Array, file.type);\r\n          \r\n          if (!isValidSignature) {\r\n            console.warn(` Firma de archivo no vlida para ${file.name} (tipo: ${file.type})`);\r\n            console.warn(` Esto es solo informativo, el archivo se subir de todas formas`);\r\n          } else {\r\n            console.log(` Firma de archivo vlida para ${file.name} (tipo: ${file.type})`);\r\n          }\r\n          \r\n          // Validaciones especficas por tipo - Solo para informacin\r\n          if (file.type.startsWith('image/')) {\r\n            this.validateImageContent(uint8Array, category, file.type).then((result) => {\r\n              if (result) {\r\n                console.log(` Contenido de imagen vlido para ${file.name}`);\r\n              } else {\r\n                console.warn(` Contenido de imagen no vlido para ${file.name} (solo informativo)`);\r\n              }\r\n              resolve(true); // SIEMPRE ACEPTAR\r\n            });\r\n          } else if (file.type.startsWith('audio/')) {\r\n            this.validateAudioContent(uint8Array, category, file.type).then((result) => {\r\n              if (result) {\r\n                console.log(` Contenido de audio vlido para ${file.name}`);\r\n              } else {\r\n                console.warn(` Contenido de audio no vlido para ${file.name} (solo informativo)`);\r\n              }\r\n              resolve(true); // SIEMPRE ACEPTAR\r\n            });\r\n          } else if (file.type.startsWith('video/')) {\r\n            this.validateVideoContent(uint8Array, category, file.type).then((result) => {\r\n              if (result) {\r\n                console.log(` Contenido de video vlido para ${file.name}`);\r\n              } else {\r\n                console.warn(` Contenido de video no vlido para ${file.name} (solo informativo)`);\r\n              }\r\n              resolve(true); // SIEMPRE ACEPTAR\r\n            });\r\n          } else {\r\n            console.log(` Tipo de archivo no requiere validacin especfica: ${file.type}`);\r\n            resolve(true); // Para otros tipos, siempre aceptar\r\n          }\r\n        } catch (error) {\r\n          console.warn(` Error al validar contenido del archivo: ${error.message}`);\r\n          console.warn(` Continuando con la subida del archivo...`);\r\n          resolve(true); // SIEMPRE ACEPTAR AUNQUE HAYA ERROR\r\n        }\r\n      };\r\n      \r\n      reader.onerror = () => {\r\n        console.warn(` Error al leer archivo para validacin: ${file.name}`);\r\n        console.warn(` Continuando con la subida del archivo...`);\r\n        resolve(true); // SIEMPRE ACEPTAR AUNQUE HAYA ERROR\r\n      };\r\n      \r\n      reader.readAsArrayBuffer(file.slice(0, 1024)); // Solo leer los primeros 1KB para validar firma\r\n    });\r\n  }\r\n\r\n  // Validar firma del archivo (magic numbers)\r\n  validateFileSignature(uint8Array, mimeType) {\r\n    console.log(`=== VALIDANDO FIRMA DE ARCHIVO ===`);\r\n    console.log(`Tipo MIME: ${mimeType}`);\r\n    console.log(`Bytes ledos: ${uint8Array.length}`);\r\n    console.log(`Primeros 16 bytes:`, Array.from(uint8Array.slice(0, 16)).map(b => '0x' + b.toString(16).padStart(2, '0')).join(' '));\r\n    \r\n    const signatures = {\r\n      'image/jpeg': [[0xFF, 0xD8, 0xFF]],\r\n      'image/png': [[0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A]],\r\n      'image/webp': [[0x52, 0x49, 0x46, 0x46], [0x57, 0x45, 0x42, 0x50]], // RIFF....WEBP\r\n      'image/gif': [[0x47, 0x49, 0x46, 0x38, 0x37, 0x61], [0x47, 0x49, 0x46, 0x38, 0x39, 0x61]], // GIF87a, GIF89a\r\n      'audio/mp3': [[0xFF, 0xFB], [0xFF, 0xF3], [0xFF, 0xF2], [0x49, 0x44, 0x33]], // MP3 headers, ID3\r\n      'audio/wav': [[0x52, 0x49, 0x46, 0x46], [0x57, 0x41, 0x56, 0x45]], // RIFF....WAVE\r\n      'audio/ogg': [[0x4F, 0x67, 0x67, 0x53]], // OggS\r\n      'video/mp4': [[0x00, 0x00, 0x00, 0x18, 0x66, 0x74, 0x79, 0x70], [0x00, 0x00, 0x00, 0x20, 0x66, 0x74, 0x79, 0x70]], // MP4 ftyp\r\n      'video/webm': [[0x1A, 0x45, 0xDF, 0xA3]] // WebM\r\n    };\r\n    \r\n    const expectedSignatures = signatures[mimeType];\r\n    if (!expectedSignatures) {\r\n      console.log(`No hay firma conocida para ${mimeType}, asumiendo vlido`);\r\n      return true; // Si no hay firma conocida, asumir vlido\r\n    }\r\n    \r\n    console.log(`Firmas esperadas para ${mimeType}:`, expectedSignatures.map(sig => sig.map(b => '0x' + b.toString(16).padStart(2, '0')).join(' ')));\r\n    \r\n    const isValid = expectedSignatures.some(signature => {\r\n      if (uint8Array.length < signature.length) {\r\n        console.log(`Firma muy corta: ${uint8Array.length} < ${signature.length}`);\r\n        return false;\r\n      }\r\n      \r\n      const matches = signature.every((byte, index) => uint8Array[index] === byte);\r\n      console.log(`Firma ${signature.map(b => '0x' + b.toString(16).padStart(2, '0')).join(' ')}: ${matches ? 'VLIDA' : 'INVLIDA'}`);\r\n      \r\n      if (!matches) {\r\n        console.log(`Bytes reales:`, Array.from(uint8Array.slice(0, signature.length)).map(b => '0x' + b.toString(16).padStart(2, '0')).join(' '));\r\n        console.log(`Bytes esperados:`, signature.map(b => '0x' + b.toString(16).padStart(2, '0')).join(' '));\r\n      }\r\n      \r\n      return matches;\r\n    });\r\n    \r\n    console.log(`Resultado de validacin de firma: ${isValid ? 'VLIDA' : 'INVLIDA'}`);\r\n    console.log(`=== FIN VALIDACIN DE FIRMA ===`);\r\n    \r\n    return isValid;\r\n  }\r\n\r\n  // Validar contenido de imagen (INFORMATIVO - NO BLOQUEANTE)\r\n  async validateImageContent(uint8Array, category, mimeType = 'image/jpeg') {\r\n    return new Promise((resolve) => {\r\n      console.log(`=== VALIDACIN DE IMAGEN (INFORMATIVA) ===`);\r\n      console.log(`Tipo MIME: ${mimeType}`);\r\n      console.log(`Categora: ${category}`);\r\n      \r\n      const blob = new Blob([uint8Array], { type: mimeType });\r\n      const img = new Image();\r\n      \r\n      img.onload = () => {\r\n        console.log(` Imagen cargada exitosamente: ${img.width}x${img.height}`);\r\n        \r\n        const config = this.getValidationConfig(category);\r\n        \r\n        // Validar dimensiones - SOLO ADVERTENCIAS\r\n        if (config.minDimensions) {\r\n          if (img.width < config.minDimensions.width || img.height < config.minDimensions.height) {\r\n            console.warn(` Imagen pequea: ${img.width}x${img.height} (recomendado mnimo: ${config.minDimensions.width}x${config.minDimensions.height})`);\r\n          } else {\r\n            console.log(` Dimensiones mnimas OK: ${img.width}x${img.height}`);\r\n          }\r\n        }\r\n        \r\n        if (config.maxDimensions) {\r\n          if (img.width > config.maxDimensions.width || img.height > config.maxDimensions.height) {\r\n            console.warn(` Imagen grande: ${img.width}x${img.height} (recomendado mximo: ${config.maxDimensions.width}x${config.maxDimensions.height})`);\r\n          } else {\r\n            console.log(` Dimensiones mximas OK: ${img.width}x${img.height}`);\r\n          }\r\n        }\r\n        \r\n        // Validar aspect ratio si es requerido - SOLO ADVERTENCIA\r\n        if (config.requiredAspectRatio) {\r\n          const aspectRatio = img.width / img.height;\r\n          const tolerance = 0.1;\r\n          if (Math.abs(aspectRatio - config.requiredAspectRatio) > tolerance) {\r\n            console.warn(` Aspect ratio atpico: ${aspectRatio.toFixed(2)} (recomendado: ${config.requiredAspectRatio})`);\r\n          } else {\r\n            console.log(` Aspect ratio OK: ${aspectRatio.toFixed(2)}`);\r\n          }\r\n        }\r\n        \r\n        console.log(`=== VALIDACIN DE IMAGEN COMPLETADA ===`);\r\n        resolve(true); // SIEMPRE ACEPTAR LA IMAGEN\r\n      };\r\n      \r\n      img.onerror = () => {\r\n        console.warn(` Error al cargar imagen para validacin (solo informativo)`);\r\n        console.warn(` Continuando con la subida del archivo...`);\r\n        resolve(true); // SIEMPRE ACEPTAR AUNQUE HAYA ERROR\r\n      };\r\n      \r\n      img.src = URL.createObjectURL(blob);\r\n    });\r\n  }\r\n\r\n  // Validar contenido de audio (INFORMATIVO - NO BLOQUEANTE)\r\n  async validateAudioContent(uint8Array, category, mimeType = 'audio/mp3') {\r\n    return new Promise((resolve) => {\r\n      console.log(`=== VALIDACIN DE AUDIO (INFORMATIVA) ===`);\r\n      console.log(`Tipo MIME: ${mimeType}`);\r\n      console.log(`Categora: ${category}`);\r\n      \r\n      const blob = new Blob([uint8Array], { type: mimeType });\r\n      const audio = new Audio();\r\n      \r\n      audio.onloadedmetadata = () => {\r\n        console.log(` Audio cargado exitosamente: ${audio.duration.toFixed(2)}s`);\r\n        \r\n        const config = this.getValidationConfig(category);\r\n        \r\n        // Validar duracin - SOLO ADVERTENCIAS\r\n        if (config.minDuration && audio.duration < config.minDuration) {\r\n          console.warn(` Audio corto: ${audio.duration.toFixed(2)}s (recomendado mnimo: ${config.minDuration}s)`);\r\n        } else if (config.minDuration) {\r\n          console.log(` Duracin mnima OK: ${audio.duration.toFixed(2)}s`);\r\n        }\r\n        \r\n        if (config.maxDuration && audio.duration > config.maxDuration) {\r\n          console.warn(` Audio largo: ${audio.duration.toFixed(2)}s (recomendado mximo: ${config.maxDuration}s)`);\r\n        } else if (config.maxDuration) {\r\n          console.log(` Duracin mxima OK: ${audio.duration.toFixed(2)}s`);\r\n        }\r\n        \r\n        console.log(`=== VALIDACIN DE AUDIO COMPLETADA ===`);\r\n        resolve(true); // SIEMPRE ACEPTAR EL AUDIO\r\n      };\r\n      \r\n      audio.onerror = () => {\r\n        console.warn(` Error al cargar audio para validacin (solo informativo)`);\r\n        console.warn(` Continuando con la subida del archivo...`);\r\n        resolve(true); // SIEMPRE ACEPTAR AUNQUE HAYA ERROR\r\n      };\r\n      \r\n      audio.src = URL.createObjectURL(blob);\r\n    });\r\n  }\r\n\r\n  // Validar contenido de video (INFORMATIVO - NO BLOQUEANTE)\r\n  async validateVideoContent(uint8Array, category, mimeType = 'video/mp4') {\r\n    return new Promise((resolve) => {\r\n      console.log(`=== VALIDACIN DE VIDEO (INFORMATIVA) ===`);\r\n      console.log(`Tipo MIME: ${mimeType}`);\r\n      console.log(`Categora: ${category}`);\r\n      \r\n      const blob = new Blob([uint8Array], { type: mimeType });\r\n      const video = document.createElement('video');\r\n      \r\n      video.onloadedmetadata = () => {\r\n        console.log(` Video cargado exitosamente: ${video.duration.toFixed(2)}s, ${video.videoWidth}x${video.videoHeight}`);\r\n        \r\n        const config = this.getValidationConfig(category);\r\n        \r\n        // Validar duracin - SOLO ADVERTENCIAS\r\n        if (config.minDuration && video.duration < config.minDuration) {\r\n          console.warn(` Video corto: ${video.duration.toFixed(2)}s (recomendado mnimo: ${config.minDuration}s)`);\r\n        } else if (config.minDuration) {\r\n          console.log(` Duracin mnima OK: ${video.duration.toFixed(2)}s`);\r\n        }\r\n        \r\n        if (config.maxDuration && video.duration > config.maxDuration) {\r\n          console.warn(` Video largo: ${video.duration.toFixed(2)}s (recomendado mximo: ${config.maxDuration}s)`);\r\n        } else if (config.maxDuration) {\r\n          console.log(` Duracin mxima OK: ${video.duration.toFixed(2)}s`);\r\n        }\r\n        \r\n        console.log(`=== VALIDACIN DE VIDEO COMPLETADA ===`);\r\n        resolve(true); // SIEMPRE ACEPTAR EL VIDEO\r\n      };\r\n      \r\n      video.onerror = () => {\r\n        console.warn(` Error al cargar video para validacin (solo informativo)`);\r\n        console.warn(` Continuando con la subida del archivo...`);\r\n        resolve(true); // SIEMPRE ACEPTAR AUNQUE HAYA ERROR\r\n      };\r\n      \r\n      video.src = URL.createObjectURL(blob);\r\n    });\r\n  }\r\n\r\n  // Validar tamao de archivo con lmites por categora (INFORMATIVO - NO BLOQUEANTE)\r\n  validateFileSize(file, category) {\r\n    console.log(`=== VALIDACIN DE TAMAO (INFORMATIVA) ===`);\r\n    console.log(`Archivo: ${file.name}`);\r\n    console.log(`Tamao: ${this.formatFileSize(file.size)}`);\r\n    console.log(`Categora: ${category}`);\r\n    \r\n    const config = this.getValidationConfig(category);\r\n    const maxSizeBytes = config.maxSizeMB * 1024 * 1024;\r\n    \r\n    if (file.size > maxSizeBytes) {\r\n      console.warn(` Archivo grande: ${this.formatFileSize(file.size)} (recomendado mximo: ${config.maxSizeMB}MB)`);\r\n      console.warn(` Continuando con la subida del archivo...`);\r\n    } else {\r\n      console.log(` Tamao OK: ${this.formatFileSize(file.size)} (mximo: ${config.maxSizeMB}MB)`);\r\n    }\r\n    \r\n    console.log(`=== VALIDACIN DE TAMAO COMPLETADA ===`);\r\n    return true; // SIEMPRE ACEPTAR EL ARCHIVO\r\n  }\r\n\r\n  // Validacin completa de archivo (INFORMATIVA - NO BLOQUEANTE)\r\n  async validateFile(file, category) {\r\n    console.log(`=== VALIDANDO ARCHIVO (INFORMATIVA) ===`);\r\n    console.log(`Archivo: ${file.name}`);\r\n    console.log(`Categora: ${category}`);\r\n    console.log(`Tipo: ${file.type}`);\r\n    console.log(`Tamao: ${this.formatFileSize(file.size)}`);\r\n    \r\n    try {\r\n      // 1. Validar tamao (informativo)\r\n      this.validateFileSize(file, category);\r\n      console.log(' Validacin de tamao: COMPLETADA');\r\n      \r\n      // 2. Validar tipo y contenido (informativo)\r\n      await this.validateFileType(file, category);\r\n      console.log(' Validacin de tipo y contenido: COMPLETADA');\r\n      \r\n      // 3. Validar nombre de archivo (informativo)\r\n      this.validateFileName(file.name);\r\n      console.log(' Validacin de nombre: COMPLETADA');\r\n      \r\n      console.log('=== VALIDACIN COMPLETADA - ARCHIVO ACEPTADO ===');\r\n      return true; // SIEMPRE ACEPTAR EL ARCHIVO\r\n    } catch (error) {\r\n      console.warn(` Error en validacin: ${error.message}`);\r\n      console.warn(` Continuando con la subida del archivo...`);\r\n      return true; // SIEMPRE ACEPTAR EL ARCHIVO AUNQUE HAYA ERROR\r\n    }\r\n  }\r\n\r\n  // Validar nombre de archivo (INFORMATIVO - NO BLOQUEANTE)\r\n  validateFileName(fileName) {\r\n    console.log(`=== VALIDACIN DE NOMBRE (INFORMATIVA) ===`);\r\n    console.log(`Nombre: ${fileName}`);\r\n    \r\n    // Caracteres no permitidos en nombres de archivo - SOLO ADVERTENCIA\r\n    const invalidChars = /[<>:\"/\\\\|?*\\u0000-\\u001f]/;\r\n    if (invalidChars.test(fileName)) {\r\n      console.warn(` Nombre contiene caracteres no vlidos: ${fileName}`);\r\n      console.warn(` Continuando con la subida del archivo...`);\r\n    } else {\r\n      console.log(` Nombre sin caracteres invlidos: ${fileName}`);\r\n    }\r\n    \r\n    // Longitud mxima - SOLO ADVERTENCIA\r\n    if (fileName.length > 255) {\r\n      console.warn(` Nombre largo: ${fileName.length} caracteres (recomendado mximo: 255)`);\r\n      console.warn(` Continuando con la subida del archivo...`);\r\n    } else {\r\n      console.log(` Longitud OK: ${fileName.length} caracteres`);\r\n    }\r\n    \r\n    // No puede estar vaco - SOLO ADVERTENCIA\r\n    if (fileName.trim().length === 0) {\r\n      console.warn(` Nombre vaco o solo espacios`);\r\n      console.warn(` Continuando con la subida del archivo...`);\r\n    } else {\r\n      console.log(` Nombre no vaco: ${fileName}`);\r\n    }\r\n    \r\n    // No puede empezar o terminar con punto o espacio - SOLO ADVERTENCIA\r\n    if (fileName.startsWith('.') || fileName.endsWith('.') || fileName.startsWith(' ') || fileName.endsWith(' ')) {\r\n      console.warn(` Nombre empieza/termina con punto o espacio: ${fileName}`);\r\n      console.warn(` Continuando con la subida del archivo...`);\r\n    } else {\r\n      console.log(` Formato de nombre OK: ${fileName}`);\r\n    }\r\n    \r\n    console.log(`=== VALIDACIN DE NOMBRE COMPLETADA ===`);\r\n    return true; // SIEMPRE ACEPTAR EL ARCHIVO\r\n  }\r\n\r\n  // Validar archivos existentes en IndexedDB\r\n  async validateExistingFiles() {\r\n    console.log('=== VALIDANDO ARCHIVOS EXISTENTES ===');\r\n    \r\n    try {\r\n      const allFiles = await this.assetStorage.getAllFiles();\r\n      const validationResults = {\r\n        total: allFiles.length,\r\n        valid: 0,\r\n        invalid: 0,\r\n        errors: []\r\n      };\r\n      \r\n      for (const file of allFiles) {\r\n        try {\r\n          // Crear un objeto File simulado para validacin\r\n          const mockFile = {\r\n            name: file.name,\r\n            type: file.type,\r\n            size: file.size || 0,\r\n            lastModified: new Date(file.uploadedAt).getTime()\r\n          };\r\n          \r\n          // Validar el archivo\r\n          await this.validateFile(mockFile, file.category);\r\n          validationResults.valid++;\r\n          console.log(` ${file.name}: Vlido`);\r\n        } catch (error) {\r\n          validationResults.invalid++;\r\n          validationResults.errors.push({\r\n            fileName: file.name,\r\n            category: file.category,\r\n            error: error.message\r\n          });\r\n          console.error(` ${file.name}: ${error.message}`);\r\n        }\r\n      }\r\n      \r\n      console.log('=== RESULTADOS DE VALIDACIN ===');\r\n      console.log(`Total: ${validationResults.total}`);\r\n      console.log(`Vlidos: ${validationResults.valid}`);\r\n      console.log(`Invlidos: ${validationResults.invalid}`);\r\n      \r\n      return validationResults;\r\n    } catch (error) {\r\n      console.error('Error al validar archivos existentes:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Limpiar archivos invlidos\r\n  async cleanupInvalidFiles() {\r\n    console.log('=== LIMPIANDO ARCHIVOS INVLIDOS ===');\r\n    \r\n    try {\r\n      const validationResults = await this.validateExistingFiles();\r\n      const cleanedFiles = [];\r\n      \r\n      for (const error of validationResults.errors) {\r\n        try {\r\n          // Buscar y eliminar archivo invlido\r\n          const files = await this.assetStorage.getAllFiles();\r\n          const invalidFile = files.find(f => f.name === error.fileName && f.category === error.category);\r\n          \r\n          if (invalidFile) {\r\n            await this.deleteFile(invalidFile.id);\r\n            cleanedFiles.push(error.fileName);\r\n            console.log(` Archivo invlido eliminado: ${error.fileName}`);\r\n          }\r\n        } catch (deleteError) {\r\n          console.error(`Error al eliminar archivo ${error.fileName}:`, deleteError);\r\n        }\r\n      }\r\n      \r\n      console.log(`=== LIMPIEZA COMPLETADA ===`);\r\n      console.log(`Archivos eliminados: ${cleanedFiles.length}`);\r\n      \r\n      return {\r\n        cleaned: cleanedFiles.length,\r\n        files: cleanedFiles\r\n      };\r\n    } catch (error) {\r\n      console.error('Error durante limpieza de archivos:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Obtener estadsticas de validacin\r\n  async getValidationStats() {\r\n    try {\r\n      const allFiles = await this.assetStorage.getAllFiles();\r\n      const stats = {\r\n        total: allFiles.length,\r\n        byCategory: {},\r\n        byType: {},\r\n        totalSize: 0\r\n      };\r\n      \r\n      allFiles.forEach(file => {\r\n        // Por categora\r\n        stats.byCategory[file.category] = (stats.byCategory[file.category] || 0) + 1;\r\n        \r\n        // Por tipo\r\n        stats.byType[file.type] = (stats.byType[file.type] || 0) + 1;\r\n        \r\n        // Tamao total\r\n        stats.totalSize += file.size || 0;\r\n      });\r\n      \r\n      return {\r\n        ...stats,\r\n        totalSizeFormatted: this.formatFileSize(stats.totalSize)\r\n      };\r\n    } catch (error) {\r\n      console.error('Error al obtener estadsticas:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Obtener informacin del archivo\r\n  getFileInfo(file) {\r\n    return {\r\n      name: file.name,\r\n      type: file.type,\r\n      size: file.size,\r\n      sizeFormatted: this.formatFileSize(file.size),\r\n      lastModified: new Date(file.lastModified).toISOString()\r\n    };\r\n  }\r\n\r\n  // Formatear tamao de archivo\r\n  formatFileSize(bytes) {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  }\r\n}\r\n","// Validador de referencias de archivos en el editor\r\nimport { FileManager } from './fileManager.js';\r\n\r\nexport class ReferenceValidator {\r\n  constructor() {\r\n    this.fileManager = new FileManager();\r\n    this.validationCache = new Map();\r\n    this.lastValidation = null;\r\n  }\r\n\r\n  // Validar todas las referencias en el proyecto\r\n  async validateAllReferences(projectState) {\r\n    try {\r\n      console.log(' Iniciando validacin de referencias...');\r\n      \r\n      // Obtener todos los archivos disponibles\r\n      const allFiles = await this.fileManager.getAllFiles();\r\n      const fileIds = new Set(allFiles.map(f => f.id));\r\n      const fileNames = new Map(allFiles.map(f => [f.name, f.id]));\r\n      \r\n      const brokenReferences = [];\r\n      const warnings = [];\r\n      \r\n      // Validar referencias en archivos de escena\r\n      if (projectState.sceneFiles) {\r\n        for (const sceneFile of projectState.sceneFiles) {\r\n          if (sceneFile.elements) {\r\n            for (const element of sceneFile.elements) {\r\n              const elementRefs = this.validateElementReferences(element, fileIds, fileNames);\r\n              \r\n              if (elementRefs.broken.length > 0) {\r\n                brokenReferences.push({\r\n                  sceneFileId: sceneFile.id,\r\n                  sceneFileName: sceneFile.name,\r\n                  elementId: element.id,\r\n                  elementType: element.type,\r\n                  broken: elementRefs.broken,\r\n                  warnings: elementRefs.warnings\r\n                });\r\n              }\r\n              \r\n              if (elementRefs.warnings.length > 0) {\r\n                warnings.push({\r\n                  sceneFileId: sceneFile.id,\r\n                  elementId: element.id,\r\n                  warnings: elementRefs.warnings\r\n                });\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Validar referencias en personajes\r\n      if (projectState.characters) {\r\n        for (const character of projectState.characters) {\r\n          const characterRefs = this.validateCharacterReferences(character, fileIds, fileNames);\r\n          \r\n          if (characterRefs.broken.length > 0) {\r\n            brokenReferences.push({\r\n              type: 'character',\r\n              characterId: character.id,\r\n              characterName: character.name,\r\n              broken: characterRefs.broken,\r\n              warnings: characterRefs.warnings\r\n            });\r\n          }\r\n        }\r\n      }\r\n      \r\n      const validationResult = {\r\n        isValid: brokenReferences.length === 0,\r\n        brokenReferences: brokenReferences,\r\n        warnings: warnings,\r\n        totalFiles: allFiles.length,\r\n        validatedAt: new Date().toISOString(),\r\n        summary: {\r\n          totalBroken: brokenReferences.length,\r\n          totalWarnings: warnings.length,\r\n          brokenByType: this.categorizeBrokenReferences(brokenReferences)\r\n        }\r\n      };\r\n      \r\n      // Cachear resultado\r\n      this.validationCache.set('last', validationResult);\r\n      this.lastValidation = validationResult;\r\n      \r\n      console.log(' Validacin completada:', validationResult.summary);\r\n      return validationResult;\r\n      \r\n    } catch (error) {\r\n      console.error(' Error durante validacin de referencias:', error);\r\n      return {\r\n        isValid: false,\r\n        error: error.message,\r\n        brokenReferences: [],\r\n        warnings: [],\r\n        validatedAt: new Date().toISOString()\r\n      };\r\n    }\r\n  }\r\n\r\n  // Validar referencias de un elemento especfico\r\n  validateElementReferences(element, fileIds, fileNames) {\r\n    const broken = [];\r\n    const warnings = [];\r\n    \r\n    // Validar fondo\r\n    if (element.background) {\r\n      if (!fileIds.has(element.background)) {\r\n        // Buscar por nombre como fallback\r\n        const foundByName = this.findFileByName(element.background, fileNames);\r\n        if (foundByName) {\r\n          warnings.push({\r\n            type: 'background',\r\n            reference: element.background,\r\n            suggestion: `Usar ID: ${foundByName} en lugar de nombre`,\r\n            fix: foundByName\r\n          });\r\n        } else {\r\n          broken.push({\r\n            type: 'background',\r\n            reference: element.background,\r\n            message: 'Archivo de fondo no encontrado'\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Validar sprite\r\n    if (element.sprite) {\r\n      if (!fileIds.has(element.sprite)) {\r\n        const foundByName = this.findFileByName(element.sprite, fileNames);\r\n        if (foundByName) {\r\n          warnings.push({\r\n            type: 'sprite',\r\n            reference: element.sprite,\r\n            suggestion: `Usar ID: ${foundByName} en lugar de nombre`,\r\n            fix: foundByName\r\n          });\r\n        } else {\r\n          broken.push({\r\n            type: 'sprite',\r\n            reference: element.sprite,\r\n            message: 'Archivo de sprite no encontrado'\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Validar msica\r\n    if (element.music) {\r\n      if (!fileIds.has(element.music)) {\r\n        const foundByName = this.findFileByName(element.music, fileNames);\r\n        if (foundByName) {\r\n          warnings.push({\r\n            type: 'music',\r\n            reference: element.music,\r\n            suggestion: `Usar ID: ${foundByName} en lugar de nombre`,\r\n            fix: foundByName\r\n          });\r\n        } else {\r\n          broken.push({\r\n            type: 'music',\r\n            reference: element.music,\r\n            message: 'Archivo de msica no encontrado'\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Validar sonido\r\n    if (element.sound) {\r\n      if (!fileIds.has(element.sound)) {\r\n        const foundByName = this.findFileByName(element.sound, fileNames);\r\n        if (foundByName) {\r\n          warnings.push({\r\n            type: 'sound',\r\n            reference: element.sound,\r\n            suggestion: `Usar ID: ${foundByName} en lugar de nombre`,\r\n            fix: foundByName\r\n          });\r\n        } else {\r\n          broken.push({\r\n            type: 'sound',\r\n            reference: element.sound,\r\n            message: 'Archivo de sonido no encontrado'\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Validar video\r\n    if (element.video) {\r\n      if (!fileIds.has(element.video)) {\r\n        const foundByName = this.findFileByName(element.video, fileNames);\r\n        if (foundByName) {\r\n          warnings.push({\r\n            type: 'video',\r\n            reference: element.video,\r\n            suggestion: `Usar ID: ${foundByName} en lugar de nombre`,\r\n            fix: foundByName\r\n          });\r\n        } else {\r\n          broken.push({\r\n            type: 'video',\r\n            reference: element.video,\r\n            message: 'Archivo de video no encontrado'\r\n          });\r\n        }\r\n      }\r\n    }\r\n    \r\n    return { broken, warnings };\r\n  }\r\n\r\n  // Validar referencias de un personaje\r\n  validateCharacterReferences(character, fileIds, fileNames) {\r\n    const broken = [];\r\n    const warnings = [];\r\n    \r\n    // Validar sprites del personaje\r\n    if (character.sprites && Array.isArray(character.sprites)) {\r\n      for (const sprite of character.sprites) {\r\n        if (sprite.fileId && !fileIds.has(sprite.fileId)) {\r\n          const foundByName = this.findFileByName(sprite.name, fileNames);\r\n          if (foundByName) {\r\n            warnings.push({\r\n              type: 'character_sprite',\r\n              reference: sprite.fileId,\r\n              spriteName: sprite.name,\r\n              suggestion: `Usar ID: ${foundByName} en lugar de nombre`,\r\n              fix: foundByName\r\n            });\r\n          } else {\r\n            broken.push({\r\n              type: 'character_sprite',\r\n              reference: sprite.fileId,\r\n              spriteName: sprite.name,\r\n              message: 'Sprite de personaje no encontrado'\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    return { broken, warnings };\r\n  }\r\n\r\n  // Buscar archivo por nombre\r\n  findFileByName(fileName, fileNames) {\r\n    // Buscar coincidencia exacta\r\n    if (fileNames.has(fileName)) {\r\n      return fileNames.get(fileName);\r\n    }\r\n    \r\n    // Buscar coincidencia parcial (sin extensin)\r\n    const nameWithoutExt = fileName.replace(/\\.[^/.]+$/, '');\r\n    for (const [name, id] of fileNames) {\r\n      if (name.replace(/\\.[^/.]+$/, '') === nameWithoutExt) {\r\n        return id;\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  }\r\n\r\n  // Categorizar referencias rotas por tipo\r\n  categorizeBrokenReferences(brokenReferences) {\r\n    const categories = {\r\n      background: 0,\r\n      sprite: 0,\r\n      music: 0,\r\n      sound: 0,\r\n      video: 0,\r\n      character_sprite: 0,\r\n      element: 0,\r\n      character: 0\r\n    };\r\n    \r\n    brokenReferences.forEach(ref => {\r\n      if (ref.type === 'character') {\r\n        categories.character++;\r\n      } else if (ref.elementType) {\r\n        categories.element++;\r\n        ref.broken.forEach(broken => {\r\n          if (categories.hasOwnProperty(broken.type)) {\r\n            categories[broken.type]++;\r\n          }\r\n        });\r\n      }\r\n    });\r\n    \r\n    return categories;\r\n  }\r\n\r\n  // Limpiar referencias rotas automticamente\r\n  async cleanupBrokenReferences(projectState, options = {}) {\r\n    try {\r\n      console.log(' Iniciando limpieza automtica de referencias rotas...');\r\n      \r\n      const {\r\n        removeBroken = true,\r\n        fixWarnings = false,\r\n        dryRun = false\r\n      } = options;\r\n      \r\n      const validation = await this.validateAllReferences(projectState);\r\n      \r\n      if (validation.isValid) {\r\n        console.log(' No se encontraron referencias rotas para limpiar');\r\n        return { cleaned: 0, fixed: 0, removed: 0 };\r\n      }\r\n      \r\n      let cleaned = 0;\r\n      let fixed = 0;\r\n      let removed = 0;\r\n      \r\n      // Crear copia del estado para modificar\r\n      const updatedState = JSON.parse(JSON.stringify(projectState));\r\n      \r\n      // Limpiar referencias en elementos\r\n      if (updatedState.sceneFiles) {\r\n        for (const sceneFile of updatedState.sceneFiles) {\r\n          if (sceneFile.elements) {\r\n            for (const element of sceneFile.elements) {\r\n              const elementRefs = validation.brokenReferences.find(\r\n                ref => ref.elementId === element.id\r\n              );\r\n              \r\n              if (elementRefs) {\r\n                // Limpiar referencias rotas\r\n                if (removeBroken) {\r\n                  elementRefs.broken.forEach(broken => {\r\n                    if (broken.type === 'background') {\r\n                      element.background = null;\r\n                      removed++;\r\n                    } else if (broken.type === 'sprite') {\r\n                      element.sprite = null;\r\n                      element.showSprite = false;\r\n                      removed++;\r\n                    } else if (broken.type === 'music') {\r\n                      element.music = null;\r\n                      removed++;\r\n                    } else if (broken.type === 'sound') {\r\n                      element.sound = null;\r\n                      removed++;\r\n                    } else if (broken.type === 'video') {\r\n                      element.video = null;\r\n                      removed++;\r\n                    }\r\n                  });\r\n                }\r\n                \r\n                // Corregir advertencias\r\n                if (fixWarnings) {\r\n                  elementRefs.warnings.forEach(warning => {\r\n                    if (warning.fix) {\r\n                      if (warning.type === 'background') {\r\n                        element.background = warning.fix;\r\n                        fixed++;\r\n                      } else if (warning.type === 'sprite') {\r\n                        element.sprite = warning.fix;\r\n                        fixed++;\r\n                      } else if (warning.type === 'music') {\r\n                        element.music = warning.fix;\r\n                        fixed++;\r\n                      } else if (warning.type === 'sound') {\r\n                        element.sound = warning.fix;\r\n                        fixed++;\r\n                      } else if (warning.type === 'video') {\r\n                        element.video = warning.fix;\r\n                        fixed++;\r\n                      }\r\n                    }\r\n                  });\r\n                }\r\n                \r\n                cleaned++;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Limpiar referencias en personajes\r\n      if (updatedState.characters) {\r\n        for (const character of updatedState.characters) {\r\n          const characterRefs = validation.brokenReferences.find(\r\n            ref => ref.characterId === character.id\r\n          );\r\n          \r\n          if (characterRefs) {\r\n            if (removeBroken && character.sprites) {\r\n              character.sprites = character.sprites.filter(sprite => {\r\n                const isBroken = characterRefs.broken.some(\r\n                  broken => broken.type === 'character_sprite' && broken.reference === sprite.fileId\r\n                );\r\n                if (isBroken) {\r\n                  removed++;\r\n                  return false;\r\n                }\r\n                return true;\r\n              });\r\n            }\r\n            \r\n            if (fixWarnings && character.sprites) {\r\n              character.sprites.forEach(sprite => {\r\n                const warning = characterRefs.warnings.find(\r\n                  w => w.type === 'character_sprite' && w.reference === sprite.fileId\r\n                );\r\n                if (warning && warning.fix) {\r\n                  sprite.fileId = warning.fix;\r\n                  fixed++;\r\n                }\r\n              });\r\n            }\r\n            \r\n            cleaned++;\r\n          }\r\n        }\r\n      }\r\n      \r\n      const result = {\r\n        cleaned,\r\n        fixed,\r\n        removed,\r\n        dryRun,\r\n        updatedState: dryRun ? null : updatedState\r\n      };\r\n      \r\n      if (!dryRun) {\r\n        console.log(` Limpieza completada: ${cleaned} elementos, ${fixed} corregidos, ${removed} eliminados`);\r\n      } else {\r\n        console.log(` Simulacin completada: ${cleaned} elementos, ${fixed} corregidos, ${removed} eliminados`);\r\n      }\r\n      \r\n      return result;\r\n      \r\n    } catch (error) {\r\n      console.error(' Error durante limpieza de referencias:', error);\r\n      return { error: error.message, cleaned: 0, fixed: 0, removed: 0 };\r\n    }\r\n  }\r\n\r\n  // Obtener estadsticas de validacin\r\n  getValidationStats() {\r\n    if (!this.lastValidation) {\r\n      return null;\r\n    }\r\n    \r\n    return {\r\n      lastValidation: this.lastValidation.validatedAt,\r\n      totalBroken: this.lastValidation.summary.totalBroken,\r\n      totalWarnings: this.lastValidation.summary.totalWarnings,\r\n      brokenByType: this.lastValidation.summary.brokenByType,\r\n      isValid: this.lastValidation.isValid\r\n    };\r\n  }\r\n\r\n  // Limpiar cach de validacin\r\n  clearCache() {\r\n    this.validationCache.clear();\r\n    this.lastValidation = null;\r\n    console.log(' Cach de validacin limpiada');\r\n  }\r\n}\r\n","import React, { createContext, useContext, useReducer, useEffect, useState, useMemo } from 'react';\r\nimport { ProjectStorage } from '../utils/projectStorage';\r\nimport { FileManager } from '../utils/fileManager';\r\nimport { ReferenceValidator } from '../utils/referenceValidator';\r\nimport { useAutoSave } from '../hooks/useAutoSave';\r\n\r\n// Tipos de elementos de la novela visual\r\nexport const ELEMENT_TYPES = {\r\n  DIALOGUE: 'dialogue',\r\n  NARRATION: 'narration',\r\n  CHARACTER: 'character',\r\n  SCENE: 'scene',\r\n  CHOICE: 'choice',\r\n  JUMP: 'jump',\r\n  LABEL: 'label',\r\n  CONDITION: 'condition',\r\n  VARIABLE: 'variable',\r\n  FLAG: 'flag',\r\n  VIDEO: 'video',\r\n  MOVIE_SPRITE: 'movie_sprite',\r\n  MOVIE_CUTSCENE: 'movie_cutscene'\r\n};\r\n\r\n// Funcin para verificar si el proyecto est vaco\r\nexport const isProjectEmpty = (project) => {\r\n  return !project.name && \r\n         (!project.characters || project.characters.length === 0) &&\r\n         (!project.sceneFiles || project.sceneFiles.every(file => !file.elements || file.elements.length === 0)) &&\r\n         (!project.variables || project.variables.length === 0) &&\r\n         (!project.flags || project.flags.length === 0);\r\n};\r\n\r\n// Funcin para crear un estado completamente limpio\r\nconst createCleanState = () => ({\r\n  project: {\r\n    name: '',\r\n    version: '1.0.1',\r\n    author: '',\r\n    description: '',\r\n    characters: [],\r\n    scenes: [],\r\n    script: [],\r\n    sceneFiles: [\r\n      {\r\n        id: 'script',\r\n        name: 'script.rpy',\r\n        displayName: 'Script Principal',\r\n        isMain: true,\r\n        elements: []\r\n      }\r\n    ],\r\n    currentSceneFile: 'script',\r\n    // Variables y flags del proyecto\r\n    variables: [],\r\n    flags: [],\r\n    // Configuracin del protagonista\r\n    protagonistConfig: {\r\n      enabled: false,\r\n      defaultName: 'Jugador',\r\n      promptText: 'Por favor, introduce tu nombre:',\r\n      showConfirmation: true,\r\n      allowEmpty: false\r\n    },\r\n    // Configuracin avanzada\r\n    advancedConfig: {\r\n      screenWidth: 1280,\r\n      screenHeight: 720,\r\n      accentColor: '#0099cc',\r\n      idleColor: '#888888',\r\n      hoverColor: '#66c1e0',\r\n      selectedColor: '#ffffff',\r\n      textColor: '#ffffff',\r\n      textFont: 'DejaVuSans.ttf',\r\n      nameFont: 'DejaVuSans.ttf',\r\n      interfaceFont: 'DejaVuSans.ttf',\r\n      textSize: 22,\r\n      nameTextSize: 30,\r\n      interfaceTextSize: 22,\r\n      textboxHeight: 185,\r\n      textboxYAlign: 1.0,\r\n      nameXPos: 240,\r\n      nameYPos: 0,\r\n      dialogueXPos: 268,\r\n      dialogueYPos: 50,\r\n      dialogueWidth: 744,\r\n      buttonWidth: null,\r\n      buttonHeight: null,\r\n      choiceButtonWidth: 790,\r\n      hasSound: true,\r\n      hasMusic: true,\r\n      hasVoice: true,\r\n      enterTransition: 'dissolve',\r\n      exitTransition: 'dissolve',\r\n      intraTransition: 'dissolve',\r\n      windowMode: 'auto',\r\n      historyLength: 250,\r\n      historyHeight: 140,\r\n      saveDirectory: '',\r\n      thumbnailWidth: 256,\r\n      thumbnailHeight: 144,\r\n      fileSlotCols: 3,\r\n      fileSlotRows: 2,\r\n      language: 'unicode',\r\n      buildName: '',\r\n      googlePlayKey: '',\r\n      itchProject: ''\r\n    }\r\n  },\r\n  currentScene: null,\r\n  selectedElement: null,\r\n  previewMode: false,\r\n  isPlaying: false,\r\n  theme: 'dark-default',\r\n  // Nuevos campos para validacin de integridad\r\n  integrity: {\r\n    isValid: true,\r\n    lastValidation: null,\r\n    brokenReferences: [],\r\n    warnings: [],\r\n    autoValidation: false, // DESHABILITADO POR DEFECTO para evitar lag\r\n    validationInterval: 300000 // 5 minutos\r\n  }\r\n});\r\n\r\n// Estado inicial del proyecto\r\nconst initialState = createCleanState();\r\n\r\n// Acciones del reducer\r\nexport const ACTIONS = {\r\n  SET_PROJECT_NAME: 'SET_PROJECT_NAME',\r\n  SET_PROJECT_AUTHOR: 'SET_PROJECT_AUTHOR',\r\n  SET_PROJECT_DESCRIPTION: 'SET_PROJECT_DESCRIPTION',\r\n  UPDATE_PROJECT_CONFIG: 'UPDATE_PROJECT_CONFIG',\r\n  ADD_CHARACTER: 'ADD_CHARACTER',\r\n  UPDATE_CHARACTER: 'UPDATE_CHARACTER',\r\n  DELETE_CHARACTER: 'DELETE_CHARACTER',\r\n  CLEAN_CHARACTER_REFERENCES: 'CLEAN_CHARACTER_REFERENCES',\r\n  ADD_SCENE: 'ADD_SCENE',\r\n  UPDATE_SCENE: 'UPDATE_SCENE',\r\n  DELETE_SCENE: 'DELETE_SCENE',\r\n  ADD_SCRIPT_ELEMENT: 'ADD_SCRIPT_ELEMENT',\r\n  UPDATE_SCRIPT_ELEMENT: 'UPDATE_SCRIPT_ELEMENT',\r\n  DELETE_SCRIPT_ELEMENT: 'DELETE_SCRIPT_ELEMENT',\r\n  SET_CURRENT_SCENE: 'SET_CURRENT_SCENE',\r\n  SET_SELECTED_ELEMENT: 'SET_SELECTED_ELEMENT',\r\n  SET_PREVIEW_MODE: 'SET_PREVIEW_MODE',\r\n  // Nuevas acciones para validacin de integridad\r\n  UPDATE_INTEGRITY_STATUS: 'UPDATE_INTEGRITY_STATUS',\r\n  SET_BROKEN_REFERENCES: 'SET_BROKEN_REFERENCES',\r\n  CLEAN_BROKEN_REFERENCES: 'CLEAN_BROKEN_REFERENCES',\r\n  TOGGLE_AUTO_VALIDATION: 'TOGGLE_AUTO_VALIDATION',\r\n  SET_PLAYING: 'SET_PLAYING',\r\n  LOAD_PROJECT: 'LOAD_PROJECT',\r\n  LOAD_FULL_STATE: 'LOAD_FULL_STATE',\r\n  NEW_PROJECT: 'NEW_PROJECT',\r\n  RESET_TO_CLEAN_STATE: 'RESET_TO_CLEAN_STATE',\r\n  // Nuevas acciones para archivos de escenas\r\n  ADD_SCENE_FILE: 'ADD_SCENE_FILE',\r\n  UPDATE_SCENE_FILE: 'UPDATE_SCENE_FILE',\r\n  DELETE_SCENE_FILE: 'DELETE_SCENE_FILE',\r\n  SET_CURRENT_SCENE_FILE: 'SET_CURRENT_SCENE_FILE',\r\n  ADD_SCENE_FILE_ELEMENT: 'ADD_SCENE_FILE_ELEMENT',\r\n  ADD_SCENE_FILE_ELEMENT_AT_INDEX: 'ADD_SCENE_FILE_ELEMENT_AT_INDEX',\r\n  UPDATE_SCENE_FILE_ELEMENT: 'UPDATE_SCENE_FILE_ELEMENT',\r\n  DELETE_SCENE_FILE_ELEMENT: 'DELETE_SCENE_FILE_ELEMENT',\r\n  // Acciones para variables y flags\r\n  ADD_VARIABLE: 'ADD_VARIABLE',\r\n  UPDATE_VARIABLE: 'UPDATE_VARIABLE',\r\n  DELETE_VARIABLE: 'DELETE_VARIABLE',\r\n  ADD_FLAG: 'ADD_FLAG',\r\n  UPDATE_FLAG: 'UPDATE_FLAG',\r\n  DELETE_FLAG: 'DELETE_FLAG',\r\n  SET_THEME: 'SET_THEME',\r\n  // Acciones para configuracin del protagonista\r\n  SET_PROTAGONIST_CONFIG: 'SET_PROTAGONIST_CONFIG',\r\n  TOGGLE_PROTAGONIST: 'TOGGLE_PROTAGONIST'\r\n};\r\n\r\n// Reducer para manejar el estado\r\nfunction visualNovelReducer(state, action) {\r\n  switch (action.type) {\r\n    case ACTIONS.SET_PROJECT_NAME:\r\n      return {\r\n        ...state,\r\n        project: { ...state.project, name: action.payload }\r\n      };\r\n    \r\n    case ACTIONS.SET_PROJECT_AUTHOR:\r\n      return {\r\n        ...state,\r\n        project: { ...state.project, author: action.payload }\r\n      };\r\n    \r\n    case ACTIONS.SET_PROJECT_DESCRIPTION:\r\n      return {\r\n        ...state,\r\n        project: { ...state.project, description: action.payload }\r\n      };\r\n    \r\n    case ACTIONS.UPDATE_PROJECT_CONFIG:\r\n      return {\r\n        ...state,\r\n        project: { \r\n          ...state.project, \r\n          ...action.payload,\r\n          advancedConfig: { ...state.project.advancedConfig, ...action.payload.advancedConfig }\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.ADD_CHARACTER:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          characters: [...state.project.characters, action.payload]\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.UPDATE_CHARACTER:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          characters: state.project.characters.map(char =>\r\n            char.id === action.payload.id ? action.payload : char\r\n          )\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.DELETE_CHARACTER:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          characters: state.project.characters.filter(char => char.id !== action.payload)\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.CLEAN_CHARACTER_REFERENCES:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: action.payload\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.ADD_SCENE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          scenes: [...state.project.scenes, action.payload]\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.UPDATE_SCENE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          scenes: state.project.scenes.map(scene =>\r\n            scene.id === action.payload.id ? action.payload : scene\r\n          )\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.DELETE_SCENE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          scenes: state.project.scenes.filter(scene => scene.id !== action.payload)\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.ADD_SCRIPT_ELEMENT:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          script: [...state.project.script, action.payload]\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.UPDATE_SCRIPT_ELEMENT:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          script: state.project.script.map(element =>\r\n            element.id === action.payload.id ? action.payload : element\r\n          )\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.DELETE_SCRIPT_ELEMENT:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          script: state.project.script.filter(element => element.id !== action.payload)\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.SET_CURRENT_SCENE:\r\n      return {\r\n        ...state,\r\n        currentScene: action.payload\r\n      };\r\n    \r\n    case ACTIONS.SET_SELECTED_ELEMENT:\r\n      return {\r\n        ...state,\r\n        selectedElement: action.payload\r\n      };\r\n    \r\n    case ACTIONS.SET_PREVIEW_MODE:\r\n      return {\r\n        ...state,\r\n        previewMode: action.payload\r\n      };\r\n    \r\n    case ACTIONS.SET_PLAYING:\r\n      return {\r\n        ...state,\r\n        isPlaying: action.payload\r\n      };\r\n    \r\n    // Nuevos casos para validacin de integridad\r\n    case ACTIONS.UPDATE_INTEGRITY_STATUS:\r\n      return {\r\n        ...state,\r\n        integrity: {\r\n          ...state.integrity,\r\n          ...action.payload,\r\n          lastValidation: new Date().toISOString()\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.SET_BROKEN_REFERENCES:\r\n      return {\r\n        ...state,\r\n        integrity: {\r\n          ...state.integrity,\r\n          brokenReferences: action.payload,\r\n          isValid: action.payload.length === 0,\r\n          lastValidation: new Date().toISOString()\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.CLEAN_BROKEN_REFERENCES:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: action.payload\r\n        },\r\n        integrity: {\r\n          ...state.integrity,\r\n          brokenReferences: [],\r\n          isValid: true,\r\n          lastValidation: new Date().toISOString()\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.TOGGLE_AUTO_VALIDATION:\r\n      return {\r\n        ...state,\r\n        integrity: {\r\n          ...state.integrity,\r\n          autoValidation: action.payload\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.LOAD_PROJECT:\r\n      return {\r\n        ...state,\r\n        project: action.payload,\r\n        currentScene: null,\r\n        selectedElement: null\r\n      };\r\n    \r\n    case ACTIONS.LOAD_FULL_STATE:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    \r\n    case ACTIONS.NEW_PROJECT:\r\n      return initialState;\r\n    \r\n    case ACTIONS.RESET_TO_CLEAN_STATE:\r\n      console.log(' Reseteando a estado completamente limpio');\r\n      return createCleanState();\r\n    \r\n    // Nuevos casos para archivos de escenas\r\n    case ACTIONS.ADD_SCENE_FILE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: [...state.project.sceneFiles, action.payload]\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.UPDATE_SCENE_FILE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: state.project.sceneFiles.map(file =>\r\n            file.id === action.payload.id ? action.payload : file\r\n          )\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.DELETE_SCENE_FILE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: state.project.sceneFiles.filter(file => file.id !== action.payload),\r\n          currentSceneFile: state.project.currentSceneFile === action.payload ? 'script' : state.project.currentSceneFile\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.SET_CURRENT_SCENE_FILE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          currentSceneFile: action.payload\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.ADD_SCENE_FILE_ELEMENT:\r\n      console.log('Reducer - ADD_SCENE_FILE_ELEMENT ejecutado');\r\n      console.log('Reducer - payload:', action.payload);\r\n      console.log('Reducer - sceneFiles antes:', state.project.sceneFiles);\r\n      \r\n      const newState = {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: state.project.sceneFiles.map(file => {\r\n            if (file.id === action.payload.sceneFileId) {\r\n              console.log('Reducer - actualizando archivo:', file.id);\r\n              console.log('Reducer - elementos antes:', file.elements);\r\n              const updatedFile = { ...file, elements: [...file.elements, action.payload.element] };\r\n              console.log('Reducer - elementos despus:', updatedFile.elements);\r\n              return updatedFile;\r\n            }\r\n            return file;\r\n          })\r\n        }\r\n      };\r\n      \r\n      console.log('Reducer - nuevo estado:', newState);\r\n      return newState;\r\n    \r\n    case ACTIONS.ADD_SCENE_FILE_ELEMENT_AT_INDEX:\r\n      console.log('Reducer - ADD_SCENE_FILE_ELEMENT_AT_INDEX ejecutado');\r\n      console.log('Reducer - payload:', action.payload);\r\n      \r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: state.project.sceneFiles.map(file => {\r\n            if (file.id === action.payload.sceneFileId) {\r\n              const newElements = [...file.elements];\r\n              const insertIndex = action.payload.insertIndex !== null ? action.payload.insertIndex : newElements.length;\r\n              \r\n              // Insertar el elemento en la posicin especificada\r\n              newElements.splice(insertIndex, 0, action.payload.element);\r\n              \r\n              return { ...file, elements: newElements };\r\n            }\r\n            return file;\r\n          })\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.UPDATE_SCENE_FILE_ELEMENT:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: state.project.sceneFiles.map(file =>\r\n            file.id === action.payload.sceneFileId\r\n              ? {\r\n                  ...file,\r\n                  elements: file.elements.map(element =>\r\n                    element.id === action.payload.element.id ? action.payload.element : element\r\n                  )\r\n                }\r\n              : file\r\n          )\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.DELETE_SCENE_FILE_ELEMENT:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          sceneFiles: state.project.sceneFiles.map(file =>\r\n            file.id === action.payload.sceneFileId\r\n              ? { ...file, elements: file.elements.filter(element => element.id !== action.payload.elementId) }\r\n              : file\r\n          )\r\n        }\r\n      };\r\n    \r\n    // Casos para variables\r\n    case ACTIONS.ADD_VARIABLE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          variables: [...state.project.variables, action.payload]\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.UPDATE_VARIABLE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          variables: state.project.variables.map(variable =>\r\n            variable.id === action.payload.id ? action.payload : variable\r\n          )\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.DELETE_VARIABLE:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          variables: state.project.variables.filter(variable => variable.id !== action.payload)\r\n        }\r\n      };\r\n    \r\n    // Casos para flags\r\n    case ACTIONS.ADD_FLAG:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          flags: [...state.project.flags, action.payload]\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.UPDATE_FLAG:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          flags: state.project.flags.map(flag =>\r\n            flag.id === action.payload.id ? action.payload : flag\r\n          )\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.DELETE_FLAG:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          flags: state.project.flags.filter(flag => flag.id !== action.payload)\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.SET_THEME:\r\n      return {\r\n        ...state,\r\n        theme: action.payload\r\n      };\r\n    \r\n    case ACTIONS.SET_PROTAGONIST_CONFIG:\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          protagonistConfig: {\r\n            ...state.project.protagonistConfig,\r\n            ...action.payload\r\n          }\r\n        }\r\n      };\r\n    \r\n    case ACTIONS.TOGGLE_PROTAGONIST:\r\n      const newEnabled = !state.project.protagonistConfig.enabled;\r\n      return {\r\n        ...state,\r\n        project: {\r\n          ...state.project,\r\n          protagonistConfig: {\r\n            ...state.project.protagonistConfig,\r\n            enabled: newEnabled\r\n          },\r\n          // Si se activa, crear automticamente el personaje protagonista\r\n          characters: newEnabled && !state.project.characters.find(char => char.id === 'mc') \r\n            ? [...state.project.characters, {\r\n                id: 'mc',\r\n                name: 'Protagonista',\r\n                displayName: 'Protagonista',\r\n                renpyName: 'mc_name',\r\n                isProtagonist: true,\r\n                isPlayerControlled: true,\r\n                color: '#ff6b6b',\r\n                who_color: '#ffffff',\r\n                what_color: '#ffffff',\r\n                sprites: []\r\n              }]\r\n            : state.project.characters\r\n        }\r\n      };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Crear el contexto\r\nconst VisualNovelContext = createContext();\r\n\r\n// Provider del contexto\r\nexport function VisualNovelProvider({ children }) {\r\n  const [state, dispatch] = useReducer(visualNovelReducer, initialState);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [saveStatus, setSaveStatus] = useState('saved'); // 'saved', 'saving', 'error'\r\n  // Usar useMemo para evitar recrear objetos en cada render\r\n  const storage = useMemo(() => new ProjectStorage(), []);\r\n  const fileManager = useMemo(() => new FileManager(), []);\r\n  const referenceValidator = useMemo(() => new ReferenceValidator(), []);\r\n\r\n  // Cargar estado completo guardado al inicializar\r\n  useEffect(() => {\r\n    const loadSavedState = async () => {\r\n      try {\r\n        console.log(' Cargando estado guardado...');\r\n        \r\n        // Verificar integridad de datos primero\r\n        const integrityCheck = storage.checkDataIntegrity();\r\n        if (!integrityCheck.isValid) {\r\n          console.warn(' Problemas de integridad detectados:', integrityCheck.issues);\r\n          \r\n          // Limpiar datos corruptos automticamente\r\n          const cleanedCount = storage.cleanupCorruptedData();\r\n          if (cleanedCount > 0) {\r\n            console.log(` ${cleanedCount} elementos corruptos eliminados automticamente`);\r\n          }\r\n        }\r\n        \r\n        // Intentar cargar estado completo primero\r\n        const savedState = storage.loadFullState();\r\n        \r\n        if (savedState) {\r\n          console.log(' Estado completo cargado exitosamente');\r\n          dispatch({\r\n            type: 'LOAD_FULL_STATE',\r\n            payload: savedState\r\n          });\r\n        } else {\r\n          // Si no hay estado completo, intentar cargar proyecto guardado\r\n          const savedProject = storage.loadCurrentProject();\r\n          \r\n          if (savedProject) {\r\n            console.log(' Proyecto guardado cargado exitosamente');\r\n            dispatch({\r\n              type: 'LOAD_PROJECT',\r\n              payload: savedProject\r\n            });\r\n          } else {\r\n            console.log(' No se encontr estado guardado, usando estado inicial');\r\n            // Mantener el estado inicial\r\n          }\r\n        }\r\n        \r\n        console.log(' Recuperacin automtica completada');\r\n      } catch (error) {\r\n        console.error(' Error al cargar estado:', error);\r\n        // En caso de error, mantener el estado inicial\r\n        console.log(' Usando estado inicial debido a error de carga');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadSavedState();\r\n  }, [storage]);\r\n\r\n  // Usar hook personalizado para guardado automtico\r\n  useAutoSave(state, storage, isLoading, setSaveStatus);\r\n\r\n  // Validacin automtica de integridad (OPTIMIZADA Y DESHABILITADA POR DEFECTO)\r\n  useEffect(() => {\r\n    // DESHABILITAR validacin automtica por defecto para evitar lag\r\n    if (!state.integrity.autoValidation) return;\r\n\r\n    const validateIntegrity = async () => {\r\n      try {\r\n        // Solo validar si hay cambios significativos en el proyecto\r\n        if (!state.project.name || state.project.sceneFiles.length === 0) {\r\n          return; // No validar proyectos vacos\r\n        }\r\n        \r\n        console.log(' Ejecutando validacin automtica de integridad...');\r\n        \r\n        // Validar referencias\r\n        const validation = await referenceValidator.validateAllReferences(state.project);\r\n        \r\n        // Actualizar estado con resultados\r\n        dispatch({\r\n          type: ACTIONS.UPDATE_INTEGRITY_STATUS,\r\n          payload: {\r\n            isValid: validation.isValid,\r\n            brokenReferences: validation.brokenReferences,\r\n            warnings: validation.warnings,\r\n            summary: validation.summary\r\n          }\r\n        });\r\n\r\n        // Solo limpiar automticamente si hay pocas referencias rotas\r\n        if (!validation.isValid && validation.brokenReferences.length > 0 && validation.brokenReferences.length <= 3) {\r\n          console.log(' Limpiando referencias rotas automticamente...');\r\n          const cleanupResult = await referenceValidator.cleanupBrokenReferences(state.project, {\r\n            removeBroken: true,\r\n            fixWarnings: false,\r\n            dryRun: false\r\n          });\r\n          \r\n          if (cleanupResult.cleaned > 0) {\r\n            dispatch({\r\n              type: ACTIONS.CLEAN_BROKEN_REFERENCES,\r\n              payload: cleanupResult.updatedState.sceneFiles\r\n            });\r\n            console.log(` ${cleanupResult.cleaned} referencias rotas limpiadas automticamente`);\r\n          }\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error(' Error durante validacin automtica:', error);\r\n        dispatch({\r\n          type: ACTIONS.UPDATE_INTEGRITY_STATUS,\r\n          payload: {\r\n            isValid: false,\r\n            error: error.message\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    // Ejecutar validacin inicial con delay para evitar lag al cargar\r\n    const initialTimeout = setTimeout(validateIntegrity, 10000); // 10 segundos despus de cargar\r\n\r\n    // Configurar intervalo de validacin menos frecuente (cada 5 minutos)\r\n    const interval = setInterval(validateIntegrity, 300000); // 5 minutos\r\n\r\n    return () => {\r\n      clearTimeout(initialTimeout);\r\n      clearInterval(interval);\r\n    };\r\n  }, [state.integrity.autoValidation, state.project.name, referenceValidator]);\r\n\r\n  // Guardar antes de cerrar la pgina\r\n  useEffect(() => {\r\n    const handleBeforeUnload = (e) => {\r\n      if (state.project.name) {\r\n        console.log(' Guardando estado antes de cerrar...');\r\n        storage.saveFullState(state);\r\n      }\r\n    };\r\n\r\n    const handleVisibilityChange = () => {\r\n      if (document.hidden && state.project.name) {\r\n        console.log(' Guardando estado al cambiar pestaa...');\r\n        storage.saveFullState(state);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n    };\r\n  }, [state, storage]);\r\n\r\n  // Funcin para validacin manual\r\n  const validateProjectIntegrity = async () => {\r\n    try {\r\n      console.log(' Ejecutando validacin manual de integridad...');\r\n      \r\n      const validation = await referenceValidator.validateAllReferences(state.project);\r\n      \r\n      dispatch({\r\n        type: ACTIONS.UPDATE_INTEGRITY_STATUS,\r\n        payload: {\r\n          isValid: validation.isValid,\r\n          brokenReferences: validation.brokenReferences,\r\n          warnings: validation.warnings,\r\n          summary: validation.summary\r\n        }\r\n      });\r\n\r\n      return validation;\r\n    } catch (error) {\r\n      console.error(' Error durante validacin manual:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Funcin para limpiar referencias rotas manualmente\r\n  const cleanupBrokenReferences = async (options = {}) => {\r\n    try {\r\n      console.log(' Ejecutando limpieza manual de referencias rotas...');\r\n      \r\n      const cleanupResult = await referenceValidator.cleanupBrokenReferences(state.project, {\r\n        removeBroken: true,\r\n        fixWarnings: false,\r\n        dryRun: false,\r\n        ...options\r\n      });\r\n\r\n      if (cleanupResult.cleaned > 0) {\r\n        dispatch({\r\n          type: ACTIONS.CLEAN_BROKEN_REFERENCES,\r\n          payload: cleanupResult.updatedState.sceneFiles\r\n        });\r\n      }\r\n\r\n      return cleanupResult;\r\n    } catch (error) {\r\n      console.error(' Error durante limpieza manual:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Funcin para sincronizar archivos\r\n  const syncFiles = async () => {\r\n    try {\r\n      console.log(' Ejecutando sincronizacin manual de archivos...');\r\n      const syncResult = await fileManager.syncStorage();\r\n      return syncResult;\r\n    } catch (error) {\r\n      console.error(' Error durante sincronizacin:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <VisualNovelContext.Provider value={{ \r\n      state, \r\n      dispatch, \r\n      storage, \r\n      fileManager,\r\n      referenceValidator,\r\n      isLoading, \r\n      saveStatus,\r\n      setSaveStatus,\r\n      // Nuevas funciones para validacin de integridad\r\n      validateProjectIntegrity,\r\n      cleanupBrokenReferences,\r\n      syncFiles\r\n    }}>\r\n      {children}\r\n    </VisualNovelContext.Provider>\r\n  );\r\n}\r\n\r\n// Hook personalizado para usar el contexto\r\nexport function useVisualNovel() {\r\n  const context = useContext(VisualNovelContext);\r\n  if (!context) {\r\n    throw new Error('useVisualNovel debe ser usado dentro de VisualNovelProvider');\r\n  }\r\n  return context;\r\n}\r\n","import { useEffect, useRef } from 'react';\r\n\r\n// Hook personalizado para detectar cambios en el estado y activar guardado automtico\r\nexport function useAutoSave(state, storage, isLoading, setSaveStatus) {\r\n  const prevStateRef = useRef(null);\r\n  const saveTimeoutRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Solo ejecutar si no est cargando y hay un proyecto\r\n    if (isLoading || !state.project.name) {\r\n      console.log(' AutoSave: No ejecutando - condiciones no cumplidas', {\r\n        isLoading,\r\n        hasProject: !!state.project.name\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Si es la primera vez, solo guardar la referencia\r\n    if (!prevStateRef.current) {\r\n      prevStateRef.current = state;\r\n      console.log(' AutoSave: Primera ejecucin, guardando referencia');\r\n      return;\r\n    }\r\n\r\n    // Comparar estado anterior con actual\r\n    const prevState = prevStateRef.current;\r\n    const hasChanges = JSON.stringify(prevState) !== JSON.stringify(state);\r\n\r\n    if (hasChanges) {\r\n      console.log(' AutoSave: Cambios detectados', {\r\n        prevCharacters: prevState.project.characters.length,\r\n        newCharacters: state.project.characters.length,\r\n        prevElements: prevState.project.sceneFiles[0]?.elements.length || 0,\r\n        newElements: state.project.sceneFiles[0]?.elements.length || 0,\r\n        prevScene: prevState.currentScene,\r\n        newScene: state.currentScene,\r\n        prevSelected: prevState.selectedElement?.type,\r\n        newSelected: state.selectedElement?.type\r\n      });\r\n\r\n      // Limpiar timeout anterior si existe\r\n      if (saveTimeoutRef.current) {\r\n        clearTimeout(saveTimeoutRef.current);\r\n      }\r\n\r\n      // Programar guardado con debounce\r\n      saveTimeoutRef.current = setTimeout(() => {\r\n        console.log(' AutoSave: Ejecutando guardado automtico...');\r\n        \r\n        try {\r\n          setSaveStatus('saving');\r\n          const success = storage.saveFullState(state);\r\n          \r\n          if (success) {\r\n            setSaveStatus('saved');\r\n            console.log(' AutoSave: Estado guardado exitosamente');\r\n          } else {\r\n            setSaveStatus('error');\r\n            console.error(' AutoSave: Error al guardar estado');\r\n          }\r\n        } catch (error) {\r\n          setSaveStatus('error');\r\n          console.error(' AutoSave: Error al guardar estado:', error);\r\n        }\r\n      }, 1000); // 1 segundo de debounce\r\n    } else {\r\n      console.log(' AutoSave: No hay cambios detectados');\r\n    }\r\n\r\n    // Actualizar referencia del estado anterior\r\n    prevStateRef.current = state;\r\n  }, [state, storage, isLoading, setSaveStatus]);\r\n\r\n  // Limpiar timeout al desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      if (saveTimeoutRef.current) {\r\n        clearTimeout(saveTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n}\r\n","import React, { createContext, useContext, useState } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\n\r\n// Animaciones\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst slideIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px) scale(0.95);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1);\r\n  }\r\n`;\r\n\r\n// Styled Components\r\nconst ModalOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  backdrop-filter: blur(8px);\r\n  z-index: 10000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  animation: ${css`${fadeIn} 0.3s ease-out`};\r\n`;\r\n\r\nconst ModalWindow = styled.div`\r\n  background: #2a2a2a;\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);\r\n  padding: 0;\r\n  max-width: 500px;\r\n  width: 90%;\r\n  max-height: 80vh;\r\n  overflow: hidden;\r\n  animation: ${css`${slideIn} 0.4s ease-out`};\r\n  position: relative;\r\n`;\r\n\r\nconst ModalHeader = styled.div`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: white;\r\n  padding: 20px 24px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 2px solid var(--color-primary);\r\n`;\r\n\r\nconst ModalTitle = styled.h3`\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #ffffff;\r\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst ModalCloseButton = styled.button`\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: none;\r\n  color: white;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.3);\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  padding: 24px;\r\n  color: var(--color-textPrimary);\r\n  line-height: 1.6;\r\n  white-space: pre-line;\r\n`;\r\n\r\nconst ModalActions = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n  padding: 20px 24px;\r\n  border-top: 1px solid var(--color-border);\r\n  background: #2a2a2a;\r\n`;\r\n\r\nconst ModalButton = styled.button`\r\n  padding: 12px 24px;\r\n  border: 2px solid ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  border-radius: 8px;\r\n  background: ${props => props.primary \r\n    ? 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)' \r\n    : props.danger\r\n    ? 'linear-gradient(135deg, var(--color-danger) 0%, var(--color-dangerHover) 100%)'\r\n    : 'var(--color-surface)'};\r\n  color: ${props => props.primary || props.danger ? 'white' : 'var(--color-textPrimary)'};\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  font-size: 14px;\r\n  min-width: 80px;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 16px ${props => props.primary \r\n      ? 'rgba(74, 158, 255, 0.3)' \r\n      : props.danger\r\n      ? 'rgba(255, 99, 99, 0.3)'\r\n      : 'rgba(0, 0, 0, 0.1)'};\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n    box-shadow: none;\r\n  }\r\n`;\r\n\r\nconst ModalInput = styled.input`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  background: var(--color-surface);\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  margin-top: 12px;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textSecondary);\r\n  }\r\n`;\r\n\r\nconst ModalTextarea = styled.textarea`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  background: var(--color-surface);\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  margin-top: 12px;\r\n  min-height: 100px;\r\n  resize: vertical;\r\n  font-family: inherit;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textSecondary);\r\n  }\r\n`;\r\n\r\nconst ModalContext = createContext();\r\n\r\nexport const useModalContext = () => {\r\n  const context = useContext(ModalContext);\r\n  if (!context) {\r\n    throw new Error('useModalContext debe ser usado dentro de un ModalProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Componente de Modal\r\nconst Modal = ({ isOpen, onClose, title, children, icon = null }) => {\r\n  React.useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <ModalOverlay onClick={onClose}>\r\n      <ModalWindow onClick={(e) => e.stopPropagation()}>\r\n        <ModalHeader>\r\n          <ModalTitle>\r\n            {icon && <span>{icon}</span>}\r\n            {title}\r\n          </ModalTitle>\r\n          <ModalCloseButton onClick={onClose}>\r\n            \r\n          </ModalCloseButton>\r\n        </ModalHeader>\r\n        {children}\r\n      </ModalWindow>\r\n    </ModalOverlay>\r\n  );\r\n};\r\n\r\n// Componente para Prompt Modal\r\nconst PromptModal = ({ modal }) => {\r\n  const [value, setValue] = useState(modal.defaultValue);\r\n  const inputRef = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    if (inputRef.current) {\r\n      inputRef.current.focus();\r\n      inputRef.current.select();\r\n    }\r\n  }, []);\r\n\r\n  const handleSubmit = () => {\r\n    modal.onClose(value);\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !modal.multiline) {\r\n      handleSubmit();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={true}\r\n      onClose={() => modal.onClose(null)}\r\n      title={modal.title}\r\n      icon={modal.icon}\r\n    >\r\n      <ModalContent>\r\n        {modal.message}\r\n        {modal.multiline ? (\r\n          <ModalTextarea\r\n            ref={inputRef}\r\n            value={value}\r\n            onChange={(e) => setValue(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Escribe tu respuesta aqu...\"\r\n          />\r\n        ) : (\r\n          <ModalInput\r\n            ref={inputRef}\r\n            type=\"text\"\r\n            value={value}\r\n            onChange={(e) => setValue(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Escribe tu respuesta aqu...\"\r\n          />\r\n        )}\r\n      </ModalContent>\r\n      <ModalActions>\r\n        <ModalButton onClick={() => modal.onClose(null)}>\r\n          Cancelar\r\n        </ModalButton>\r\n        <ModalButton primary onClick={handleSubmit}>\r\n          Aceptar\r\n        </ModalButton>\r\n      </ModalActions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport const ModalProvider = ({ children }) => {\r\n  const [modals, setModals] = useState([]);\r\n\r\n  const showAlert = (message, title = 'Informacin', icon = '') => {\r\n    return new Promise((resolve) => {\r\n      const modalId = Date.now() + Math.random();\r\n      const modal = {\r\n        id: modalId,\r\n        type: 'alert',\r\n        title,\r\n        message,\r\n        icon,\r\n        onClose: () => {\r\n          setModals(prev => prev.filter(m => m.id !== modalId));\r\n          resolve();\r\n        }\r\n      };\r\n      setModals(prev => [...prev, modal]);\r\n    });\r\n  };\r\n\r\n  const showConfirm = (message, title = 'Confirmar', icon = '') => {\r\n    return new Promise((resolve) => {\r\n      const modalId = Date.now() + Math.random();\r\n      const modal = {\r\n        id: modalId,\r\n        type: 'confirm',\r\n        title,\r\n        message,\r\n        icon,\r\n        onClose: (result) => {\r\n          setModals(prev => prev.filter(m => m.id !== modalId));\r\n          resolve(result);\r\n        }\r\n      };\r\n      setModals(prev => [...prev, modal]);\r\n    });\r\n  };\r\n\r\n  const showPrompt = (message, defaultValue = '', title = 'Entrada', icon = '', multiline = false) => {\r\n    return new Promise((resolve) => {\r\n      const modalId = Date.now() + Math.random();\r\n      const modal = {\r\n        id: modalId,\r\n        type: 'prompt',\r\n        title,\r\n        message,\r\n        defaultValue,\r\n        icon,\r\n        multiline,\r\n        onClose: (result) => {\r\n          setModals(prev => prev.filter(m => m.id !== modalId));\r\n          resolve(result);\r\n        }\r\n      };\r\n      setModals(prev => [...prev, modal]);\r\n    });\r\n  };\r\n\r\n  const renderModals = () => {\r\n    return modals.map(modal => {\r\n      switch (modal.type) {\r\n        case 'alert':\r\n          return (\r\n            <Modal\r\n              key={modal.id}\r\n              isOpen={true}\r\n              onClose={modal.onClose}\r\n              title={modal.title}\r\n              icon={modal.icon}\r\n            >\r\n              <ModalContent>\r\n                {modal.message}\r\n              </ModalContent>\r\n              <ModalActions>\r\n                <ModalButton primary onClick={() => modal.onClose()}>\r\n                  Aceptar\r\n                </ModalButton>\r\n              </ModalActions>\r\n            </Modal>\r\n          );\r\n\r\n        case 'confirm':\r\n          return (\r\n            <Modal\r\n              key={modal.id}\r\n              isOpen={true}\r\n              onClose={() => modal.onClose(false)}\r\n              title={modal.title}\r\n              icon={modal.icon}\r\n            >\r\n              <ModalContent>\r\n                {modal.message}\r\n              </ModalContent>\r\n              <ModalActions>\r\n                <ModalButton onClick={() => modal.onClose(false)}>\r\n                  Cancelar\r\n                </ModalButton>\r\n                <ModalButton primary onClick={() => modal.onClose(true)}>\r\n                  Confirmar\r\n                </ModalButton>\r\n              </ModalActions>\r\n            </Modal>\r\n          );\r\n\r\n        case 'prompt':\r\n          return (\r\n            <PromptModal\r\n              key={modal.id}\r\n              modal={modal}\r\n            />\r\n          );\r\n\r\n        default:\r\n          return null;\r\n      }\r\n    });\r\n  };\r\n\r\n  const modalContextValue = {\r\n    showAlert,\r\n    showConfirm,\r\n    showPrompt,\r\n    renderModals\r\n  };\r\n\r\n  return (\r\n    <ModalContext.Provider value={modalContextValue}>\r\n      {children}\r\n      {renderModals()}\r\n    </ModalContext.Provider>\r\n  );\r\n};\r\n","import React, { createContext, useContext, useState, useCallback } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\n\r\n// Animaciones\r\nconst slideInRight = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(100%);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n`;\r\n\r\nconst slideOutRight = keyframes`\r\n  from {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n  to {\r\n    opacity: 0;\r\n    transform: translateX(100%);\r\n  }\r\n`;\r\n\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst progressBar = keyframes`\r\n  from {\r\n    width: 100%;\r\n  }\r\n  to {\r\n    width: 0%;\r\n  }\r\n`;\r\n\r\n// Styled Components\r\nconst NotificationContainer = styled.div`\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  z-index: 10001;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  max-width: 400px;\r\n  pointer-events: none;\r\n  \r\n  @media (max-width: 768px) {\r\n    top: 10px;\r\n    right: 10px;\r\n    left: 10px;\r\n    max-width: none;\r\n  }\r\n`;\r\n\r\nconst Notification = styled.div`\r\n  background: var(--color-surface);\r\n  border: 2px solid ${props => {\r\n    switch (props.type) {\r\n      case 'success': return 'var(--color-success)';\r\n      case 'error': return 'var(--color-error)';\r\n      case 'warning': return 'var(--color-warning)';\r\n      case 'info': return 'var(--color-primary)';\r\n      default: return 'var(--color-border)';\r\n    }\r\n  }};\r\n  border-radius: 12px;\r\n  padding: 16px 20px;\r\n  box-shadow: 0 8px 24px var(--color-shadowElevated);\r\n  backdrop-filter: blur(8px);\r\n  animation: ${props => props.isClosing ? css`${slideOutRight} 0.4s ease-out` : css`${slideInRight} 0.4s ease-out`};\r\n  pointer-events: auto;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: ${props => {\r\n      switch (props.type) {\r\n        case 'success': return 'var(--color-success)';\r\n        case 'error': return 'var(--color-error)';\r\n        case 'warning': return 'var(--color-warning)';\r\n        case 'info': return 'var(--color-primary)';\r\n        default: return 'var(--color-border)';\r\n      }\r\n    }};\r\n  }\r\n`;\r\n\r\nconst NotificationHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst NotificationIcon = styled.span`\r\n  font-size: 20px;\r\n  line-height: 1;\r\n`;\r\n\r\nconst NotificationTitle = styled.h4`\r\n  margin: 0;\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  flex: 1;\r\n`;\r\n\r\nconst NotificationClose = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--color-textSecondary);\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n  line-height: 1;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover {\r\n    color: var(--color-textPrimary);\r\n    background: var(--color-surfaceSecondary);\r\n  }\r\n`;\r\n\r\nconst NotificationMessage = styled.div`\r\n  color: var(--color-textSecondary);\r\n  font-size: 13px;\r\n  line-height: 1.5;\r\n  white-space: pre-line;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 3px;\r\n  background: ${props => {\r\n    switch (props.type) {\r\n      case 'success': return 'var(--color-success)';\r\n      case 'error': return 'var(--color-error)';\r\n      case 'warning': return 'var(--color-warning)';\r\n      case 'info': return 'var(--color-primary)';\r\n      default: return 'var(--color-border)';\r\n    }\r\n  }};\r\n  border-radius: 0 0 12px 12px;\r\n  animation: ${props => props.duration ? css`${progressBar} ${props.duration}ms linear` : 'none'};\r\n`;\r\n\r\n// Context\r\nconst NotificationContext = createContext();\r\n\r\nexport const useNotification = () => {\r\n  const context = useContext(NotificationContext);\r\n  if (!context) {\r\n    throw new Error('useNotification debe usarse dentro de NotificationProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const NotificationProvider = ({ children }) => {\r\n  const [notifications, setNotifications] = useState([]);\r\n\r\n  const addNotification = useCallback((notification) => {\r\n    const id = Date.now() + Math.random();\r\n    const duration = notification.duration || 5000;\r\n    \r\n    const newNotification = {\r\n      id,\r\n      type: notification.type || 'info',\r\n      title: notification.title || 'Notificacin',\r\n      message: notification.message || '',\r\n      icon: notification.icon || '',\r\n      duration,\r\n      timestamp: Date.now()\r\n    };\r\n\r\n    setNotifications(prev => [...prev, newNotification]);\r\n\r\n    // Auto-remove after duration\r\n    if (duration > 0) {\r\n      setTimeout(() => {\r\n        removeNotification(id);\r\n      }, duration);\r\n    }\r\n\r\n    return id;\r\n  }, []);\r\n\r\n  const removeNotification = useCallback((id) => {\r\n    setNotifications(prev => {\r\n      const notification = prev.find(n => n.id === id);\r\n      if (notification) {\r\n        // Trigger closing animation\r\n        notification.isClosing = true;\r\n        setTimeout(() => {\r\n          setNotifications(current => current.filter(n => n.id !== id));\r\n        }, 400);\r\n        return [...prev];\r\n      }\r\n      return prev.filter(n => n.id !== id);\r\n    });\r\n  }, []);\r\n\r\n  const clearAllNotifications = useCallback(() => {\r\n    setNotifications([]);\r\n  }, []);\r\n\r\n  // Convenience methods\r\n  const showSuccess = useCallback((message, title = 'xito', icon = '') => {\r\n    return addNotification({ type: 'success', title, message, icon });\r\n  }, [addNotification]);\r\n\r\n  const showError = useCallback((message, title = 'Error', icon = '') => {\r\n    return addNotification({ type: 'error', title, message, icon, duration: 7000 });\r\n  }, [addNotification]);\r\n\r\n  const showWarning = useCallback((message, title = 'Advertencia', icon = '') => {\r\n    return addNotification({ type: 'warning', title, message, icon, duration: 6000 });\r\n  }, [addNotification]);\r\n\r\n  const showInfo = useCallback((message, title = 'Informacin', icon = '') => {\r\n    return addNotification({ type: 'info', title, message, icon });\r\n  }, [addNotification]);\r\n\r\n  const showServerStatus = useCallback((message, type = 'info', icon = '') => {\r\n    const titles = {\r\n      success: 'Servidor Iniciado',\r\n      error: 'Error del Servidor',\r\n      warning: 'Advertencia del Servidor',\r\n      info: 'Estado del Servidor'\r\n    };\r\n    return addNotification({ \r\n      type, \r\n      title: titles[type] || 'Servidor', \r\n      message, \r\n      icon,\r\n      duration: type === 'error' ? 7000 : 5000\r\n    });\r\n  }, [addNotification]);\r\n\r\n  const value = {\r\n    notifications,\r\n    addNotification,\r\n    removeNotification,\r\n    clearAllNotifications,\r\n    showSuccess,\r\n    showError,\r\n    showWarning,\r\n    showInfo,\r\n    showServerStatus\r\n  };\r\n\r\n  return (\r\n    <NotificationContext.Provider value={value}>\r\n      {children}\r\n      <NotificationContainer>\r\n        {notifications.map(notification => (\r\n          <Notification\r\n            key={notification.id}\r\n            type={notification.type}\r\n            isClosing={notification.isClosing}\r\n          >\r\n            <NotificationHeader>\r\n              <NotificationIcon>{notification.icon}</NotificationIcon>\r\n              <NotificationTitle>{notification.title}</NotificationTitle>\r\n              <NotificationClose onClick={() => removeNotification(notification.id)}>\r\n                \r\n              </NotificationClose>\r\n            </NotificationHeader>\r\n            <NotificationMessage>{notification.message}</NotificationMessage>\r\n            {notification.duration > 0 && (\r\n              <ProgressBar \r\n                type={notification.type} \r\n                duration={notification.duration}\r\n              />\r\n            )}\r\n          </Notification>\r\n        ))}\r\n      </NotificationContainer>\r\n    </NotificationContext.Provider>\r\n  );\r\n};\r\n\r\nexport default NotificationContext;\r\n","// Sistema de gestin de temas para el editor\r\nexport const THEMES = {\r\n  'light-default': {\r\n    name: 'Light Default',\r\n    type: 'light',\r\n    colors: {\r\n      // Colores principales - Mejor contraste\r\n      primary: '#1d4ed8',        // Azul ms oscuro para mejor contraste\r\n      primaryHover: '#1e40af',  // Azul hover ms oscuro\r\n      secondary: '#475569',       // Gris secundario ms oscuro\r\n      \r\n      // Fondos - Mejor diferenciacin con mayor contraste\r\n      background: '#ffffff',      // Fondo principal\r\n      backgroundSecondary: '#f8fafc', // Fondo secundario ms contrastado\r\n      backgroundTertiary: '#f1f5f9',   // Fondo terciario ms visible\r\n      \r\n      // Superficies - Mejor contraste para modales y mens\r\n      surface: '#ffffff',        // Superficie principal\r\n      surfaceSecondary: '#f8fafc', // Superficie secundaria ms contrastada\r\n      surfaceElevated: '#f1f5f9',   // Superficie elevada ms visible\r\n      \r\n      // Bordes - Mayor contraste para mejor definicin\r\n      border: '#d1d5db',         // Borde principal ms visible\r\n      borderSecondary: '#9ca3af', // Borde secundario ms contrastado\r\n      borderFocus: '#1d4ed8',     // Borde focus ms oscuro\r\n      \r\n      // Texto - Mejor legibilidad\r\n      textPrimary: '#0f172a',     // Texto principal ms oscuro\r\n      textSecondary: '#475569',  // Texto secundario ms contrastado\r\n      textTertiary: '#64748b',  // Texto terciario ms visible\r\n      textInverse: '#ffffff',    // Texto inverso\r\n      \r\n      // Estados - Colores ms vibrantes\r\n      success: '#059669',        // Verde xito ms oscuro\r\n      successHover: '#047857',  // Verde hover ms contrastado\r\n      warning: '#d97706',        // Amarillo advertencia ms oscuro\r\n      warningHover: '#b45309',  // Amarillo hover ms contrastado\r\n      error: '#dc2626',          // Rojo error ms oscuro\r\n      errorHover: '#b91c1c',    // Rojo hover ms contrastado\r\n      info: '#2563eb',           // Azul informacin ms oscuro\r\n      infoHover: '#1d4ed8',     // Azul hover ms contrastado\r\n      \r\n      // Sombras - Ms profundidad\r\n      shadow: 'rgba(0, 0, 0, 0.15)',\r\n      shadowHover: 'rgba(0, 0, 0, 0.25)',\r\n      shadowElevated: 'rgba(0, 0, 0, 0.35)',\r\n      \r\n      // Gradientes - Mejor contraste\r\n      gradientPrimary: 'linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%)',\r\n      gradientSecondary: 'linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)',\r\n      gradientSurface: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\r\n      \r\n      // Variables adicionales para mejor consistencia\r\n      backdrop: 'rgba(0, 0, 0, 0.4)',\r\n      primaryRgb: '29, 78, 216'\r\n    },\r\n    typography: {\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      fontSize: {\r\n        xs: '12px',\r\n        sm: '14px',\r\n        base: '16px',\r\n        lg: '18px',\r\n        xl: '20px',\r\n        '2xl': '24px',\r\n        '3xl': '30px'\r\n      },\r\n      fontWeight: {\r\n        normal: '400',\r\n        medium: '500',\r\n        semibold: '600',\r\n        bold: '700'\r\n      },\r\n      lineHeight: {\r\n        tight: '1.25',\r\n        normal: '1.5',\r\n        relaxed: '1.75'\r\n      }\r\n    },\r\n    spacing: {\r\n      xs: '4px',\r\n      sm: '8px',\r\n      md: '16px',\r\n      lg: '24px',\r\n      xl: '32px',\r\n      '2xl': '48px'\r\n    },\r\n    borderRadius: {\r\n      sm: '4px',\r\n      md: '8px',\r\n      lg: '12px',\r\n      xl: '16px',\r\n      full: '9999px'\r\n    }\r\n  },\r\n  \r\n  'dark-default': {\r\n    name: 'Dark Default',\r\n    type: 'dark',\r\n    colors: {\r\n      // Colores principales - Mejor contraste\r\n      primary: '#60a5fa',        // Azul ms brillante para mejor contraste\r\n      primaryHover: '#3b82f6',  // Azul hover ms contrastado\r\n      secondary: '#a1a1aa',       // Gris secundario ms claro\r\n      \r\n      // Fondos - Mejor diferenciacin con mayor contraste\r\n      background: '#0a0a0a',     // Fondo ms oscuro para mejor contraste\r\n      backgroundSecondary: '#151515', // Fondo secundario ms contrastado\r\n      backgroundTertiary: '#202020',     // Fondo terciario ms visible\r\n      \r\n      // Superficies - Mejor contraste para modales y mens\r\n      surface: '#1e1e1e',        // Superficie principal ms contrastada\r\n      surfaceSecondary: '#2a2a2a', // Superficie secundaria ms visible\r\n      surfaceElevated: '#353535',   // Superficie elevada ms contrastada\r\n      \r\n      // Bordes - Mayor contraste para mejor definicin\r\n      border: '#4a4a4a',         // Borde principal ms visible\r\n      borderSecondary: '#5a5a5a', // Borde secundario ms contrastado\r\n      borderFocus: '#60a5fa',     // Borde focus ms brillante\r\n      \r\n      // Texto - Mejor legibilidad\r\n      textPrimary: '#ffffff',    // Texto principal\r\n      textSecondary: '#e4e4e7',  // Texto secundario ms claro\r\n      textTertiary: '#a1a1aa',   // Texto terciario ms visible\r\n      textInverse: '#0f0f0f',    // Texto inverso\r\n      \r\n      // Estados - Colores ms vibrantes\r\n      success: '#22c55e',        // Verde xito ms brillante\r\n      successHover: '#16a34a',  // Verde hover ms contrastado\r\n      warning: '#fbbf24',        // Amarillo advertencia ms brillante\r\n      warningHover: '#f59e0b',  // Amarillo hover ms contrastado\r\n      error: '#f87171',          // Rojo error ms brillante\r\n      errorHover: '#ef4444',    // Rojo hover ms contrastado\r\n      info: '#60a5fa',           // Azul informacin ms brillante\r\n      infoHover: '#3b82f6',     // Azul hover ms contrastado\r\n      \r\n      // Sombras - Ms profundidad\r\n      shadow: 'rgba(0, 0, 0, 0.4)',\r\n      shadowHover: 'rgba(0, 0, 0, 0.6)',\r\n      shadowElevated: 'rgba(0, 0, 0, 0.8)',\r\n      \r\n      // Gradientes - Mejor contraste\r\n      gradientPrimary: 'linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%)',\r\n      gradientSecondary: 'linear-gradient(135deg, #1a1a1a 0%, #262626 100%)',\r\n      gradientSurface: 'linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%)',\r\n      \r\n      // Variables adicionales para mejor consistencia\r\n      backdrop: 'rgba(0, 0, 0, 0.7)',\r\n      primaryRgb: '96, 165, 250'\r\n    },\r\n    typography: {\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      fontSize: {\r\n        xs: '12px',\r\n        sm: '14px',\r\n        base: '16px',\r\n        lg: '18px',\r\n        xl: '20px',\r\n        '2xl': '24px',\r\n        '3xl': '30px'\r\n      },\r\n      fontWeight: {\r\n        normal: '400',\r\n        medium: '500',\r\n        semibold: '600',\r\n        bold: '700'\r\n      },\r\n      lineHeight: {\r\n        tight: '1.25',\r\n        normal: '1.5',\r\n        relaxed: '1.75'\r\n      }\r\n    },\r\n    spacing: {\r\n      xs: '4px',\r\n      sm: '8px',\r\n      md: '16px',\r\n      lg: '24px',\r\n      xl: '32px',\r\n      '2xl': '48px'\r\n    },\r\n    borderRadius: {\r\n      sm: '4px',\r\n      md: '8px',\r\n      lg: '12px',\r\n      xl: '16px',\r\n      full: '9999px'\r\n    }\r\n  },\r\n\r\n  'blue-theme': {\r\n    name: 'Blue Theme',\r\n    type: 'dark',\r\n    colors: {\r\n      // Colores principales - Paleta azul profunda con mejor contraste\r\n      primary: '#2563eb',        // Azul ms brillante para mejor contraste\r\n      primaryHover: '#1d4ed8',   // Azul hover ms contrastado\r\n      secondary: '#64748b',      // Gris azulado\r\n      \r\n      // Fondos - Tonos azules oscuros con mejor contraste\r\n      background: '#0c1220',     // Azul ms oscuro para mayor contraste\r\n      backgroundSecondary: '#1a2332', // Azul oscuro con mejor contraste\r\n      backgroundTertiary: '#2a3441',     // Azul medio ms contrastado\r\n      \r\n      // Superficies - Tonos azules con mejor contraste\r\n      surface: '#1a2332',        // Azul oscuro con mejor contraste\r\n      surfaceSecondary: '#2a3441', // Azul medio ms contrastado\r\n      surfaceElevated: '#3a4552',   // Azul ms claro con mejor contraste\r\n      \r\n      // Bordes - Tonos azules con mejor contraste\r\n      border: '#2a3441',         // Azul medio ms contrastado\r\n      borderSecondary: '#3a4552', // Azul ms claro con mejor contraste\r\n      borderFocus: '#3b82f6',     // Azul brillante (mantenido)\r\n      \r\n      // Texto - Contrastes mejorados significativamente\r\n      textPrimary: '#ffffff',    // Blanco puro para mximo contraste\r\n      textSecondary: '#e2e8f0',  // Gris muy claro para mejor legibilidad\r\n      textTertiary: '#a0aec0',   // Gris medio con mejor contraste\r\n      textInverse: '#0c1220',    // Azul muy oscuro\r\n      \r\n      // Estados - Colores vibrantes con mejor contraste\r\n      success: '#22c55e',        // Verde ms brillante\r\n      successHover: '#16a34a',  // Verde hover ms contrastado\r\n      warning: '#fbbf24',        // Amarillo ms brillante\r\n      warningHover: '#f59e0b',  // Amarillo hover ms contrastado\r\n      error: '#f87171',          // Rojo ms brillante\r\n      errorHover: '#ef4444',    // Rojo hover ms contrastado\r\n      info: '#60a5fa',           // Azul informacin ms brillante\r\n      infoHover: '#3b82f6',      // Azul hover ms contrastado\r\n      \r\n      // Sombras - Tonos azules con mejor contraste\r\n      shadow: 'rgba(12, 18, 32, 0.5)',      // Azul ms intenso\r\n      shadowHover: 'rgba(12, 18, 32, 0.7)', // Azul ms intenso\r\n      shadowElevated: 'rgba(12, 18, 32, 0.9)', // Azul muy intenso\r\n      \r\n      // Gradientes - Azules con mejor contraste\r\n      gradientPrimary: 'linear-gradient(135deg, #2563eb 0%, #3b82f6 100%)',\r\n      gradientSecondary: 'linear-gradient(135deg, #1a2332 0%, #2a3441 100%)',\r\n      gradientSurface: 'linear-gradient(135deg, #0c1220 0%, #1a2332 100%)',\r\n      \r\n      // Colores adicionales para hover states con mejor contraste\r\n      backdrop: 'rgba(12, 18, 32, 0.85)'     // Fondo de overlay ms intenso\r\n    },\r\n    typography: {\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      fontSize: {\r\n        xs: '12px',\r\n        sm: '14px',\r\n        base: '16px',\r\n        lg: '18px',\r\n        xl: '20px',\r\n        '2xl': '24px',\r\n        '3xl': '30px'\r\n      },\r\n      fontWeight: {\r\n        normal: '400',\r\n        medium: '500',\r\n        semibold: '600',\r\n        bold: '700'\r\n      },\r\n      lineHeight: {\r\n        tight: '1.25',\r\n        normal: '1.5',\r\n        relaxed: '1.75'\r\n      }\r\n    },\r\n    spacing: {\r\n      xs: '4px',\r\n      sm: '8px',\r\n      md: '16px',\r\n      lg: '24px',\r\n      xl: '32px',\r\n      '2xl': '48px'\r\n    },\r\n    borderRadius: {\r\n      sm: '4px',\r\n      md: '8px',\r\n      lg: '12px',\r\n      xl: '16px',\r\n      full: '9999px'\r\n    }\r\n  },\r\n\r\n  'green-theme': {\r\n    name: 'Green Theme',\r\n    type: 'dark',\r\n    colors: {\r\n      // Colores principales - Paleta verde profunda\r\n      primary: '#059669',        // Verde esmeralda profundo\r\n      primaryHover: '#047857',   // Verde ms oscuro\r\n      secondary: '#6b7280',      // Gris neutro\r\n      \r\n      // Fondos - Tonos verdes oscuros\r\n      background: '#0a1f0a',     // Verde muy oscuro (casi negro)\r\n      backgroundSecondary: '#1a2e1a', // Verde oscuro\r\n      backgroundTertiary: '#2a3f2a',     // Verde medio\r\n      \r\n      // Superficies - Tonos verdes\r\n      surface: '#1a2e1a',        // Verde oscuro\r\n      surfaceSecondary: '#2a3f2a', // Verde medio\r\n      surfaceElevated: '#3a4f3a',   // Verde ms claro\r\n      \r\n      // Bordes - Tonos verdes\r\n      border: '#2a3f2a',         // Verde medio\r\n      borderSecondary: '#3a4f3a', // Verde ms claro\r\n      borderFocus: '#10b981',     // Verde brillante\r\n      \r\n      // Texto - Contrastes apropiados\r\n      textPrimary: '#f0fdf4',    // Blanco verdoso\r\n      textSecondary: '#dcfce7',  // Gris verdoso claro\r\n      textTertiary: '#a7f3d0',   // Gris verdoso medio\r\n      textInverse: '#0a1f0a',    // Verde muy oscuro\r\n      \r\n      // Estados - Colores vibrantes\r\n      success: '#22c55e',        // Verde xito brillante\r\n      successHover: '#16a34a',  // Verde hover ms contrastado\r\n      warning: '#fbbf24',        // Amarillo dorado\r\n      warningHover: '#f59e0b',  // Amarillo ms oscuro\r\n      error: '#f87171',          // Rojo coral\r\n      errorHover: '#ef4444',    // Rojo ms oscuro\r\n      info: '#3b82f6',           // Azul informacin\r\n      infoHover: '#2563eb',      // Azul ms oscuro\r\n      \r\n      // Sombras - Tonos verdes\r\n      shadow: 'rgba(10, 31, 10, 0.5)',      // Verde muy oscuro\r\n      shadowHover: 'rgba(10, 31, 10, 0.7)', // Verde ms intenso\r\n      shadowElevated: 'rgba(10, 31, 10, 0.9)', // Verde muy intenso\r\n      \r\n      // Gradientes - Verdes\r\n      gradientPrimary: 'linear-gradient(135deg, #059669 0%, #10b981 100%)',\r\n      gradientSecondary: 'linear-gradient(135deg, #1a2e1a 0%, #2a3f2a 100%)',\r\n      gradientSurface: 'linear-gradient(135deg, #0a1f0a 0%, #1a2e1a 100%)',\r\n      \r\n      // Colores adicionales para hover states\r\n      backdrop: 'rgba(10, 31, 10, 0.85)'     // Fondo de overlay\r\n    },\r\n    typography: {\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      fontSize: {\r\n        xs: '12px',\r\n        sm: '14px',\r\n        base: '16px',\r\n        lg: '18px',\r\n        xl: '20px',\r\n        '2xl': '24px',\r\n        '3xl': '30px'\r\n      },\r\n      fontWeight: {\r\n        normal: '400',\r\n        medium: '500',\r\n        semibold: '600',\r\n        bold: '700'\r\n      },\r\n      lineHeight: {\r\n        tight: '1.25',\r\n        normal: '1.5',\r\n        relaxed: '1.75'\r\n      }\r\n    },\r\n    spacing: {\r\n      xs: '4px',\r\n      sm: '8px',\r\n      md: '16px',\r\n      lg: '24px',\r\n      xl: '32px',\r\n      '2xl': '48px'\r\n    },\r\n    borderRadius: {\r\n      sm: '4px',\r\n      md: '8px',\r\n      lg: '12px',\r\n      xl: '16px',\r\n      full: '9999px'\r\n    }\r\n  },\r\n\r\n  'purple-theme': {\r\n    name: 'Purple Theme',\r\n    type: 'dark',\r\n    colors: {\r\n      // Colores principales - Paleta prpura profunda\r\n      primary: '#7c3aed',        // Prpura vibrante\r\n      primaryHover: '#6d28d9', // Prpura ms oscuro\r\n      secondary: '#8b5cf6',     // Prpura secundario\r\n      \r\n      // Fondos - Tonos prpuras oscuros\r\n      background: '#1a0b2e',     // Prpura muy oscuro (casi negro)\r\n      backgroundSecondary: '#2d1b4e', // Prpura oscuro\r\n      backgroundTertiary: '#3d2a5f',     // Prpura medio\r\n      \r\n      // Superficies - Tonos prpuras\r\n      surface: '#2d1b4e',        // Prpura oscuro\r\n      surfaceSecondary: '#3d2a5f', // Prpura medio\r\n      surfaceElevated: '#4d3a6f',   // Prpura ms claro\r\n      \r\n      // Bordes - Tonos prpuras\r\n      border: '#3d2a5f',         // Prpura medio\r\n      borderSecondary: '#4d3a6f', // Prpura ms claro\r\n      borderFocus: '#a855f7',     // Prpura brillante\r\n      \r\n      // Texto - Contrastes apropiados\r\n      textPrimary: '#faf5ff',    // Blanco prpura\r\n      textSecondary: '#e9d5ff',  // Gris prpura claro\r\n      textTertiary: '#c4b5fd',   // Gris prpura medio\r\n      textInverse: '#1a0b2e',    // Prpura muy oscuro\r\n      \r\n      // Estados - Colores vibrantes\r\n      success: '#10b981',        // Verde esmeralda\r\n      successHover: '#059669',  // Verde ms oscuro\r\n      warning: '#fbbf24',        // Amarillo dorado\r\n      warningHover: '#f59e0b',  // Amarillo ms oscuro\r\n      error: '#f87171',          // Rojo coral\r\n      errorHover: '#ef4444',    // Rojo ms oscuro\r\n      info: '#3b82f6',           // Azul informacin\r\n      infoHover: '#2563eb',      // Azul ms oscuro\r\n      \r\n      // Sombras - Tonos prpuras\r\n      shadow: 'rgba(26, 11, 46, 0.5)',      // Prpura muy oscuro\r\n      shadowHover: 'rgba(26, 11, 46, 0.7)', // Prpura ms intenso\r\n      shadowElevated: 'rgba(26, 11, 46, 0.9)', // Prpura muy intenso\r\n      \r\n      // Gradientes - Prpuras\r\n      gradientPrimary: 'linear-gradient(135deg, #7c3aed 0%, #a855f7 100%)',\r\n      gradientSecondary: 'linear-gradient(135deg, #2d1b4e 0%, #3d2a5f 100%)',\r\n      gradientSurface: 'linear-gradient(135deg, #1a0b2e 0%, #2d1b4e 100%)',\r\n      \r\n      // Colores adicionales para hover states\r\n      backdrop: 'rgba(26, 11, 46, 0.85)'     // Fondo de overlay\r\n    },\r\n    typography: {\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      fontSize: {\r\n        xs: '12px',\r\n        sm: '14px',\r\n        base: '16px',\r\n        lg: '18px',\r\n        xl: '20px',\r\n        '2xl': '24px',\r\n        '3xl': '30px'\r\n      },\r\n      fontWeight: {\r\n        normal: '400',\r\n        medium: '500',\r\n        semibold: '600',\r\n        bold: '700'\r\n      },\r\n      lineHeight: {\r\n        tight: '1.25',\r\n        normal: '1.5',\r\n        relaxed: '1.75'\r\n      }\r\n    },\r\n    spacing: {\r\n      xs: '4px',\r\n      sm: '8px',\r\n      md: '16px',\r\n      lg: '24px',\r\n      xl: '32px',\r\n      '2xl': '48px'\r\n    },\r\n    borderRadius: {\r\n      sm: '4px',\r\n      md: '8px',\r\n      lg: '12px',\r\n      xl: '16px',\r\n      full: '9999px'\r\n    }\r\n  },\r\n\r\n  'orange-theme': {\r\n    name: 'Orange Theme',\r\n    type: 'dark',\r\n    colors: {\r\n      // Colores principales - Paleta naranja profunda\r\n      primary: '#ea580c',        // Naranja vibrante\r\n      primaryHover: '#dc2626',   // Naranja ms oscuro\r\n      secondary: '#fb923c',      // Naranja secundario\r\n      \r\n      // Fondos - Tonos naranjas oscuros\r\n      background: '#1c0f0a',     // Naranja muy oscuro (casi negro)\r\n      backgroundSecondary: '#2d1b0f', // Naranja oscuro\r\n      backgroundTertiary: '#3d2a1f',     // Naranja medio\r\n      \r\n      // Superficies - Tonos naranjas\r\n      surface: '#2d1b0f',        // Naranja oscuro\r\n      surfaceSecondary: '#3d2a1f', // Naranja medio\r\n      surfaceElevated: '#4d3a2f',   // Naranja ms claro\r\n      \r\n      // Bordes - Tonos naranjas\r\n      border: '#3d2a1f',         // Naranja medio\r\n      borderSecondary: '#4d3a2f', // Naranja ms claro\r\n      borderFocus: '#fb923c',     // Naranja brillante\r\n      \r\n      // Texto - Contrastes apropiados\r\n      textPrimary: '#fff7ed',    // Blanco naranja\r\n      textSecondary: '#fed7aa',  // Gris naranja claro\r\n      textTertiary: '#fdba74',   // Gris naranja medio\r\n      textInverse: '#1c0f0a',    // Naranja muy oscuro\r\n      \r\n      // Estados - Colores vibrantes\r\n      success: '#10b981',        // Verde esmeralda\r\n      successHover: '#059669',  // Verde ms oscuro\r\n      warning: '#fbbf24',        // Amarillo dorado\r\n      warningHover: '#f59e0b',  // Amarillo ms oscuro\r\n      error: '#f87171',          // Rojo coral\r\n      errorHover: '#ef4444',    // Rojo ms oscuro\r\n      info: '#3b82f6',           // Azul informacin\r\n      infoHover: '#2563eb',      // Azul ms oscuro\r\n      \r\n      // Sombras - Tonos naranjas\r\n      shadow: 'rgba(28, 15, 10, 0.5)',      // Naranja muy oscuro\r\n      shadowHover: 'rgba(28, 15, 10, 0.7)', // Naranja ms intenso\r\n      shadowElevated: 'rgba(28, 15, 10, 0.9)', // Naranja muy intenso\r\n      \r\n      // Gradientes - Naranjas\r\n      gradientPrimary: 'linear-gradient(135deg, #ea580c 0%, #fb923c 100%)',\r\n      gradientSecondary: 'linear-gradient(135deg, #2d1b0f 0%, #3d2a1f 100%)',\r\n      gradientSurface: 'linear-gradient(135deg, #1c0f0a 0%, #2d1b0f 100%)',\r\n      \r\n      // Colores adicionales para hover states\r\n      backdrop: 'rgba(28, 15, 10, 0.85)'     // Fondo de overlay\r\n    },\r\n    typography: {\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      fontSize: {\r\n        xs: '12px',\r\n        sm: '14px',\r\n        base: '16px',\r\n        lg: '18px',\r\n        xl: '20px',\r\n        '2xl': '24px',\r\n        '3xl': '30px'\r\n      },\r\n      fontWeight: {\r\n        normal: '400',\r\n        medium: '500',\r\n        semibold: '600',\r\n        bold: '700'\r\n      },\r\n      lineHeight: {\r\n        tight: '1.25',\r\n        normal: '1.5',\r\n        relaxed: '1.75'\r\n      }\r\n    },\r\n    spacing: {\r\n      xs: '4px',\r\n      sm: '8px',\r\n      md: '16px',\r\n      lg: '24px',\r\n      xl: '32px',\r\n      '2xl': '48px'\r\n    },\r\n    borderRadius: {\r\n      sm: '4px',\r\n      md: '8px',\r\n      lg: '12px',\r\n      xl: '16px',\r\n      full: '9999px'\r\n    }\r\n  },\r\n\r\n  'dark-colorblind-theme': {\r\n    name: 'Dark Colorblind Beta',\r\n    type: 'dark',\r\n    colors: {\r\n      // Colores principales - Paleta accesible para daltonismo general con mejor contraste\r\n      primary: '#ff6b35',        // Naranja vibrante (distinguible para todos los tipos de daltonismo)\r\n      primaryHover: '#e55a2b',   // Naranja ms oscuro\r\n      secondary: '#2ed573',      // Verde esmeralda (distinguible para daltonismo)\r\n      \r\n      // Fondos - Tonos neutros con alto contraste mejorado\r\n      background: '#000000',     // Negro absoluto para mximo contraste\r\n      backgroundSecondary: '#1a1a1a', // Gris muy oscuro ms contrastado\r\n      backgroundTertiary: '#2a2a2a',     // Gris oscuro ms visible\r\n      \r\n      // Superficies - Tonos neutros con mejor contraste\r\n      surface: '#1a1a1a',        // Gris muy oscuro\r\n      surfaceSecondary: '#2a2a2a', // Gris oscuro ms contrastado\r\n      surfaceElevated: '#404040',   // Gris medio ms visible\r\n      \r\n      // Bordes - Tonos neutros con mayor contraste\r\n      border: '#404040',         // Gris medio ms visible\r\n      borderSecondary: '#525252', // Gris ms claro ms contrastado\r\n      borderFocus: '#ff6b35',     // Naranja vibrante accesible\r\n      \r\n      // Texto - Alto contraste mejorado para accesibilidad\r\n      textPrimary: '#ffffff',    // Blanco puro\r\n      textSecondary: '#f0f0f0',  // Gris muy claro ms brillante\r\n      textTertiary: '#b0b0b0',   // Gris medio ms visible\r\n      textInverse: '#000000',    // Negro absoluto\r\n      \r\n      // Estados - Colores accesibles para daltonismo general con mejor contraste\r\n      success: '#2ed573',        // Verde esmeralda (distinguible para daltonismo)\r\n      successHover: '#26d065',  // Verde ms oscuro\r\n      warning: '#ffa502',        // Naranja dorado (distinguible para daltonismo)\r\n      warningHover: '#ff9500',  // Naranja ms oscuro\r\n      error: '#ff4757',          // Rojo coral (distinguible para daltonismo)\r\n      errorHover: '#ff3742',    // Rojo ms oscuro\r\n      info: '#ff6b35',           // Naranja vibrante (distinguible para daltonismo)\r\n      infoHover: '#e55a2b',     // Naranja ms oscuro\r\n      \r\n      // Sombras - Tonos neutros con mayor intensidad\r\n      shadow: 'rgba(0, 0, 0, 0.7)',      // Negro con mayor transparencia\r\n      shadowHover: 'rgba(0, 0, 0, 0.8)', // Negro ms intenso\r\n      shadowElevated: 'rgba(0, 0, 0, 0.9)', // Negro muy intenso\r\n      \r\n      // Gradientes - Neutros con acentos accesibles mejorados\r\n      gradientPrimary: 'linear-gradient(135deg, #ff6b35 0%, #2ed573 100%)',\r\n      gradientSecondary: 'linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%)',\r\n      gradientSurface: 'linear-gradient(135deg, #000000 0%, #1a1a1a 100%)',\r\n      \r\n      // Variables adicionales para mejor consistencia\r\n      backdrop: 'rgba(0, 0, 0, 0.9)',\r\n      primaryRgb: '255, 107, 53'\r\n    },\r\n    typography: {\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      fontSize: {\r\n        xs: '12px',\r\n        sm: '14px',\r\n        base: '16px',\r\n        lg: '18px',\r\n        xl: '20px',\r\n        '2xl': '24px',\r\n        '3xl': '30px'\r\n      },\r\n      fontWeight: {\r\n        normal: '400',\r\n        medium: '500',\r\n        semibold: '600',\r\n        bold: '700'\r\n      },\r\n      lineHeight: {\r\n        tight: '1.25',\r\n        normal: '1.5',\r\n        relaxed: '1.75'\r\n      }\r\n    },\r\n    spacing: {\r\n      xs: '4px',\r\n      sm: '8px',\r\n      md: '16px',\r\n      lg: '24px',\r\n      xl: '32px',\r\n      '2xl': '48px'\r\n    },\r\n    borderRadius: {\r\n      sm: '4px',\r\n      md: '8px',\r\n      lg: '12px',\r\n      xl: '16px',\r\n      full: '9999px'\r\n    }\r\n  },\r\n\r\n  'dark-tritanopia-theme': {\r\n    name: 'Dark Tritanopia Beta',\r\n    type: 'dark',\r\n    colors: {\r\n      // Colores principales - Paleta optimizada para tritanopia (evita azul/amarillo) con mejor contraste\r\n      primary: '#ff4757',        // Rojo coral (distinguible para tritanopia)\r\n      primaryHover: '#ff3742', // Rojo ms oscuro\r\n      secondary: '#ff6b35',     // Naranja rojizo (distinguible para tritanopia)\r\n      \r\n      // Fondos - Tonos neutros con alto contraste mejorado\r\n      background: '#0f0a05',     // Marrn muy oscuro ms contrastado (evita azul)\r\n      backgroundSecondary: '#1a0f0a', // Marrn oscuro ms visible\r\n      backgroundTertiary: '#2a1f1a',     // Marrn medio ms contrastado\r\n      \r\n      // Superficies - Tonos neutros clidos con mejor contraste\r\n      surface: '#1a0f0a',        // Marrn oscuro\r\n      surfaceSecondary: '#2a1f1a', // Marrn medio ms contrastado\r\n      surfaceElevated: '#3a2f2a',   // Marrn ms claro ms visible\r\n      \r\n      // Bordes - Tonos neutros con mayor contraste\r\n      border: '#3a2f2a',         // Marrn medio\r\n      borderSecondary: '#4a3f3a', // Marrn ms claro ms contrastado\r\n      borderFocus: '#ff4757',     // Rojo coral accesible\r\n      \r\n      // Texto - Alto contraste mejorado para accesibilidad\r\n      textPrimary: '#ffffff',    // Blanco puro para mximo contraste\r\n      textSecondary: '#f0e0e0',  // Gris clido claro ms brillante\r\n      textTertiary: '#b0a0a0',   // Gris clido medio ms visible\r\n      textInverse: '#0f0a05',    // Marrn muy oscuro\r\n      \r\n      // Estados - Colores accesibles para tritanopia (evita azul/amarillo) con mejor contraste\r\n      success: '#2ed573',        // Verde esmeralda (distinguible para tritanopia)\r\n      successHover: '#26d065',  // Verde ms oscuro\r\n      warning: '#ffa502',        // Naranja dorado (distinguible para tritanopia)\r\n      warningHover: '#ff9500',  // Naranja ms oscuro\r\n      error: '#ff4757',          // Rojo coral (distinguible para tritanopia)\r\n      errorHover: '#ff3742',    // Rojo ms oscuro\r\n      info: '#ff6b35',           // Naranja rojizo (distinguible para tritanopia)\r\n      infoHover: '#e55a2b',     // Naranja ms oscuro\r\n      \r\n      // Sombras - Tonos clidos con mayor intensidad\r\n      shadow: 'rgba(15, 10, 5, 0.7)',      // Marrn con mayor transparencia\r\n      shadowHover: 'rgba(15, 10, 5, 0.8)', // Marrn ms intenso\r\n      shadowElevated: 'rgba(15, 10, 5, 0.9)', // Marrn muy intenso\r\n      \r\n      // Gradientes - Clidos con acentos accesibles para tritanopia mejorados\r\n      gradientPrimary: 'linear-gradient(135deg, #ff4757 0%, #ff6b35 100%)',\r\n      gradientSecondary: 'linear-gradient(135deg, #1a0f0a 0%, #2a1f1a 100%)',\r\n      gradientSurface: 'linear-gradient(135deg, #0f0a05 0%, #1a0f0a 100%)',\r\n      \r\n      // Variables adicionales para mejor consistencia\r\n      backdrop: 'rgba(15, 10, 5, 0.9)',\r\n      primaryRgb: '255, 71, 87'\r\n    },\r\n    typography: {\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      fontSize: {\r\n        xs: '12px',\r\n        sm: '14px',\r\n        base: '16px',\r\n        lg: '18px',\r\n        xl: '20px',\r\n        '2xl': '24px',\r\n        '3xl': '30px'\r\n      },\r\n      fontWeight: {\r\n        normal: '400',\r\n        medium: '500',\r\n        semibold: '600',\r\n        bold: '700'\r\n      },\r\n      lineHeight: {\r\n        tight: '1.25',\r\n        normal: '1.5',\r\n        relaxed: '1.75'\r\n      }\r\n    },\r\n    spacing: {\r\n      xs: '4px',\r\n      sm: '8px',\r\n      md: '16px',\r\n      lg: '24px',\r\n      xl: '32px',\r\n      '2xl': '48px'\r\n    },\r\n    borderRadius: {\r\n      sm: '4px',\r\n      md: '8px',\r\n      lg: '12px',\r\n      xl: '16px',\r\n      full: '9999px'\r\n    }\r\n  }\r\n};\r\n\r\n// Funcin para obtener el tema actual\r\nexport const getCurrentTheme = (themeId) => {\r\n  return THEMES[themeId] || THEMES['dark-default'];\r\n};\r\n\r\n// Funcin para aplicar el tema al documento\r\nexport const applyTheme = (themeId) => {\r\n  const theme = getCurrentTheme(themeId);\r\n  const root = document.documentElement;\r\n  \r\n  // Aplicar variables CSS del tema\r\n  Object.entries(theme.colors).forEach(([key, value]) => {\r\n    root.style.setProperty(`--color-${key}`, value);\r\n  });\r\n  \r\n  Object.entries(theme.typography).forEach(([key, value]) => {\r\n    if (typeof value === 'object') {\r\n      Object.entries(value).forEach(([subKey, subValue]) => {\r\n        root.style.setProperty(`--font-${key}-${subKey}`, subValue);\r\n      });\r\n    } else {\r\n      root.style.setProperty(`--font-${key}`, value);\r\n    }\r\n  });\r\n  \r\n  Object.entries(theme.spacing).forEach(([key, value]) => {\r\n    root.style.setProperty(`--spacing-${key}`, value);\r\n  });\r\n  \r\n  Object.entries(theme.borderRadius).forEach(([key, value]) => {\r\n    root.style.setProperty(`--radius-${key}`, value);\r\n  });\r\n  \r\n  // Aplicar clase del tema al body\r\n  document.body.className = `theme-${theme.type}`;\r\n  \r\n  // Guardar tema en localStorage\r\n  localStorage.setItem('editor-theme', themeId);\r\n};\r\n\r\n// Funcin para obtener el tema guardado\r\nexport const getSavedTheme = () => {\r\n  return localStorage.getItem('editor-theme') || 'dark-default';\r\n};\r\n\r\n// Funcin para inicializar el tema\r\nexport const initializeTheme = () => {\r\n  const savedTheme = getSavedTheme();\r\n  applyTheme(savedTheme);\r\n  return savedTheme;\r\n};\r\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useVisualNovel } from '../../context/VisualNovelContext';\r\nimport { useModalContext } from '../../context/ModalContext';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { FileManager as FileManagerUtil } from '../../utils/fileManager';\r\n\r\nconst PanelContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n`;\r\n\r\nconst Section = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  margin: 0 0 12px 0;\r\n  font-size: 14px;\r\n  color: var(--color-primary);\r\n  border-bottom: 1px solid var(--color-border);\r\n  padding-bottom: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background-color: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: var(--color-primaryHover);\r\n  }\r\n`;\r\n\r\nconst CharacterList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst CharacterItem = styled.div`\r\n  background-color: var(--color-border);\r\n  border-radius: 6px;\r\n  padding: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  border: 2px solid ${props => props.selected ? 'var(--color-primary)' : 'transparent'};\r\n  position: relative;\r\n\r\n  &:hover {\r\n    background-color: var(--color-borderSecondary);\r\n  }\r\n`;\r\n\r\nconst CharacterName = styled.div`\r\n  font-weight: bold;\r\n  color: var(--color-textPrimary);\r\n  margin-bottom: 4px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CharacterId = styled.div`\r\n  font-size: 11px;\r\n  color: var(--color-textSecondary);\r\n  font-family: monospace;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CharacterColor = styled.div`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background-color: ${props => props.color || 'var(--color-primary)'};\r\n  margin-top: 8px;\r\n  border: 1px solid var(--color-border);\r\n  transition: border-color 0.3s ease;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 4px;\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst ColorInput = styled.input`\r\n  width: 100%;\r\n  height: 40px;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 12px;\r\n`;\r\n\r\n\r\nconst SpritesSection = styled.div`\r\n  margin-top: 16px;\r\n  padding-top: 16px;\r\n  border-top: 1px solid var(--color-border);\r\n  transition: border-color 0.3s ease;\r\n`;\r\n\r\nconst SpritesTitle = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst SpritesList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst SpriteItem = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background-color: var(--color-surfaceElevated);\r\n    border-color: var(--color-borderSecondary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst SpritePreview = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  background-color: var(--color-border);\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n  color: var(--color-textTertiary);\r\n  background-image: ${props => props.image ? `url(${props.image})` : 'none'};\r\n  background-size: cover;\r\n  background-position: center;\r\n  transition: background-color 0.3s ease, color 0.3s ease;\r\n`;\r\n\r\nconst SpriteInfo = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst SpriteName = styled.div`\r\n  font-size: 12px;\r\n  color: var(--color-textPrimary);\r\n  font-weight: bold;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst SpritePath = styled.div`\r\n  font-size: 10px;\r\n  color: var(--color-textSecondary);\r\n  font-family: monospace;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst SpriteActions = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n`;\r\n\r\nconst SmallButton = styled.button`\r\n  background-color: var(--color-surfaceElevated);\r\n  color: var(--color-textPrimary);\r\n  border: 1px solid var(--color-border);\r\n  padding: 6px 10px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: var(--color-primary);\r\n    color: var(--color-textInverse);\r\n    border-color: var(--color-primary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 2px 6px var(--color-shadow);\r\n  }\r\n\r\n  &.delete:hover {\r\n    background-color: var(--color-error);\r\n    border-color: var(--color-error);\r\n  }\r\n`;\r\n\r\n// Estilos para el modal de seleccin de archivos\r\nconst ModalOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  background-color: var(--color-surface);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  max-width: 600px;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n  border: 2px solid var(--color-border);\r\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst ModalHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16px;\r\n  border-bottom: 1px solid var(--color-border);\r\n  padding-bottom: 12px;\r\n  transition: border-color 0.3s ease;\r\n`;\r\n\r\nconst ModalTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 16px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: 1px solid var(--color-error);\r\n  padding: 8px 14px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    border-color: var(--color-errorHover);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst FileGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n  gap: 12px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst FileCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  border: 2px solid var(--color-border);\r\n\r\n  &:hover {\r\n    background-color: var(--color-surfaceElevated);\r\n    border-color: var(--color-primary);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 12px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst FilePreview = styled.div`\r\n  width: 100%;\r\n  height: 80px;\r\n  background-color: var(--color-background);\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 8px;\r\n  background-image: ${props => props.image ? `url(${props.image})` : 'none'};\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst FileIcon = styled.div`\r\n  font-size: 24px;\r\n  color: var(--color-textTertiary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst FileName = styled.div`\r\n  font-size: 11px;\r\n  color: var(--color-textPrimary);\r\n  text-align: center;\r\n  word-break: break-word;\r\n  line-height: 1.2;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: var(--color-textTertiary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst EmptyIcon = styled.div`\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst EmptyText = styled.div`\r\n  font-size: 14px;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst EmptySubtext = styled.div`\r\n  font-size: 12px;\r\n  color: var(--color-textTertiary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst DeleteButton = styled.button`\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 8px;\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 4px 8px;\r\n  cursor: pointer;\r\n  font-size: 10px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n  opacity: 0.8;\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    opacity: 1;\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nfunction CharacterPanel() {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const { showPrompt, showAlert, showConfirm } = useModalContext();\r\n  const [selectedCharacter, setSelectedCharacter] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [showFileSelector, setShowFileSelector] = useState(false);\r\n  const [availableFiles, setAvailableFiles] = useState([]);\r\n  const fileManagerUtil = new FileManagerUtil();\r\n  const [formData, setFormData] = useState({\r\n    id: '',\r\n    name: '',\r\n    color: '#4a9eff',\r\n    who_color: '#ffffff',\r\n    what_color: '#ffffff',\r\n    sprites: []\r\n  });\r\n\r\n  const handleAddCharacter = () => {\r\n    setFormData({\r\n      id: '',\r\n      name: '',\r\n      color: '#4a9eff',\r\n      who_color: '#ffffff',\r\n      what_color: '#ffffff',\r\n      sprites: []\r\n    });\r\n    setSelectedCharacter(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEditCharacter = (character) => {\r\n    setFormData(character);\r\n    setSelectedCharacter(character);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleSaveCharacter = async () => {\r\n    // Validacin de campos obligatorios\r\n    if (!formData.id || !formData.name) {\r\n      await showAlert(\r\n        'Los campos ID y nombre son obligatorios para crear un personaje.',\r\n        'Campos Requeridos',\r\n        ''\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Validacin de formato del ID\r\n    if (!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(formData.id)) {\r\n      await showAlert(\r\n        'El ID debe comenzar con una letra y solo puede contener letras, nmeros y guiones bajos.\\n\\nEjemplos vlidos: alice, bob_123, maria_01',\r\n        'ID Invlido',\r\n        ''\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Verificar si el ID ya existe (excepto si estamos editando el mismo personaje)\r\n    const existingCharacter = state.project.characters.find(char => \r\n      char.id === formData.id && char.id !== selectedCharacter?.id\r\n    );\r\n    \r\n    if (existingCharacter) {\r\n      await showAlert(\r\n        `Ya existe un personaje con el ID \"${formData.id}\".\\n\\nPor favor, elige un ID nico para este personaje.`,\r\n        'ID Duplicado',\r\n        ''\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Validacin de longitud del nombre\r\n    if (formData.name.length < 2) {\r\n      await showAlert(\r\n        'El nombre del personaje debe tener al menos 2 caracteres.',\r\n        'Nombre Muy Corto',\r\n        ''\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (formData.name.length > 50) {\r\n      await showAlert(\r\n        'El nombre del personaje no puede exceder los 50 caracteres.',\r\n        'Nombre Muy Largo',\r\n        ''\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (selectedCharacter) {\r\n      dispatch({\r\n        type: 'UPDATE_CHARACTER',\r\n        payload: formData\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: 'ADD_CHARACTER',\r\n        payload: { ...formData, id: formData.id || uuidv4() }\r\n      });\r\n    }\r\n\r\n    setShowForm(false);\r\n    setSelectedCharacter(null);\r\n  };\r\n\r\n\r\n  const handleFormChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  // Funcin de validacin en tiempo real\r\n  const validateField = (field, value) => {\r\n    switch (field) {\r\n      case 'id':\r\n        if (value && !/^[a-zA-Z][a-zA-Z0-9_]*$/.test(value)) {\r\n          return 'El ID debe comenzar con una letra y solo puede contener letras, nmeros y guiones bajos.';\r\n        }\r\n        if (value && state.project.characters.find(char => char.id === value && char.id !== selectedCharacter?.id)) {\r\n          return 'Ya existe un personaje con este ID.';\r\n        }\r\n        break;\r\n      case 'name':\r\n        if (value && value.length < 2) {\r\n          return 'El nombre debe tener al menos 2 caracteres.';\r\n        }\r\n        if (value && value.length > 50) {\r\n          return 'El nombre no puede exceder los 50 caracteres.';\r\n        }\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleAddSprite = () => {\r\n    // Crear un input de archivo temporal\r\n    const input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.accept = 'image/*';\r\n    input.multiple = true;\r\n    input.onchange = (e) => {\r\n      const files = Array.from(e.target.files);\r\n      files.forEach(file => {\r\n        handleFileSelect(file);\r\n      });\r\n    };\r\n    input.click();\r\n  };\r\n\r\n  const handleImportSprite = async () => {\r\n    try {\r\n      // Cargar archivos disponibles del gestor de archivos\r\n      const files = await fileManagerUtil.getFilesByCategory('characters');\r\n      console.log('Archivos disponibles para importar:', files);\r\n      \r\n      // Filtrar solo archivos de imagen\r\n      const imageFiles = files.filter(file => \r\n        file.name.toLowerCase().match(/\\.(jpg|jpeg|png|gif|webp)$/)\r\n      );\r\n      \r\n      setAvailableFiles(imageFiles);\r\n      setShowFileSelector(true);\r\n    } catch (error) {\r\n      console.error('Error al cargar archivos:', error);\r\n      await showAlert(\r\n        `Error al cargar archivos del gestor: ${error.message}`,\r\n        'Error de Carga',\r\n        ''\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSelectFromManager = async (file) => {\r\n    const spriteName = await showPrompt(\r\n      'Nombre del sprite (ej: happy, sad, angry):',\r\n      '',\r\n      'Nombre del Sprite',\r\n      ''\r\n    );\r\n    if (spriteName && spriteName.trim()) {\r\n      try {\r\n        // Usar el ID del personaje seleccionado o el formData.id\r\n        const characterId = selectedCharacter?.id || formData.id;\r\n        \r\n        if (!characterId) {\r\n          await showAlert(\r\n            'No se puede identificar el personaje. Asegrate de tener un ID vlido antes de agregar sprites.',\r\n            'Personaje No Identificado',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n\r\n        // Validacin del nombre del sprite\r\n        if (spriteName.trim().length < 2) {\r\n          await showAlert(\r\n            'El nombre del sprite debe tener al menos 2 caracteres.',\r\n            'Nombre Muy Corto',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n\r\n        if (spriteName.trim().length > 30) {\r\n          await showAlert(\r\n            'El nombre del sprite no puede exceder los 30 caracteres.',\r\n            'Nombre Muy Largo',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n\r\n        // Verificar si ya existe un sprite con ese nombre\r\n        const existingSprite = formData.sprites.find(sprite => \r\n          sprite.name.toLowerCase() === spriteName.trim().toLowerCase()\r\n        );\r\n        \r\n        if (existingSprite) {\r\n          await showAlert(\r\n            `Ya existe un sprite con el nombre \"${spriteName.trim()}\".\\n\\nPor favor, elige un nombre nico para este sprite.`,\r\n            'Nombre Duplicado',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n        \r\n        console.log('=== IMPORTANDO SPRITE DESDE GESTOR ===');\r\n        console.log('Archivo:', file.name);\r\n        console.log('Ruta:', file.path);\r\n        console.log('Personaje ID:', characterId);\r\n        \r\n        // Agregar el sprite directamente usando la ruta existente\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          sprites: [...prev.sprites, {\r\n            id: Date.now(),\r\n            name: spriteName.trim(),\r\n            path: file.path\r\n          }]\r\n        }));\r\n        \r\n        console.log('Sprite importado exitosamente:', spriteName.trim());\r\n        setShowFileSelector(false);\r\n        await showAlert(\r\n          `Sprite \"${spriteName.trim()}\" importado exitosamente.`,\r\n          'Importacin Exitosa',\r\n          ''\r\n        );\r\n      } catch (error) {\r\n        console.error('Error al importar sprite:', error);\r\n        await showAlert(\r\n          `Error al importar el sprite: ${error.message}`,\r\n          'Error de Importacin',\r\n          ''\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFileSelect = async (file) => {\r\n    const spriteName = await showPrompt(\r\n      'Nombre del sprite (ej: happy, sad, angry):',\r\n      '',\r\n      'Nombre del Sprite',\r\n      ''\r\n    );\r\n    if (spriteName && spriteName.trim()) {\r\n      try {\r\n        // Usar el ID del personaje seleccionado o el formData.id\r\n        const characterId = selectedCharacter?.id || formData.id;\r\n        \r\n        if (!characterId) {\r\n          await showAlert(\r\n            'No se puede identificar el personaje. Asegrate de tener un ID vlido antes de agregar sprites.',\r\n            'Personaje No Identificado',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n\r\n        // Validacin del nombre del sprite\r\n        if (spriteName.trim().length < 2) {\r\n          await showAlert(\r\n            'El nombre del sprite debe tener al menos 2 caracteres.',\r\n            'Nombre Muy Corto',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n\r\n        if (spriteName.trim().length > 30) {\r\n          await showAlert(\r\n            'El nombre del sprite no puede exceder los 30 caracteres.',\r\n            'Nombre Muy Largo',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n\r\n        // Verificar si ya existe un sprite con ese nombre\r\n        const existingSprite = formData.sprites.find(sprite => \r\n          sprite.name.toLowerCase() === spriteName.trim().toLowerCase()\r\n        );\r\n        \r\n        if (existingSprite) {\r\n          await showAlert(\r\n            `Ya existe un sprite con el nombre \"${spriteName.trim()}\".\\n\\nPor favor, elige un nombre nico para este sprite.`,\r\n            'Nombre Duplicado',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n\r\n        // Validacin del archivo\r\n        if (!file.type.startsWith('image/')) {\r\n          await showAlert(\r\n            'El archivo seleccionado no es una imagen vlida.\\n\\nFormatos soportados: PNG, JPG, JPEG, GIF, WebP',\r\n            'Archivo Invlido',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n\r\n        if (file.size > 10 * 1024 * 1024) { // 10MB\r\n          await showAlert(\r\n            'El archivo es demasiado grande.\\n\\nTamao mximo permitido: 10MB',\r\n            'Archivo Muy Grande',\r\n            ''\r\n          );\r\n          return;\r\n        }\r\n        \r\n        console.log('=== SUBIENDO SPRITE ===');\r\n        console.log('Archivo:', file.name);\r\n        console.log('Tipo:', file.type);\r\n        console.log('Tamao:', file.size);\r\n        console.log('Personaje ID:', characterId);\r\n        console.log('Selected Character:', selectedCharacter);\r\n        console.log('Form Data ID:', formData.id);\r\n        \r\n        // Subir el archivo usando FileManager con el ID del personaje\r\n        const uploadResult = await fileManagerUtil.uploadFile(file, 'characters', characterId);\r\n        console.log('Resultado de subida:', uploadResult);\r\n        \r\n        if (uploadResult && uploadResult.path) {\r\n          setFormData(prev => ({\r\n            ...prev,\r\n            sprites: [...prev.sprites, {\r\n              id: Date.now(),\r\n              name: spriteName.trim(),\r\n              path: uploadResult.path\r\n            }]\r\n          }));\r\n          console.log('Sprite agregado con ruta:', uploadResult.path);\r\n          console.log(' Sprite guardado en carpeta especfica del personaje:', characterId);\r\n        } else {\r\n          console.error('Error: No se pudo obtener la ruta del archivo subido');\r\n          await showAlert(\r\n            'Error al subir el archivo. Intntalo de nuevo.',\r\n            'Error de Subida',\r\n            ''\r\n          );\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al subir sprite:', error);\r\n        await showAlert(\r\n          `Error al subir el archivo: ${error.message}`,\r\n          'Error de Subida',\r\n          ''\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRemoveSprite = async (spriteId) => {\r\n    const confirmed = await showConfirm(\r\n      'Ests seguro de que quieres eliminar este sprite?\\n\\nEsta accin no se puede deshacer.',\r\n      'Confirmar Eliminacin',\r\n      ''\r\n    );\r\n    if (confirmed) {\r\n      try {\r\n        // Encontrar el sprite para obtener su informacin\r\n        const sprite = formData.sprites.find(s => s.id === spriteId);\r\n        if (sprite) {\r\n          console.log('Eliminando sprite:', sprite);\r\n          \r\n          // Intentar eliminar el archivo del FileManager si tiene path\r\n          if (sprite.path) {\r\n            // Buscar el archivo en el FileManager por la ruta\r\n            const allFiles = await fileManagerUtil.getFilesByCategory('characters');\r\n            const fileToDelete = allFiles.find(f => f.path === sprite.path);\r\n            \r\n            if (fileToDelete) {\r\n              console.log('Eliminando archivo del FileManager:', fileToDelete.id);\r\n              await fileManagerUtil.deleteFile(fileToDelete.id);\r\n            }\r\n          }\r\n        }\r\n        \r\n        // Remover el sprite de la lista\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          sprites: prev.sprites.filter(sprite => sprite.id !== spriteId)\r\n        }));\r\n        \r\n        console.log('Sprite eliminado exitosamente');\r\n        await showAlert(\r\n          'Sprite eliminado exitosamente.',\r\n          'Eliminacin Exitosa',\r\n          ''\r\n        );\r\n      } catch (error) {\r\n        console.error('Error al eliminar sprite:', error);\r\n        await showAlert(\r\n          `Error al eliminar el sprite: ${error.message}`,\r\n          'Error de Eliminacin',\r\n          ''\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRemoveAllSprites = async () => {\r\n    if (formData.sprites.length === 0) {\r\n      await showAlert(\r\n        'No hay sprites para eliminar en este personaje.',\r\n        'Sin Sprites',\r\n        ''\r\n      );\r\n      return;\r\n    }\r\n    \r\n    const confirmed = await showConfirm(\r\n      `Ests seguro de que quieres eliminar TODOS los sprites de \"${formData.name || 'este personaje'}\"?\\n\\n` +\r\n      `Se eliminarn ${formData.sprites.length} sprite(s).\\n\\n` +\r\n      `Esta accin NO se puede deshacer.`,\r\n      'Confirmar Eliminacin Masiva',\r\n      ''\r\n    );\r\n    if (confirmed) {\r\n      try {\r\n        console.log('Eliminando todos los sprites del personaje:', formData.name);\r\n        \r\n        // Eliminar cada sprite del FileManager\r\n        for (const sprite of formData.sprites) {\r\n          if (sprite.path) {\r\n            const allFiles = await fileManagerUtil.getFilesByCategory('characters');\r\n            const fileToDelete = allFiles.find(f => f.path === sprite.path);\r\n            \r\n            if (fileToDelete) {\r\n              console.log('Eliminando archivo:', fileToDelete.name);\r\n              await fileManagerUtil.deleteFile(fileToDelete.id);\r\n            }\r\n          }\r\n        }\r\n        \r\n        // Limpiar la lista de sprites\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          sprites: []\r\n        }));\r\n        \r\n        console.log('Todos los sprites eliminados exitosamente');\r\n        await showAlert(\r\n          `Todos los sprites de \"${formData.name}\" han sido eliminados exitosamente.`,\r\n          'Eliminacin Exitosa',\r\n          ''\r\n        );\r\n      } catch (error) {\r\n        console.error('Error al eliminar sprites:', error);\r\n        await showAlert(\r\n          `Error al eliminar los sprites: ${error.message}`,\r\n          'Error de Eliminacin',\r\n          ''\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUpdateSprite = (spriteId, field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      sprites: prev.sprites.map(sprite =>\r\n        sprite.id === spriteId ? { ...sprite, [field]: value } : sprite\r\n      )\r\n    }));\r\n  };\r\n\r\n  const handleDeleteCharacter = async (characterId, characterName) => {\r\n    const confirmed = await showConfirm(\r\n      `Ests seguro de que quieres eliminar el personaje \"${characterName}\"?\\n\\n` +\r\n      `Esto eliminar:\\n` +\r\n      ` El personaje y todos sus datos\\n` +\r\n      ` Todos sus sprites y archivos\\n` +\r\n      ` Todas las referencias en los scripts\\n` +\r\n      ` Todos los dilogos asociados\\n\\n` +\r\n      `Esta accin NO se puede deshacer.`,\r\n      'Confirmar Eliminacin de Personaje',\r\n      ''\r\n    );\r\n    \r\n    if (confirmed) {\r\n      try {\r\n        console.log(` Eliminando personaje: ${characterName} (ID: ${characterId})`);\r\n        \r\n        // 1. Eliminar archivos del personaje\r\n        await deleteCharacterAssets(characterId);\r\n        \r\n        // 2. Eliminar referencias del personaje en todos los scripts\r\n        await removeCharacterReferences(characterId);\r\n        \r\n        // 3. Eliminar el personaje del estado\r\n        dispatch({ type: 'DELETE_CHARACTER', payload: characterId });\r\n        \r\n        // 4. Limpiar seleccin si el personaje eliminado estaba seleccionado\r\n        if (selectedCharacter?.id === characterId) {\r\n          setSelectedCharacter(null);\r\n          setShowForm(false);\r\n        }\r\n        \r\n        console.log(` Personaje \"${characterName}\" eliminado exitosamente`);\r\n        await showAlert(\r\n          `Personaje \"${characterName}\" eliminado exitosamente.\\n\\nSe han limpiado todas las referencias en el proyecto.`,\r\n          'Eliminacin Exitosa',\r\n          ''\r\n        );\r\n        \r\n      } catch (error) {\r\n        console.error(' Error eliminando personaje:', error);\r\n        await showAlert(\r\n          `Error al eliminar el personaje: ${error.message}`,\r\n          'Error de Eliminacin',\r\n          ''\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  // Eliminar assets del personaje\r\n  const deleteCharacterAssets = async (characterId) => {\r\n    try {\r\n      console.log(` Eliminando assets del personaje: ${characterId}`);\r\n      \r\n      // Obtener todos los archivos del personaje\r\n      const characterFiles = await fileManagerUtil.getFilesByCharacter(characterId);\r\n      \r\n      console.log(` Eliminando ${characterFiles.length} archivos del personaje`);\r\n      \r\n      // Eliminar archivos uno por uno\r\n      for (const file of characterFiles) {\r\n        try {\r\n          await fileManagerUtil.deleteFile(file.id);\r\n          console.log(` Archivo eliminado: ${file.name}`);\r\n        } catch (error) {\r\n          console.error(` Error eliminando archivo ${file.name}:`, error);\r\n        }\r\n      }\r\n      \r\n      console.log(' Assets del personaje eliminados');\r\n    } catch (error) {\r\n      console.error(' Error eliminando assets del personaje:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Eliminar referencias del personaje en scripts\r\n  const removeCharacterReferences = async (characterId) => {\r\n    try {\r\n      console.log(` Eliminando referencias del personaje: ${characterId}`);\r\n      \r\n      // Obtener el personaje para usar su ID en las referencias\r\n      const character = state.project.characters.find(char => char.id === characterId);\r\n      if (!character) {\r\n        console.log('Personaje no encontrado, saltando limpieza de referencias');\r\n        return;\r\n      }\r\n      \r\n      // Buscar y eliminar referencias en todos los archivos de escena\r\n      const updatedSceneFiles = state.project.sceneFiles.map(sceneFile => {\r\n        const updatedElements = sceneFile.elements.map(element => {\r\n          // Si es un elemento de dilogo que usa este personaje\r\n          if (element.type === 'dialogue' && element.character === character.id) {\r\n            console.log(` Eliminando dilogo del personaje: ${element.text?.substring(0, 50)}...`);\r\n            return null; // Marcar para eliminacin\r\n          }\r\n          \r\n          // Si es un elemento de escena que muestra sprite de este personaje\r\n          if (element.type === 'scene' && element.character === character.id) {\r\n            console.log(` Eliminando referencia de sprite del personaje`);\r\n            return {\r\n              ...element,\r\n              character: null,\r\n              showSprite: false\r\n            };\r\n          }\r\n          \r\n          return element;\r\n        }).filter(element => element !== null); // Eliminar elementos nulos\r\n        \r\n        return {\r\n          ...sceneFile,\r\n          elements: updatedElements\r\n        };\r\n      });\r\n      \r\n      // Actualizar el estado con los archivos de escena limpiados\r\n      dispatch({\r\n        type: 'CLEAN_CHARACTER_REFERENCES',\r\n        payload: updatedSceneFiles\r\n      });\r\n      \r\n      console.log(' Referencias del personaje eliminadas de los scripts');\r\n    } catch (error) {\r\n      console.error(' Error eliminando referencias del personaje:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PanelContainer>\r\n      <Section>\r\n        <SectionTitle>\r\n          Personajes\r\n          <Button onClick={handleAddCharacter}>+ Agregar</Button>\r\n        </SectionTitle>\r\n        \r\n        {/* Informacin de ayuda */}\r\n        <div style={{ \r\n          backgroundColor: 'var(--color-backgroundElevated)', \r\n          padding: '12px', \r\n          borderRadius: '6px', \r\n          marginBottom: '16px',\r\n          border: '1px solid var(--color-border)',\r\n          fontSize: '12px',\r\n          color: 'var(--color-textSecondary)'\r\n        }}>\r\n           <strong>Tip:</strong> Los personajes son elementos fundamentales en tu novela visual. \r\n          Aqu puedes definir sus nombres, colores de dilogo, sprites, expresiones y mucho ms.\r\n          <br/><br/>\r\n           <strong>Nombres:</strong> Define tanto el nombre interno (para cdigo) como el nombre mostrado.\r\n          <br/>\r\n           <strong>Colores:</strong> Asigna colores nicos para identificar fcilmente los dilogos.\r\n          <br/>\r\n           <strong>Sprites:</strong> Sube imgenes de los personajes en diferentes poses y expresiones.\r\n          <br/>\r\n           <strong>Voces:</strong> Configura archivos de audio para dar voz a tus personajes.\r\n        </div>\r\n        \r\n        {/* Seccin del Protagonista */}\r\n        <Section style={{ marginBottom: '24px', border: '2px solid var(--color-primary)', borderRadius: '8px' }}>\r\n          <SectionTitle style={{ color: 'var(--color-primary)', fontSize: '16px' }}>\r\n             Personaje Principal\r\n          </SectionTitle>\r\n          \r\n          <div style={{ \r\n            backgroundColor: 'var(--color-backgroundElevated)', \r\n            padding: '16px', \r\n            borderRadius: '6px', \r\n            marginBottom: '16px',\r\n            border: '1px solid var(--color-border)'\r\n          }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>\r\n              <input \r\n                type=\"checkbox\" \r\n                checked={state.project.protagonistConfig.enabled}\r\n                onChange={(e) => {\r\n                  dispatch({\r\n                    type: 'TOGGLE_PROTAGONIST'\r\n                  });\r\n                }}\r\n                style={{ transform: 'scale(1.2)' }}\r\n              />\r\n              <label style={{ \r\n                fontSize: '14px', \r\n                fontWeight: '600',\r\n                color: 'var(--color-textPrimary)',\r\n                cursor: 'pointer'\r\n              }}>\r\n                Permitir que el jugador elija el nombre del protagonista\r\n              </label>\r\n            </div>\r\n            \r\n            {state.project.protagonistConfig.enabled && (\r\n              <div style={{ \r\n                backgroundColor: 'rgba(74, 158, 255, 0.1)', \r\n                padding: '12px', \r\n                borderRadius: '6px',\r\n                border: '1px solid rgba(74, 158, 255, 0.3)'\r\n              }}>\r\n                <div style={{ fontSize: '12px', color: 'var(--color-textSecondary)', marginBottom: '8px' }}>\r\n                  <strong> Configuracin activada:</strong>\r\n                </div>\r\n                <ul style={{ \r\n                  fontSize: '11px', \r\n                  color: 'var(--color-textSecondary)', \r\n                  margin: '0', \r\n                  paddingLeft: '16px' \r\n                }}>\r\n                  <li>Se crear automticamente un personaje \"Protagonista\"</li>\r\n                  <li>Se generar cdigo al inicio del script principal</li>\r\n                  <li>Los jugadores elegirn su nombre antes de comenzar</li>\r\n                  <li>En el editor aparecer como \"Protagonista\" (profesional)</li>\r\n                  <li>Al exportar se generar cdigo para mc_name</li>\r\n                </ul>\r\n                \r\n                <div style={{ \r\n                  marginTop: '12px', \r\n                  padding: '8px', \r\n                  backgroundColor: 'rgba(74, 158, 255, 0.05)', \r\n                  borderRadius: '4px',\r\n                  border: '1px solid rgba(74, 158, 255, 0.2)'\r\n                }}>\r\n                  <div style={{ fontSize: '11px', color: 'var(--color-primary)', fontWeight: '600', marginBottom: '4px' }}>\r\n                     Cmo usar en dilogos:\r\n                  </div>\r\n                  <div style={{ fontSize: '10px', color: 'var(--color-textSecondary)' }}>\r\n                    En los dilogos, escribe <code style={{ \r\n                      backgroundColor: 'rgba(74, 158, 255, 0.1)', \r\n                      padding: '2px 4px', \r\n                      borderRadius: '3px',\r\n                      fontFamily: 'monospace'\r\n                    }}>[mc_name]</code> donde quieras que aparezca el nombre del jugador.\r\n                    <br/>\r\n                    <strong>Ejemplo:</strong> \"Hola, tu debes ser [mc_name], no?\"\r\n                  </div>\r\n                </div>\r\n                \r\n                <div style={{ marginTop: '12px', display: 'flex', flexDirection: 'column', gap: '12px' }}>\r\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>\r\n                    <label style={{ fontSize: '11px', color: 'var(--color-textSecondary)' }}>\r\n                      Nombre por defecto:\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={state.project.protagonistConfig.defaultName}\r\n                      onChange={(e) => {\r\n                        dispatch({\r\n                          type: 'SET_PROTAGONIST_CONFIG',\r\n                          payload: { defaultName: e.target.value }\r\n                        });\r\n                      }}\r\n                      style={{\r\n                        padding: '6px 8px',\r\n                        border: '1px solid var(--color-border)',\r\n                        borderRadius: '4px',\r\n                        backgroundColor: 'var(--color-surface)',\r\n                        color: 'var(--color-textPrimary)',\r\n                        fontSize: '12px',\r\n                        width: '120px'\r\n                      }}\r\n                      placeholder=\"Jugador\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>\r\n                    <label style={{ fontSize: '11px', color: 'var(--color-textSecondary)' }}>\r\n                      Texto de solicitud:\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={state.project.protagonistConfig.promptText}\r\n                      onChange={(e) => {\r\n                        dispatch({\r\n                          type: 'SET_PROTAGONIST_CONFIG',\r\n                          payload: { promptText: e.target.value }\r\n                        });\r\n                      }}\r\n                      style={{\r\n                        padding: '6px 8px',\r\n                        border: '1px solid var(--color-border)',\r\n                        borderRadius: '4px',\r\n                        backgroundColor: 'var(--color-surface)',\r\n                        color: 'var(--color-textPrimary)',\r\n                        fontSize: '12px',\r\n                        width: '100%'\r\n                      }}\r\n                      placeholder=\"Por favor, introduce tu nombre:\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Section>\r\n        \r\n        <CharacterList>\r\n          {state.project.characters.map(character => (\r\n            <CharacterItem\r\n              key={character.id}\r\n              selected={selectedCharacter?.id === character.id}\r\n              onClick={() => handleEditCharacter(character)}\r\n              style={{\r\n                border: character.isProtagonist ? '2px solid var(--color-primary)' : undefined,\r\n                backgroundColor: character.isProtagonist ? 'rgba(74, 158, 255, 0.1)' : undefined\r\n              }}\r\n            >\r\n              <CharacterName>\r\n                {character.isProtagonist && ' '}\r\n                {character.displayName || character.name}\r\n                {character.isProtagonist && (\r\n                  <span style={{ \r\n                    fontSize: '10px', \r\n                    color: 'var(--color-primary)', \r\n                    marginLeft: '8px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    (Protagonista)\r\n                  </span>\r\n                )}\r\n              </CharacterName>\r\n              <CharacterId>\r\n                ID: {character.id}\r\n                {character.isProtagonist && (\r\n                  <span style={{ \r\n                    fontSize: '10px', \r\n                    color: 'var(--color-primary)', \r\n                    marginLeft: '8px'\r\n                  }}>\r\n                     mc_name\r\n                  </span>\r\n                )}\r\n              </CharacterId>\r\n              <CharacterColor color={character.color} />\r\n              {!character.isProtagonist && (\r\n              <DeleteButton\r\n                onClick={(e) => {\r\n                  e.stopPropagation(); // Evitar que se abra el formulario de edicin\r\n                  handleDeleteCharacter(character.id, character.name);\r\n                }}\r\n                title={`Eliminar personaje \"${character.name}\"`}\r\n              >\r\n                \r\n              </DeleteButton>\r\n              )}\r\n              {character.isProtagonist && (\r\n                <div style={{\r\n                  position: 'absolute',\r\n                  top: '8px',\r\n                  right: '8px',\r\n                  fontSize: '12px',\r\n                  color: 'var(--color-primary)',\r\n                  fontWeight: '600'\r\n                }}>\r\n                  \r\n                </div>\r\n              )}\r\n            </CharacterItem>\r\n          ))}\r\n        </CharacterList>\r\n      </Section>\r\n\r\n      {showForm && (\r\n        <Section>\r\n          <SectionTitle>\r\n            {selectedCharacter ? 'Editar Personaje' : 'Nuevo Personaje'}\r\n          </SectionTitle>\r\n          \r\n          <FormGroup>\r\n            <Label>ID (identificador nico)</Label>\r\n            <Input\r\n              value={formData.id}\r\n              onChange={(e) => handleFormChange('id', e.target.value)}\r\n              placeholder=\"ej: alice, bob, narrator\"\r\n              style={{\r\n                borderColor: validateField('id', formData.id) ? 'var(--color-error)' : 'var(--color-border)',\r\n                backgroundColor: validateField('id', formData.id) ? 'rgba(255, 107, 107, 0.1)' : 'var(--color-surface)'\r\n              }}\r\n            />\r\n            {validateField('id', formData.id) && (\r\n              <div style={{\r\n                fontSize: '10px',\r\n                color: 'var(--color-error)',\r\n                marginTop: '4px',\r\n                padding: '4px 8px',\r\n                backgroundColor: 'rgba(255, 107, 107, 0.1)',\r\n                borderRadius: '4px',\r\n                border: '1px solid rgba(255, 107, 107, 0.3)'\r\n              }}>\r\n                 {validateField('id', formData.id)}\r\n              </div>\r\n            )}\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label>Nombre</Label>\r\n            <Input\r\n              value={formData.name}\r\n              onChange={(e) => handleFormChange('name', e.target.value)}\r\n              placeholder=\"Nombre del personaje\"\r\n              style={{\r\n                borderColor: validateField('name', formData.name) ? 'var(--color-error)' : 'var(--color-border)',\r\n                backgroundColor: validateField('name', formData.name) ? 'rgba(255, 107, 107, 0.1)' : 'var(--color-surface)'\r\n              }}\r\n            />\r\n            {validateField('name', formData.name) && (\r\n              <div style={{\r\n                fontSize: '10px',\r\n                color: 'var(--color-error)',\r\n                marginTop: '4px',\r\n                padding: '4px 8px',\r\n                backgroundColor: 'rgba(255, 107, 107, 0.1)',\r\n                borderRadius: '4px',\r\n                border: '1px solid rgba(255, 107, 107, 0.3)'\r\n              }}>\r\n                 {validateField('name', formData.name)}\r\n              </div>\r\n            )}\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label>Color del nombre</Label>\r\n            <ColorInput\r\n              type=\"color\"\r\n              value={formData.color}\r\n              onChange={(e) => handleFormChange('color', e.target.value)}\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label>Color del texto (quin habla)</Label>\r\n            <ColorInput\r\n              type=\"color\"\r\n              value={formData.who_color}\r\n              onChange={(e) => handleFormChange('who_color', e.target.value)}\r\n            />\r\n          </FormGroup>\r\n\r\n          {/* Temporalmente desactivado - Color del dilogo */}\r\n          {/* <FormGroup>\r\n            <Label>Color del dilogo</Label>\r\n            <ColorInput\r\n              type=\"color\"\r\n              value={formData.what_color}\r\n              onChange={(e) => handleFormChange('what_color', e.target.value)}\r\n            />\r\n          </FormGroup> */}\r\n\r\n          <SpritesSection>\r\n            <SpritesTitle>\r\n              <Label>Sprites del Personaje</Label>\r\n              <div style={{ display: 'flex', gap: '8px' }}>\r\n                <Button onClick={handleAddSprite}>+ Agregar Sprite</Button>\r\n                <Button onClick={handleImportSprite}> Importar</Button>\r\n                {formData.sprites.length > 0 && (\r\n                  <DeleteButton onClick={handleRemoveAllSprites}>\r\n                     Eliminar Todos\r\n                  </DeleteButton>\r\n                )}\r\n              </div>\r\n            </SpritesTitle>\r\n            \r\n            <SpritesList>\r\n              {formData.sprites.map(sprite => {\r\n                const imageUrl = fileManagerUtil.getImageUrl(sprite.path);\r\n                return (\r\n                  <SpriteItem key={sprite.id}>\r\n                    <SpritePreview image={imageUrl || sprite.path}>\r\n                      {!imageUrl && !sprite.path && ''}\r\n                    </SpritePreview>\r\n                    <SpriteInfo>\r\n                      <SpriteName>{sprite.name}</SpriteName>\r\n                      <SpritePath>{sprite.path}</SpritePath>\r\n                    </SpriteInfo>\r\n                    <SpriteActions>\r\n                      <SmallButton \r\n                        onClick={async () => {\r\n                          const newName = await showPrompt(\r\n                            'Nuevo nombre:',\r\n                            sprite.name,\r\n                            'Editar Nombre',\r\n                            ''\r\n                          );\r\n                          if (newName) handleUpdateSprite(sprite.id, 'name', newName);\r\n                        }}\r\n                      >\r\n                        \r\n                      </SmallButton>\r\n                      <SmallButton \r\n                        onClick={async () => {\r\n                          const newPath = await showPrompt(\r\n                            'Nueva ruta:',\r\n                            sprite.path,\r\n                            'Editar Ruta',\r\n                            ''\r\n                          );\r\n                          if (newPath) handleUpdateSprite(sprite.id, 'path', newPath);\r\n                        }}\r\n                      >\r\n                        \r\n                      </SmallButton>\r\n                      <SmallButton \r\n                        className=\"delete\"\r\n                        onClick={() => handleRemoveSprite(sprite.id)}\r\n                      >\r\n                        \r\n                      </SmallButton>\r\n                    </SpriteActions>\r\n                  </SpriteItem>\r\n                );\r\n              })}\r\n            </SpritesList>\r\n          </SpritesSection>\r\n\r\n          <ButtonGroup>\r\n            <Button \r\n              onClick={handleSaveCharacter}\r\n              disabled={validateField('id', formData.id) || validateField('name', formData.name) || !formData.id || !formData.name}\r\n              style={{\r\n                opacity: (validateField('id', formData.id) || validateField('name', formData.name) || !formData.id || !formData.name) ? 0.5 : 1,\r\n                cursor: (validateField('id', formData.id) || validateField('name', formData.name) || !formData.id || !formData.name) ? 'not-allowed' : 'pointer'\r\n              }}\r\n            >\r\n              {selectedCharacter ? 'Actualizar' : 'Crear'}\r\n            </Button>\r\n            <Button onClick={() => setShowForm(false)}>\r\n              Cancelar\r\n            </Button>\r\n            {selectedCharacter && (\r\n              <DeleteButton onClick={() => handleDeleteCharacter(selectedCharacter.id, selectedCharacter.name)}>\r\n                Eliminar\r\n              </DeleteButton>\r\n            )}\r\n          </ButtonGroup>\r\n        </Section>\r\n      )}\r\n\r\n      {/* Modal de seleccin de archivos */}\r\n      {showFileSelector && (\r\n        <ModalOverlay onClick={() => setShowFileSelector(false)}>\r\n          <ModalContent onClick={(e) => e.stopPropagation()}>\r\n            <ModalHeader>\r\n              <ModalTitle>Seleccionar Sprite del Gestor de Archivos</ModalTitle>\r\n              <CloseButton onClick={() => setShowFileSelector(false)}>\r\n                 Cerrar\r\n              </CloseButton>\r\n            </ModalHeader>\r\n            \r\n            {availableFiles.length > 0 ? (\r\n              <FileGrid>\r\n                {availableFiles.map(file => (\r\n                  <FileCard \r\n                    key={file.id} \r\n                    onClick={() => handleSelectFromManager(file)}\r\n                  >\r\n                    <FilePreview image={file.url}>\r\n                      {!file.url && <FileIcon></FileIcon>}\r\n                    </FilePreview>\r\n                    <FileName>{file.name}</FileName>\r\n                  </FileCard>\r\n                ))}\r\n              </FileGrid>\r\n            ) : (\r\n              <EmptyState>\r\n                <EmptyIcon></EmptyIcon>\r\n                <EmptyText>No hay archivos de imagen disponibles</EmptyText>\r\n                <EmptySubtext>\r\n                  Sube algunas imgenes al gestor de archivos primero\r\n                </EmptySubtext>\r\n              </EmptyState>\r\n            )}\r\n          </ModalContent>\r\n        </ModalOverlay>\r\n      )}\r\n\r\n      {/* Seccin adicional de guas */}\r\n      <Section>\r\n        <SectionTitle> Guas de Personajes</SectionTitle>\r\n        <div style={{ fontSize: '12px', color: 'var(--color-textSecondary)' }}>\r\n          <h4 style={{ color: 'var(--color-primary)', marginBottom: '8px' }}>Buenas Prcticas:</h4>\r\n          <ul style={{ paddingLeft: '16px', margin: '0' }}>\r\n            <li style={{ marginBottom: '4px' }}>Usa nombres descriptivos e identificables</li>\r\n            <li style={{ marginBottom: '4px' }}>Mantn consistencia en los colores de cada personaje</li>\r\n            <li style={{ marginBottom: '4px' }}>Organiza sprites por emociones (feliz, triste, enojado, etc.)</li>\r\n            <li style={{ marginBottom: '4px' }}>Considera el tamao y resolucin de las imgenes</li>\r\n            <li style={{ marginBottom: '4px' }}>Usa formatos PNG para sprites con transparencia</li>\r\n          </ul>\r\n          \r\n          <h4 style={{ color: 'var(--color-primary)', margin: '16px 0 8px 0' }}>Formatos Recomendados:</h4>\r\n          <ul style={{ paddingLeft: '16px', margin: '0' }}>\r\n            <li style={{ marginBottom: '4px' }}><strong>Sprites:</strong> PNG (con transparencia)</li>\r\n            <li style={{ marginBottom: '4px' }}><strong>Resolucin:</strong> 1920x1080 o mltiplos</li>\r\n            <li style={{ marginBottom: '4px' }}><strong>Voces:</strong> OGG, WAV, MP3</li>\r\n            <li style={{ marginBottom: '4px' }}><strong>Tamao:</strong> Mximo 10MB por archivo</li>\r\n          </ul>\r\n          \r\n          <h4 style={{ color: 'var(--color-primary)', margin: '16px 0 8px 0' }}>Organizacin:</h4>\r\n          <ul style={{ paddingLeft: '16px', margin: '0' }}>\r\n            <li style={{ marginBottom: '4px' }}>Crea carpetas por personaje en el gestor de archivos</li>\r\n            <li style={{ marginBottom: '4px' }}>Nombra archivos descriptivamente (ej: \"maria_feliz.png\")</li>\r\n            <li style={{ marginBottom: '4px' }}>Mantn un estilo artstico consistente</li>\r\n            <li style={{ marginBottom: '4px' }}>Considera versiones de da/noche si aplica</li>\r\n          </ul>\r\n        </div>\r\n      </Section>\r\n\r\n      <Section>\r\n        <SectionTitle> Expresiones y Estados</SectionTitle>\r\n        <div style={{ fontSize: '12px', color: 'var(--color-textSecondary)' }}>\r\n          <p style={{ marginBottom: '12px' }}>\r\n            Las expresiones permiten mostrar diferentes emociones de tus personajes:\r\n          </p>\r\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px' }}>\r\n            <div>\r\n              <strong>Bsicas:</strong>\r\n              <ul style={{ paddingLeft: '16px', margin: '4px 0' }}>\r\n                <li>Normal</li>\r\n                <li>Feliz</li>\r\n                <li>Triste</li>\r\n                <li>Enojado</li>\r\n              </ul>\r\n            </div>\r\n            <div>\r\n              <strong>Avanzadas:</strong>\r\n              <ul style={{ paddingLeft: '16px', margin: '4px 0' }}>\r\n                <li>Sorprendido</li>\r\n                <li>Confundido</li>\r\n                <li>Pensativo</li>\r\n                <li>Avergonzado</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Section>\r\n\r\n    </PanelContainer>\r\n  );\r\n}\r\n\r\nexport default CharacterPanel;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useVisualNovel, ACTIONS } from '../../context/VisualNovelContext';\r\nimport { useModalContext } from '../../context/ModalContext';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst PanelContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n`;\r\n\r\nconst Section = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  margin: 0 0 12px 0;\r\n  font-size: 14px;\r\n  color: var(--color-primary);\r\n  border-bottom: 1px solid var(--color-border);\r\n  padding-bottom: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background-color: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  border: 1px solid var(--color-primary);\r\n  padding: 8px 14px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primaryHover);\r\n    border-color: var(--color-primaryHover);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 4px;\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 12px;\r\n`;\r\n\r\nconst DeleteButton = styled(Button)`\r\n  background-color: var(--color-error);\r\n  border-color: var(--color-error);\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    border-color: var(--color-errorHover);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst SceneFileSelector = styled.div`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst SceneFileList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst SceneFileItem = styled.div`\r\n  background-color: ${props => props.selected ? 'var(--color-primary)' : 'var(--color-surface)'};\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  border: 2px solid ${props => props.selected ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  box-shadow: ${props => props.selected ? '0 4px 12px var(--color-shadow)' : '0 2px 6px var(--color-shadow)'};\r\n\r\n  &:hover {\r\n    background-color: ${props => props.selected ? 'var(--color-primaryHover)' : 'var(--color-surfaceElevated)'};\r\n    border-color: ${props => props.selected ? 'var(--color-primaryHover)' : 'var(--color-borderSecondary)'};\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst SceneFileName = styled.div`\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n  color: ${props => props.selected ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  margin-bottom: 6px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: ${props => props.selected ? '0 1px 3px rgba(0, 0, 0, 0.3)' : 'none'};\r\n`;\r\n\r\nconst SceneFileInfo = styled.div`\r\n  font-size: 12px;\r\n  color: ${props => props.selected ? 'rgba(255, 255, 255, 0.9)' : 'var(--color-textSecondary)'};\r\n  transition: color 0.3s ease;\r\n  font-weight: 500;\r\n  margin-bottom: 2px;\r\n`;\r\n\r\nconst SceneFileElements = styled.div`\r\n  font-size: 11px;\r\n  color: ${props => props.selected ? 'rgba(255, 255, 255, 0.8)' : 'var(--color-textTertiary)'};\r\n  margin-top: 4px;\r\n  transition: color 0.3s ease;\r\n  font-weight: 500;\r\n`;\r\n\r\n\r\nconst SceneFileActions = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n  margin-top: 8px;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background-color: ${props => props.danger ? 'var(--color-error)' : 'var(--color-surfaceElevated)'};\r\n  color: ${props => props.danger ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 1px solid ${props => props.danger ? 'var(--color-error)' : 'var(--color-border)'};\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:hover:not(:disabled) {\r\n    background-color: ${props => props.danger ? 'var(--color-errorHover)' : 'var(--color-borderSecondary)'};\r\n    border-color: ${props => props.danger ? 'var(--color-errorHover)' : 'var(--color-borderSecondary)'};\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active:not(:disabled) {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: var(--color-surfaceSecondary);\r\n    border-color: var(--color-border);\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n    transform: none;\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\n// Styled components para la gua contextual\r\nconst GuideSection = styled.div`\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundSecondary) 100%);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin-top: 20px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  animation: fadeIn 0.5s ease-out;\r\n`;\r\n\r\nconst GuideTitle = styled.h4`\r\n  color: var(--color-primary);\r\n  margin: 0 0 16px 0;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst GuideText = styled.p`\r\n  color: var(--color-textSecondary);\r\n  font-size: 13px;\r\n  line-height: 1.6;\r\n  margin: 0 0 12px 0;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst GuideList = styled.ul`\r\n  color: var(--color-textSecondary);\r\n  font-size: 13px;\r\n  line-height: 1.6;\r\n  margin: 12px 0;\r\n  padding-left: 20px;\r\n`;\r\n\r\nconst GuideListItem = styled.li`\r\n  margin-bottom: 8px;\r\n  position: relative;\r\n  \r\n  &::marker {\r\n    color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst GuideCode = styled.code`\r\n  background: var(--color-surface);\r\n  color: var(--color-primary);\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 12px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nfunction ScenePanel() {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const { showAlert, showConfirm } = useModalContext();\r\n  const [selectedSceneFile, setSelectedSceneFile] = useState(null);\r\n  const [showSceneFileForm, setShowSceneFileForm] = useState(false);\r\n  const [sceneFileFormData, setSceneFileFormData] = useState({\r\n    id: '',\r\n    name: '',\r\n    displayName: ''\r\n  });\r\n\r\n  const handleAddSceneFile = () => {\r\n    setSceneFileFormData({\r\n      id: '',\r\n      name: '',\r\n      displayName: ''\r\n    });\r\n    setSelectedSceneFile(null);\r\n    setShowSceneFileForm(true);\r\n  };\r\n\r\n  const handleEditSceneFile = (sceneFile) => {\r\n    setSceneFileFormData(sceneFile);\r\n    setSelectedSceneFile(sceneFile);\r\n    setShowSceneFileForm(true);\r\n  };\r\n\r\n  const handleSaveSceneFile = () => {\r\n    if (!sceneFileFormData.id || !sceneFileFormData.name || !sceneFileFormData.displayName) {\r\n      showAlert('ID, nombre del archivo y nombre para mostrar son obligatorios', 'Campos Obligatorios', '');\r\n      return;\r\n    }\r\n\r\n    // Verificar si el ID ya existe (excepto si estamos editando el mismo archivo)\r\n    const existingFile = state.project.sceneFiles.find(file => \r\n      file.id === sceneFileFormData.id && file.id !== selectedSceneFile?.id\r\n    );\r\n    \r\n    if (existingFile) {\r\n      showAlert('Ya existe un archivo de escena con ese ID', 'ID Duplicado', '');\r\n      return;\r\n    }\r\n\r\n    const sceneFileData = {\r\n      ...sceneFileFormData,\r\n      name: sceneFileFormData.name.endsWith('.rpy') ? sceneFileFormData.name : `${sceneFileFormData.name}.rpy`,\r\n      isMain: selectedSceneFile ? selectedSceneFile.isMain : false,\r\n      elements: selectedSceneFile ? selectedSceneFile.elements : []\r\n    };\r\n\r\n    if (selectedSceneFile) {\r\n      dispatch({\r\n        type: ACTIONS.UPDATE_SCENE_FILE,\r\n        payload: sceneFileData\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: ACTIONS.ADD_SCENE_FILE,\r\n        payload: sceneFileData\r\n      });\r\n    }\r\n\r\n    setShowSceneFileForm(false);\r\n    setSelectedSceneFile(null);\r\n  };\r\n\r\n  const handleDeleteSceneFile = async (sceneFileId) => {\r\n    if (sceneFileId === 'script') {\r\n      showAlert('No se puede eliminar el archivo principal script.rpy', 'Archivo Protegido', '');\r\n      return;\r\n    }\r\n\r\n    const sceneFile = state.project.sceneFiles.find(f => f.id === sceneFileId);\r\n    if (!sceneFile) return;\r\n\r\n    const confirmMessage = `Ests seguro de que quieres eliminar el archivo de escena \"${sceneFile.displayName}\"?\\n\\n` +\r\n      `Archivo: ${sceneFile.name}\\n` +\r\n      `Elementos: ${sceneFile.elements.length}\\n\\n` +\r\n      `Esta accin no se puede deshacer.`;\r\n\r\n    const confirmed = await showConfirm(confirmMessage, 'Confirmar Eliminacin', '');\r\n    if (confirmed) {\r\n      dispatch({\r\n        type: ACTIONS.DELETE_SCENE_FILE,\r\n        payload: sceneFileId\r\n      });\r\n      if (selectedSceneFile?.id === sceneFileId) {\r\n        setSelectedSceneFile(null);\r\n        setShowSceneFileForm(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSelectSceneFile = (sceneFileId) => {\r\n    dispatch({\r\n      type: ACTIONS.SET_CURRENT_SCENE_FILE,\r\n      payload: sceneFileId\r\n    });\r\n  };\r\n\r\n  const handleDuplicateSceneFile = (sceneFile) => {\r\n    if (sceneFile.isMain) {\r\n      showAlert('No se puede duplicar el archivo principal script.rpy', 'Archivo Protegido', '');\r\n      return;\r\n    }\r\n\r\n    const newId = `${sceneFile.id}_copy`;\r\n    const newName = sceneFile.name.replace('.rpy', '_copy.rpy');\r\n    const newDisplayName = `${sceneFile.displayName} (Copia)`;\r\n\r\n    // Verificar si ya existe una copia\r\n    const existingCopy = state.project.sceneFiles.find(file => file.id === newId);\r\n    if (existingCopy) {\r\n      showAlert('Ya existe una copia de este archivo', 'Copia Existente', '');\r\n      return;\r\n    }\r\n\r\n    const duplicatedFile = {\r\n      id: newId,\r\n      name: newName,\r\n      displayName: newDisplayName,\r\n      isMain: false,\r\n      elements: [...sceneFile.elements] // Copiar elementos\r\n    };\r\n\r\n    dispatch({\r\n      type: ACTIONS.ADD_SCENE_FILE,\r\n      payload: duplicatedFile\r\n    });\r\n  };\r\n\r\n\r\n  const handleSceneFileFormChange = (field, value) => {\r\n    setSceneFileFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  // Funcin para agregar elementos a una escena especfica\r\n  const handleAddElementToScene = (sceneFileId, elementType) => {\r\n    // Verificar si la funcin global est disponible\r\n    if (window.addElementToScene) {\r\n      window.addElementToScene(elementType, sceneFileId);\r\n    } else {\r\n      console.warn('La funcin addElementToScene no est disponible. Asegrate de que ScriptPanel est montado.');\r\n    }\r\n  };\r\n\r\n\r\n  // Funcin para renderizar la gua de archivos de escena\r\n  const renderSceneFilesGuide = () => (\r\n    <GuideSection>\r\n      <GuideTitle>\r\n         Gua de Archivos de Escena\r\n      </GuideTitle>\r\n      <GuideText>\r\n        Los <strong>archivos de escena</strong> te permiten organizar tu novela visual en captulos, secciones o escenas separadas. Cada archivo genera un <GuideCode>.rpy</GuideCode> independiente en la exportacin a Ren'Py.\r\n      </GuideText>\r\n      <GuideList>\r\n        <GuideListItem>\r\n          <strong>ID:</strong> Identificador nico para jumps y referencias (ej: <GuideCode>chapter1</GuideCode>, <GuideCode>intro</GuideCode>)\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Nombre del archivo:</strong> Nombre del archivo .rpy que se generar (ej: <GuideCode>chapter1.rpy</GuideCode>)\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Nombre para mostrar:</strong> Ttulo descriptivo que aparece en el editor (ej: <GuideCode>Captulo 1: El Comienzo</GuideCode>)\r\n        </GuideListItem>\r\n      </GuideList>\r\n      \r\n      <GuideText>\r\n        <strong> Consejos de Organizacin:</strong>\r\n      </GuideText>\r\n      <GuideList>\r\n        <GuideListItem>\r\n          <strong>Por captulos:</strong> <GuideCode>chapter1</GuideCode>, <GuideCode>chapter2</GuideCode>, <GuideCode>ending</GuideCode>\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Por ubicaciones:</strong> <GuideCode>cocina</GuideCode>, <GuideCode>jardin</GuideCode>, <GuideCode>dormitorio</GuideCode>\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Por eventos:</strong> <GuideCode>intro</GuideCode>, <GuideCode>conflicto</GuideCode>, <GuideCode>final_bueno</GuideCode>\r\n        </GuideListItem>\r\n      </GuideList>\r\n\r\n      <GuideText>\r\n        <strong> Sistema de Jumps Automticos:</strong> Cuando hagas un jump a un ID de archivo (ej: <GuideCode>jump cocina</GuideCode>), el sistema automticamente generar el label correspondiente en el archivo de destino.\r\n      </GuideText>\r\n\r\n      <GuideText>\r\n        <strong> Agregar Elementos a Escenas Especficas:</strong> Usa los botones <GuideCode></GuideCode> (dilogo) y <GuideCode></GuideCode> (narracin) junto a cada archivo de escena para agregar elementos directamente a esa escena, sin necesidad de cambiar la escena actual.\r\n      </GuideText>\r\n    </GuideSection>\r\n  );\r\n\r\n  return (\r\n    <PanelContainer>\r\n          <Section>\r\n            <SectionTitle>\r\n              Archivos de Escenas\r\n              <Button onClick={handleAddSceneFile}>+ Nuevo Archivo</Button>\r\n            </SectionTitle>\r\n            \r\n            <SceneFileList>\r\n              {state.project.sceneFiles.map(sceneFile => (\r\n                <SceneFileItem\r\n                  key={sceneFile.id}\r\n                  selected={sceneFile.id === state.project.currentSceneFile}\r\n                  onClick={() => handleSelectSceneFile(sceneFile.id)}\r\n                >\r\n                  <SceneFileName selected={sceneFile.id === state.project.currentSceneFile}>\r\n                    {sceneFile.displayName}\r\n                    {sceneFile.isMain && ' (Principal)'}\r\n                  </SceneFileName>\r\n                  <SceneFileInfo selected={sceneFile.id === state.project.currentSceneFile}>\r\n                    Archivo: {sceneFile.name}\r\n                  </SceneFileInfo>\r\n                  <SceneFileElements selected={sceneFile.id === state.project.currentSceneFile}>\r\n                    {sceneFile.elements.length} elementos\r\n                  </SceneFileElements>\r\n                  <SceneFileActions onClick={(e) => e.stopPropagation()}>\r\n                    <ActionButton\r\n                      onClick={() => handleEditSceneFile(sceneFile)}\r\n                      disabled={sceneFile.isMain}\r\n                    >\r\n                       Editar\r\n                    </ActionButton>\r\n                    <ActionButton\r\n                      onClick={() => handleDuplicateSceneFile(sceneFile)}\r\n                      disabled={sceneFile.isMain}\r\n                    >\r\n                       Duplicar\r\n                    </ActionButton>\r\n                    <ActionButton\r\n                      onClick={() => handleAddElementToScene(sceneFile.id, 'dialogue')}\r\n                      style={{ \r\n                        background: 'var(--color-success)', \r\n                        borderColor: 'var(--color-success)',\r\n                        fontSize: '9px',\r\n                        padding: '4px 6px'\r\n                      }}\r\n                    >\r\n                      \r\n                    </ActionButton>\r\n                    <ActionButton\r\n                      onClick={() => handleAddElementToScene(sceneFile.id, 'narration')}\r\n                      style={{ \r\n                        background: 'var(--color-info)', \r\n                        borderColor: 'var(--color-info)',\r\n                        fontSize: '9px',\r\n                        padding: '4px 6px'\r\n                      }}\r\n                    >\r\n                      \r\n                    </ActionButton>\r\n                    <ActionButton\r\n                      danger\r\n                      onClick={() => handleDeleteSceneFile(sceneFile.id)}\r\n                      disabled={sceneFile.isMain}\r\n                    >\r\n                       Eliminar\r\n                    </ActionButton>\r\n                  </SceneFileActions>\r\n                </SceneFileItem>\r\n              ))}\r\n            </SceneFileList>\r\n          </Section>\r\n\r\n          {showSceneFileForm && (\r\n            <Section>\r\n              <SectionTitle>\r\n                {selectedSceneFile ? 'Editar Archivo de Escena' : 'Nuevo Archivo de Escena'}\r\n              </SectionTitle>\r\n              \r\n              <FormGroup>\r\n                <Label>ID (identificador nico)</Label>\r\n                <Input\r\n                  value={sceneFileFormData.id}\r\n                  onChange={(e) => handleSceneFileFormChange('id', e.target.value)}\r\n                  placeholder=\"ej: chapter1, intro, ending\"\r\n                />\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Label>Nombre del archivo</Label>\r\n                <Input\r\n                  value={sceneFileFormData.name}\r\n                  onChange={(e) => handleSceneFileFormChange('name', e.target.value)}\r\n                  placeholder=\"ej: chapter1.rpy\"\r\n                />\r\n              </FormGroup>\r\n\r\n              <FormGroup>\r\n                <Label>Nombre para mostrar</Label>\r\n                <Input\r\n                  value={sceneFileFormData.displayName}\r\n                  onChange={(e) => handleSceneFileFormChange('displayName', e.target.value)}\r\n                  placeholder=\"ej: Captulo 1: El Comienzo\"\r\n                />\r\n              </FormGroup>\r\n\r\n              <ButtonGroup>\r\n                <Button onClick={handleSaveSceneFile}>\r\n                  {selectedSceneFile ? 'Actualizar' : 'Crear'}\r\n                </Button>\r\n                <Button onClick={() => setShowSceneFileForm(false)}>\r\n                  Cancelar\r\n                </Button>\r\n                {selectedSceneFile && !selectedSceneFile.isMain && (\r\n                  <DeleteButton onClick={() => handleDeleteSceneFile(selectedSceneFile.id)}>\r\n                    Eliminar\r\n                  </DeleteButton>\r\n                )}\r\n              </ButtonGroup>\r\n            </Section>\r\n          )}\r\n\r\n          {/* Gua contextual */}\r\n          {renderSceneFilesGuide()}\r\n\r\n    </PanelContainer>\r\n  );\r\n}\r\n\r\nexport default ScenePanel;\r\n","// Configuracin centralizada de tipos de elementos de escena\nexport const ELEMENT_TYPES_CONFIG = [\n  { \n    type: 'dialogue', \n    label: 'Dilogo', \n    icon: '',\n    color: '#4a9eff',\n    description: 'Conversacin entre personajes',\n    category: 'core'\n  },\n  { \n    type: 'narration', \n    label: 'Narracin', \n    icon: '',\n    color: '#9eff4a',\n    description: 'Texto narrativo del juego',\n    category: 'core'\n  },\n  { \n    type: 'scene', \n    label: 'Escena', \n    icon: '',\n    color: '#ff9e4a',\n    description: 'Cambio de fondo o escenario',\n    category: 'core'\n  },\n  { \n    type: 'show_sprite', \n    label: 'Mostrar Sprite', \n    icon: '',\n    color: '#ff4a9e',\n    description: 'Mostrar un personaje en pantalla',\n    category: 'characters'\n  },\n  { \n    type: 'hide_sprite', \n    label: 'Ocultar Sprite', \n    icon: '',\n    color: '#ff6b6b',\n    description: 'Ocultar un personaje de pantalla',\n    category: 'characters'\n  },\n  { \n    type: 'choice', \n    label: 'Eleccin', \n    icon: '',\n    color: '#ff4a9e',\n    description: 'Men de opciones para el jugador',\n    category: 'interaction'\n  },\n  { \n    type: 'jump', \n    label: 'Salto', \n    icon: '',\n    color: '#9e4aff',\n    description: 'Saltar a otra parte del script',\n    category: 'flow'\n  },\n  { \n    type: 'label', \n    label: 'Etiqueta', \n    icon: '',\n    color: '#4aff9e',\n    description: 'Punto de referencia en el script',\n    category: 'flow'\n  },\n  { \n    type: 'condition', \n    label: 'Condicin', \n    icon: '',\n    color: '#ffa726',\n    description: 'Lgica condicional del juego',\n    category: 'logic'\n  },\n  { \n    type: 'variable', \n    label: 'Variable', \n    icon: '',\n    color: '#42a5f5',\n    description: 'Almacenar y modificar datos',\n    category: 'logic'\n  },\n  { \n    type: 'flag', \n    label: 'Flag', \n    icon: '',\n    color: '#ef5350',\n    description: 'Marcador de estado del juego',\n    category: 'logic'\n  },\n  { \n    type: 'video', \n    label: 'Video', \n    icon: '',\n    color: '#ab47bc',\n    description: 'Reproducir archivo de video',\n    category: 'media'\n  },\n  { \n    type: 'movie_sprite', \n    label: 'Movie Sprite', \n    icon: '',\n    color: '#26a69a',\n    description: 'Sprite animado con video',\n    category: 'media'\n  },\n  { \n    type: 'movie_cutscene', \n    label: 'Movie Cutscene', \n    icon: '',\n    color: '#66bb6a',\n    description: 'Escena cinematogrfica completa',\n    category: 'media'\n  },\n  { \n    type: 'transition', \n    label: 'Transicin', \n    icon: '',\n    color: '#ff6b35',\n    description: 'Efecto de transicin entre escenas',\n    category: 'effects'\n  },\n  {\n    type: 'protagonist_setup',\n    label: 'Setup del Protagonista',\n    icon: '',\n    color: '#ff6b6b',\n    description: 'Configurar el nombre del protagonista',\n    category: 'special'\n  }\n];\n\n// Etiquetas de categoras\nexport const CATEGORY_LABELS = {\n  core: ' Elementos Bsicos',\n  characters: ' Personajes',\n  interaction: ' Interaccin',\n  flow: ' Flujo',\n  logic: ' Lgica',\n  media: ' Multimedia',\n  effects: ' Efectos',\n  special: ' Elementos Especiales'\n};\n\n// Agrupar por categoras\nexport const getElementTypesByCategory = () => {\n  return ELEMENT_TYPES_CONFIG.reduce((acc, element) => {\n    if (!acc[element.category]) {\n      acc[element.category] = [];\n    }\n    acc[element.category].push(element);\n    return acc;\n  }, {});\n};\n\n// Funciones utilitarias\nexport const getElementTypeConfig = (type) => {\n  return ELEMENT_TYPES_CONFIG.find(config => config.type === type);\n};\n\nexport const getElementTypeLabel = (type) => {\n  const config = getElementTypeConfig(type);\n  return config ? config.label : type;\n};\n\nexport const getElementTypeIcon = (type) => {\n  const config = getElementTypeConfig(type);\n  return config ? config.icon : '';\n};\n\nexport const getElementTypeColor = (type) => {\n  const config = getElementTypeConfig(type);\n  return config ? config.color : '#4a9eff';\n};\n\nexport const getElementTypeDescription = (type) => {\n  const config = getElementTypeConfig(type);\n  return config ? config.description : 'Sin descripcin';\n};\n\n\n\n\n","// Configuracin de transiciones de Ren'Py\r\n// Basado en: https://www.renpy.org/doc/html/transitions.html\r\n\r\nexport const RENPY_TRANSITIONS = {\r\n  // Transiciones predefinidas\r\n  predefined: [\r\n    {\r\n      id: 'dissolve',\r\n      name: 'Dissolve',\r\n      description: 'Transicin de disolucin suave (0.5s)',\r\n      duration: 0.5,\r\n      category: 'basic',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'fade',\r\n      name: 'Fade',\r\n      description: 'Desvanecimiento a negro y luego a la nueva escena (1.0s)',\r\n      duration: 1.0,\r\n      category: 'basic',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'pixellate',\r\n      name: 'Pixellate',\r\n      description: 'Efecto de pixelacin (1.0s)',\r\n      duration: 1.0,\r\n      category: 'basic',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'move',\r\n      name: 'Move',\r\n      description: 'Mueve imgenes que cambiaron de posicin (0.5s)',\r\n      duration: 0.5,\r\n      category: 'movement',\r\n      icon: ''\r\n    }\r\n  ],\r\n\r\n  // Transiciones de movimiento\r\n  moveTransitions: [\r\n    {\r\n      id: 'moveinright',\r\n      name: 'Move In Right',\r\n      description: 'Entra desde la derecha (0.5s)',\r\n      duration: 0.5,\r\n      category: 'move',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'moveinleft',\r\n      name: 'Move In Left',\r\n      description: 'Entra desde la izquierda (0.5s)',\r\n      duration: 0.5,\r\n      category: 'move',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'moveintop',\r\n      name: 'Move In Top',\r\n      description: 'Entra desde arriba (0.5s)',\r\n      duration: 0.5,\r\n      category: 'move',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'moveinbottom',\r\n      name: 'Move In Bottom',\r\n      description: 'Entra desde abajo (0.5s)',\r\n      duration: 0.5,\r\n      category: 'move',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'moveoutright',\r\n      name: 'Move Out Right',\r\n      description: 'Sale hacia la derecha (0.5s)',\r\n      duration: 0.5,\r\n      category: 'move',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'moveoutleft',\r\n      name: 'Move Out Left',\r\n      description: 'Sale hacia la izquierda (0.5s)',\r\n      duration: 0.5,\r\n      category: 'move',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'moveouttop',\r\n      name: 'Move Out Top',\r\n      description: 'Sale hacia arriba (0.5s)',\r\n      duration: 0.5,\r\n      category: 'move',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'moveoutbottom',\r\n      name: 'Move Out Bottom',\r\n      description: 'Sale hacia abajo (0.5s)',\r\n      duration: 0.5,\r\n      category: 'move',\r\n      icon: ''\r\n    }\r\n  ],\r\n\r\n  // Transiciones de facilidad (ease)\r\n  easeTransitions: [\r\n    {\r\n      id: 'ease',\r\n      name: 'Ease',\r\n      description: 'Movimiento suave con curva coseno (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'easeinright',\r\n      name: 'Ease In Right',\r\n      description: 'Entra suavemente desde la derecha (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'easeinleft',\r\n      name: 'Ease In Left',\r\n      description: 'Entra suavemente desde la izquierda (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'easeintop',\r\n      name: 'Ease In Top',\r\n      description: 'Entra suavemente desde arriba (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'easeinbottom',\r\n      name: 'Ease In Bottom',\r\n      description: 'Entra suavemente desde abajo (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'easeoutright',\r\n      name: 'Ease Out Right',\r\n      description: 'Sale suavemente hacia la derecha (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'easeoutleft',\r\n      name: 'Ease Out Left',\r\n      description: 'Sale suavemente hacia la izquierda (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'easeouttop',\r\n      name: 'Ease Out Top',\r\n      description: 'Sale suavemente hacia arriba (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'easeoutbottom',\r\n      name: 'Ease Out Bottom',\r\n      description: 'Sale suavemente hacia abajo (0.5s)',\r\n      duration: 0.5,\r\n      category: 'ease',\r\n      icon: ''\r\n    }\r\n  ],\r\n\r\n  // Transiciones de zoom\r\n  zoomTransitions: [\r\n    {\r\n      id: 'zoomin',\r\n      name: 'Zoom In',\r\n      description: 'Zoom hacia adentro (0.5s)',\r\n      duration: 0.5,\r\n      category: 'zoom',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'zoomout',\r\n      name: 'Zoom Out',\r\n      description: 'Zoom hacia afuera (0.5s)',\r\n      duration: 0.5,\r\n      category: 'zoom',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'zoominout',\r\n      name: 'Zoom In/Out',\r\n      description: 'Zoom in y out simultneo (0.5s)',\r\n      duration: 0.5,\r\n      category: 'zoom',\r\n      icon: ''\r\n    }\r\n  ],\r\n\r\n  // Transiciones de efecto\r\n  effectTransitions: [\r\n    {\r\n      id: 'vpunch',\r\n      name: 'Vertical Punch',\r\n      description: 'Sacudida vertical (0.25s)',\r\n      duration: 0.25,\r\n      category: 'effect',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'hpunch',\r\n      name: 'Horizontal Punch',\r\n      description: 'Sacudida horizontal (0.25s)',\r\n      duration: 0.25,\r\n      category: 'effect',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'blinds',\r\n      name: 'Blinds',\r\n      description: 'Efecto de persianas verticales (1.0s)',\r\n      duration: 1.0,\r\n      category: 'effect',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'squares',\r\n      name: 'Squares',\r\n      description: 'Efecto de cuadrados (1.0s)',\r\n      duration: 1.0,\r\n      category: 'effect',\r\n      icon: ''\r\n    }\r\n  ],\r\n\r\n  // Transiciones de deslizamiento\r\n  slideTransitions: [\r\n    {\r\n      id: 'wipeleft',\r\n      name: 'Wipe Left',\r\n      description: 'Barre hacia la izquierda',\r\n      duration: 0.5,\r\n      category: 'slide',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'wiperight',\r\n      name: 'Wipe Right',\r\n      description: 'Barre hacia la derecha',\r\n      duration: 0.5,\r\n      category: 'slide',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'wipeup',\r\n      name: 'Wipe Up',\r\n      description: 'Barre hacia arriba',\r\n      duration: 0.5,\r\n      category: 'slide',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'wipedown',\r\n      name: 'Wipe Down',\r\n      description: 'Barre hacia abajo',\r\n      duration: 0.5,\r\n      category: 'slide',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'slideleft',\r\n      name: 'Slide Left',\r\n      description: 'Desliza hacia la izquierda',\r\n      duration: 0.5,\r\n      category: 'slide',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'slideright',\r\n      name: 'Slide Right',\r\n      description: 'Desliza hacia la derecha',\r\n      duration: 0.5,\r\n      category: 'slide',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'slideup',\r\n      name: 'Slide Up',\r\n      description: 'Desliza hacia arriba',\r\n      duration: 0.5,\r\n      category: 'slide',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'slidedown',\r\n      name: 'Slide Down',\r\n      description: 'Desliza hacia abajo',\r\n      duration: 0.5,\r\n      category: 'slide',\r\n      icon: ''\r\n    }\r\n  ],\r\n\r\n  // Transiciones de empuje\r\n  pushTransitions: [\r\n    {\r\n      id: 'pushright',\r\n      name: 'Push Right',\r\n      description: 'Empuja hacia la derecha',\r\n      duration: 0.5,\r\n      category: 'push',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'pushleft',\r\n      name: 'Push Left',\r\n      description: 'Empuja hacia la izquierda',\r\n      duration: 0.5,\r\n      category: 'push',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'pushup',\r\n      name: 'Push Up',\r\n      description: 'Empuja hacia arriba',\r\n      duration: 0.5,\r\n      category: 'push',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'pushdown',\r\n      name: 'Push Down',\r\n      description: 'Empuja hacia abajo',\r\n      duration: 0.5,\r\n      category: 'push',\r\n      icon: ''\r\n    }\r\n  ],\r\n\r\n  // Transiciones de iris\r\n  irisTransitions: [\r\n    {\r\n      id: 'irisin',\r\n      name: 'Iris In',\r\n      description: 'Iris rectangular hacia adentro',\r\n      duration: 0.5,\r\n      category: 'iris',\r\n      icon: ''\r\n    },\r\n    {\r\n      id: 'irisout',\r\n      name: 'Iris Out',\r\n      description: 'Iris rectangular hacia afuera',\r\n      duration: 0.5,\r\n      category: 'iris',\r\n      icon: ''\r\n    }\r\n  ]\r\n};\r\n\r\n// Categoras de transiciones\r\nexport const TRANSITION_CATEGORIES = {\r\n  basic: {\r\n    name: 'Bsicas',\r\n    description: 'Transiciones fundamentales',\r\n    color: '#4a9eff'\r\n  },\r\n  movement: {\r\n    name: 'Movimiento',\r\n    description: 'Transiciones de movimiento',\r\n    color: '#ff6b35'\r\n  },\r\n  move: {\r\n    name: 'Move',\r\n    description: 'Entrada y salida de elementos',\r\n    color: '#2ed573'\r\n  },\r\n  ease: {\r\n    name: 'Ease',\r\n    description: 'Movimientos suaves',\r\n    color: '#ffa502'\r\n  },\r\n  zoom: {\r\n    name: 'Zoom',\r\n    description: 'Efectos de zoom',\r\n    color: '#ff4757'\r\n  },\r\n  effect: {\r\n    name: 'Efectos',\r\n    description: 'Efectos especiales',\r\n    color: '#5f27cd'\r\n  },\r\n  slide: {\r\n    name: 'Deslizamiento',\r\n    description: 'Transiciones de deslizamiento',\r\n    color: '#00d2d3'\r\n  },\r\n  push: {\r\n    name: 'Empuje',\r\n    description: 'Transiciones de empuje',\r\n    color: '#ff9ff3'\r\n  },\r\n  iris: {\r\n    name: 'Iris',\r\n    description: 'Efectos de iris',\r\n    color: '#54a0ff'\r\n  }\r\n};\r\n\r\n// Categoras especficas para elementos\r\nexport const ELEMENT_TRANSITION_CATEGORIES = {\r\n  backgrounds: {\r\n    name: 'Fondos',\r\n    description: 'Transiciones para fondos de escena',\r\n    color: '#4a9eff',\r\n    icon: ''\r\n  },\r\n  sprites: {\r\n    name: 'Sprites',\r\n    description: 'Transiciones para sprites de personajes',\r\n    color: '#ff6b35',\r\n    icon: ''\r\n  }\r\n};\r\n\r\n// Funcin para obtener todas las transiciones\r\nexport const getAllTransitions = () => {\r\n  return [\r\n    ...RENPY_TRANSITIONS.predefined,\r\n    ...RENPY_TRANSITIONS.moveTransitions,\r\n    ...RENPY_TRANSITIONS.easeTransitions,\r\n    ...RENPY_TRANSITIONS.zoomTransitions,\r\n    ...RENPY_TRANSITIONS.effectTransitions,\r\n    ...RENPY_TRANSITIONS.slideTransitions,\r\n    ...RENPY_TRANSITIONS.pushTransitions,\r\n    ...RENPY_TRANSITIONS.irisTransitions\r\n  ];\r\n};\r\n\r\n// Funcin para obtener transiciones por categora\r\nexport const getTransitionsByCategory = (category) => {\r\n  const allTransitions = getAllTransitions();\r\n  return allTransitions.filter(transition => transition.category === category);\r\n};\r\n\r\n// Funcin para obtener una transicin por ID\r\nexport const getTransitionById = (id) => {\r\n  const allTransitions = getAllTransitions();\r\n  return allTransitions.find(transition => transition.id === id);\r\n};\r\n\r\n// Funcin para obtener transiciones agrupadas por categora\r\nexport const getTransitionsGroupedByCategory = () => {\r\n  const grouped = {};\r\n  \r\n  Object.keys(TRANSITION_CATEGORIES).forEach(categoryId => {\r\n    const category = TRANSITION_CATEGORIES[categoryId];\r\n    const transitions = getTransitionsByCategory(categoryId);\r\n    \r\n    if (transitions.length > 0) {\r\n      grouped[categoryId] = {\r\n        ...category,\r\n        transitions\r\n      };\r\n    }\r\n  });\r\n  \r\n  return grouped;\r\n};\r\n\r\n// Funcin para obtener transiciones apropiadas para fondos\r\nexport const getBackgroundTransitions = () => {\r\n  const allTransitions = getAllTransitions();\r\n  // Fondos pueden usar todas las transiciones excepto las especficas de sprites\r\n  return allTransitions.filter(transition => \r\n    !transition.id.includes('movein') && \r\n    !transition.id.includes('moveout') &&\r\n    !transition.id.includes('easein') &&\r\n    !transition.id.includes('easeout')\r\n  );\r\n};\r\n\r\n// Funcin para obtener transiciones apropiadas para sprites\r\nexport const getSpriteTransitions = () => {\r\n  const allTransitions = getAllTransitions();\r\n  // Sprites pueden usar todas las transiciones\r\n  return allTransitions;\r\n};\r\n\r\n// Funcin para obtener transiciones agrupadas por tipo de elemento\r\nexport const getTransitionsGroupedByElementType = (elementType) => {\r\n  const grouped = {};\r\n  \r\n  if (elementType === 'backgrounds') {\r\n    const transitions = getBackgroundTransitions();\r\n    Object.keys(TRANSITION_CATEGORIES).forEach(categoryId => {\r\n      const category = TRANSITION_CATEGORIES[categoryId];\r\n      const categoryTransitions = transitions.filter(t => t.category === categoryId);\r\n      \r\n      if (categoryTransitions.length > 0) {\r\n        grouped[categoryId] = {\r\n          ...category,\r\n          transitions: categoryTransitions\r\n        };\r\n      }\r\n    });\r\n  } else if (elementType === 'sprites') {\r\n    const transitions = getSpriteTransitions();\r\n    Object.keys(TRANSITION_CATEGORIES).forEach(categoryId => {\r\n      const category = TRANSITION_CATEGORIES[categoryId];\r\n      const categoryTransitions = transitions.filter(t => t.category === categoryId);\r\n      \r\n      if (categoryTransitions.length > 0) {\r\n        grouped[categoryId] = {\r\n          ...category,\r\n          transitions: categoryTransitions\r\n        };\r\n      }\r\n    });\r\n  }\r\n  \r\n  return grouped;\r\n};\r\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { useVisualNovel } from '../../context/VisualNovelContext';\nimport { useModalContext } from '../../context/ModalContext';\nimport { v4 as uuidv4 } from 'uuid';\nimport { FileManager } from '../../utils/fileManager';\nimport { \n  ELEMENT_TYPES_CONFIG, \n  CATEGORY_LABELS, \n  getElementTypesByCategory,\n  getElementTypeConfig \n} from '../../config/elementTypes';\nimport { getAllTransitions, getTransitionsGroupedByCategory, getTransitionsGroupedByElementType, ELEMENT_TRANSITION_CATEGORIES } from '../../config/renpyTransitions';\n\n// === SISTEMA DE MANEJO DE ERRORES Y VALIDACIONES ===\nclass ValidationError extends Error {\n  constructor(message, field, code = 'VALIDATION_ERROR') {\n    super(message);\n    this.name = 'ValidationError';\n    this.field = field;\n    this.code = code;\n  }\n}\n\nclass SecurityError extends Error {\n  constructor(message, code = 'SECURITY_ERROR') {\n    super(message);\n    this.name = 'SecurityError';\n    this.code = code;\n  }\n}\n\n// Sistema de notificaciones mejorado\nconst NotificationSystem = {\n  show: (type, message, duration = 5000) => {\n    const notification = document.createElement('div');\n    notification.className = `notification notification-${type}`;\n    notification.innerHTML = `\n      <div class=\"notification-content\">\n        <span class=\"notification-icon\">${type === 'error' ? '' : type === 'warning' ? '' : type === 'success' ? '' : ''}</span>\n        <span class=\"notification-message\">${message}</span>\n        <button class=\"notification-close\"></button>\n      </div>\n    `;\n    \n    // Estilos inline para evitar dependencias\n    notification.style.cssText = `\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      z-index: 10000;\n      background: ${type === 'error' ? '#ff4757' : type === 'warning' ? '#ffa502' : type === 'success' ? '#2ed573' : '#3742fa'};\n      color: white;\n      padding: 16px 20px;\n      border-radius: 8px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n      max-width: 400px;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 14px;\n      animation: slideIn 0.3s ease-out;\n    `;\n    \n    document.body.appendChild(notification);\n    \n    // Auto-remove\n    setTimeout(() => {\n      if (notification.parentNode) {\n        notification.style.animation = 'slideOut 0.3s ease-in';\n        setTimeout(() => notification.remove(), 300);\n      }\n    }, duration);\n    \n    // Manual close\n    notification.querySelector('.notification-close').onclick = () => {\n      notification.style.animation = 'slideOut 0.3s ease-in';\n      setTimeout(() => notification.remove(), 300);\n    };\n    \n    // Add CSS animations if not already added\n    if (!document.getElementById('notification-styles')) {\n      const style = document.createElement('style');\n      style.id = 'notification-styles';\n      style.textContent = `\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n        @keyframes slideOut {\n          from { transform: translateX(0); opacity: 1; }\n          to { transform: translateX(100%); opacity: 0; }\n        }\n        .notification-content {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n        .notification-icon {\n          font-size: 18px;\n        }\n        .notification-message {\n          flex: 1;\n        }\n        .notification-close {\n          background: none;\n          border: none;\n          color: white;\n          font-size: 20px;\n          cursor: pointer;\n          padding: 0;\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      `;\n      document.head.appendChild(style);\n    }\n  }\n};\n\n// Sistema de logging estructurado\nconst Logger = {\n  error: (message, data = {}) => {\n    console.error(`[ERROR] ${message}`, {\n      timestamp: new Date().toISOString(),\n      ...data\n    });\n  },\n  warn: (message, data = {}) => {\n    console.warn(`[WARN] ${message}`, {\n      timestamp: new Date().toISOString(),\n      ...data\n    });\n  },\n  info: (message, data = {}) => {\n    console.log(`[INFO] ${message}`, {\n      timestamp: new Date().toISOString(),\n      ...data\n    });\n  }\n};\n\n// === SISTEMA DE VALIDACIONES Y SEGURIDAD ===\nconst ValidationEngine = {\n  // Sanitizacin de entrada\n  sanitizeInput: (input, type = 'text') => {\n    if (typeof input !== 'string') return input;\n    \n    switch (type) {\n      case 'text':\n        return input.replace(/[<>]/g, ''); // Remover caracteres peligrosos, mantener espacios\n      case 'filename':\n        return input.replace(/[^a-zA-Z0-9._-]/g, '_'); // Solo caracteres seguros\n      case 'html':\n        return input.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, ''); // Remover scripts\n      default:\n        return input; // No hacer trim automticamente para preservar espacios\n    }\n  },\n\n  // Validaciones especficas por tipo de elemento\n  validateElement: (formData) => {\n    const errors = [];\n    \n    try {\n      // Validacin de seguridad bsica\n      if (formData.text && formData.text.length > 10000) {\n        throw new SecurityError('Texto demasiado largo. Mximo 10,000 caracteres.', 'TEXT_TOO_LONG');\n      }\n\n      // Validacin por tipo de elemento\n      switch (formData.type) {\n        case 'dialogue':\n          ValidationEngine.validateDialogue(formData, errors);\n          break;\n        case 'choice':\n          ValidationEngine.validateChoice(formData, errors);\n          break;\n        case 'jump':\n          ValidationEngine.validateJump(formData, errors);\n          break;\n        case 'show_sprite':\n        case 'hide_sprite':\n          ValidationEngine.validateSprite(formData, errors);\n          break;\n        case 'scene':\n          ValidationEngine.validateScene(formData, errors);\n          break;\n        case 'label':\n          ValidationEngine.validateLabel(formData, errors);\n          break;\n        default:\n          ValidationEngine.validateGeneric(formData, errors);\n      }\n\n      return { isValid: errors.length === 0, errors };\n    } catch (error) {\n      Logger.error('Error en validacin de elemento', { \n        error: error.message, \n        formData: { type: formData.type, hasText: !!formData.text }\n      });\n      return { isValid: false, errors: [error.message] };\n    }\n  },\n\n  validateDialogue: (formData, errors) => {\n    if (!formData.text || !formData.text.trim()) {\n      errors.push('El texto del dilogo es obligatorio');\n    }\n    if (!formData.character) {\n      errors.push('Debes seleccionar un personaje para el dilogo');\n    }\n    if (formData.text && formData.text.length < 2) {\n      errors.push('El dilogo debe tener al menos 2 caracteres');\n    }\n  },\n\n  validateChoice: (formData, errors) => {\n    if (!formData.text || !formData.text.trim()) {\n      errors.push('Debes escribir una pregunta o texto para la eleccin');\n    }\n    if (!formData.choices || formData.choices.length === 0) {\n      errors.push('Debes agregar al menos una opcin');\n    }\n    if (formData.choices) {\n      formData.choices.forEach((choice, index) => {\n        if (!choice.text || !choice.text.trim()) {\n          errors.push(`La opcin ${index + 1} no puede estar vaca`);\n        }\n        if (!choice.jump || !choice.jump.trim()) {\n          errors.push(`La opcin ${index + 1} debe tener una etiqueta de destino`);\n        }\n      });\n    }\n  },\n\n  validateJump: (formData, errors) => {\n    if (!formData.jump || !formData.jump.trim()) {\n      errors.push('Debes especificar una etiqueta de destino para el salto');\n    }\n    // Validar que el target no sea peligroso\n    if (formData.jump && /[<>\"']/.test(formData.jump)) {\n      errors.push('La etiqueta de destino contiene caracteres no vlidos');\n    }\n  },\n\n  validateSprite: (formData, errors) => {\n    if (!formData.character || !formData.character.trim()) {\n      errors.push(`Debes seleccionar un personaje para ${formData.type === 'show_sprite' ? 'mostrar' : 'ocultar'} el sprite`);\n    }\n    if (formData.type === 'show_sprite' && (!formData.spriteName || !formData.spriteName.trim())) {\n      errors.push('Debes seleccionar un sprite para mostrar');\n    }\n  },\n\n  validateScene: (formData, errors) => {\n    // Para escenas, el texto es opcional - se puede usar solo para cambiar fondo\n    // Solo validar si se proporciona texto que tenga al menos 2 caracteres\n    if (formData.text && formData.text.trim().length < 2) {\n      errors.push('Si proporcionas un nombre de escena, debe tener al menos 2 caracteres');\n    }\n    \n    // Validar que al menos haya un fondo seleccionado (el texto es opcional)\n    if (!formData.background || !formData.background.trim()) {\n      errors.push('Debes seleccionar un fondo para la escena');\n    }\n  },\n\n  validateLabel: (formData, errors) => {\n    if (!formData.label || !formData.label.trim()) {\n      errors.push('El nombre de la etiqueta es obligatorio');\n    }\n    // Validar formato de etiqueta\n    if (formData.label && !/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(formData.label.trim())) {\n      errors.push('El nombre de la etiqueta debe comenzar con letra o guin bajo y contener solo letras, nmeros y guiones bajos');\n    }\n  },\n\n  validateGeneric: (formData, errors) => {\n    // Validacin genrica para tipos que requieren texto\n    const typesRequiringText = ['narration', 'condition', 'variable'];\n    if (typesRequiringText.includes(formData.type) && (!formData.text || !formData.text.trim())) {\n      errors.push('El texto es obligatorio para este tipo de elemento');\n    }\n  }\n};\n\n// === MANEJO DE ERRORES CENTRALIZADO ===\nconst ErrorHandler = {\n  handle: (error, context = '') => {\n    Logger.error(`Error en ${context}`, { \n      error: error.message, \n      stack: error.stack,\n      name: error.name \n    });\n\n    if (error instanceof ValidationError) {\n      NotificationSystem.show('error', `Error de validacin: ${error.message}`);\n      return false;\n    } else if (error instanceof SecurityError) {\n      NotificationSystem.show('error', `Error de seguridad: ${error.message}`);\n      return false;\n    } else {\n      NotificationSystem.show('error', `Error inesperado: ${error.message}`);\n      return false;\n    }\n  },\n\n  handleAsync: async (asyncFunction, context = '') => {\n    try {\n      return await asyncFunction();\n    } catch (error) {\n      return ErrorHandler.handle(error, context);\n    }\n  }\n};\n\nconst PanelContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`;\n\nconst Section = styled.div`\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 8px;\n  padding: 16px;\n  transition: background-color 0.3s ease;\n`;\n\nconst SectionTitle = styled.h3`\n  margin: 0 0 12px 0;\n  font-size: 16px;\n  font-weight: 700;\n  color: #60a5fa;\n  border-bottom: 2px solid #60a5fa;\n  padding-bottom: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: color 0.3s ease, border-color 0.3s ease;\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n`;\n\nconst Button = styled.button`\n  background-color: var(--color-primary);\n  color: var(--color-textInverse);\n  border: 2px solid var(--color-primary);\n  padding: 10px 18px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  box-shadow: 0 3px 8px var(--color-shadow);\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n\n  &:hover {\n    background-color: var(--color-primaryHover);\n    border-color: var(--color-primaryHover);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 12px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadow);\n  }\n`;\n\nconst FileSelector = styled.select`\n  background-color: var(--color-border);\n  color: var(--color-textPrimary);\n  border: 1px solid var(--color-borderSecondary);\n  padding: 6px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  min-width: 150px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n\n  option {\n    background-color: var(--color-border);\n    color: var(--color-textPrimary);\n  }\n`;\n\nconst FileSelectorContainer = styled.div`\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  margin-top: 8px;\n`;\n\nconst ElementList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  max-height: 400px;\n  overflow-y: auto;\n`;\n\nconst ElementItem = styled.div`\n  background-color: var(--color-surface);\n  border-radius: 8px;\n  padding: 14px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 2px solid ${props => props.selected ? 'var(--color-primary)' : 'var(--color-border)'};\n  box-shadow: ${props => props.selected ? '0 4px 12px var(--color-shadow)' : '0 2px 6px var(--color-shadow)'};\n\n  &:hover {\n    background-color: var(--color-surfaceElevated);\n    border-color: var(--color-borderSecondary);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 10px var(--color-shadowHover);\n  }\n`;\n\nconst ElementType = styled.div`\n  font-size: 11px;\n  color: var(--color-primary);\n  text-transform: uppercase;\n  margin-bottom: 6px;\n  transition: color 0.3s ease;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n`;\n\nconst ElementContent = styled.div`\n  font-size: 13px;\n  color: var(--color-textPrimary);\n  line-height: 1.5;\n  transition: color 0.3s ease;\n  font-weight: 500;\n`;\n\nconst ElementCharacter = styled.div`\n  font-size: 11px;\n  color: var(--color-textSecondary);\n  margin-top: 4px;\n  transition: color 0.3s ease;\n`;\n\nconst FormGroup = styled.div`\n  margin-bottom: 12px;\n`;\n\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 6px;\n  font-size: 13px;\n  font-weight: 600;\n  color: #ffffff;\n  transition: color 0.3s ease;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7);\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n`;\n\nconst Select = styled.select`\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n`;\n\nconst TextArea = styled.textarea`\n  width: 100%;\n  background-color: var(--color-surfaceSecondary);\n  border: 1px solid var(--color-border);\n  color: var(--color-textPrimary);\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n  min-height: 80px;\n  resize: vertical;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: var(--color-primary);\n  }\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-top: 12px;\n`;\n\nconst DeleteButton = styled(Button)`\n  background-color: var(--color-error);\n  border-color: var(--color-error);\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    border-color: var(--color-errorHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n`;\n\nconst ChoiceContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nconst ChoiceItem = styled.div`\n  background-color: var(--color-surfaceSecondary);\n  border-radius: 6px;\n  padding: 12px;\n  border: 1px solid var(--color-border);\n  transition: all 0.3s ease;\n`;\n\nconst ChoiceHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n`;\n\nconst ChoiceNumber = styled.div`\n  font-weight: bold;\n  color: var(--color-primary);\n  font-size: 14px;\n  transition: color 0.3s ease;\n`;\n\nconst RemoveChoiceButton = styled.button`\n  background-color: var(--color-error);\n  color: var(--color-textInverse);\n  border: 1px solid var(--color-error);\n  padding: 6px 10px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 10px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-errorHover);\n    border-color: var(--color-errorHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n`;\n\nconst AddChoiceButton = styled(Button)`\n  background-color: var(--color-info);\n  border-color: var(--color-info);\n  margin-top: 8px;\n  box-shadow: 0 2px 4px var(--color-shadow);\n\n  &:hover {\n    background-color: var(--color-infoHover);\n    border-color: var(--color-infoHover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px var(--color-shadowHover);\n  }\n\n  &:active {\n    transform: translateY(0);\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n\n  &:disabled {\n    background-color: var(--color-border);\n    border-color: var(--color-border);\n    cursor: not-allowed;\n    opacity: 0.5;\n    transform: none;\n    box-shadow: 0 2px 4px var(--color-shadow);\n  }\n`;\n\nconst ElementTypeButtons = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 8px;\n  margin-bottom: 16px;\n`;\n\nconst ElementTypeButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 14px 18px;\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'var(--color-surface)'};\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\n  border: 2px solid ${props => props.active ? 'var(--color-primary)' : 'var(--color-border)'};\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props => props.active ? '0 4px 12px var(--color-shadow)' : '0 2px 8px var(--color-shadow)'};\n  min-height: 65px;\n  text-align: left;\n  position: relative;\n  overflow: hidden;\n\n  /* Efecto de brillo sutil */\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n    transition: left 0.5s;\n  }\n\n  &:hover {\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-surfaceElevated)'};\n    border-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-borderSecondary)'};\n    transform: translateY(-3px) scale(1.03);\n    box-shadow: ${props => props.active ? '0 8px 20px var(--color-shadowHover)' : '0 6px 16px var(--color-shadowHover)'};\n    color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\n    \n    &::before {\n      left: 100%;\n    }\n  }\n\n  &:active {\n    transform: translateY(-1px) scale(1.01);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n  }\n\n  /* Estilo para el contenido del botn */\n  > div {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n  }\n`;\n\n// Estilos para el selector de color de narraciones\nconst ColorInputContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px;\n  background: var(--color-surface);\n  border: 1px solid var(--color-border);\n  border-radius: 6px;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    border-color: var(--color-primary);\n  }\n`;\n\nconst ColorInput = styled.input`\n  width: 40px;\n  height: 40px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  background: none;\n  \n  &::-webkit-color-swatch-wrapper {\n    padding: 0;\n  }\n  \n  &::-webkit-color-swatch {\n    border: 2px solid var(--color-border);\n    border-radius: 4px;\n  }\n`;\n\nconst ColorPreview = styled.div`\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  border: 2px solid var(--color-border);\n  transition: all 0.3s ease;\n`;\n\nconst ColorLabel = styled.span`\n  font-size: 12px;\n  color: var(--color-textSecondary);\n  font-family: monospace;\n  background: var(--color-surfaceSecondary);\n  padding: 4px 8px;\n  border-radius: 4px;\n  border: 1px solid var(--color-border);\n  transition: all 0.3s ease;\n`;\n\n// === ESTILOS PARA VENTANA FLOTANTE ===\nconst slideInRight = keyframes`\n  from {\n    opacity: 0;\n    transform: translateX(100%);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n`;\n\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n`;\n\nconst FloatingFormOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(4px);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: ${fadeIn} 0.3s ease-out;\n`;\n\nconst FloatingFormWindow = styled.div`\n  background: var(--color-surface);\n  border: 2px solid var(--color-primary);\n  border-radius: 16px;\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\n  width: 90%;\n  max-width: 500px;\n  max-height: 80vh;\n  overflow-y: auto;\n  animation: ${slideInRight} 0.4s ease-out;\n  position: relative;\n`;\n\nconst FloatingFormHeader = styled.div`\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  padding: 16px 20px;\n  border-radius: 14px 14px 0 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 2px solid var(--color-primary);\n`;\n\nconst FloatingFormTitle = styled.h3`\n  margin: 0;\n  font-size: 18px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #ffffff;\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);\n`;\n\nconst FloatingFormCloseButton = styled.button`\n  background: rgba(255, 255, 255, 0.2);\n  border: none;\n  color: white;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: bold;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.3);\n    transform: scale(1.1);\n  }\n`;\n\nconst FloatingFormContent = styled.div`\n  padding: 20px;\n  max-height: 60vh;\n  overflow-y: auto;\n`;\n\nconst FloatingFormActions = styled.div`\n  padding: 16px 20px;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n  background: #2a2a2a;\n  border-radius: 0 0 14px 14px;\n`;\n\nconst FloatingFormButton = styled.button`\n  padding: 10px 20px;\n  border: 2px solid ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\n  border-radius: 8px;\n  background: ${props => props.primary \n    ? 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)' \n    : 'var(--color-surface)'};\n  color: ${props => props.primary ? 'white' : 'var(--color-textPrimary)'};\n  cursor: pointer;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  font-size: 14px;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px ${props => props.primary \n      ? 'rgba(74, 158, 255, 0.3)' \n      : 'rgba(0, 0, 0, 0.1)'};\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n`;\n\nfunction ScriptPanel() {\n  const { state, dispatch } = useVisualNovel();\n  const { showAlert, showConfirm } = useModalContext();\n  const [selectedElement, setSelectedElement] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n  const [elementType, setElementType] = useState('dialogue');\n  const [showFloatingForm, setShowFloatingForm] = useState(false);\n  \n  const fileManager = new FileManager();\n\n  // Cargar archivos de forma asncrona\n  useEffect(() => {\n    const loadFiles = async () => {\n      const categories = ['backgrounds', 'characters', 'gui', 'effects', 'music', 'sounds', 'voice', 'general'];\n      const filePromises = categories.map(async (category) => {\n        const files = await fileManager.getFilesByCategory(category);\n        return { category, files };\n      });\n\n      const results = await Promise.all(filePromises);\n      const fileMap = {};\n      results.forEach(result => {\n        fileMap[result.category] = result.files;\n      });\n      setAvailableFiles(fileMap);\n    };\n\n    loadFiles();\n  }, []);\n\n  const [formData, setFormData] = useState({\n    type: 'dialogue',\n    text: '',\n    character: '',\n    background: '',\n    choices: [],\n    label: '',\n    jump: '',\n    sprite: '',\n    showSprite: '',\n    spritePosition: 'center', // Nueva propiedad para la posicin del sprite\n    showAsElement: false,\n    // Nuevos campos para condiciones, variables y flags\n    condition: '',\n    variableName: '',\n    variableValue: '',\n    flagName: '',\n    flagValue: false,\n    // Campos para videos\n    file: '',\n    displayType: 'fullscreen',\n    delay: '',\n    loops: 0,\n    stopMusic: true,\n    spriteName: '',\n    // Campo para la escena objetivo y posicin de insercin\n    targetSceneFileId: null,\n    insertIndex: null\n  });\n\n  // Estado para archivos disponibles del gestor\n  const [availableFiles, setAvailableFiles] = useState({\n    backgrounds: [],\n    characters: [],\n    videos: [],\n    music: []\n  });\n\n  // Usar configuracin centralizada\n  const elementTypesByCategory = getElementTypesByCategory();\n\n  // Cargar archivos disponibles del gestor\n  useEffect(() => {\n    const loadAvailableFiles = async () => {\n      try {\n        const fileManager = new FileManager();\n        \n        const [backgrounds, characters, videos, music] = await Promise.all([\n          fileManager.getFilesByCategory('backgrounds'),\n          fileManager.getFilesByCategory('characters'),\n          fileManager.getFilesByCategory('videos'),\n          fileManager.getFilesByCategory('music')\n        ]);\n\n        setAvailableFiles({\n          backgrounds: backgrounds || [],\n          characters: characters || [],\n          videos: videos || [],\n          music: music || []\n        });\n      } catch (error) {\n        console.error('Error al cargar archivos disponibles:', error);\n      }\n    };\n\n    loadAvailableFiles();\n  }, []);\n\n  // Cerrar ventana flotante con Escape\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === 'Escape' && showFloatingForm) {\n        handleCloseFloatingForm();\n      }\n    };\n\n    if (showFloatingForm) {\n      document.addEventListener('keydown', handleKeyDown);\n      // Prevenir scroll del body cuando la ventana est abierta\n      document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.body.style.overflow = 'unset';\n    };\n  }, [showFloatingForm]);\n\n  const handleAddElement = (type, targetSceneFileId = null, insertIndex = null) => {\n    setElementType(type);\n    \n    // Determinar a qu escena se debe agregar el elemento\n    const targetSceneId = targetSceneFileId || state.project.currentSceneFile;\n    \n    // Inicializar con una opcin por defecto para choice\n    const initialChoices = type === 'choice' ? [{\n      id: uuidv4(),\n      text: '',\n      jump: '',\n      condition: '' // Nueva propiedad para condiciones\n    }] : [];\n    \n    setFormData({\n      type: type,\n      text: '',\n      character: '',\n      background: '',\n      choices: initialChoices,\n      label: '',\n      jump: '',\n      sprite: '',\n      showSprite: '',\n      showAsElement: type === 'scene' ? false : false,\n      // Inicializar campos para nuevos tipos\n      condition: '',\n      variableName: '',\n      variableValue: '',\n      flagName: '',\n      flagValue: false,\n      // Inicializar campos para transiciones\n      transitionType: 'dissolve',\n      transitionDuration: '',\n      // Inicializar campos para transiciones de elementos\n      backgroundTransition: '',\n      backgroundTransitionDuration: '',\n      spriteTransition: '',\n      spriteTransitionDuration: '',\n      // Inicializar campos para videos\n      file: '',\n      displayType: 'fullscreen',\n      delay: '',\n      loops: 0,\n      stopMusic: true,\n      spriteName: '',\n      // Agregar el targetSceneFileId y insertIndex al formData para usarlo al guardar\n      targetSceneFileId: targetSceneId,\n      insertIndex: insertIndex\n    });\n    setSelectedElement(null);\n    setShowFloatingForm(true); // Cambiar a ventana flotante\n  };\n\n  const handleElementTypeChange = (type) => {\n    setElementType(type);\n    // Limpiar campos que no corresponden al nuevo tipo\n    const cleanFormData = {\n      type: type,\n      text: formData.text || '',\n      character: type === 'dialogue' ? formData.character : '',\n      background: type === 'scene' ? formData.background : '',\n      choices: type === 'choice' ? (formData.choices && formData.choices.length > 0 ? formData.choices : [{\n        id: uuidv4(),\n        text: '',\n        jump: ''\n      }]) : [],\n      label: type === 'label' ? formData.label : '',\n      jump: type === 'jump' ? formData.jump : '',\n      spriteName: (type === 'show_sprite' || type === 'hide_sprite') ? formData.spriteName : '',\n      showSprite: type === 'dialogue' ? formData.showSprite : '',\n      spritePosition: (type === 'dialogue' || type === 'show_sprite') ? (formData.spritePosition || 'center') : 'center',\n      showAsElement: type === 'scene' ? (formData.showAsElement || false) : false,\n      // Campos para transiciones\n      transitionType: type === 'transition' ? (formData.transitionType || 'dissolve') : 'dissolve',\n      transitionDuration: type === 'transition' ? (formData.transitionDuration || '') : '',\n      // Campos para transiciones de elementos\n      backgroundTransition: type === 'scene' ? (formData.backgroundTransition || '') : '',\n      backgroundTransitionDuration: type === 'scene' ? (formData.backgroundTransitionDuration || '') : '',\n      spriteTransition: (type === 'show_sprite' || type === 'dialogue') ? (formData.spriteTransition || '') : '',\n      spriteTransitionDuration: (type === 'show_sprite' || type === 'dialogue') ? (formData.spriteTransitionDuration || '') : '',\n      // Campos para videos\n      file: (type === 'video' || type === 'movie_sprite' || type === 'movie_cutscene') ? formData.file : '',\n      displayType: type === 'video' ? formData.displayType : 'fullscreen',\n      delay: (type === 'video' || type === 'movie_cutscene') ? formData.delay : '',\n      loops: (type === 'video' || type === 'movie_cutscene') ? formData.loops : 0,\n      stopMusic: (type === 'video' || type === 'movie_cutscene') ? formData.stopMusic : true,\n      spriteName: type === 'movie_sprite' ? formData.spriteName : ''\n    };\n    setFormData(cleanFormData);\n  };\n\n  const handleEditElement = (element) => {\n    // Limpiar campos que no corresponden al tipo de elemento\n    const cleanFormData = {\n      type: element.type,\n      text: element.text || '',\n      character: element.type === 'dialogue' ? (element.character || '') : '',\n      background: element.type === 'scene' ? (element.background || '') : '',\n      choices: element.type === 'choice' ? (element.choices || []) : [],\n      label: element.type === 'label' ? (element.label || '') : '',\n      jump: element.type === 'jump' ? (element.jump || '') : '',\n      spriteName: (element.type === 'show_sprite' || element.type === 'hide_sprite') ? (element.spriteName || '') : '',\n      showSprite: element.type === 'dialogue' ? (element.showSprite || '') : '',\n      spritePosition: (element.type === 'dialogue' || element.type === 'show_sprite') ? (element.spritePosition || 'center') : 'center',\n      showAsElement: element.type === 'scene' ? (element.showAsElement || false) : false,\n      // Campos para nuevos tipos\n      condition: element.type === 'condition' ? (element.condition || '') : '',\n      variableName: element.type === 'variable' ? (element.variableName || '') : '',\n      variableValue: element.type === 'variable' ? (element.variableValue || '') : '',\n      flagName: element.type === 'flag' ? (element.flagName || '') : '',\n      flagValue: element.type === 'flag' ? (element.flagValue || false) : false,\n      // Campos para transiciones\n      transitionType: element.type === 'transition' ? (element.transitionType || 'dissolve') : 'dissolve',\n      transitionDuration: element.type === 'transition' ? (element.transitionDuration || '') : '',\n      // Campos para transiciones de elementos\n      backgroundTransition: element.type === 'scene' ? (element.backgroundTransition || '') : '',\n      backgroundTransitionDuration: element.type === 'scene' ? (element.backgroundTransitionDuration || '') : '',\n      spriteTransition: (element.type === 'show_sprite' || element.type === 'dialogue') ? (element.spriteTransition || '') : '',\n      spriteTransitionDuration: (element.type === 'show_sprite' || element.type === 'dialogue') ? (element.spriteTransitionDuration || '') : '',\n      // Campos para videos\n      file: (element.type === 'video' || element.type === 'movie_sprite' || element.type === 'movie_cutscene') ? (element.file || '') : '',\n      displayType: element.type === 'video' ? (element.displayType || 'fullscreen') : 'fullscreen',\n      delay: (element.type === 'video' || element.type === 'movie_cutscene') ? (element.delay || '') : '',\n      loops: (element.type === 'video' || element.type === 'movie_cutscene') ? (element.loops || 0) : 0,\n      stopMusic: (element.type === 'video' || element.type === 'movie_cutscene') ? (element.stopMusic !== undefined ? element.stopMusic : true) : true,\n      spriteName: element.type === 'movie_sprite' ? (element.spriteName || '') : ''\n    };\n    setFormData(cleanFormData);\n    setElementType(element.type);\n    setSelectedElement(element);\n    setShowForm(true);\n  };\n\n  const handleSaveElement = async () => {\n    try {\n      Logger.info('Iniciando guardado de elemento', { \n        type: formData.type, \n        hasText: !!formData.text,\n        hasCharacter: !!formData.character \n      });\n\n      // Sanitizar datos de entrada\n      const sanitizedFormData = {\n        ...formData,\n        text: ValidationEngine.sanitizeInput(formData.text, 'text'),\n        jump: ValidationEngine.sanitizeInput(formData.jump, 'filename'),\n        sprite: ValidationEngine.sanitizeInput(formData.sprite, 'filename'),\n        label: ValidationEngine.sanitizeInput(formData.label, 'filename'),\n        choices: formData.choices?.map(choice => ({\n          ...choice,\n          text: ValidationEngine.sanitizeInput(choice.text, 'text'),\n          jump: ValidationEngine.sanitizeInput(choice.jump, 'filename')\n        }))\n      };\n\n      // Validar elemento usando el nuevo sistema\n      const validation = ValidationEngine.validateElement(sanitizedFormData);\n      \n      if (!validation.isValid) {\n        // Mostrar todos los errores de validacin\n        validation.errors.forEach(error => {\n          NotificationSystem.show('error', error);\n        });\n        Logger.warn('Validacin fallida', { errors: validation.errors });\n        return;\n      }\n\n      // Validaciones adicionales especficas\n      if (sanitizedFormData.type === 'video' || sanitizedFormData.type === 'movie_sprite' || sanitizedFormData.type === 'movie_cutscene') {\n        if (!sanitizedFormData.file) {\n          NotificationSystem.show('error', 'Debes seleccionar un archivo de video');\n          return;\n        }\n      }\n\n      if (sanitizedFormData.type === 'movie_sprite' && !sanitizedFormData.spriteName) {\n        NotificationSystem.show('error', 'Debes especificar un nombre para el movie sprite');\n        return;\n      }\n\n      Logger.info('Validacin exitosa, procediendo con guardado');\n\n      const elementData = {\n        ...sanitizedFormData,\n        id: selectedElement?.id || uuidv4(),\n        type: elementType\n      };\n      \n      // Usar el targetSceneFileId del formData o el currentSceneFile por defecto\n      const targetSceneFileId = sanitizedFormData.targetSceneFileId || state.project.currentSceneFile;\n      const insertIndex = sanitizedFormData.insertIndex;\n      \n      if (selectedElement) {\n        Logger.info('Actualizando elemento existente', { elementId: elementData.id });\n        dispatch({\n          type: 'UPDATE_SCENE_FILE_ELEMENT',\n          payload: {\n            sceneFileId: state.project.currentSceneFile, // Para edicin, siempre usar la escena actual\n            element: elementData\n          }\n        });\n        NotificationSystem.show('success', 'Elemento actualizado exitosamente');\n      } else {\n        Logger.info('Agregando nuevo elemento', { \n          elementId: elementData.id,\n          type: elementData.type,\n          targetSceneFileId: targetSceneFileId,\n          insertIndex: insertIndex\n        });\n        \n        dispatch({\n          type: 'ADD_SCENE_FILE_ELEMENT_AT_INDEX',\n          payload: {\n            sceneFileId: targetSceneFileId, // Usar la escena objetivo para nuevos elementos\n            element: elementData,\n            insertIndex: insertIndex // Usar el ndice de insercin si est disponible\n          }\n        });\n        \n        NotificationSystem.show('success', 'Elemento creado exitosamente');\n      }\n      \n      // Limpiar formulario de forma segura\n      setFormData({\n        type: '',\n        text: '',\n        character: '',\n        background: '',\n        choices: [],\n        label: '',\n        jump: '',\n        sprite: '',\n        showSprite: '',\n        hideSprite: '',\n        condition: '',\n        variable: '',\n        value: '',\n        operator: 'equals',\n        file: '',\n        displayType: 'fullscreen',\n        delay: '',\n        loops: 0,\n        stopMusic: true,\n        spriteName: '',\n        targetSceneFileId: null,\n        insertIndex: null\n      });\n      \n      setElementType('');\n      setSelectedElement(null);\n      setShowForm(false);\n      setShowFloatingForm(false); // Cerrar ventana flotante\n      \n      Logger.info('Elemento guardado exitosamente', { \n        elementId: elementData.id,\n        type: elementData.type \n      });\n\n    } catch (error) {\n      ErrorHandler.handle(error, 'guardado de elemento');\n    }\n  };\n\n  const handleDeleteElement = async (elementId) => {\n    try {\n      const confirmed = await showConfirm(\n        'Ests seguro de que quieres eliminar este elemento?',\n        'Confirmar Eliminacin',\n        ''\n      );\n      \n      if (confirmed) {\n        Logger.info('Eliminando elemento', { elementId });\n        \n        dispatch({\n          type: 'DELETE_SCENE_FILE_ELEMENT',\n          payload: {\n            sceneFileId: state.project.currentSceneFile,\n            elementId: elementId\n          }\n        });\n        \n        if (selectedElement?.id === elementId) {\n          setSelectedElement(null);\n          setShowForm(false);\n        }\n        \n        NotificationSystem.show('success', 'Elemento eliminado exitosamente');\n        Logger.info('Elemento eliminado exitosamente', { elementId });\n      }\n    } catch (error) {\n      ErrorHandler.handle(error, 'eliminacin de elemento');\n    }\n  };\n\n  const handleFormChange = (field, value) => {\n    try {\n      // Sanitizar entrada segn el tipo de campo\n      let sanitizedValue = value;\n      \n      if (typeof value === 'string') {\n        switch (field) {\n          case 'text':\n          case 'jump':\n          case 'sprite':\n          case 'spriteName':\n            sanitizedValue = ValidationEngine.sanitizeInput(value, 'text');\n            break;\n          case 'label':\n            sanitizedValue = ValidationEngine.sanitizeInput(value, 'filename');\n            break;\n          default:\n            sanitizedValue = ValidationEngine.sanitizeInput(value, 'text');\n        }\n      }\n      \n      setFormData(prev => ({\n        ...prev,\n        [field]: sanitizedValue\n      }));\n      \n      // Log para debugging (solo en desarrollo)\n      if (process.env.NODE_ENV === 'development') {\n        Logger.info('Campo actualizado', { field, originalValue: value, sanitizedValue });\n      }\n      \n    } catch (error) {\n      Logger.warn('Error al sanitizar entrada', { field, value, error: error.message });\n      // Fallback: usar valor original si hay error en sanitizacin\n      setFormData(prev => ({\n        ...prev,\n        [field]: value\n      }));\n    }\n  };\n\n  // Funcin para manejar la subida de archivos\n  const handleFileUpload = async (file, category, callback) => {\n    try {\n      const fileManager = new FileManager();\n      const result = await fileManager.uploadFile(file, category);\n      \n      if (result && result.path) {\n        console.log('Archivo subido exitosamente:', result.path);\n        callback(result.path);\n      } else {\n        console.error('Error al subir archivo: No se recibi respuesta vlida');\n        await showAlert('Error al subir el archivo: No se recibi respuesta vlida', 'Error de Subida', '');\n      }\n    } catch (error) {\n      console.error('Error al subir archivo:', error);\n      await showAlert('Error al subir el archivo: ' + error.message, 'Error de Subida', '');\n    }\n  };\n\n\n  const handleAddChoice = async () => {\n    if (formData.choices.length >= 4) {\n      await showAlert('Mximo 4 opciones permitidas', 'Lmite de Opciones', '');\n      return;\n    }\n\n    const newChoice = {\n      id: uuidv4(),\n      text: '',\n      jump: '',\n      condition: '' // Nueva propiedad para condiciones\n    };\n\n    setFormData(prev => ({\n      ...prev,\n      choices: [...prev.choices, newChoice]\n    }));\n  };\n\n  const handleRemoveChoice = (choiceId) => {\n    setFormData(prev => ({\n      ...prev,\n      choices: prev.choices.filter(choice => choice.id !== choiceId)\n    }));\n  };\n\n  // Handlers para la ventana flotante\n  const handleCloseFloatingForm = () => {\n    setShowFloatingForm(false);\n    setSelectedElement(null);\n    setElementType('');\n    setFormData({\n      type: '',\n      text: '',\n      character: '',\n      background: '',\n      choices: [],\n      label: '',\n      jump: '',\n      sprite: '',\n      showSprite: '',\n      hideSprite: '',\n      condition: '',\n      variable: '',\n      value: '',\n      operator: 'equals',\n      file: '',\n      displayType: 'fullscreen',\n      delay: '',\n      loops: 0,\n      stopMusic: true,\n      spriteName: '',\n      targetSceneFileId: null,\n      insertIndex: null\n    });\n  };\n\n  const handleCancelFloatingForm = () => {\n    handleCloseFloatingForm();\n  };\n\n  // Funcin para agregar elementos desde cualquier escena (pblica)\n  const addElementToScene = (type, sceneFileId, insertIndex = null) => {\n    handleAddElement(type, sceneFileId, insertIndex);\n  };\n\n  // Funcin para abrir el sidebar completo y preparar insercin (pblica)\n  const addElementToSceneWithInsertion = (type, sceneFileId, insertIndex = null) => {\n    // Disparar evento personalizado para abrir el sidebar\n    const openSidebarEvent = new CustomEvent('openSidebarForElementCreation', {\n      detail: {\n        type: type,\n        sceneFileId: sceneFileId,\n        insertIndex: insertIndex\n      }\n    });\n    \n    // Disparar el evento para que el Sidebar lo capture\n    window.dispatchEvent(openSidebarEvent);\n    document.dispatchEvent(openSidebarEvent);\n    \n    console.log('ScriptPanel: Disparando evento para abrir sidebar:', openSidebarEvent.detail);\n  };\n\n  // Exponer las funciones globalmente para que otros componentes puedan usarlas\n  useEffect(() => {\n    window.addElementToScene = addElementToScene;\n    window.addElementToSceneWithInsertion = addElementToSceneWithInsertion;\n    \n    return () => {\n      delete window.addElementToScene;\n      delete window.addElementToSceneWithInsertion;\n    };\n  }, []);\n\n  const handleChoiceChange = (choiceId, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      choices: prev.choices.map(choice =>\n        choice.id === choiceId ? { ...choice, [field]: value } : choice\n      )\n    }));\n  };\n\n  // Funcin mejorada para renderizar contenido de elementos\n  const renderElementContent = useCallback((element) => {\n    const elementConfig = getElementTypeConfig(element.type);\n    \n    if (!elementConfig) {\n      return element.text || 'Sin contenido';\n    }\n\n    switch (element.type) {\n      case 'dialogue':\n        const character = state.project.characters.find(char => char.id === element.character);\n        const spriteInfo = element.showSprite ? ` (${element.showSprite})` : '';\n        return `${character?.name || element.character}${spriteInfo}: ${element.text}`;\n        \n      case 'narration':\n        return element.text;\n        \n      case 'scene':\n        const backgroundTransition = element.backgroundTransition ? ` (transicin: ${element.backgroundTransition})` : '';\n        return `Cambio de escena: ${element.background || 'Sin fondo'}${backgroundTransition}`;\n        \n      case 'show_sprite':\n        const showCharacter = state.project.characters.find(char => char.id === element.character);\n        const spriteTransition = element.spriteTransition ? ` (transicin: ${element.spriteTransition})` : '';\n        const spritePosition = element.spritePosition ? ` en ${element.spritePosition}` : '';\n        return `Mostrar sprite: ${showCharacter?.name || element.character} - ${element.spriteName || 'Sprite por defecto'}${spritePosition}${spriteTransition}`;\n        \n      case 'hide_sprite':\n        const hideCharacter = state.project.characters.find(char => char.id === element.character);\n        return `Ocultar sprite: ${hideCharacter?.name || element.character}`;\n        \n      case 'choice':\n        const question = element.text ? element.text.substring(0, 30) + (element.text.length > 30 ? '...' : '') : 'Sin pregunta';\n        const conditionalChoices = element.choices?.filter(choice => choice.condition).length || 0;\n        const conditionInfo = conditionalChoices > 0 ? ` (${conditionalChoices} con condiciones)` : '';\n        return `Eleccin: \"${question}\" (${element.choices?.length || 0} opciones${conditionInfo})`;\n        \n      case 'jump':\n        return `Salto a: ${element.jump}`;\n        \n      case 'label':\n        return `Etiqueta: ${element.label}`;\n        \n      case 'condition':\n        return `Si ${element.condition || 'condicin'}: ${element.text || 'Sin contenido'}`;\n        \n      case 'variable':\n        return `Variable ${element.variableName || 'sin_nombre'} = ${element.variableValue || 'valor'}`;\n        \n      case 'flag':\n        return `Flag ${element.flagName || 'sin_nombre'}: ${element.flagValue ? 'Activado' : 'Desactivado'}`;\n        \n      case 'video':\n        const displayType = element.displayType === 'fullscreen' ? 'Pantalla completa' : 'Displayable';\n        return `Video: ${element.file ? element.file.split('/').pop() : 'Sin archivo'} (${displayType})`;\n        \n      case 'movie_sprite':\n        return `Movie Sprite: ${element.spriteName || 'sin_nombre'} - ${element.file ? element.file.split('/').pop() : 'Sin archivo'}`;\n        \n      case 'movie_cutscene':\n        const loops = element.loops !== undefined ? ` (${element.loops} loops)` : '';\n        return `Movie Cutscene: ${element.file ? element.file.split('/').pop() : 'Sin archivo'}${loops}`;\n        \n      case 'transition':\n        const duration = element.transitionDuration ? ` (${element.transitionDuration}s)` : '';\n        const transitionConfig = getAllTransitions().find(t => t.id === element.transitionType);\n        const transitionName = transitionConfig ? transitionConfig.name : element.transitionType;\n        return `Transicin: ${transitionName}${duration}`;\n        \n      default:\n        return element.text || 'Sin contenido';\n    }\n  }, [state.project.characters]);\n\n  return (\n    <PanelContainer>\n      <Section>\n        <SectionTitle>Elementos del Script</SectionTitle>\n        \n        {/* Renderizar botones organizados por categoras */}\n        {Object.entries(elementTypesByCategory).map(([category, elements]) => (\n          <div key={category} style={{ marginBottom: '20px' }}>\n            <h4 style={{ \n              color: 'var(--color-textPrimary)', \n              fontSize: '13px', \n              fontWeight: '600', \n              margin: '0 0 12px 0',\n              padding: '8px 12px',\n              background: 'var(--color-backgroundSecondary)',\n              borderRadius: '8px',\n              border: '1px solid var(--color-border)'\n            }}>\n              {CATEGORY_LABELS[category]}\n            </h4>\n        <ElementTypeButtons>\n              {elements.map(type => (\n            <ElementTypeButton\n              key={type.type}\n              active={elementType === type.type}\n              onClick={() => handleAddElement(type.type)}\n                  title={`${type.label} - ${type.description}`}\n                  style={{\n                    borderLeft: `4px solid ${type.color}`,\n                    background: elementType === type.type \n                      ? `linear-gradient(135deg, ${type.color}20 0%, ${type.color}10 100%)`\n                      : 'var(--color-surfaceSecondary)',\n                    transition: 'all 0.3s ease'\n                  }}\n                >\n                  <span style={{ fontSize: '16px' }}>{type.icon}</span>\n                  <div>\n                    <div style={{ fontWeight: '600', fontSize: '12px' }}>{type.label}</div>\n                    <div style={{ fontSize: '10px', opacity: 0.7, marginTop: '2px' }}>\n                      {type.description}\n                    </div>\n                  </div>\n            </ElementTypeButton>\n          ))}\n        </ElementTypeButtons>\n          </div>\n        ))}\n        \n        <div style={{ \n          maxHeight: '400px', \n          overflowY: 'auto', \n          border: '1px solid var(--color-border)', \n          borderRadius: '4px',\n          padding: '8px',\n          backgroundColor: 'var(--color-background)'\n        }}>\n          {useMemo(() => {\n            // Obtener el archivo de escena actual\n            const currentSceneFile = state.project.sceneFiles.find(\n              file => file.id === state.project.currentSceneFile\n            );\n            \n            console.log('ScriptPanel - currentSceneFile:', currentSceneFile);\n            console.log('ScriptPanel - currentSceneFileId:', state.project.currentSceneFile);\n            console.log('ScriptPanel - sceneFiles:', state.project.sceneFiles);\n            \n            if (!currentSceneFile) {\n              return <div style={{ color: 'var(--color-textTertiary)', padding: '20px', textAlign: 'center' }}>\n                No hay archivo de escena seleccionado\n              </div>;\n            }\n            \n            console.log('ScriptPanel - elements:', currentSceneFile.elements);\n            console.log('ScriptPanel - elements length:', currentSceneFile.elements ? currentSceneFile.elements.length : 'undefined');\n            console.log('ScriptPanel - elements type:', typeof currentSceneFile.elements);\n            \n            // Verificar que elements existe y es un array\n            if (!currentSceneFile.elements || !Array.isArray(currentSceneFile.elements)) {\n              console.log('ScriptPanel - elements no es un array vlido:', currentSceneFile.elements);\n              return <div style={{ color: 'var(--color-textTertiary)', padding: '20px', textAlign: 'center' }}>\n                Error: Los elementos no estn cargados correctamente\n              </div>;\n            }\n            \n            const filteredElements = currentSceneFile.elements\n              .filter(element => {\n                // Filtrar fondos que no deben mostrarse como elementos\n                if (element.type === 'scene' && !element.showAsElement) {\n                  return false;\n                }\n                return true;\n              });\n            \n            if (filteredElements.length === 0) {\n              return <div style={{ color: 'var(--color-textTertiary)', padding: '20px', textAlign: 'center' }}>\n                No hay elementos en este archivo\n              </div>;\n            }\n            \n            return filteredElements.map((element, index) => {\n              const elementContent = renderElementContent(element);\n              \n              return (\n                <ElementItem\n                  key={element.id}\n                  onClick={() => handleEditElement(element)}\n                >\n                  <ElementType>{element.type}</ElementType>\n                  <ElementContent>{elementContent}</ElementContent>\n                  {element.character && (\n                    <ElementCharacter>\n                      Personaje: {element.character}\n                    </ElementCharacter>\n                  )}\n                </ElementItem>\n              );\n            });\n          }, [state.project.sceneFiles, state.project.currentSceneFile, renderElementContent])}\n        </div>\n      </Section>\n\n      {/* Ventana flotante para formularios */}\n      {showFloatingForm && (\n        <FloatingFormOverlay onClick={handleCloseFloatingForm}>\n          <FloatingFormWindow onClick={(e) => e.stopPropagation()}>\n            <FloatingFormHeader>\n              <FloatingFormTitle>\n                {getElementTypeConfig(elementType)?.icon} {selectedElement ? 'Editar Elemento' : 'Nuevo Elemento'}\n                {!selectedElement && formData.targetSceneFileId && formData.targetSceneFileId !== state.project.currentSceneFile && (\n                  <span style={{ \n                    fontSize: '12px', \n                    fontWeight: '400', \n                    opacity: 0.8,\n                    marginLeft: '8px'\n                  }}>\n                    (en {state.project.sceneFiles.find(f => f.id === formData.targetSceneFileId)?.name || 'Escena'})\n                  </span>\n                )}\n              </FloatingFormTitle>\n              <FloatingFormCloseButton onClick={handleCloseFloatingForm}>\n                \n              </FloatingFormCloseButton>\n            </FloatingFormHeader>\n            \n            <FloatingFormContent>\n          \n          <FormGroup>\n            <Label>Tipo de elemento</Label>\n            <Select\n              value={elementType}\n              onChange={(e) => setElementType(e.target.value)}\n            >\n              {ELEMENT_TYPES_CONFIG\n                .filter(type => {\n                  // Solo mostrar \"Setup del Protagonista\" si est activado\n                  if (type.type === 'protagonist_setup') {\n                    return state.project.protagonistConfig?.enabled;\n                  }\n                  return true;\n                })\n                .map(type => (\n                <option key={type.type} value={type.type}>\n                  {type.icon} {type.label}\n                </option>\n              ))}\n            </Select>\n          </FormGroup>\n\n          {elementType === 'dialogue' && (\n            <>\n              <FormGroup>\n                <Label>Personaje</Label>\n                <Select\n                  value={formData.character}\n                  onChange={(e) => handleFormChange('character', e.target.value)}\n                >\n                  <option value=\"\">Seleccionar personaje</option>\n                  {state.project.characters.map(char => (\n                    <option key={char.id} value={char.id}>\n                      {char.name}\n                    </option>\n                  ))}\n                </Select>\n              </FormGroup>\n              {formData.character && (\n                <>\n                  <FormGroup>\n                    <Label>Sprite a mostrar</Label>\n                    <Select\n                      value={formData.showSprite}\n                      onChange={(e) => handleFormChange('showSprite', e.target.value)}\n                    >\n                      <option value=\"\">Sin sprite</option>\n                      {state.project.characters\n                        .find(char => char.id === formData.character)\n                        ?.sprites?.map(sprite => (\n                          <option key={sprite.id} value={sprite.name}>\n                            {sprite.name}\n                          </option>\n                        ))}\n                    </Select>\n                  </FormGroup>\n                  \n                  {formData.showSprite && (\n                    <FormGroup>\n                      <Label>Posicin del sprite</Label>\n                      <Select\n                        value={formData.spritePosition}\n                        onChange={(e) => handleFormChange('spritePosition', e.target.value)}\n                      >\n                        <option value=\"left\"> Izquierda</option>\n                        <option value=\"center\"> Centro</option>\n                        <option value=\"right\"> Derecha</option>\n                      </Select>\n                      <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                        Posicin donde aparecer el sprite en la pantalla\n                      </div>\n                    </FormGroup>\n                  )}\n                </>\n              )}\n              <FormGroup>\n                <Label>Texto del dilogo</Label>\n                <TextArea\n                  value={formData.text}\n                  onChange={(e) => handleFormChange('text', e.target.value)}\n                  placeholder=\"Escribe el dilogo aqu...\"\n                />\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'narration' && (\n            <>\n            <FormGroup>\n              <Label>Texto de narracin</Label>\n              <TextArea\n                value={formData.text}\n                onChange={(e) => handleFormChange('text', e.target.value)}\n                placeholder=\"Escribe la narracin aqu...\"\n              />\n            </FormGroup>\n              \n              <FormGroup>\n                <Label>Tamao del texto</Label>\n                <Select\n                  value={formData.fontSize || 'medium'}\n                  onChange={(e) => handleFormChange('fontSize', e.target.value)}\n                >\n                  <option value=\"small\">Pequeo (12px)</option>\n                  <option value=\"medium\">Mediano (16px)</option>\n                  <option value=\"large\">Grande (20px)</option>\n                  <option value=\"xlarge\">Muy Grande (24px)</option>\n                </Select>\n              </FormGroup>\n              \n              <FormGroup>\n                <Label>Color del texto</Label>\n                <ColorInputContainer>\n                  <ColorInput\n                    type=\"color\"\n                    value={formData.textColor || '#ffffff'}\n                    onChange={(e) => handleFormChange('textColor', e.target.value)}\n                  />\n                  <ColorPreview\n                    style={{ backgroundColor: formData.textColor || '#ffffff' }}\n                  />\n                  <ColorLabel>{formData.textColor || '#ffffff'}</ColorLabel>\n                </ColorInputContainer>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'scene' && (\n            <>\n              <FormGroup>\n                <Label>Fondo de escena</Label>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  <Input\n                    value={formData.background}\n                    onChange={(e) => handleFormChange('background', e.target.value)}\n                    placeholder=\"images/backgrounds/school.jpg\"\n                    style={{ flex: 1 }}\n                  />\n                  <Button\n                    type=\"button\"\n                    onClick={() => {\n                      const input = document.createElement('input');\n                      input.type = 'file';\n                      input.accept = 'image/*';\n                      input.onchange = (e) => {\n                        const file = e.target.files[0];\n                        if (file) {\n                          handleFileUpload(file, 'backgrounds', (filePath) => {\n                            setFormData(prev => ({\n                              ...prev,\n                              background: filePath\n                            }));\n                          });\n                        }\n                      };\n                      input.click();\n                    }}\n                    style={{ padding: '8px 12px', fontSize: '12px' }}\n                  >\n                    \n                  </Button>\n                </div>\n                {availableFiles.backgrounds.length > 0 && (\n                  <FileSelectorContainer>\n                    <span style={{ fontSize: '12px', color: 'var(--color-textSecondary)' }}>O seleccionar:</span>\n                    <FileSelector\n                      value=\"\"\n                      onChange={(e) => {\n                        if (e.target.value) {\n                          setFormData(prev => ({\n                            ...prev,\n                            background: e.target.value\n                          }));\n                        }\n                      }}\n                    >\n                      <option value=\"\">Seleccionar fondo...</option>\n                      {availableFiles.backgrounds.map((file, index) => (\n                        <option key={`bg-${file.path}-${index}`} value={file.path}>\n                          {file.name}\n                        </option>\n                      ))}\n                    </FileSelector>\n                  </FileSelectorContainer>\n                )}\n                <div style={{ marginTop: '8px', fontSize: '12px', color: 'var(--color-textSecondary)' }}>\n                  Fondos disponibles: {availableFiles.backgrounds?.length || 0}\n                </div>\n              </FormGroup>\n              <FormGroup>\n                <Label>Transicin del fondo (opcional)</Label>\n                <Select\n                  value={formData.backgroundTransition || ''}\n                  onChange={(e) => handleFormChange('backgroundTransition', e.target.value)}\n                >\n                  <option value=\"\">Sin transicin</option>\n                  {Object.entries(getTransitionsGroupedByElementType('backgrounds')).map(([categoryId, category]) => (\n                    <optgroup key={categoryId} label={category.name}>\n                      {category.transitions.map(transition => (\n                        <option key={transition.id} value={transition.id}>\n                          {transition.icon} {transition.name} ({transition.duration}s)\n                        </option>\n                      ))}\n                    </optgroup>\n                  ))}\n                </Select>\n                {formData.backgroundTransition && (\n                  <Input\n                    type=\"number\"\n                    step=\"0.1\"\n                    min=\"0.1\"\n                    max=\"10\"\n                    value={formData.backgroundTransitionDuration || ''}\n                    onChange={(e) => handleFormChange('backgroundTransitionDuration', e.target.value)}\n                    placeholder=\"Duracin personalizada (opcional)\"\n                    style={{ marginTop: '8px' }}\n                  />\n                )}\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Efecto de transicin al cambiar el fondo de escena\n                </div>\n              </FormGroup>\n\n              <FormGroup>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <input\n                    type=\"checkbox\"\n                    id=\"showAsElement\"\n                    checked={formData.showAsElement}\n                    onChange={(e) => handleFormChange('showAsElement', e.target.checked)}\n                    style={{ margin: 0 }}\n                  />\n                  <Label htmlFor=\"showAsElement\" style={{ margin: 0, fontSize: '12px' }}>\n                    Mostrar como elemento en el script\n                  </Label>\n                </div>\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Si est desmarcado, el fondo se aplicar automticamente sin aparecer como elemento (como en Ren'Py)\n                </div>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'transition' && (\n            <>\n              <FormGroup>\n                <Label>Tipo de transicin</Label>\n                <Select\n                  value={formData.transitionType || 'dissolve'}\n                  onChange={(e) => handleFormChange('transitionType', e.target.value)}\n                >\n                  {Object.entries(getTransitionsGroupedByCategory()).map(([categoryId, category]) => (\n                    <optgroup key={categoryId} label={category.name}>\n                      {category.transitions.map(transition => (\n                        <option key={transition.id} value={transition.id}>\n                          {transition.icon} {transition.name} ({transition.duration}s)\n                        </option>\n                      ))}\n                    </optgroup>\n                  ))}\n                </Select>\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  {getAllTransitions().find(t => t.id === (formData.transitionType || 'dissolve'))?.description}\n                </div>\n              </FormGroup>\n\n              <FormGroup>\n                <Label>Duracin personalizada (opcional)</Label>\n                <Input\n                  type=\"number\"\n                  step=\"0.1\"\n                  min=\"0.1\"\n                  max=\"10\"\n                  value={formData.transitionDuration || ''}\n                  onChange={(e) => handleFormChange('transitionDuration', e.target.value)}\n                  placeholder=\"Dejar vaco para usar duracin por defecto\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Duracin en segundos. Si se deja vaco, se usar la duracin por defecto de la transicin.\n                </div>\n              </FormGroup>\n\n              <FormGroup>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <input\n                    type=\"checkbox\"\n                    id=\"showAsElement\"\n                    checked={formData.showAsElement}\n                    onChange={(e) => handleFormChange('showAsElement', e.target.checked)}\n                    style={{ margin: 0 }}\n                  />\n                  <Label htmlFor=\"showAsElement\" style={{ margin: 0, fontSize: '12px' }}>\n                    Mostrar como elemento en el script\n                  </Label>\n                </div>\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Si est desmarcado, la transicin se aplicar automticamente sin aparecer como elemento\n                </div>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'protagonist_setup' && (\n            <>\n              <FormGroup>\n                <div style={{ \n                  padding: '12px', \n                  backgroundColor: 'rgba(255, 107, 107, 0.1)', \n                  borderRadius: '6px',\n                  border: '1px solid rgba(255, 107, 107, 0.3)'\n                }}>\n                  <div style={{ fontSize: '12px', color: 'var(--color-primary)', fontWeight: '600', marginBottom: '8px' }}>\n                     Setup del Protagonista\n                  </div>\n                  <div style={{ fontSize: '11px', color: 'var(--color-textSecondary)', marginBottom: '8px' }}>\n                    Este elemento configurar el nombre del protagonista cuando el jugador llegue a este punto de la historia.\n                  </div>\n                  <div style={{ fontSize: '10px', color: 'var(--color-textTertiary)' }}>\n                    <strong>Configuracin actual:</strong><br/>\n                     Nombre por defecto: {state.project.protagonistConfig?.defaultName || 'Jugador'}<br/>\n                     Texto de solicitud: {state.project.protagonistConfig?.promptText || 'Por favor, introduce tu nombre:'}\n                  </div>\n                </div>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'jump' && (\n            <FormGroup>\n              <Label>Etiqueta de destino</Label>\n              <Input\n                value={formData.jump}\n                onChange={(e) => handleFormChange('jump', e.target.value)}\n                placeholder=\"nombre_etiqueta\"\n              />\n            </FormGroup>\n          )}\n\n          {elementType === 'label' && (\n            <FormGroup>\n              <Label>Nombre de la etiqueta</Label>\n              <Input\n                value={formData.label}\n                onChange={(e) => handleFormChange('label', e.target.value)}\n                placeholder=\"nombre_etiqueta\"\n              />\n            </FormGroup>\n          )}\n\n          {elementType === 'condition' && (\n            <>\n              <FormGroup>\n                <Label>Condicin</Label>\n                <Input\n                  value={formData.condition}\n                  onChange={(e) => handleFormChange('condition', e.target.value)}\n                  placeholder=\"money >= 100, love_points > 5, flag_visited_school\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Condicin que se evaluar (ej: money &gt;= 100, love_points &gt; 5)\n                </div>\n              </FormGroup>\n              <FormGroup>\n                <Label>Contenido condicional</Label>\n                <TextArea\n                  value={formData.text}\n                  onChange={(e) => handleFormChange('text', e.target.value)}\n                  placeholder=\"Contenido que se mostrar si la condicin es verdadera...\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Este contenido se ejecutar solo si la condicin es verdadera\n                </div>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'variable' && (\n            <>\n              <FormGroup>\n                <Label>Nombre de la variable</Label>\n                <Input\n                  value={formData.variableName}\n                  onChange={(e) => handleFormChange('variableName', e.target.value)}\n                  placeholder=\"money, love_points, health\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Nombre de la variable (sin espacios, usar guiones bajos)\n                </div>\n              </FormGroup>\n              <FormGroup>\n                <Label>Valor de la variable</Label>\n                <Input\n                  value={formData.variableValue}\n                  onChange={(e) => handleFormChange('variableValue', e.target.value)}\n                  placeholder=\"100, 5, true, 'texto'\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Valor inicial o nuevo valor para la variable\n                </div>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'flag' && (\n            <>\n              <FormGroup>\n                <Label>Nombre del flag</Label>\n                <Input\n                  value={formData.flagName}\n                  onChange={(e) => handleFormChange('flagName', e.target.value)}\n                  placeholder=\"visited_school, met_character, completed_quest\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Nombre del flag (sin espacios, usar guiones bajos)\n                </div>\n              </FormGroup>\n              <FormGroup>\n                <Label>Estado del flag</Label>\n                <Select\n                  value={formData.flagValue ? 'true' : 'false'}\n                  onChange={(e) => handleFormChange('flagValue', e.target.value === 'true')}\n                >\n                  <option value=\"true\">Activado (True)</option>\n                  <option value=\"false\">Desactivado (False)</option>\n                </Select>\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Estado del flag: activado o desactivado\n                </div>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'video' && (\n            <>\n              <FormGroup>\n                <Label>Archivo de video</Label>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  <Input\n                    value={formData.file}\n                    onChange={(e) => handleFormChange('file', e.target.value)}\n                    placeholder=\"videos/cutscene.webm\"\n                    style={{ flex: 1 }}\n                  />\n                  <Button\n                    type=\"button\"\n                    onClick={() => {\n                      const input = document.createElement('input');\n                      input.type = 'file';\n                      input.accept = 'video/*';\n                      input.onchange = (e) => {\n                        const file = e.target.files[0];\n                        if (file) {\n                          handleFileUpload(file, 'videos', (filePath) => {\n                            setFormData(prev => ({\n                              ...prev,\n                              file: filePath\n                            }));\n                          });\n                        }\n                      };\n                      input.click();\n                    }}\n                    style={{ padding: '8px 12px' }}\n                  >\n                    \n                  </Button>\n                </div>\n                {availableFiles.videos.length > 0 && (\n                  <FileSelectorContainer>\n                    <span style={{ fontSize: '12px', color: 'var(--color-textSecondary)' }}>O seleccionar:</span>\n                    <FileSelector\n                      value=\"\"\n                      onChange={(e) => {\n                        if (e.target.value) {\n                          setFormData(prev => ({\n                            ...prev,\n                            file: e.target.value\n                          }));\n                        }\n                      }}\n                    >\n                      <option value=\"\">Seleccionar video...</option>\n                      {availableFiles.videos.map((file, index) => (\n                        <option key={`video-${file.path}-${index}`} value={file.path}>\n                          {file.name}\n                        </option>\n                      ))}\n                    </FileSelector>\n                  </FileSelectorContainer>\n                )}\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Ruta al archivo de video (WebM, OGV, AVI, MP4)\n                </div>\n              </FormGroup>\n              \n              <FormGroup>\n                <Label>Tipo de visualizacin</Label>\n                <Select\n                  value={formData.displayType}\n                  onChange={(e) => handleFormChange('displayType', e.target.value)}\n                >\n                  <option value=\"fullscreen\">Pantalla completa (Movie Cutscene)</option>\n                  <option value=\"displayable\">Como displayable</option>\n                </Select>\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Cmo se mostrar el video en la escena\n                </div>\n              </FormGroup>\n\n              {formData.displayType === 'fullscreen' && (\n                <>\n                  <FormGroup>\n                    <Label>Duracin (segundos)</Label>\n                    <Input\n                      type=\"number\"\n                      value={formData.delay}\n                      onChange={(e) => handleFormChange('delay', e.target.value)}\n                      placeholder=\"10\"\n                    />\n                    <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                      Duracin en segundos (dejar vaco para duracin automtica)\n                    </div>\n                  </FormGroup>\n                  \n                  <FormGroup>\n                    <Label>Repeticiones</Label>\n                    <Input\n                      type=\"number\"\n                      value={formData.loops}\n                      onChange={(e) => handleFormChange('loops', parseInt(e.target.value) || 0)}\n                      placeholder=\"0\"\n                      min=\"0\"\n                    />\n                    <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                      Nmero de repeticiones adicionales (0 = no repetir)\n                    </div>\n                  </FormGroup>\n                  \n                  <FormGroup>\n                    <Label>Detener msica</Label>\n                    <Select\n                      value={formData.stopMusic}\n                      onChange={(e) => handleFormChange('stopMusic', e.target.value === 'true')}\n                    >\n                      <option value=\"true\">S</option>\n                      <option value=\"false\">No</option>\n                    </Select>\n                    <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                      Si se debe detener la msica de fondo durante el video\n                    </div>\n                  </FormGroup>\n                </>\n              )}\n            </>\n          )}\n\n          {elementType === 'movie_sprite' && (\n            <>\n              <FormGroup>\n                <Label>Archivo de video</Label>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  <Input\n                    value={formData.file}\n                    onChange={(e) => handleFormChange('file', e.target.value)}\n                    placeholder=\"videos/character_animation.webm\"\n                    style={{ flex: 1 }}\n                  />\n                  <Button\n                    type=\"button\"\n                    onClick={() => {\n                      const input = document.createElement('input');\n                      input.type = 'file';\n                      input.accept = 'video/*';\n                      input.onchange = (e) => {\n                        const file = e.target.files[0];\n                        if (file) {\n                          handleFileUpload(file, 'videos', (filePath) => {\n                            setFormData(prev => ({\n                              ...prev,\n                              file: filePath\n                            }));\n                          });\n                        }\n                      };\n                      input.click();\n                    }}\n                    style={{ padding: '8px 12px' }}\n                  >\n                    \n                  </Button>\n                </div>\n                {availableFiles.videos.length > 0 && (\n                  <FileSelectorContainer>\n                    <span style={{ fontSize: '12px', color: 'var(--color-textSecondary)' }}>O seleccionar:</span>\n                    <FileSelector\n                      value=\"\"\n                      onChange={(e) => {\n                        if (e.target.value) {\n                          setFormData(prev => ({\n                            ...prev,\n                            file: e.target.value\n                          }));\n                        }\n                      }}\n                    >\n                      <option value=\"\">Seleccionar video...</option>\n                      {availableFiles.videos.map((file, index) => (\n                        <option key={`video-${file.path}-${index}`} value={file.path}>\n                          {file.name}\n                        </option>\n                      ))}\n                    </FileSelector>\n                  </FileSelectorContainer>\n                )}\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Ruta al archivo de video para el sprite animado\n                </div>\n              </FormGroup>\n              \n              <FormGroup>\n                <Label>Nombre del sprite</Label>\n                <Input\n                  value={formData.spriteName}\n                  onChange={(e) => handleFormChange('spriteName', e.target.value)}\n                  placeholder=\"eileen_animated\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Nombre nico para el movie sprite (sin espacios)\n                </div>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'movie_cutscene' && (\n            <>\n              <FormGroup>\n                <Label>Archivo de video</Label>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  <Input\n                    value={formData.file}\n                    onChange={(e) => handleFormChange('file', e.target.value)}\n                    placeholder=\"videos/opening_cutscene.webm\"\n                    style={{ flex: 1 }}\n                  />\n                  <Button\n                    type=\"button\"\n                    onClick={() => {\n                      const input = document.createElement('input');\n                      input.type = 'file';\n                      input.accept = 'video/*';\n                      input.onchange = (e) => {\n                        const file = e.target.files[0];\n                        if (file) {\n                          handleFileUpload(file, 'videos', (filePath) => {\n                            setFormData(prev => ({\n                              ...prev,\n                              file: filePath\n                            }));\n                          });\n                        }\n                      };\n                      input.click();\n                    }}\n                    style={{ padding: '8px 12px' }}\n                  >\n                    \n                  </Button>\n                </div>\n                {availableFiles.videos.length > 0 && (\n                  <FileSelectorContainer>\n                    <span style={{ fontSize: '12px', color: 'var(--color-textSecondary)' }}>O seleccionar:</span>\n                    <FileSelector\n                      value=\"\"\n                      onChange={(e) => {\n                        if (e.target.value) {\n                          setFormData(prev => ({\n                            ...prev,\n                            file: e.target.value\n                          }));\n                        }\n                      }}\n                    >\n                      <option value=\"\">Seleccionar video...</option>\n                      {availableFiles.videos.map((file, index) => (\n                        <option key={`video-${file.path}-${index}`} value={file.path}>\n                          {file.name}\n                        </option>\n                      ))}\n                    </FileSelector>\n                  </FileSelectorContainer>\n                )}\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Ruta al archivo de video para la cinemtica\n                </div>\n              </FormGroup>\n              \n              <FormGroup>\n                <Label>Duracin (segundos)</Label>\n                <Input\n                  type=\"number\"\n                  value={formData.delay}\n                  onChange={(e) => handleFormChange('delay', e.target.value)}\n                  placeholder=\"15\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Duracin en segundos (dejar vaco para duracin automtica)\n                </div>\n              </FormGroup>\n              \n              <FormGroup>\n                <Label>Repeticiones</Label>\n                <Input\n                  type=\"number\"\n                  value={formData.loops}\n                  onChange={(e) => handleFormChange('loops', parseInt(e.target.value) || 0)}\n                  placeholder=\"0\"\n                  min=\"0\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Nmero de repeticiones adicionales (0 = no repetir)\n                </div>\n              </FormGroup>\n              \n              <FormGroup>\n                <Label>Detener msica</Label>\n                <Select\n                  value={formData.stopMusic}\n                  onChange={(e) => handleFormChange('stopMusic', e.target.value === 'true')}\n                >\n                  <option value=\"true\">S</option>\n                  <option value=\"false\">No</option>\n                </Select>\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Si se debe detener la msica de fondo durante la cinemtica\n                </div>\n              </FormGroup>\n            </>\n          )}\n\n          {elementType === 'choice' && (\n            <>\n              <FormGroup>\n                <Label>Pregunta o texto de la eleccin</Label>\n                <TextArea\n                  value={formData.text}\n                  onChange={(e) => handleFormChange('text', e.target.value)}\n                  placeholder=\"Qu camino tomars? Aceptas la propuesta? Qu opcin prefieres?\"\n                />\n                <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                  Este texto aparecer antes de mostrar las opciones al jugador\n                </div>\n              </FormGroup>\n              <FormGroup>\n                <Label>Opciones de eleccin (mximo 4)</Label>\n                <ChoiceContainer>\n                {formData.choices.map((choice, index) => (\n                  <ChoiceItem key={choice.id}>\n                    <ChoiceHeader>\n                      <ChoiceNumber>Opcin {index + 1}</ChoiceNumber>\n                      <RemoveChoiceButton\n                        onClick={() => handleRemoveChoice(choice.id)}\n                        disabled={formData.choices.length <= 1}\n                      >\n                        \n                      </RemoveChoiceButton>\n                    </ChoiceHeader>\n                    <FormGroup>\n                      <Label>Texto de la opcin</Label>\n                      <Input\n                        value={choice.text}\n                        onChange={(e) => handleChoiceChange(choice.id, 'text', e.target.value)}\n                        placeholder={`Opcin ${index + 1}...`}\n                      />\n                    </FormGroup>\n                    <FormGroup>\n                      <Label>Etiqueta de destino (jump)</Label>\n                      <Input\n                        value={choice.jump}\n                        onChange={(e) => handleChoiceChange(choice.id, 'jump', e.target.value)}\n                        placeholder=\"nombre_etiqueta\"\n                      />\n                      <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                        Etiqueta a la que saltar cuando se seleccione esta opcin\n                      </div>\n                    </FormGroup>\n                    <FormGroup>\n                      <Label>Condicin (opcional)</Label>\n                      <Input\n                        value={choice.condition || ''}\n                        onChange={(e) => handleChoiceChange(choice.id, 'condition', e.target.value)}\n                        placeholder=\"money >= 100, love_points > 5, flag_visited_school\"\n                      />\n                      <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                        Esta opcin solo aparecer si la condicin es verdadera (dejar vaco para mostrar siempre)\n                      </div>\n                    </FormGroup>\n                  </ChoiceItem>\n                ))}\n                <AddChoiceButton\n                  onClick={handleAddChoice}\n                  disabled={formData.choices.length >= 4}\n                >\n                  + Agregar Opcin\n                </AddChoiceButton>\n              </ChoiceContainer>\n              </FormGroup>\n            </>\n          )}\n\n          {(elementType === 'show_sprite' || elementType === 'hide_sprite') && (\n            <>\n              <FormGroup>\n                <Label>Personaje</Label>\n                <Select\n                  value={formData.character}\n                  onChange={(e) => handleFormChange('character', e.target.value)}\n                >\n                  <option value=\"\">Seleccionar personaje</option>\n                  {state.project.characters.map(char => (\n                    <option key={char.id} value={char.id}>\n                      {char.name}\n                    </option>\n                  ))}\n                </Select>\n              </FormGroup>\n              {elementType === 'show_sprite' && (\n                <FormGroup>\n                  <Label>Sprite</Label>\n                  <Select\n                    value={formData.sprite}\n                    onChange={(e) => handleFormChange('sprite', e.target.value)}\n                    disabled={!formData.character}\n                  >\n                    <option value=\"\">Seleccionar sprite</option>\n                    {formData.character && state.project.characters\n                      .find(char => char.id === formData.character)\n                      ?.sprites?.map(sprite => (\n                        <option key={sprite.id} value={sprite.name}>\n                          {sprite.name}\n                        </option>\n                      ))}\n                  </Select>\n                  \n                  {availableFiles.characters.length > 0 && (\n                    <FileSelectorContainer>\n                      <span style={{ fontSize: '12px', color: 'var(--color-textSecondary)' }}>O agregar sprite:</span>\n                      <FileSelector\n                        value=\"\"\n                        onChange={(e) => {\n                          if (e.target.value && formData.character) {\n                            const fileName = e.target.value.split('/').pop();\n                            const character = state.project.characters.find(char => char.id === formData.character);\n                            if (character) {\n                              // Agregar el sprite al personaje\n                              const newSprite = {\n                                id: uuidv4(),\n                                name: fileName.replace(/\\.[^/.]+$/, \"\"),\n                                file: e.target.value\n                              };\n                              \n                              dispatch({\n                                type: 'ADD_CHARACTER_SPRITE',\n                                payload: {\n                                  characterId: formData.character,\n                                  sprite: newSprite\n                                }\n                              });\n                              \n                              // Seleccionar el nuevo sprite\n                              setFormData(prev => ({\n                                ...prev,\n                                sprite: newSprite.name\n                              }));\n                            }\n                          }\n                        }}\n                      >\n                        <option value=\"\">Seleccionar archivo...</option>\n                        {availableFiles.characters.map((file, index) => (\n                          <option key={`char-${file.path}-${index}`} value={file.path}>\n                            {file.name}\n                          </option>\n                        ))}\n                      </FileSelector>\n                    </FileSelectorContainer>\n                  )}\n                </FormGroup>\n              )}\n              \n              {elementType === 'show_sprite' && (\n                <FormGroup>\n                  <Label>Transicin del sprite (opcional)</Label>\n                  <Select\n                    value={formData.spriteTransition || ''}\n                    onChange={(e) => handleFormChange('spriteTransition', e.target.value)}\n                  >\n                    <option value=\"\">Sin transicin</option>\n                    {Object.entries(getTransitionsGroupedByElementType('sprites')).map(([categoryId, category]) => (\n                      <optgroup key={categoryId} label={category.name}>\n                        {category.transitions.map(transition => (\n                          <option key={transition.id} value={transition.id}>\n                            {transition.icon} {transition.name} ({transition.duration}s)\n                          </option>\n                        ))}\n                      </optgroup>\n                    ))}\n                  </Select>\n                  {formData.spriteTransition && (\n                    <Input\n                      type=\"number\"\n                      step=\"0.1\"\n                      min=\"0.1\"\n                      max=\"10\"\n                      value={formData.spriteTransitionDuration || ''}\n                      onChange={(e) => handleFormChange('spriteTransitionDuration', e.target.value)}\n                      placeholder=\"Duracin personalizada (opcional)\"\n                      style={{ marginTop: '8px' }}\n                    />\n                  )}\n                  <div style={{ marginTop: '4px', fontSize: '11px', color: 'var(--color-textTertiary)' }}>\n                    Efecto de transicin al mostrar el sprite\n                  </div>\n                </FormGroup>\n              )}\n            </>\n          )}\n\n            </FloatingFormContent>\n            \n            <FloatingFormActions>\n              <FloatingFormButton primary onClick={handleSaveElement}>\n              {selectedElement ? 'Actualizar' : 'Crear'}\n              </FloatingFormButton>\n              <FloatingFormButton onClick={handleCancelFloatingForm}>\n              Cancelar\n              </FloatingFormButton>\n            {selectedElement && (\n                <FloatingFormButton \n                  onClick={() => handleDeleteElement(selectedElement.id)}\n                  style={{ \n                    background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\n                    color: 'white',\n                    border: '2px solid #ef4444'\n                  }}\n                >\n                Eliminar\n                </FloatingFormButton>\n            )}\n            </FloatingFormActions>\n          </FloatingFormWindow>\n        </FloatingFormOverlay>\n      )}\n\n    </PanelContainer>\n  );\n}\n\nexport default ScriptPanel;\n","// Sistema de backup con archivos .ryn\r\nimport JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\nimport { AssetStorage } from './assetStorage';\r\nimport { FileManager } from './fileManager';\r\n\r\nexport class RynBackupManager {\r\n  constructor() {\r\n    this.assetStorage = new AssetStorage();\r\n    this.fileManager = new FileManager();\r\n    this.rynVersion = '1.0.0';\r\n  }\r\n\r\n  // ===== EXPORTAR PROYECTO COMO .ryn =====\r\n\r\n  /**\r\n   * Exportar proyecto completo como archivo .ryn\r\n   * @param {Object} project - Proyecto completo del editor\r\n   * @param {Object} fullState - Estado completo de la aplicacin\r\n   * @param {string} filename - Nombre del archivo (opcional)\r\n   */\r\n  async exportProjectAsRyn(project, fullState, filename = null) {\r\n    try {\r\n      console.log(' Iniciando exportacin .ryn...');\r\n      \r\n      const zip = new JSZip();\r\n      \r\n      // 1. METADATOS DEL PROYECTO\r\n      const projectMetadata = {\r\n        rynVersion: this.rynVersion,\r\n        editorVersion: '1.0.0',\r\n        exportedAt: new Date().toISOString(),\r\n        projectName: project.name,\r\n        projectVersion: project.version,\r\n        author: project.author,\r\n        description: project.description,\r\n        totalSize: 0,\r\n        fileCount: 0\r\n      };\r\n\r\n      // 2. ESTADO COMPLETO DEL EDITOR\r\n      const editorState = {\r\n        project: project,\r\n        currentScene: fullState.currentScene,\r\n        selectedElement: fullState.selectedElement,\r\n        previewMode: fullState.previewMode,\r\n        isPlaying: fullState.isPlaying,\r\n        lastActiveTab: this.getLastActiveTab(),\r\n        lastScrollPosition: this.getLastScrollPosition()\r\n      };\r\n\r\n      // 3. ARCHIVOS MULTIMEDIA\r\n      const mediaFiles = await this.exportMediaFiles();\r\n      \r\n      // 4. CONFIGURACIN AVANZADA\r\n      const advancedConfig = project.advancedConfig || {};\r\n\r\n      // 5. HISTORIAL DE CAMBIOS (si existe)\r\n      const changeHistory = this.getChangeHistory();\r\n\r\n      // 6. PREFERENCIAS DEL USUARIO\r\n      const userPreferences = this.getUserPreferences();\r\n\r\n      // Crear estructura del archivo .ryn\r\n      zip.file('metadata.json', JSON.stringify(projectMetadata, null, 2));\r\n      zip.file('editor_state.json', JSON.stringify(editorState, null, 2));\r\n      zip.file('advanced_config.json', JSON.stringify(advancedConfig, null, 2));\r\n      zip.file('change_history.json', JSON.stringify(changeHistory, null, 2));\r\n      zip.file('user_preferences.json', JSON.stringify(userPreferences, null, 2));\r\n\r\n      // Agregar archivos multimedia organizados\r\n      if (mediaFiles.backgrounds.length > 0) {\r\n        const bgFolder = zip.folder('media/backgrounds');\r\n        mediaFiles.backgrounds.forEach(file => {\r\n          bgFolder.file(file.name, this.base64ToBlob(file.data, file.type));\r\n        });\r\n      }\r\n\r\n      if (mediaFiles.characters.length > 0) {\r\n        const charFolder = zip.folder('media/characters');\r\n        mediaFiles.characters.forEach(file => {\r\n          charFolder.file(file.name, this.base64ToBlob(file.data, file.type));\r\n        });\r\n      }\r\n\r\n      if (mediaFiles.videos.length > 0) {\r\n        const videoFolder = zip.folder('media/videos');\r\n        mediaFiles.videos.forEach(file => {\r\n          videoFolder.file(file.name, this.base64ToBlob(file.data, file.type));\r\n        });\r\n      }\r\n\r\n      if (mediaFiles.audio.length > 0) {\r\n        const audioFolder = zip.folder('media/audio');\r\n        mediaFiles.audio.forEach(file => {\r\n          audioFolder.file(file.name, this.base64ToBlob(file.data, file.type));\r\n        });\r\n      }\r\n\r\n      // 7. SCRIPTS REN'PY GENERADOS (para referencia)\r\n      const renpyScripts = await this.generateRenPyScripts(project);\r\n      if (renpyScripts.main) {\r\n        zip.file('renpy/script.rpy', renpyScripts.main);\r\n      }\r\n      if (renpyScripts.scenes) {\r\n        Object.entries(renpyScripts.scenes).forEach(([fileName, content]) => {\r\n          zip.file(`renpy/${fileName}`, content);\r\n        });\r\n      }\r\n\r\n      // 8. README DEL PROYECTO\r\n      const readme = this.generateProjectReadme(project, projectMetadata);\r\n      zip.file('README.md', readme);\r\n\r\n      // 9. ARCHIVO DE VERIFICACIN\r\n      const verification = {\r\n        checksum: await this.generateChecksum(project),\r\n        fileCount: this.countFiles(zip),\r\n        totalSize: this.calculateTotalSize(zip),\r\n        verifiedAt: new Date().toISOString()\r\n      };\r\n      zip.file('verification.json', JSON.stringify(verification, null, 2));\r\n\r\n      // Generar archivo .ryn\r\n      const content = await zip.generateAsync({ \r\n        type: 'blob',\r\n        compression: 'DEFLATE',\r\n        compressionOptions: { level: 6 }\r\n      });\r\n\r\n      // Descargar archivo\r\n      const finalFilename = filename || `${project.name.replace(/[^a-zA-Z0-9]/g, '_')}_${new Date().toISOString().split('T')[0]}.ryn`;\r\n      saveAs(content, finalFilename);\r\n\r\n      console.log(' Archivo .ryn exportado exitosamente:', finalFilename);\r\n      return { success: true, filename: finalFilename, size: content.size };\r\n\r\n    } catch (error) {\r\n      console.error(' Error al exportar .ryn:', error);\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  // ===== IMPORTAR PROYECTO DESDE .ryn =====\r\n\r\n  /**\r\n   * Importar proyecto desde archivo .ryn\r\n   * @param {File} rynFile - Archivo .ryn seleccionado\r\n   */\r\n  async importProjectFromRyn(rynFile) {\r\n    try {\r\n      console.log(' Iniciando importacin .ryn...');\r\n      \r\n      const zip = await JSZip.loadAsync(rynFile);\r\n      \r\n      // 1. Verificar archivo .ryn vlido\r\n      if (!zip.file('metadata.json')) {\r\n        throw new Error('Archivo .ryn invlido: falta metadata.json');\r\n      }\r\n\r\n      // 2. Cargar metadatos\r\n      const metadata = JSON.parse(await zip.file('metadata.json').async('text'));\r\n      console.log(' Metadatos cargados:', metadata);\r\n\r\n      // 3. Cargar estado del editor\r\n      const editorState = JSON.parse(await zip.file('editor_state.json').async('text'));\r\n      console.log(' Estado del editor cargado');\r\n\r\n      // 4. Cargar archivos multimedia\r\n      const mediaFiles = await this.importMediaFiles(zip);\r\n      console.log(' Archivos multimedia cargados:', mediaFiles);\r\n\r\n      // 5. Restaurar configuracin avanzada\r\n      const advancedConfig = JSON.parse(await zip.file('advanced_config.json').async('text'));\r\n      console.log(' Configuracin avanzada cargada');\r\n\r\n      // 6. Verificar integridad\r\n      const verification = JSON.parse(await zip.file('verification.json').async('text'));\r\n      const currentChecksum = await this.generateChecksum(editorState.project);\r\n      \r\n      if (verification.checksum !== currentChecksum) {\r\n        console.warn(' Advertencia: El archivo puede estar corrupto');\r\n      }\r\n\r\n      // 7. Restaurar preferencias del usuario\r\n      const userPreferences = JSON.parse(await zip.file('user_preferences.json').async('text'));\r\n      this.restoreUserPreferences(userPreferences);\r\n\r\n      console.log(' Proyecto .ryn importado exitosamente');\r\n      return {\r\n        success: true,\r\n        project: editorState.project,\r\n        fullState: editorState,\r\n        metadata: metadata,\r\n        mediaFiles: mediaFiles\r\n      };\r\n\r\n    } catch (error) {\r\n      console.error(' Error al importar .ryn:', error);\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  // ===== MTODOS AUXILIARES =====\r\n\r\n  /**\r\n   * Exportar archivos multimedia organizados por categora\r\n   */\r\n  async exportMediaFiles() {\r\n    try {\r\n      await this.assetStorage.init();\r\n      const allFiles = await this.assetStorage.getAllFiles();\r\n      \r\n      const organizedFiles = {\r\n        backgrounds: [],\r\n        characters: [],\r\n        videos: [],\r\n        audio: [],\r\n        gui: [],\r\n        effects: []\r\n      };\r\n\r\n      allFiles.forEach(file => {\r\n        const category = file.category || 'general';\r\n        if (organizedFiles[category]) {\r\n          organizedFiles[category].push({\r\n            name: file.name,\r\n            data: file.data,\r\n            type: file.type,\r\n            size: file.size,\r\n            uploadedAt: file.uploadedAt\r\n          });\r\n        }\r\n      });\r\n\r\n      return organizedFiles;\r\n    } catch (error) {\r\n      console.error('Error al exportar archivos multimedia:', error);\r\n      return { backgrounds: [], characters: [], videos: [], audio: [], gui: [], effects: [] };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Importar archivos multimedia desde ZIP\r\n   */\r\n  async importMediaFiles(zip) {\r\n    const mediaFiles = { backgrounds: [], characters: [], videos: [], audio: [] };\r\n    \r\n    try {\r\n      // Importar fondos\r\n      const bgFolder = zip.folder('media/backgrounds');\r\n      if (bgFolder) {\r\n        bgFolder.forEach(async (relativePath, file) => {\r\n          const content = await file.async('base64');\r\n          mediaFiles.backgrounds.push({\r\n            name: relativePath,\r\n            data: `data:image/jpeg;base64,${content}`,\r\n            category: 'backgrounds'\r\n          });\r\n        });\r\n      }\r\n\r\n      // Importar personajes\r\n      const charFolder = zip.folder('media/characters');\r\n      if (charFolder) {\r\n        charFolder.forEach(async (relativePath, file) => {\r\n          const content = await file.async('base64');\r\n          mediaFiles.characters.push({\r\n            name: relativePath,\r\n            data: `data:image/png;base64,${content}`,\r\n            category: 'characters'\r\n          });\r\n        });\r\n      }\r\n\r\n      // Importar videos\r\n      const videoFolder = zip.folder('media/videos');\r\n      if (videoFolder) {\r\n        videoFolder.forEach(async (relativePath, file) => {\r\n          const content = await file.async('base64');\r\n          mediaFiles.videos.push({\r\n            name: relativePath,\r\n            data: `data:video/webm;base64,${content}`,\r\n            category: 'videos'\r\n          });\r\n        });\r\n      }\r\n\r\n      // Importar audio\r\n      const audioFolder = zip.folder('media/audio');\r\n      if (audioFolder) {\r\n        audioFolder.forEach(async (relativePath, file) => {\r\n          const content = await file.async('base64');\r\n          mediaFiles.audio.push({\r\n            name: relativePath,\r\n            data: `data:audio/ogg;base64,${content}`,\r\n            category: 'audio'\r\n          });\r\n        });\r\n      }\r\n\r\n      return mediaFiles;\r\n    } catch (error) {\r\n      console.error('Error al importar archivos multimedia:', error);\r\n      return mediaFiles;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generar scripts Ren'Py para referencia\r\n   */\r\n  async generateRenPyScripts(project) {\r\n    try {\r\n      // Importar generador dinmicamente para evitar dependencias circulares\r\n      const { RenPyGenerator } = await import('./renpyGenerator');\r\n      const generator = new RenPyGenerator();\r\n      \r\n      const mainScript = await generator.generateScript(project);\r\n      const sceneFiles = await generator.generateSceneFiles(project);\r\n      \r\n      return {\r\n        main: mainScript,\r\n        scenes: sceneFiles\r\n      };\r\n    } catch (error) {\r\n      console.error('Error al generar scripts Ren\\'Py:', error);\r\n      return { main: '', scenes: {} };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generar README del proyecto\r\n   */\r\n  generateProjectReadme(project, metadata) {\r\n    return `# ${project.name}\r\n\r\n## Informacin del Proyecto\r\n- **Versin**: ${project.version}\r\n- **Autor**: ${project.author || 'Sin especificar'}\r\n- **Descripcin**: ${project.description || 'Sin descripcin'}\r\n- **Creado**: ${metadata.exportedAt}\r\n- **Editor**: RynEditor v${metadata.editorVersion}\r\n\r\n## Estructura del Proyecto\r\n- **Personajes**: ${project.characters?.length || 0}\r\n- **Escenas**: ${project.sceneFiles?.length || 0}\r\n- **Elementos de script**: ${project.sceneFiles?.[0]?.elements?.length || 0}\r\n\r\n## Archivos Incluidos\r\n- \\`metadata.json\\` - Metadatos del proyecto\r\n- \\`editor_state.json\\` - Estado completo del editor\r\n- \\`advanced_config.json\\` - Configuracin avanzada\r\n- \\`media/\\` - Archivos multimedia organizados\r\n- \\`renpy/\\` - Scripts Ren'Py generados\r\n- \\`verification.json\\` - Verificacin de integridad\r\n\r\n## Cmo Usar\r\n1. Abre RynEditor\r\n2. Ve a \"Gestin de Proyectos\"\r\n3. Selecciona \"Restaurar desde .ryn\"\r\n4. Elige este archivo\r\n5. Tu proyecto estar completamente restaurado!\r\n\r\n---\r\n*Archivo generado por RynEditor - Editor de Novelas Visuales*\r\n`;\r\n  }\r\n\r\n  /**\r\n   * Generar checksum para verificacin de integridad\r\n   */\r\n  async generateChecksum(project) {\r\n    const projectString = JSON.stringify(project);\r\n    const encoder = new TextEncoder();\r\n    const data = encoder.encode(projectString);\r\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data);\r\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n  }\r\n\r\n  /**\r\n   * Convertir base64 a Blob\r\n   */\r\n  base64ToBlob(base64, mimeType) {\r\n    const byteCharacters = atob(base64.split(',')[1]);\r\n    const byteNumbers = new Array(byteCharacters.length);\r\n    \r\n    for (let i = 0; i < byteCharacters.length; i++) {\r\n      byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n    }\r\n    \r\n    const byteArray = new Uint8Array(byteNumbers);\r\n    return new Blob([byteArray], { type: mimeType });\r\n  }\r\n\r\n  /**\r\n   * Contar archivos en ZIP\r\n   */\r\n  countFiles(zip) {\r\n    let count = 0;\r\n    zip.forEach(() => count++);\r\n    return count;\r\n  }\r\n\r\n  /**\r\n   * Calcular tamao total\r\n   */\r\n  calculateTotalSize(zip) {\r\n    let totalSize = 0;\r\n    zip.forEach((relativePath, file) => {\r\n      totalSize += file._data ? file._data.uncompressedSize : 0;\r\n    });\r\n    return totalSize;\r\n  }\r\n\r\n  /**\r\n   * Obtener historial de cambios\r\n   */\r\n  getChangeHistory() {\r\n    try {\r\n      return JSON.parse(localStorage.getItem('visual_novel_change_history') || '[]');\r\n    } catch {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Obtener preferencias del usuario\r\n   */\r\n  getUserPreferences() {\r\n    try {\r\n      return {\r\n        lastActiveTab: localStorage.getItem('visual_novel_last_tab_sidebar') || 'project',\r\n        lastScrollPosition: JSON.parse(localStorage.getItem('visual_novel_scroll_position') || '{\"x\":0,\"y\":0}'),\r\n        theme: localStorage.getItem('visual_novel_theme') || 'dark',\r\n        language: localStorage.getItem('visual_novel_language') || 'es'\r\n      };\r\n    } catch {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Restaurar preferencias del usuario\r\n   */\r\n  restoreUserPreferences(preferences) {\r\n    try {\r\n      if (preferences.lastActiveTab) {\r\n        localStorage.setItem('visual_novel_last_tab_sidebar', preferences.lastActiveTab);\r\n      }\r\n      if (preferences.lastScrollPosition) {\r\n        localStorage.setItem('visual_novel_scroll_position', JSON.stringify(preferences.lastScrollPosition));\r\n      }\r\n      if (preferences.theme) {\r\n        localStorage.setItem('visual_novel_theme', preferences.theme);\r\n      }\r\n      if (preferences.language) {\r\n        localStorage.setItem('visual_novel_language', preferences.language);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al restaurar preferencias:', error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Obtener ltima pestaa activa\r\n   */\r\n  getLastActiveTab() {\r\n    return localStorage.getItem('visual_novel_last_tab_sidebar') || 'project';\r\n  }\r\n\r\n  /**\r\n   * Obtener ltima posicin de scroll\r\n   */\r\n  getLastScrollPosition() {\r\n    try {\r\n      return JSON.parse(localStorage.getItem('visual_novel_scroll_position') || '{\"x\":0,\"y\":0}');\r\n    } catch {\r\n      return { x: 0, y: 0 };\r\n    }\r\n  }\r\n}\r\n","// Generador de archivos GUI para Ren'Py\r\nexport class GuiGenerator {\r\n  constructor() {\r\n    this.guiContent = '';\r\n  }\r\n\r\n  // Generar archivo gui.rpy\r\n  generateGuiFile(project) {\r\n    const config = project.advancedConfig || {};\r\n    \r\n    this.guiContent = `################################################################################\r\n## Inicializacin\r\n################################################################################\r\n\r\n## La sentencia 'init offset' da preferencia a las sentencias de inicializacin\r\n## de este archivo respecto a otros archivos.\r\ninit offset = -2\r\n\r\n## Llamando 'gui.init' se resetean los estilos a los valores por defecto y se\r\n## establecen la anchura y altura del juego.\r\ninit python:\r\n    gui.init(${config.screenWidth || 1280}, ${config.screenHeight || 720})\r\n\r\n## Habilitar comprobaciones de propiedades no vlidas o inestables en pantallas\r\n## o transformaciones.\r\ndefine config.check_conflicting_properties = True\r\n\r\n\r\n################################################################################\r\n## Variables de configuracin de la interfaz.\r\n################################################################################\r\n\r\n\r\n## Colores #####################################################################\r\n##\r\n## Los colores del texto de la interfaz\r\n\r\n## El color enfatizado usado en la interfaz para subrayar texto.\r\ndefine gui.accent_color = '${config.accentColor || '#0099cc'}'\r\n\r\n## El color del botn de texto cuando no est seleccionado ni enfocado.\r\ndefine gui.idle_color = '${config.idleColor || '#888888'}'\r\n\r\n## El color 'small' se usa para el texto pequeo, que necesita destacar ms.\r\ndefine gui.idle_small_color = '${config.idleColor || '#aaaaaa'}'\r\n\r\n## El color usado en botones y barras que ganan foco.\r\ndefine gui.hover_color = '${config.hoverColor || '#66c1e0'}'\r\n\r\n## El color del botn de texto seleccionado pero no enfocado.\r\ndefine gui.selected_color = '${config.selectedColor || '#ffffff'}'\r\n\r\n## El color de los botones de texto que no pueden ser seleccionados.\r\ndefine gui.insensitive_color = '${config.idleColor || '#888888'}7f'\r\n\r\n## Colores de la parte vaca de las barras.\r\ndefine gui.muted_color = '#003d51'\r\ndefine gui.hover_muted_color = '#005b7a'\r\n\r\n## Colores del texto del dilogo y men.\r\ndefine gui.text_color = '${config.textColor || '#ffffff'}'\r\ndefine gui.interface_text_color = '${config.textColor || '#ffffff'}'\r\n\r\n\r\n## Tipos y tamaos de letra ####################################################\r\n\r\n## El tipo de letra del texto del juego\r\ndefine gui.text_font = \"${config.textFont || 'DejaVuSans.ttf'}\"\r\n\r\n## El tipo de letra de los nombres de personajes\r\ndefine gui.name_text_font = \"${config.nameFont || 'DejaVuSans.ttf'}\"\r\n\r\n## El tipo de letra del texto externo al juego.\r\ndefine gui.interface_text_font = \"${config.interfaceFont || 'DejaVuSans.ttf'}\"\r\n\r\n## El tamao normal del texto del dilogo.\r\ndefine gui.text_size = ${config.textSize || 22}\r\n\r\n## El tamao de los nombres de los personajes\r\ndefine gui.name_text_size = ${config.nameTextSize || 30}\r\n\r\n## El tamao del texto en la interfaz.\r\ndefine gui.interface_text_size = ${config.interfaceTextSize || 22}\r\n\r\n## El tamao de etiquetas en la interfaz.\r\ndefine gui.label_text_size = 24\r\n\r\n## El tamao del texto en las notificaciones.\r\ndefine gui.notify_text_size = 16\r\n\r\n## El tamao del ttulo del juego.\r\ndefine gui.title_text_size = 50\r\n\r\n\r\n## Men principal y mens del juego ############################################\r\n\r\n## Imgenes del men principal y mens del juego.\r\ndefine gui.main_menu_background = \"gui/main_menu.png\"\r\ndefine gui.game_menu_background = \"gui/game_menu.png\"\r\n\r\n\r\n## Dilogo #####################################################################\r\n##\r\n## Estas variables controlan cmo se muestra el dilogo en la pantalla.\r\n\r\n## Altura de la caja de texto que contiene el dilogo.\r\ndefine gui.textbox_height = ${config.textboxHeight || 185}\r\n\r\n## Colocacin vertical de la caja de texto en la pantalla. 0.0 para la parte\r\n## superior, 0.5 para el centro y 1.0 para la parte inferior.\r\ndefine gui.textbox_yalign = ${config.textboxYAlign || 1.0}\r\n\r\n\r\n## Colocacin del nombre del personaje hablante, relativa a la caja de texto.\r\ndefine gui.name_xpos = ${config.nameXPos || 240}\r\ndefine gui.name_ypos = ${config.nameYPos || 0}\r\n\r\n## La alineacin horizontal del nombre del personaje.\r\ndefine gui.name_xalign = 0.0\r\n\r\n## La anchura, altura y bordes de la caja que contiene el nombre del personaje.\r\ndefine gui.namebox_width = None\r\ndefine gui.namebox_height = None\r\n\r\n## Los bordes de la caja que contiene el nombre del personaje.\r\ndefine gui.namebox_borders = Borders(5, 5, 5, 5)\r\n\r\n## Si es 'True', el fondo de la caja del nombre ser en mosaico.\r\ndefine gui.namebox_tile = False\r\n\r\n\r\n## Colocacin del dilogo relativa a la caja de texto.\r\ndefine gui.dialogue_xpos = ${config.dialogueXPos || 268}\r\ndefine gui.dialogue_ypos = ${config.dialogueYPos || 50}\r\n\r\n## La anchura mxima del texto del dilogo, en pxels.\r\ndefine gui.dialogue_width = ${config.dialogueWidth || 744}\r\n\r\n## La alineacin horizontal del texto del dilogo.\r\ndefine gui.dialogue_text_xalign = 0.0\r\n\r\n\r\n## Botones #####################################################################\r\n##\r\n## Estas variables controlan el aspecto de los botones.\r\n\r\n## La anchura y altura del botn, en pxels.\r\ndefine gui.button_width = ${config.buttonWidth || 'None'}\r\ndefine gui.button_height = ${config.buttonHeight || 'None'}\r\n\r\n## Los bordes de cada lado del botn.\r\ndefine gui.button_borders = Borders(4, 4, 4, 4)\r\n\r\n## Si es 'True', la imagen de fondo ser en mosaico.\r\ndefine gui.button_tile = False\r\n\r\n## Tipo de letra del botn.\r\ndefine gui.button_text_font = gui.interface_text_font\r\n\r\n## Tamao de letra del botn.\r\ndefine gui.button_text_size = gui.interface_text_size\r\n\r\n## El color del texto del botn en varios estados.\r\ndefine gui.button_text_idle_color = gui.idle_color\r\ndefine gui.button_text_hover_color = gui.hover_color\r\ndefine gui.button_text_selected_color = gui.selected_color\r\ndefine gui.button_text_insensitive_color = gui.insensitive_color\r\n\r\n## La alineacin horizontal del texto del botn.\r\ndefine gui.button_text_xalign = 0.0\r\n\r\n\r\n## Botones de opcin ###########################################################\r\n\r\n## Los botones de opcin se utilizan en los mens del juego.\r\ndefine gui.choice_button_width = ${config.choiceButtonWidth || 790}\r\ndefine gui.choice_button_height = None\r\ndefine gui.choice_button_tile = False\r\ndefine gui.choice_button_borders = Borders(100, 5, 100, 5)\r\ndefine gui.choice_button_text_font = gui.text_font\r\ndefine gui.choice_button_text_size = gui.text_size\r\ndefine gui.choice_button_text_xalign = 0.5\r\ndefine gui.choice_button_text_idle_color = '#888888'\r\ndefine gui.choice_button_text_hover_color = \"#ffffff\"\r\ndefine gui.choice_button_text_insensitive_color = '#8888887f'\r\n\r\n\r\n## Botones de partidas #########################################################\r\n\r\n## Botn de guardar partida\r\ndefine gui.slot_button_width = 276\r\ndefine gui.slot_button_height = 206\r\ndefine gui.slot_button_borders = Borders(10, 10, 10, 10)\r\ndefine gui.slot_button_text_size = 14\r\ndefine gui.slot_button_text_xalign = 0.5\r\ndefine gui.slot_button_text_idle_color = gui.idle_small_color\r\ndefine gui.slot_button_text_selected_idle_color = gui.selected_color\r\ndefine gui.slot_button_text_selected_hover_color = gui.hover_color\r\n\r\n## La anchura y altura de las miniaturas de las partidas guardadas.\r\ndefine config.thumbnail_width = ${config.thumbnailWidth || 256}\r\ndefine config.thumbnail_height = ${config.thumbnailHeight || 144}\r\n\r\n## Nmero de columnas y filas de la cuadrcula de partidas guardadas.\r\ndefine gui.file_slot_cols = ${config.fileSlotCols || 3}\r\ndefine gui.file_slot_rows = ${config.fileSlotRows || 2}\r\n\r\n\r\n## Posicionamiento y espacios ##################################################\r\n\r\n## Posicin del lado izquierdo de los botones de navegacin.\r\ndefine gui.navigation_xpos = 40\r\n\r\n## Posicin vertical del indicador de salto.\r\ndefine gui.skip_ypos = 10\r\n\r\n## Posicin vertical de la pantalla de notificacin.\r\ndefine gui.notify_ypos = 45\r\n\r\n## Espacio entre opciones de men.\r\ndefine gui.choice_spacing = 22\r\n\r\n## Botones en la seccin de navegacin del men principal.\r\ndefine gui.navigation_spacing = 4\r\n\r\n## Controla el espacio entre preferencias.\r\ndefine gui.pref_spacing = 10\r\n\r\n## Controla el espacio entre botones de preferencia.\r\ndefine gui.pref_button_spacing = 0\r\n\r\n## Espacio entre botones de pgina.\r\ndefine gui.page_spacing = 0\r\n\r\n## Espacio entre huecos de guardado.\r\ndefine gui.slot_spacing = 10\r\n\r\n## Posicin del texto del men principal.\r\ndefine gui.main_menu_text_xalign = 1.0\r\n\r\n\r\n## Marcos ######################################################################\r\n\r\n## Marcos genricos\r\ndefine gui.frame_borders = Borders(4, 4, 4, 4)\r\n\r\n## Marco usado en la pantalla de confirmacin.\r\ndefine gui.confirm_frame_borders = Borders(40, 40, 40, 40)\r\n\r\n## Marco usado en la pantalla de salto.\r\ndefine gui.skip_frame_borders = Borders(16, 5, 50, 5)\r\n\r\n## Marco usado en la pantalla de notificacin.\r\ndefine gui.notify_frame_borders = Borders(16, 5, 40, 5)\r\n\r\n## El fondo del marco debe ser en mosaico?\r\ndefine gui.frame_tile = False\r\n\r\n\r\n## Barras, barras de desplazamiento y deslizadores #############################\r\n\r\n## Altura de las barras, barras de deslizamiento y deslizadores horizontales.\r\ndefine gui.bar_size = 25\r\ndefine gui.scrollbar_size = 12\r\ndefine gui.slider_size = 25\r\n\r\n## 'True' si la imagen de las barras debe ser en mosaico.\r\ndefine gui.bar_tile = False\r\ndefine gui.scrollbar_tile = False\r\ndefine gui.slider_tile = False\r\n\r\n## Bordes horizontales.\r\ndefine gui.bar_borders = Borders(4, 4, 4, 4)\r\ndefine gui.scrollbar_borders = Borders(4, 4, 4, 4)\r\ndefine gui.slider_borders = Borders(4, 4, 4, 4)\r\n\r\n## Bordes verticales.\r\ndefine gui.vbar_borders = Borders(4, 4, 4, 4)\r\ndefine gui.vscrollbar_borders = Borders(4, 4, 4, 4)\r\ndefine gui.vslider_borders = Borders(4, 4, 4, 4)\r\n\r\n## Qu hacer con las barras de desplazamiento no desplegables.\r\ndefine gui.unscrollable = \"hide\"\r\n\r\n\r\n## Historial ###################################################################\r\n\r\n## Nmero de bloques de historial de dilogo que Ren'Py conserva.\r\ndefine config.history_length = ${config.historyLength || 250}\r\n\r\n## Altura de una entrada de la pantalla de historial.\r\ndefine gui.history_height = ${config.historyHeight || 140}\r\n\r\n## Espacio adicional para aadir entre las entradas de la pantalla de historial.\r\ndefine gui.history_spacing = 0\r\n\r\n## Posicin, anchura y alineacin de la etiqueta con el nombre del personaje.\r\ndefine gui.history_name_xpos = 155\r\ndefine gui.history_name_ypos = 0\r\ndefine gui.history_name_width = 155\r\ndefine gui.history_name_xalign = 1.0\r\n\r\n## Posicin, anchura y alineacin del texto del dilogo.\r\ndefine gui.history_text_xpos = 170\r\ndefine gui.history_text_ypos = 2\r\ndefine gui.history_text_width = 740\r\ndefine gui.history_text_xalign = 0.0\r\n\r\n\r\n## Modo-NVL ####################################################################\r\n\r\n## Bordes del fondo de la ventana del modo NVL.\r\ndefine gui.nvl_borders = Borders(0, 10, 0, 20)\r\n\r\n## Mximo nmero de entradas en modo NVL que Ren'Py presentar.\r\ndefine gui.nvl_list_length = 6\r\n\r\n## Altura de una entrada en modo NVL.\r\ndefine gui.nvl_height = 115\r\n\r\n## Espacio entre entradas en modo NVL.\r\ndefine gui.nvl_spacing = 10\r\n\r\n## Posicin, anchura y alineacin de la etiqueta con el nombre del personaje.\r\ndefine gui.nvl_name_xpos = 430\r\ndefine gui.nvl_name_ypos = 0\r\ndefine gui.nvl_name_width = 150\r\ndefine gui.nvl_name_xalign = 1.0\r\n\r\n## Posicin, anchura y alineacin del texto del dilogo.\r\ndefine gui.nvl_text_xpos = 450\r\ndefine gui.nvl_text_ypos = 8\r\ndefine gui.nvl_text_width = 590\r\ndefine gui.nvl_text_xalign = 0.0\r\n\r\n## Posicin, anchura y alineacin del texto 'nvl_thought'.\r\ndefine gui.nvl_thought_xpos = 240\r\ndefine gui.nvl_thought_ypos = 0\r\ndefine gui.nvl_thought_width = 780\r\ndefine gui.nvl_thought_xalign = 0.0\r\n\r\n## Posicin de los botones de men NVL.\r\ndefine gui.nvl_button_xpos = 450\r\ndefine gui.nvl_button_xalign = 0.0\r\n\r\n\r\n## Localizacin ################################################################\r\n\r\n## Esto controla donde se permite un salto de lnea.\r\ndefine gui.language = \"${config.language || 'unicode'}\"\r\n\r\n\r\n################################################################################\r\n## Dispositivos Mviles\r\n################################################################################\r\n\r\ninit python:\r\n\r\n    ## Esto aumenta el tamao de los botones rpidos para facilitar su acceso\r\n    ## en tablets y telfonos.\r\n    @gui.variant\r\n    def touch():\r\n\r\n        gui.quick_button_borders = Borders(40, 14, 40, 0)\r\n\r\n    ## Esto cambia el tamao y espaciado de varios elementos de la GUI para\r\n    ## asegurar que sean fcilmente visibles en los telfonos.\r\n    @gui.variant\r\n    def small():\r\n\r\n        ## Tamaos de letra.\r\n        gui.text_size = 30\r\n        gui.name_text_size = 36\r\n        gui.notify_text_size = 25\r\n        gui.interface_text_size = 30\r\n        gui.button_text_size = 30\r\n        gui.label_text_size = 34\r\n\r\n        ## Ajusta la colocacin de la caja de texto.\r\n        gui.textbox_height = 240\r\n        gui.name_xpos = 80\r\n        gui.dialogue_xpos = 90\r\n        gui.dialogue_width = 1100\r\n\r\n        ## Cambia el tamao y espaciado de varios elementos.\r\n        gui.slider_size = 36\r\n\r\n        gui.choice_button_width = 1240\r\n        gui.choice_button_text_size = 30\r\n\r\n        gui.navigation_spacing = 20\r\n        gui.pref_button_spacing = 10\r\n\r\n        gui.history_height = 190\r\n        gui.history_text_width = 690\r\n\r\n        gui.quick_button_text_size = 20\r\n\r\n        ## Distribucin de botones de archivo.\r\n        gui.file_slot_cols = 2\r\n        gui.file_slot_rows = 2\r\n\r\n        ## Modo-NVL\r\n        gui.nvl_height = 170\r\n\r\n        gui.nvl_name_width = 305\r\n        gui.nvl_name_xpos = 325\r\n\r\n        gui.nvl_text_width = 915\r\n        gui.nvl_text_xpos = 345\r\n        gui.nvl_text_ypos = 5\r\n\r\n        gui.nvl_thought_width = 1240\r\n        gui.nvl_thought_xpos = 20\r\n\r\n        gui.nvl_button_width = 1240\r\n        gui.nvl_button_xpos = 20\r\n`;\r\n\r\n    return this.guiContent;\r\n  }\r\n}\r\n","// Generador de archivos de pantallas para Ren'Py\r\nexport class ScreensGenerator {\r\n  constructor() {\r\n    this.screensContent = '';\r\n  }\r\n\r\n  // Generar archivo screens.rpy bsico\r\n  generateScreensFile(project) {\r\n    this.screensContent = `################################################################################\r\n## Inicializacin\r\n################################################################################\r\n\r\ninit offset = -1\r\n\r\n\r\n################################################################################\r\n## Estilos\r\n################################################################################\r\n\r\nstyle default:\r\n    properties gui.text_properties()\r\n    language gui.language\r\n\r\nstyle input:\r\n    properties gui.text_properties(\"input\", accent=True)\r\n    adjust_spacing False\r\n\r\nstyle hyperlink_text:\r\n    properties gui.text_properties(\"hyperlink\", accent=True)\r\n    hover_underline True\r\n\r\nstyle gui_text:\r\n    properties gui.text_properties(\"interface\")\r\n\r\nstyle button:\r\n    properties gui.button_properties(\"button\")\r\n\r\nstyle button_text is gui_text:\r\n    properties gui.text_properties(\"button\")\r\n    yalign 0.5\r\n\r\nstyle label_text is gui_text:\r\n    properties gui.text_properties(\"label\", accent=True)\r\n\r\nstyle prompt_text is gui_text:\r\n    properties gui.text_properties(\"prompt\")\r\n\r\nstyle bar:\r\n    ysize gui.bar_size\r\n    left_bar Frame(\"gui/bar/left.png\", gui.bar_borders, tile=gui.bar_tile)\r\n    right_bar Frame(\"gui/bar/right.png\", gui.bar_borders, tile=gui.bar_tile)\r\n\r\nstyle vbar:\r\n    xsize gui.bar_size\r\n    top_bar Frame(\"gui/bar/top.png\", gui.vbar_borders, tile=gui.bar_tile)\r\n    bottom_bar Frame(\"gui/bar/bottom.png\", gui.vbar_borders, tile=gui.bar_tile)\r\n\r\nstyle scrollbar:\r\n    ysize gui.scrollbar_size\r\n    base_bar Frame(\"gui/scrollbar/horizontal_idle_bar.png\", gui.scrollbar_borders, tile=gui.scrollbar_tile)\r\n    thumb Frame(\"gui/scrollbar/horizontal_idle_thumb.png\", gui.scrollbar_borders, tile=gui.scrollbar_tile)\r\n\r\nstyle vscrollbar:\r\n    xsize gui.scrollbar_size\r\n    base_bar Frame(\"gui/scrollbar/vertical_idle_bar.png\", gui.vscrollbar_borders, tile=gui.scrollbar_tile)\r\n    thumb Frame(\"gui/scrollbar/vertical_idle_thumb.png\", gui.vscrollbar_borders, tile=gui.scrollbar_tile)\r\n\r\nstyle slider:\r\n    ysize gui.slider_size\r\n    base_bar Frame(\"gui/slider/horizontal_idle_bar.png\", gui.slider_borders, tile=gui.slider_tile)\r\n    thumb \"gui/slider/horizontal_idle_thumb.png\"\r\n\r\nstyle vslider:\r\n    xsize gui.slider_size\r\n    base_bar Frame(\"gui/slider/vertical_idle_bar.png\", gui.vslider_borders, tile=gui.slider_tile)\r\n    thumb \"gui/slider/vertical_idle_thumb.png\"\r\n\r\nstyle frame:\r\n    padding gui.frame_borders.padding\r\n    background Frame(\"gui/frame.png\", gui.frame_borders, tile=gui.frame_tile)\r\n\r\n\r\n################################################################################\r\n## Pantallas principales\r\n################################################################################\r\n\r\n## Pantalla de dilogo #########################################################\r\n##\r\n## La pantalla de dilogo se usa para mostrar el dilogo al jugador. Toma dos\r\n## parmetros, who y what, el nombre del personaje hablante y el texto que se\r\n## muestra, respectivamente.\r\n\r\nscreen say(who, what):\r\n    style_prefix \"say\"\r\n\r\n    window:\r\n        id \"window\"\r\n\r\n        if who is not None:\r\n\r\n            window:\r\n                id \"namebox\"\r\n                style \"namebox\"\r\n                text who id \"who\"\r\n\r\n        text what id \"what\"\r\n\r\n\r\n## Asegura que el nombre del personaje nunca se muestre en la misma caja que el\r\n## texto del personaje.\r\nstyle window is default\r\nstyle say_label is default\r\nstyle say_dialogue is default\r\nstyle say_thought is say_dialogue\r\n\r\nstyle namebox is default\r\nstyle namebox_label is say_label\r\n\r\n\r\nstyle window:\r\n    xalign 0.5\r\n    xfill True\r\n    yalign gui.textbox_yalign\r\n    ysize gui.textbox_height\r\n\r\n    background Image(\"gui/textbox.png\", xalign=0.5, yalign=1.0)\r\n\r\nstyle namebox:\r\n    xpos gui.name_xpos\r\n    xanchor gui.name_xalign\r\n    xsize gui.namebox_width\r\n    ypos gui.name_ypos\r\n    ysize gui.namebox_height\r\n\r\n    background Frame(\"gui/namebox.png\", gui.namebox_borders, tile=gui.namebox_tile, xalign=gui.name_xalign)\r\n    padding gui.namebox_borders.padding\r\n\r\nstyle say_label:\r\n    properties gui.text_properties(\"name\", accent=True)\r\n    xalign gui.name_xalign\r\n    yalign 0.5\r\n\r\nstyle say_dialogue:\r\n    properties gui.text_properties(\"dialogue\")\r\n\r\n    xpos gui.dialogue_xpos\r\n    xsize gui.dialogue_width\r\n    ypos gui.dialogue_ypos\r\n\r\n    adjust_spacing False\r\n\r\n\r\n## Pantalla de entrada #########################################################\r\n##\r\n## Esta pantalla se usa para mostrar renpy.input. El parmetro prompt se usa\r\n## para pasar un texto de solicitud.\r\n##\r\n## Esta pantalla debe crear una entrada de entrada con el id \"input\" para\r\n## aceptar los varios parmetros de entrada.\r\n\r\nscreen input(prompt):\r\n    style_prefix \"input\"\r\n\r\n    window:\r\n\r\n        vbox:\r\n            xanchor gui.dialogue_text_xalign\r\n            xpos gui.dialogue_xpos\r\n            xsize gui.dialogue_width\r\n            ypos gui.dialogue_ypos\r\n\r\n            text prompt style \"input_prompt\"\r\n            input id \"input\"\r\n\r\nstyle input_prompt is default\r\n\r\nstyle input_prompt:\r\n    xalign gui.dialogue_text_xalign\r\n    properties gui.text_properties(\"input_prompt\")\r\n\r\nstyle input:\r\n    xalign gui.dialogue_text_xalign\r\n    xmaximum gui.dialogue_width\r\n\r\n\r\n## Pantalla de eleccin ########################################################\r\n##\r\n## Esta pantalla se usa para mostrar las opciones de men presentadas dentro del\r\n## juego. El nico parmetro, items, es una lista de objetos, cada uno con\r\n## campos de texto y accin.\r\n\r\nscreen choice(items):\r\n    style_prefix \"choice\"\r\n\r\n    vbox:\r\n        for i in items:\r\n            textbutton i.caption action i.action\r\n\r\n\r\n## Cuando es verdadero, el men de navegacin puede ser navegado con el teclado.\r\n## Nota: config.navigate_with_choice no es una configuracin vlida en Ren'Py 8.4\r\n\r\nstyle choice_vbox is vbox\r\nstyle choice_button is button\r\nstyle choice_button_text is button_text\r\n\r\nstyle choice_vbox:\r\n    xalign 0.5\r\n    ypos 405\r\n    yanchor 0.5\r\n\r\n    spacing gui.choice_spacing\r\n\r\nstyle choice_button is default:\r\n    properties gui.button_properties(\"choice_button\")\r\n\r\nstyle choice_button_text is default:\r\n    properties gui.button_text_properties(\"choice_button\")\r\n\r\n\r\n## Pantalla de men principal ##################################################\r\n##\r\n## Se usa para mostrar el men principal cuando Ren'Py comienza.\r\n##\r\n## https://www.renpy.org/doc/html/screen_special.html#main-menu\r\n\r\nscreen main_menu():\r\n\r\n    ## Esto asegura que cualquier otra pantalla de men sea reemplazada.\r\n    tag menu\r\n\r\n    add gui.main_menu_background\r\n\r\n    ## Este marco vaco oscurece el men principal.\r\n    frame:\r\n        style \"main_menu_frame\"\r\n\r\n    ## El uso de la declaracin incluye incluye la pantalla de navegacin dentro\r\n    ## de esta pantalla. El id vbox es el contenedor para la pantalla de\r\n    ## navegacin.\r\n    use navigation\r\n\r\n    if gui.show_name:\r\n\r\n        vbox:\r\n            style \"main_menu_vbox\"\r\n\r\n            text \"[config.name!t]\":\r\n                style \"main_menu_title\"\r\n\r\n            text \"[config.version]\":\r\n                style \"main_menu_version\"\r\n\r\n\r\nstyle main_menu_frame is empty\r\nstyle main_menu_vbox is vbox\r\nstyle main_menu_text is gui_text\r\nstyle main_menu_title is main_menu_text\r\nstyle main_menu_version is main_menu_text\r\n\r\nstyle main_menu_frame:\r\n    xsize 420\r\n    yfill True\r\n\r\n    background \"gui/overlay/main_menu.png\"\r\n\r\nstyle main_menu_vbox:\r\n    xalign 1.0\r\n    xoffset -30\r\n    xmaximum 1200\r\n    yalign 1.0\r\n    yoffset -30\r\n\r\nstyle main_menu_text:\r\n    properties gui.text_properties(\"main_menu\", accent=True)\r\n\r\nstyle main_menu_title:\r\n    properties gui.text_properties(\"title\")\r\n\r\nstyle main_menu_version:\r\n    properties gui.text_properties(\"version\")\r\n\r\n\r\n## Pantalla de navegacin ######################################################\r\n##\r\n## Esta pantalla se incluye en la pantalla del men principal y del men del\r\n## juego, y proporciona navegacin de fondo y el men principal.\r\n\r\nscreen navigation():\r\n\r\n    vbox:\r\n        style_prefix \"navigation\"\r\n\r\n        xpos gui.navigation_xpos\r\n        yalign 0.5\r\n\r\n        spacing gui.navigation_spacing\r\n\r\n        if main_menu:\r\n\r\n            textbutton _(\"Comenzar\") action Start()\r\n\r\n        else:\r\n\r\n            textbutton _(\"Historial\") action ShowMenu(\"history\")\r\n\r\n            textbutton _(\"Guardar\") action ShowMenu(\"save\")\r\n\r\n        textbutton _(\"Cargar\") action ShowMenu(\"load\")\r\n\r\n        textbutton _(\"Preferencias\") action ShowMenu(\"preferences\")\r\n\r\n        if _in_replay:\r\n\r\n            textbutton _(\"Finalizar Replay\") action EndReplay(confirm=True)\r\n\r\n        elif not main_menu:\r\n\r\n            textbutton _(\"Men Principal\") action MainMenu()\r\n\r\n        textbutton _(\"Acerca de\") action ShowMenu(\"about\")\r\n\r\n        if renpy.variant(\"pc\"):\r\n\r\n            ## Ayuda no es necesaria en mviles.\r\n            textbutton _(\"Ayuda\") action ShowMenu(\"help\")\r\n\r\n            ## El botn de salir est prohibido en iOS y no es necesario en\r\n            ## Android y en la web.\r\n            textbutton _(\"Salir\") action Quit(confirm=not main_menu)\r\n\r\n\r\nstyle navigation_button is gui_button\r\nstyle navigation_button_text is gui_button_text\r\n\r\nstyle navigation_button:\r\n    size_group \"navigation\"\r\n    properties gui.button_properties(\"navigation_button\")\r\n\r\nstyle navigation_button_text:\r\n    properties gui.button_text_properties(\"navigation_button\")\r\n\r\n\r\n## Pantalla de men del juego ##################################################\r\n##\r\n## Esto establece la estructura comn de una pantalla de men del juego. Se\r\n## llama con el ttulo de la pantalla, y muestra el fondo, el ttulo y la\r\n## navegacin.\r\n\r\nscreen game_menu(title, scroll=None, yinitial=0.0):\r\n\r\n    style_prefix \"game_menu\"\r\n\r\n    if main_menu:\r\n        add gui.main_menu_background\r\n    else:\r\n        add gui.game_menu_background\r\n\r\n    frame:\r\n        style \"game_menu_outer_frame\"\r\n\r\n        hbox:\r\n\r\n            ## Reserva espacio para la seccin de navegacin.\r\n            frame:\r\n                style \"game_menu_navigation_frame\"\r\n\r\n            frame:\r\n                style \"game_menu_content_frame\"\r\n\r\n                if scroll == \"viewport\":\r\n\r\n                    viewport:\r\n                        yinitial yinitial\r\n                        scrollbars \"vertical\"\r\n                        mousewheel True\r\n                        draggable True\r\n                        pagekeys True\r\n\r\n                        side_yfill True\r\n\r\n                        vbox:\r\n                            transclude\r\n\r\n                elif scroll == \"vpgrid\":\r\n\r\n                    vpgrid:\r\n                        cols 1\r\n                        yinitial yinitial\r\n\r\n                        scrollbars \"vertical\"\r\n                        mousewheel True\r\n                        draggable True\r\n                        pagekeys True\r\n\r\n                        side_yfill True\r\n\r\n                        transclude\r\n\r\n                else:\r\n\r\n                    transclude\r\n\r\n    use navigation\r\n\r\n    textbutton _(\"Volver\"):\r\n        style \"return_button\"\r\n\r\n        action Return()\r\n\r\n    label title\r\n\r\n    if main_menu:\r\n        key \"game_menu\" action ShowMenu(\"main_menu\")\r\n\r\n\r\nstyle game_menu_outer_frame is empty\r\nstyle game_menu_navigation_frame is empty\r\nstyle game_menu_content_frame is empty\r\nstyle game_menu_viewport is gui_viewport\r\nstyle game_menu_side is gui_side\r\nstyle game_menu_scrollbar is gui_vscrollbar\r\n\r\nstyle game_menu_label is gui_label\r\nstyle game_menu_label_text is gui_label_text\r\n\r\nstyle return_button is navigation_button\r\nstyle return_button_text is navigation_button_text\r\n\r\nstyle game_menu_outer_frame:\r\n    bottom_padding 45\r\n    top_padding 45\r\n\r\n    background \"gui/overlay/game_menu.png\"\r\n\r\nstyle game_menu_navigation_frame:\r\n    xsize 420\r\n    yfill True\r\n\r\nstyle game_menu_content_frame:\r\n    left_margin 60\r\n    right_margin 30\r\n    top_margin 15\r\n\r\nstyle game_menu_viewport:\r\n    xsize 1380\r\n\r\nstyle game_menu_vscrollbar:\r\n    unscrollable gui.unscrollable\r\n\r\nstyle game_menu_side:\r\n    spacing 15\r\n\r\nstyle game_menu_label:\r\n    xpos 75\r\n    ysize 180\r\n\r\nstyle game_menu_label_text:\r\n    size gui.title_text_size\r\n    color gui.accent_color\r\n    yalign 0.5\r\n\r\nstyle return_button:\r\n    xpos gui.navigation_xpos\r\n    yalign 1.0\r\n    yoffset -45\r\n\r\n\r\n## Pantalla de confirmacin ####################################################\r\n##\r\n## Se llama cuando Ren'Py quiere preguntar al jugador una pregunta de s o no.\r\n##\r\n## https://www.renpy.org/doc/html/screen_special.html#confirm\r\n\r\nscreen confirm(message, yes_action, no_action):\r\n\r\n    ## Asegura que otras pantallas no reciban entrada mientras se muestra esta\r\n    ## pantalla.\r\n    modal True\r\n\r\n    zorder 200\r\n\r\n    style_prefix \"confirm\"\r\n\r\n    add \"gui/overlay/confirm.png\"\r\n\r\n    frame:\r\n\r\n        vbox:\r\n            xalign .5\r\n            yalign .5\r\n            spacing 45\r\n\r\n            label _(message):\r\n                style \"confirm_prompt\"\r\n                xalign 0.5\r\n\r\n            hbox:\r\n                xalign 0.5\r\n                spacing 150\r\n\r\n                textbutton _(\"S\") action yes_action\r\n                textbutton _(\"No\") action no_action\r\n\r\n    ## Clic derecho y escape responden \"no\".\r\n    key \"game_menu\" action no_action\r\n\r\n\r\nstyle confirm_frame is gui_frame\r\nstyle confirm_prompt is gui_prompt\r\nstyle confirm_prompt_text is gui_prompt_text\r\nstyle confirm_button is gui_medium_button\r\nstyle confirm_button_text is gui_medium_button_text\r\n\r\nstyle confirm_frame:\r\n    background Frame([ \"gui/confirm_frame.png\", \"gui/frame.png\"], gui.confirm_frame_borders, tile=gui.frame_tile)\r\n    padding gui.confirm_frame_borders.padding\r\n    xalign .5\r\n    yalign .5\r\n\r\nstyle confirm_prompt_text:\r\n    text_align 0.5\r\n    layout \"subtitle\"\r\n\r\nstyle confirm_button:\r\n    properties gui.button_properties(\"confirm_button\")\r\n\r\nstyle confirm_button_text:\r\n    properties gui.button_text_properties(\"confirm_button\")\r\n\r\n\r\n## Pantalla de salto ###########################################################\r\n##\r\n## Esta pantalla se muestra para indicar que el jugador est en modo de salto.\r\n##\r\n## https://www.renpy.org/doc/html/screen_special.html#skip\r\n\r\nscreen skip_indicator():\r\n\r\n    zorder 100\r\n    style_prefix \"skip\"\r\n\r\n    frame:\r\n\r\n        hbox:\r\n            spacing 9\r\n\r\n            text _(\"Saltando\")\r\n\r\n            text \"\" at delayed_blink(0.0, 1.0) style \"skip_triangle\"\r\n            text \"\" at delayed_blink(0.2, 1.0) style \"skip_triangle\"\r\n            text \"\" at delayed_blink(0.4, 1.0) style \"skip_triangle\"\r\n\r\n\r\n## Esta transformacin se usa para parpadear las flechas una despus de la otra.\r\ntransform delayed_blink(delay, cycle):\r\n    alpha .5\r\n\r\n    pause delay\r\n\r\n    block:\r\n        linear .2 alpha 1.0\r\n        pause .2\r\n        linear .2 alpha 0.5\r\n        pause (cycle - .4)\r\n        repeat\r\n\r\n\r\nstyle skip_frame is empty\r\nstyle skip_text is gui_text\r\nstyle skip_triangle is skip_text\r\n\r\nstyle skip_frame:\r\n    ypos gui.skip_ypos\r\n    background Frame(\"gui/skip.png\", gui.skip_frame_borders, tile=gui.frame_tile)\r\n    padding gui.skip_frame_borders.padding\r\n\r\nstyle skip_text:\r\n    size gui.notify_text_size\r\n\r\nstyle skip_triangle:\r\n    ## Tenemos que usar un carcter de fuente que est presente en todos los\r\n    ## sistemas.\r\n    font \"DejaVuSans.ttf\"\r\n\r\n\r\n## Pantalla de notificacin ####################################################\r\n##\r\n## Se usa para mostrar mensajes al jugador.\r\n\r\nscreen notify(message):\r\n\r\n    zorder 100\r\n    style_prefix \"notify\"\r\n\r\n    frame at notify_appear:\r\n        text \"[message!tq]\"\r\n\r\n    timer 3.25 action Hide('notify')\r\n\r\n\r\ntransform notify_appear:\r\n    on show:\r\n        alpha 0\r\n        linear .25 alpha 1.0\r\n    on hide:\r\n        linear .5 alpha 0.0\r\n\r\n\r\nstyle notify_frame is empty\r\nstyle notify_text is gui_text\r\n\r\nstyle notify_frame:\r\n    ypos gui.notify_ypos\r\n\r\n    background Frame(\"gui/notify.png\", gui.notify_frame_borders, tile=gui.frame_tile)\r\n    padding gui.notify_frame_borders.padding\r\n\r\nstyle notify_text:\r\n    properties gui.text_properties(\"notify\")\r\n\r\n\r\n## Pantalla NVL ################################################################\r\n##\r\n## Esta pantalla se usa para el dilogo y los mens en modo NVL.\r\n\r\nscreen nvl(dialogue, items=None):\r\n\r\n    window:\r\n        style \"nvl_window\"\r\n\r\n        has vbox:\r\n            spacing gui.nvl_spacing\r\n\r\n        ## Muestra el dilogo en un vpgrid o en un vbox.\r\n        if gui.nvl_height:\r\n\r\n            vpgrid:\r\n                cols 1\r\n                yinitial 1.0\r\n\r\n                use nvl_dialogue(dialogue)\r\n\r\n        else:\r\n\r\n            use nvl_dialogue(dialogue)\r\n\r\n        ## Muestra el men, si se da. El men puede mostrarse incorrectamente si\r\n        ## config.narrator_menu est configurado en True, como se muestra arriba.\r\n        for i in items:\r\n\r\n            textbutton i.caption:\r\n                action i.action\r\n                style \"nvl_button\"\r\n\r\n    add SideImage() xalign 0.0 yalign 1.0\r\n\r\n\r\nscreen nvl_dialogue(dialogue):\r\n\r\n    for d in dialogue:\r\n\r\n        window:\r\n            id d.window_id\r\n\r\n            fixed:\r\n                yfit gui.nvl_height is None\r\n\r\n                if d.who is not None:\r\n\r\n                    text d.who:\r\n                        id d.who_id\r\n\r\n                text d.what:\r\n                    id d.what_id\r\n\r\n\r\n## Esto controla el nmero mximo de entradas NVL que se pueden mostrar al\r\n## mismo tiempo.\r\ndefine config.nvl_list_length = gui.nvl_list_length\r\n\r\nstyle nvl_window is default\r\nstyle nvl_entry is default\r\n\r\nstyle nvl_label is say_label\r\nstyle nvl_dialogue is say_dialogue\r\n\r\nstyle nvl_button is button\r\nstyle nvl_button_text is button_text\r\n\r\nstyle nvl_window:\r\n    xfill True\r\n    yfill True\r\n\r\n    background \"gui/nvl.png\"\r\n    padding gui.nvl_borders.padding\r\n\r\nstyle nvl_entry:\r\n    xfill True\r\n    ysize gui.nvl_height\r\n\r\nstyle nvl_label:\r\n    xpos gui.nvl_name_xpos\r\n    xanchor gui.nvl_name_xalign\r\n    ypos gui.nvl_name_ypos\r\n    yanchor 0.0\r\n    xsize gui.nvl_name_width\r\n    min_width gui.nvl_name_width\r\n    text_align gui.nvl_name_xalign\r\n\r\nstyle nvl_dialogue:\r\n    xpos gui.nvl_text_xpos\r\n    xanchor gui.nvl_text_xalign\r\n    ypos gui.nvl_text_ypos\r\n    xsize gui.nvl_text_width\r\n    min_width gui.nvl_text_width\r\n    text_align gui.nvl_text_xalign\r\n    layout (\"subtitle\" if gui.nvl_text_xalign else \"tex\")\r\n\r\nstyle nvl_thought:\r\n    xpos gui.nvl_thought_xpos\r\n    xanchor gui.nvl_thought_xalign\r\n    ypos gui.nvl_thought_ypos\r\n    xsize gui.nvl_thought_width\r\n    min_width gui.nvl_thought_width\r\n    text_align gui.nvl_thought_xalign\r\n    layout (\"subtitle\" if gui.nvl_thought_xalign else \"tex\")\r\n\r\nstyle nvl_button:\r\n    properties gui.button_properties(\"nvl_button\")\r\n    xpos gui.nvl_button_xpos\r\n    xanchor gui.nvl_button_xalign\r\n\r\nstyle nvl_button_text:\r\n    properties gui.button_text_properties(\"nvl_button\")\r\n\r\n\r\n################################################################################\r\n## Variantes mviles\r\n################################################################################\r\n\r\nstyle pref_vbox:\r\n    variant \"medium\"\r\n    xsize 675\r\n\r\n## Como tenemos un men de navegacin en la parte superior, los botones en la\r\n## parte inferior son innecesarios en mviles.\r\nstyle game_menu_outer_frame:\r\n    variant \"small\"\r\n    bottom_padding 30\r\n    top_padding 120\r\n\r\nstyle game_menu_navigation_frame:\r\n    variant \"small\"\r\n    xsize 510\r\n\r\nstyle game_menu_content_frame:\r\n    variant \"small\"\r\n    left_margin 60\r\n    right_margin 60\r\n    top_margin 15\r\n\r\nstyle game_menu_viewport:\r\n    variant \"small\"\r\n    xsize 1380\r\n\r\nstyle game_menu_vscrollbar:\r\n    variant \"small\"\r\n    unscrollable gui.unscrollable\r\n\r\nstyle game_menu_side:\r\n    variant \"small\"\r\n    spacing 15\r\n\r\nstyle game_menu_label:\r\n    variant \"small\"\r\n    xpos 75\r\n    ysize 180\r\n\r\nstyle game_menu_label_text:\r\n    variant \"small\"\r\n    size gui.title_text_size\r\n    color gui.accent_color\r\n    yalign 0.5\r\n\r\nstyle return_button:\r\n    variant \"small\"\r\n    xpos gui.navigation_xpos\r\n    yalign 1.0\r\n    yoffset -30\r\n`;\r\n\r\n    return this.screensContent;\r\n  }\r\n}\r\n","import JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\nimport { RenPyGenerator } from './renpyGenerator';\r\nimport { AssetStorage } from './assetStorage';\r\nimport { GuiGenerator } from './guiGenerator';\r\nimport { ScreensGenerator } from './screensGenerator';\r\nimport { FileManager } from './fileManager';\r\nimport { RynBackupManager } from './rynBackupManager';\r\n\r\nexport class ProjectExporter {\r\n  constructor() {\r\n    this.generator = new RenPyGenerator();\r\n    this.guiGenerator = new GuiGenerator();\r\n    this.screensGenerator = new ScreensGenerator();\r\n    this.fileManager = new FileManager();\r\n    this.assetStorage = new AssetStorage();\r\n    this.rynBackupManager = new RynBackupManager();\r\n    this.templatePath = '/template/the_question/game/';\r\n  }\r\n\r\n  // Funcin para leer archivos del template\r\n  async readTemplateFile(filePath) {\r\n    try {\r\n      const response = await fetch(this.templatePath + filePath);\r\n      if (response.ok) {\r\n        return await response.text();\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.warn(`No se pudo leer el archivo del template: ${filePath}`, error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Funcin para aplicar configuraciones del usuario a los archivos del template\r\n  applyUserConfigurations(content, fileName, project) {\r\n    const config = project.advancedConfig;\r\n    \r\n    switch (fileName) {\r\n      case 'options.rpy':\r\n        return this.modifyOptionsFile(content, project, config);\r\n      case 'gui.rpy':\r\n        return this.modifyGuiFile(content, config);\r\n      case 'screens.rpy':\r\n        return content; // Por ahora no modificamos screens.rpy\r\n      default:\r\n        return content;\r\n    }\r\n  }\r\n\r\n  // Modificar archivo options.rpy con configuraciones del usuario\r\n  modifyOptionsFile(content, project, config) {\r\n    let modifiedContent = content;\r\n    \r\n    // Reemplazar nombre del juego\r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.name = _\\(\".*?\"\\)/,\r\n      `define config.name = _(\"${project.name}\")`\r\n    );\r\n    \r\n    // Reemplazar versin\r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.version = .*/,\r\n      `define config.version = \"${project.version}\"`\r\n    );\r\n    \r\n    // Reemplazar build.name\r\n    modifiedContent = modifiedContent.replace(\r\n      /define build\\.name = \".*?\"/,\r\n      `define build.name = \"${config.buildName || project.name.replace(/\\s+/g, '_').toLowerCase()}\"`\r\n    );\r\n    \r\n    // Reemplazar configuraciones de audio\r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.has_sound = .*/,\r\n      `define config.has_sound = ${config.hasSound ? 'True' : 'False'}`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.has_music = .*/,\r\n      `define config.has_music = ${config.hasMusic ? 'True' : 'False'}`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.has_voice = .*/,\r\n      `define config.has_voice = ${config.hasVoice ? 'True' : 'False'}`\r\n    );\r\n    \r\n    // Reemplazar transiciones\r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.enter_transition = .*/,\r\n      `define config.enter_transition = ${config.enterTransition}`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.exit_transition = .*/,\r\n      `define config.exit_transition = ${config.exitTransition}`\r\n    );\r\n    \r\n    // Reemplazar modo de ventana\r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.window = \".*?\"/,\r\n      `define config.window = \"${config.windowMode}\"`\r\n    );\r\n    \r\n    // Reemplazar directorio de guardado\r\n    const saveDirectory = config.saveDirectory || project.name.replace(/\\s+/g, '_').toLowerCase();\r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.save_directory = \".*?\"/,\r\n      `define config.save_directory = \"${saveDirectory}\"`\r\n    );\r\n    \r\n    return modifiedContent;\r\n  }\r\n\r\n  // Modificar archivo gui.rpy con configuraciones del usuario\r\n  modifyGuiFile(content, config) {\r\n    let modifiedContent = content;\r\n    \r\n    // Reemplazar colores\r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.accent_color = '.*?'/,\r\n      `define gui.accent_color = '${config.accentColor}'`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.idle_color = '.*?'/,\r\n      `define gui.idle_color = '${config.idleColor}'`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.hover_color = '.*?'/,\r\n      `define gui.hover_color = '${config.hoverColor}'`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.selected_color = '.*?'/,\r\n      `define gui.selected_color = '${config.selectedColor}'`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.text_color = '.*?'/,\r\n      `define gui.text_color = '${config.textColor}'`\r\n    );\r\n    \r\n    // Reemplazar fuentes\r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.text_font = \".*?\"/,\r\n      `define gui.text_font = \"${config.textFont}\"`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.name_text_font = \".*?\"/,\r\n      `define gui.name_text_font = \"${config.nameFont}\"`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.interface_text_font = \".*?\"/,\r\n      `define gui.interface_text_font = \"${config.interfaceFont}\"`\r\n    );\r\n    \r\n    // Reemplazar tamaos de texto\r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.text_size = .*/,\r\n      `define gui.text_size = ${config.textSize}`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.name_text_size = .*/,\r\n      `define gui.name_text_size = ${config.nameTextSize}`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define gui\\.interface_text_size = .*/,\r\n      `define gui.interface_text_size = ${config.interfaceTextSize}`\r\n    );\r\n    \r\n    // Reemplazar dimensiones de pantalla\r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.screen_width = .*/,\r\n      `define config.screen_width = ${config.screenWidth}`\r\n    );\r\n    \r\n    modifiedContent = modifiedContent.replace(\r\n      /define config\\.screen_height = .*/,\r\n      `define config.screen_height = ${config.screenHeight}`\r\n    );\r\n    \r\n    return modifiedContent;\r\n  }\r\n\r\n  // Funcin para generar archivo definitions.rpy con definiciones de imgenes y audio\r\n  async generateDefinitionsFile(project) {\r\n    try {\r\n      // Inicializar AssetStorage\r\n      await this.assetStorage.init();\r\n      \r\n      // Obtener todos los archivos del usuario\r\n      const userFiles = await this.assetStorage.getAllFiles();\r\n      \r\n      let definitions = \"# Definiciones automticas de imgenes y audio\\n\";\r\n      definitions += \"# Generado automticamente por el editor\\n\\n\";\r\n      \r\n      // Agrupar archivos por categora\r\n      const categories = {\r\n        characters: [],\r\n        backgrounds: [],\r\n        gui: [],\r\n        effects: [],\r\n        music: [],\r\n        sounds: [],\r\n        voice: []\r\n      };\r\n      \r\n      userFiles.forEach(file => {\r\n        if (categories[file.category]) {\r\n          categories[file.category].push(file);\r\n        }\r\n      });\r\n      \r\n      // Generar definiciones de imgenes\r\n      if (categories.characters.length > 0) {\r\n        definitions += \"# Definiciones de personajes\\n\";\r\n        categories.characters.forEach(file => {\r\n          console.log('Generando definicin para personaje:', file);\r\n          \r\n          // Buscar el personaje correspondiente en el proyecto\r\n          const character = project.characters.find(char => \r\n            char.sprites && char.sprites.some(sprite => \r\n              sprite.name === file.name.replace(/\\.[^/.]+$/, \"\") // Sin extensin\r\n            )\r\n          );\r\n          \r\n          if (character) {\r\n            // Usar el ID del personaje + nombre del sprite\r\n            const spriteName = file.name.replace(/\\.[^/.]+$/, \"\").toLowerCase();\r\n            const imageName = `${character.id} ${spriteName}`;\r\n            const imagePath = `images/characters/${file.name}`;\r\n            console.log('Personaje encontrado:', character);\r\n            console.log('Nombre de imagen:', imageName);\r\n            console.log('Ruta de imagen:', imagePath);\r\n            definitions += `image ${imageName} = \"${imagePath}\"\\n`;\r\n          } else {\r\n            // Fallback: usar nombre automtico si no se encuentra el personaje\r\n            const imageName = this.generateImageName(file.name, file.category);\r\n            const imagePath = `images/characters/${file.name}`;\r\n            console.log('Personaje no encontrado, usando nombre automtico:', imageName);\r\n            definitions += `image ${imageName} = \"${imagePath}\"\\n`;\r\n          }\r\n        });\r\n        definitions += \"\\n\";\r\n      }\r\n      \r\n      if (categories.backgrounds.length > 0) {\r\n        definitions += \"# Definiciones de fondos\\n\";\r\n        categories.backgrounds.forEach(file => {\r\n          console.log('Generando definicin para fondo:', file);\r\n          const imageName = this.generateImageName(file.name, file.category);\r\n          const imagePath = `images/backgrounds/${file.name}`;\r\n          console.log('Nombre de imagen:', imageName);\r\n          console.log('Ruta de imagen:', imagePath);\r\n          definitions += `image ${imageName} = \"${imagePath}\"\\n`;\r\n        });\r\n        definitions += \"\\n\";\r\n      }\r\n      \r\n      if (categories.gui.length > 0) {\r\n        definitions += \"# Definiciones de GUI\\n\";\r\n        categories.gui.forEach(file => {\r\n          const imageName = this.generateImageName(file.name, file.category);\r\n          definitions += `image ${imageName} = \"images/gui/${file.name}\"\\n`;\r\n        });\r\n        definitions += \"\\n\";\r\n      }\r\n      \r\n      if (categories.effects.length > 0) {\r\n        definitions += \"# Definiciones de efectos\\n\";\r\n        categories.effects.forEach(file => {\r\n          const imageName = this.generateImageName(file.name, file.category);\r\n          definitions += `image ${imageName} = \"images/effects/${file.name}\"\\n`;\r\n        });\r\n        definitions += \"\\n\";\r\n      }\r\n      \r\n      // Generar definiciones de audio\r\n      if (categories.music.length > 0) {\r\n        definitions += \"# Definiciones de msica\\n\";\r\n        categories.music.forEach(file => {\r\n          const audioName = this.generateAudioName(file.name, file.category);\r\n          definitions += `define audio.${audioName} = \"images/audio/music/${file.name}\"\\n`;\r\n        });\r\n        definitions += \"\\n\";\r\n      }\r\n      \r\n      if (categories.sounds.length > 0) {\r\n        definitions += \"# Definiciones de efectos de sonido\\n\";\r\n        categories.sounds.forEach(file => {\r\n          const audioName = this.generateAudioName(file.name, file.category);\r\n          definitions += `define audio.${audioName} = \"images/audio/sounds/${file.name}\"\\n`;\r\n        });\r\n        definitions += \"\\n\";\r\n      }\r\n      \r\n      if (categories.voice.length > 0) {\r\n        definitions += \"# Definiciones de voces\\n\";\r\n        categories.voice.forEach(file => {\r\n          const audioName = this.generateAudioName(file.name, file.category);\r\n          definitions += `define audio.${audioName} = \"images/audio/voice/${file.name}\"\\n`;\r\n        });\r\n        definitions += \"\\n\";\r\n      }\r\n      \r\n      return definitions;\r\n    } catch (error) {\r\n      console.error('Error al generar archivo definitions.rpy:', error);\r\n      return \"# Error al generar definiciones\\n\";\r\n    }\r\n  }\r\n\r\n  // Funcin para generar nombres de imgenes vlidos para Ren'Py\r\n  generateImageName(fileName, category) {\r\n    // Remover extensin\r\n    let name = fileName.replace(/\\.[^/.]+$/, \"\");\r\n    \r\n    // Convertir a minsculas y reemplazar espacios y caracteres especiales\r\n    name = name.toLowerCase()\r\n      .replace(/\\s+/g, '_')\r\n      .replace(/[^a-z0-9_]/g, '')\r\n      .replace(/_+/g, '_')\r\n      .replace(/^_|_$/g, '');\r\n    \r\n    // Agregar prefijo segn categora\r\n    switch (category) {\r\n      case 'characters':\r\n        return `char_${name}`;\r\n      case 'backgrounds':\r\n        return `bg_${name}`;\r\n      case 'gui':\r\n        return `gui_${name}`;\r\n      case 'effects':\r\n        return `fx_${name}`;\r\n      default:\r\n        return name;\r\n    }\r\n  }\r\n\r\n  // Funcin para generar nombres de audio vlidos para Ren'Py\r\n  generateAudioName(fileName, category) {\r\n    // Remover extensin\r\n    let name = fileName.replace(/\\.[^/.]+$/, \"\");\r\n    \r\n    // Convertir a minsculas y reemplazar espacios y caracteres especiales\r\n    name = name.toLowerCase()\r\n      .replace(/\\s+/g, '_')\r\n      .replace(/[^a-z0-9_]/g, '')\r\n      .replace(/_+/g, '_')\r\n      .replace(/^_|_$/g, '');\r\n    \r\n    // Agregar prefijo segn categora\r\n    switch (category) {\r\n      case 'music':\r\n        return `music_${name}`;\r\n      case 'sounds':\r\n        return `sfx_${name}`;\r\n      case 'voice':\r\n        return `voice_${name}`;\r\n      default:\r\n        return name;\r\n    }\r\n  }\r\n\r\n  // Funcin para incluir assets del usuario en la exportacin\r\n  async includeUserAssets(zip, gameFolder) {\r\n    try {\r\n      // Inicializar AssetStorage\r\n      await this.assetStorage.init();\r\n      \r\n      // Obtener todos los archivos del usuario\r\n      const userFiles = await this.assetStorage.getAllFiles();\r\n      \r\n      console.log('Archivos del usuario encontrados:', userFiles.length);\r\n      console.log('Detalles de archivos:', userFiles);\r\n      \r\n      for (const file of userFiles) {\r\n        try {\r\n          // Obtener el archivo como blob\r\n          const fileData = await this.assetStorage.getFile(file.id);\r\n          \r\n          if (fileData && fileData.data) {\r\n            console.log(` Procesando archivo: ${file.name}`);\r\n            console.log(` Tipo de archivo: ${fileData.type}`);\r\n            console.log(` Tamao de datos: ${fileData.data.length || 'N/A'}`);\r\n            \r\n            // Crear la estructura de carpetas segn la categora\r\n            let folderPath = 'images/';\r\n            \r\n            switch (file.category) {\r\n              case 'characters':\r\n                folderPath += 'characters/';\r\n                break;\r\n              case 'backgrounds':\r\n                folderPath += 'backgrounds/';\r\n                break;\r\n              case 'gui':\r\n                folderPath += 'gui/';\r\n                break;\r\n              case 'effects':\r\n                folderPath += 'effects/';\r\n                break;\r\n              case 'music':\r\n                folderPath += 'audio/music/';\r\n                break;\r\n              case 'sounds':\r\n                folderPath += 'audio/sounds/';\r\n                break;\r\n              case 'voice':\r\n                folderPath += 'audio/voice/';\r\n                break;\r\n              default:\r\n                folderPath += 'general/';\r\n            }\r\n            \r\n            // Procesar los datos de imagen de manera ms robusta\r\n            let blob;\r\n            \r\n            if (typeof fileData.data === 'string') {\r\n              // Si es una data URL (base64)\r\n              console.log(` Procesando como data URL`);\r\n              if (fileData.data.startsWith('data:')) {\r\n                // Convertir data URL a blob\r\n                const response = await fetch(fileData.data);\r\n                blob = await response.blob();\r\n              } else {\r\n                // Si es base64 puro, convertir a blob\r\n                const base64Data = fileData.data.split(',')[1] || fileData.data;\r\n                const binaryData = atob(base64Data);\r\n                const bytes = new Uint8Array(binaryData.length);\r\n                for (let i = 0; i < binaryData.length; i++) {\r\n                  bytes[i] = binaryData.charCodeAt(i);\r\n                }\r\n                blob = new Blob([bytes], { type: fileData.type || 'application/octet-stream' });\r\n              }\r\n            } else if (fileData.data instanceof ArrayBuffer || fileData.data instanceof Uint8Array) {\r\n              // Si ya es un ArrayBuffer o Uint8Array\r\n              console.log(` Procesando como ArrayBuffer/Uint8Array`);\r\n              blob = new Blob([fileData.data], { type: fileData.type || 'application/octet-stream' });\r\n            } else {\r\n              // Fallback: intentar crear blob directamente\r\n              console.log(` Procesando con fallback`);\r\n              blob = new Blob([fileData.data], { type: fileData.type || 'application/octet-stream' });\r\n            }\r\n            \r\n            // Agregar el archivo al ZIP\r\n            const fullPath = folderPath + file.name;\r\n            gameFolder.file(fullPath, blob);\r\n            \r\n            console.log(` Archivo agregado exitosamente: ${fullPath}`);\r\n            console.log(` Tamao del blob: ${blob.size} bytes`);\r\n            console.log(` Tipo MIME: ${blob.type}`);\r\n          } else {\r\n            console.warn(` Archivo ${file.name} no tiene datos vlidos`);\r\n          }\r\n        } catch (error) {\r\n          console.warn(`Error al procesar archivo ${file.name}:`, error);\r\n        }\r\n      }\r\n      \r\n      console.log('Assets del usuario incluidos en la exportacin');\r\n    } catch (error) {\r\n      console.error('Error al incluir assets del usuario:', error);\r\n    }\r\n  }\r\n\r\n  // Funcin para copiar archivos del template al ZIP\r\n  async copyTemplateFiles(zip, gameFolder, project) {\r\n    // Archivos principales del template\r\n    const templateFiles = [\r\n      'options.rpy',\r\n      'gui.rpy', \r\n      'screens.rpy'\r\n    ];\r\n\r\n    for (const fileName of templateFiles) {\r\n      const content = await this.readTemplateFile(fileName);\r\n      if (content) {\r\n        // Aplicar configuraciones del usuario\r\n        const modifiedContent = this.applyUserConfigurations(content, fileName, project);\r\n        gameFolder.file(fileName, modifiedContent);\r\n      }\r\n    }\r\n\r\n    // Copiar carpeta gui/ completa\r\n    const guiFiles = [\r\n      'gui/bar/bottom.png',\r\n      'gui/bar/left.png', \r\n      'gui/bar/right.png',\r\n      'gui/bar/top.png',\r\n      'gui/button/check_foreground.png',\r\n      'gui/button/check_selected_foreground.png',\r\n      'gui/button/choice_hover_background.png',\r\n      'gui/button/choice_idle_background.png',\r\n      'gui/button/hover_background.png',\r\n      'gui/button/idle_background.png',\r\n      'gui/button/quick_hover_background.png',\r\n      'gui/button/quick_idle_background.png',\r\n      'gui/button/radio_foreground.png',\r\n      'gui/button/radio_selected_foreground.png',\r\n      'gui/button/slot_hover_background.png',\r\n      'gui/button/slot_idle_background.png',\r\n      'gui/frame.png',\r\n      'gui/namebox.png',\r\n      'gui/notify.png',\r\n      'gui/nvl.png',\r\n      'gui/overlay/confirm.png',\r\n      'gui/overlay/game_menu.png',\r\n      'gui/overlay/main_menu.png',\r\n      'gui/phone/nvl.png',\r\n      'gui/phone/overlay/game_menu.png',\r\n      'gui/phone/overlay/main_menu.png',\r\n      'gui/phone/textbox.png',\r\n      'gui/scrollbar/horizontal_hover_bar.png',\r\n      'gui/scrollbar/horizontal_hover_thumb.png',\r\n      'gui/scrollbar/horizontal_idle_bar.png',\r\n      'gui/scrollbar/horizontal_idle_thumb.png',\r\n      'gui/scrollbar/vertical_hover_bar.png',\r\n      'gui/scrollbar/vertical_hover_thumb.png',\r\n      'gui/scrollbar/vertical_idle_bar.png',\r\n      'gui/scrollbar/vertical_idle_thumb.png',\r\n      'gui/skip.png',\r\n      'gui/slider/horizontal_hover_bar.png',\r\n      'gui/slider/horizontal_hover_thumb.png',\r\n      'gui/slider/horizontal_idle_bar.png',\r\n      'gui/slider/horizontal_idle_thumb.png',\r\n      'gui/slider/vertical_hover_bar.png',\r\n      'gui/slider/vertical_hover_thumb.png',\r\n      'gui/slider/vertical_idle_bar.png',\r\n      'gui/slider/vertical_idle_thumb.png',\r\n      'gui/textbox.png'\r\n    ];\r\n\r\n    for (const filePath of guiFiles) {\r\n      try {\r\n        const response = await fetch(this.templatePath + filePath);\r\n        if (response.ok) {\r\n          const blob = await response.blob();\r\n          gameFolder.file(filePath, blob);\r\n        }\r\n      } catch (error) {\r\n        console.warn(`No se pudo copiar archivo GUI: ${filePath}`, error);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Exportar proyecto completo como ZIP\r\n  async exportProject(project) {\r\n    try {\r\n      console.log(' Iniciando exportacin del proyecto:', project?.name);\r\n      const zip = new JSZip();\r\n      \r\n      // Configurar AssetStorage y proyecto en el generador\r\n      console.log(' Inicializando AssetStorage...');\r\n      await this.assetStorage.init();\r\n      this.generator.setAssetStorage(this.assetStorage);\r\n      this.generator.setProject(project);\r\n      \r\n      // Debug: Verificar configuracin del protagonista antes de generar\r\n      console.log(' ProjectExporter - Verificando configuracin del protagonista:');\r\n      console.log(' project.protagonistConfig:', project.protagonistConfig);\r\n      console.log(' enabled:', project.protagonistConfig?.enabled);\r\n      \r\n      // Generar solo el script principal (con variables, flags y elementos)\r\n      console.log(' Generando script principal...');\r\n      const scriptContent = await this.generator.generateScript(project);\r\n      \r\n      // Generar archivos de escenas separados\r\n      console.log(' Generando archivos de escenas...');\r\n      const sceneFiles = await this.generator.generateSceneFiles(project);\r\n      \r\n      // Crear estructura de carpetas dentro de game/\r\n      const gameFolder = zip.folder('game');\r\n      \r\n      // Agregar script principal generado\r\n      gameFolder.file('script.rpy', scriptContent);\r\n      \r\n      // Copiar archivos del template (options.rpy, gui.rpy, screens.rpy y assets GUI)\r\n      console.log(' Copiando archivos del template...');\r\n      await this.copyTemplateFiles(zip, gameFolder, project);\r\n      \r\n      // Incluir assets del usuario\r\n      console.log(' Incluyendo assets del usuario...');\r\n      await this.includeUserAssets(zip, gameFolder);\r\n      \r\n      // Generar archivo definitions.rpy con definiciones de imgenes y audio\r\n      console.log(' Generando archivo de definiciones...');\r\n      const definitionsContent = await this.generateDefinitionsFile(project);\r\n      gameFolder.file('definitions.rpy', definitionsContent);\r\n      \r\n      // Agregar archivos de escenas separados\r\n      console.log(' Agregando archivos de escenas...');\r\n      Object.entries(sceneFiles).forEach(([fileName, content]) => {\r\n        gameFolder.file(fileName, content);\r\n      });\r\n      \r\n      // Crear archivo de informacin del proyecto\r\n      console.log(' Creando informacin del proyecto...');\r\n      const projectInfo = {\r\n        name: project.name,\r\n        version: project.version,\r\n        author: project.author,\r\n        description: project.description,\r\n        created: new Date().toISOString(),\r\n        exported: new Date().toISOString()\r\n      };\r\n      \r\n      zip.file('project.json', JSON.stringify(projectInfo, null, 2));\r\n      \r\n      // Crear README\r\n      console.log(' Generando README...');\r\n      const readme = this.generateReadme(project, sceneFiles);\r\n      zip.file('README.md', readme);\r\n      \r\n      // Los archivos multimedia ya se incluyeron en includeUserAssets arriba\r\n      // await this.addFilesToZip(zip); //  REMOVIDO: Evitar procesamiento duplicado\r\n      \r\n      // Generar ZIP\r\n      console.log(' Generando archivo ZIP...');\r\n      const content = await zip.generateAsync({ type: 'blob' });\r\n      \r\n      // Descargar archivo\r\n      const fileName = `${project.name.replace(/\\s+/g, '_')}_renpy_project.zip`;\r\n      console.log(' Descargando archivo:', fileName);\r\n      saveAs(content, fileName);\r\n      \r\n      console.log(' Exportacin completada exitosamente');\r\n      return fileName;\r\n      \r\n    } catch (error) {\r\n      console.error(' Error durante la exportacin del proyecto:', error);\r\n      console.error('Detalles del error:', {\r\n        message: error.message,\r\n        name: error.name,\r\n        stack: error.stack,\r\n        project: project?.name\r\n      });\r\n      throw error; // Re-lanzar el error para que TopBar lo maneje\r\n    }\r\n  }\r\n\r\n  // Exportar proyecto como archivo .ryn (nuevo formato de backup)\r\n  async exportProjectAsRyn(project, fullState = null) {\r\n    try {\r\n      console.log(' Exportando proyecto como archivo .ryn...');\r\n      \r\n      // Usar el RynBackupManager para exportar\r\n      const fileName = await this.rynBackupManager.exportProjectAsRyn(project, fullState);\r\n      \r\n      console.log(' Proyecto exportado como .ryn exitosamente');\r\n      return fileName;\r\n    } catch (error) {\r\n      console.error(' Error al exportar proyecto como .ryn:', error);\r\n      throw new Error(`Error al exportar proyecto como .ryn: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  // Generar README para el proyecto\r\n  generateReadme(project, sceneFiles = {}) {\r\n    return `# ${project.name}\r\n\r\n${project.description || 'Una novela visual creada con Visual Novel Creator'}\r\n\r\n## Informacin del Proyecto\r\n\r\n- **Autor**: ${project.author || 'No especificado'}\r\n- **Versin**: ${project.version}\r\n- **Fecha de creacin**: ${new Date().toLocaleDateString('es-ES')}\r\n\r\n## Instrucciones de Uso\r\n\r\n1. Extrae este archivo ZIP en una carpeta\r\n2. Asegrate de tener Ren'Py instalado en tu sistema\r\n3. Abre Ren'Py Launcher\r\n4. Selecciona \"Add Project\" y navega a la carpeta extrada\r\n5. Tu novela visual estar lista para ejecutar!\r\n\r\n## Estructura del Proyecto\r\n\r\n- \\`game/\\` - Contiene los archivos de script de Ren'Py\r\n  - \\`game/images/\\` - Imgenes y sprites (agrega tus archivos aqu)\r\n  - \\`game/audio/\\` - Msica y efectos de sonido (agrega tus archivos aqu)\r\n\r\n## Personalizacin\r\n\r\nPuedes modificar los archivos en la carpeta \\`game/\\` para personalizar tu novela visual:\r\n\r\n- \\`script.rpy\\` - Script principal de la historia\r\n- \\`options.rpy\\` - Configuracin del juego\r\n- \\`gui.rpy\\` - Configuracin de la interfaz grfica\r\n- \\`screens.rpy\\` - Definicin de pantallas y estilos\r\n${Object.keys(sceneFiles).length > 0 ? `\r\n## Archivos de Escenas\r\n\r\nEste proyecto incluye los siguientes archivos de escenas organizados por captulos:\r\n\r\n${Object.keys(sceneFiles).map(fileName => `- \\`${fileName}\\` - ${project.sceneFiles.find(f => f.name === fileName)?.displayName || 'Escena'}`).join('\\n')}\r\n\r\nCada archivo de escena contiene elementos especficos de esa parte de la historia. Puedes modificar estos archivos para personalizar cada captulo por separado.\r\n` : ''}\r\n\r\n## Recursos Necesarios\r\n\r\nAsegrate de agregar los siguientes archivos a sus carpetas correspondientes:\r\n\r\n### Imgenes\r\n${this.generator.getResources().images.map(img => `- game/images/${img.replace('images/', '')}`).join('\\n') || '- Ninguna imagen especificada'}\r\n\r\n### Audio\r\n${this.generator.getResources().audio.map(audio => `- game/audio/${audio.replace('audio/', '')}`).join('\\n') || '- Ningn archivo de audio especificado'}\r\n\r\nDisfruta creando tu novela visual!\r\n`;\r\n  }\r\n\r\n  // Exportar solo el script como archivo .rpy\r\n  async exportScript(project) {\r\n    try {\r\n      const scriptContent = await this.generator.generateScriptFile(project);\r\n      const blob = new Blob([scriptContent], { type: 'text/plain' });\r\n      const fileName = `${project.name.replace(/\\s+/g, '_')}_script.rpy`;\r\n      saveAs(blob, fileName);\r\n      return fileName;\r\n    } catch (error) {\r\n      console.error('Error al exportar el script:', error);\r\n      throw new Error(`Error al exportar el script: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  // Exportar archivo de escena especfico\r\n  async exportSelectedScript(project, sceneFileId) {\r\n    try {\r\n      const sceneFile = project.sceneFiles.find(file => file.id === sceneFileId);\r\n      if (!sceneFile) {\r\n        throw new Error('Archivo de escena no encontrado');\r\n      }\r\n\r\n      let scriptContent;\r\n      if (sceneFile.isMain) {\r\n        // Si es el archivo principal, generar como script principal\r\n        scriptContent = await this.generator.generateScriptFile(project);\r\n      } else {\r\n        // Si es un archivo de escena, generar solo ese archivo\r\n        scriptContent = await this.generator.generateSceneFile(sceneFile);\r\n      }\r\n\r\n      const blob = new Blob([scriptContent], { type: 'text/plain' });\r\n      const fileName = sceneFile.name || `${sceneFile.displayName.replace(/\\s+/g, '_')}.rpy`;\r\n      saveAs(blob, fileName);\r\n      return fileName;\r\n    } catch (error) {\r\n      console.error('Error al exportar el script seleccionado:', error);\r\n      throw new Error(`Error al exportar el script seleccionado: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  // Exportar configuracin como archivo .rpy\r\n  exportOptions(project) {\r\n    const optionsContent = this.generator.generateOptions(project);\r\n    const blob = new Blob([optionsContent], { type: 'text/plain' });\r\n    const fileName = `${project.name.replace(/\\s+/g, '_')}_options.rpy`;\r\n    saveAs(blob, fileName);\r\n    return fileName;\r\n  }\r\n\r\n  // Validar proyecto antes de exportar\r\n  validateProject(project) {\r\n    const errors = [];\r\n    const warnings = [];\r\n\r\n    // Validaciones obligatorias\r\n    if (!project.name || project.name.trim() === '') {\r\n      errors.push('El nombre del proyecto es obligatorio');\r\n    }\r\n\r\n    if (!project.version || project.version.trim() === '') {\r\n      errors.push('La versin del proyecto es obligatoria');\r\n    }\r\n\r\n    // Validaciones de personajes\r\n    const characterIds = new Set();\r\n    project.characters.forEach((character, index) => {\r\n      if (!character.id || character.id.trim() === '') {\r\n        errors.push(`Personaje ${index + 1}: ID es obligatorio`);\r\n      } else if (characterIds.has(character.id)) {\r\n        errors.push(`Personaje ${index + 1}: ID duplicado \"${character.id}\"`);\r\n      } else {\r\n        characterIds.add(character.id);\r\n      }\r\n\r\n      if (!character.name || character.name.trim() === '') {\r\n        errors.push(`Personaje ${index + 1}: Nombre es obligatorio`);\r\n      }\r\n    });\r\n\r\n    // Validaciones de script\r\n    project.script.forEach((element, index) => {\r\n      if (element.type === 'dialogue' && !element.text) {\r\n        errors.push(`Elemento ${index + 1}: Texto de dilogo es obligatorio`);\r\n      }\r\n\r\n      if (element.type === 'dialogue' && element.character && !characterIds.has(element.character)) {\r\n        warnings.push(`Elemento ${index + 1}: Personaje \"${element.character}\" no est definido`);\r\n      }\r\n    });\r\n\r\n    return {\r\n      isValid: errors.length === 0,\r\n      errors,\r\n      warnings\r\n    };\r\n  }\r\n\r\n  // Agregar archivos al ZIP\r\n  async addFilesToZip(zip) {\r\n    try {\r\n      console.log(' Iniciando addFilesToZip...');\r\n      \r\n      // Obtener todos los archivos del FileManager\r\n      const allFiles = this.fileManager.getAllFiles();\r\n      console.log(' Archivos encontrados en FileManager:', allFiles.length);\r\n      \r\n      if (!allFiles || allFiles.length === 0) {\r\n        console.log(' No hay archivos para agregar al ZIP');\r\n        return;\r\n      }\r\n      \r\n      // Organizar archivos por carpeta\r\n      const folders = {};\r\n      allFiles.forEach((file, index) => {\r\n        try {\r\n          console.log(` Procesando archivo ${index + 1}:`, file);\r\n          \r\n          // Validar que el archivo tenga los datos necesarios\r\n          if (!file) {\r\n            console.warn(` Archivo ${index + 1} es null o undefined`);\r\n            return;\r\n          }\r\n          \r\n          if (!file.name) {\r\n            console.warn(` Archivo ${index + 1} no tiene nombre`);\r\n            return;\r\n          }\r\n          \r\n          if (!file.url && !file.hasData) {\r\n            console.warn(` Archivo ${index + 1} (${file.name}) no tiene datos (URL: ${file.url}, hasData: ${file.hasData})`);\r\n            return;\r\n          }\r\n          \r\n          // Determinar la ruta de la carpeta\r\n          const folderPath = file.folderPath || `game/images/${file.category || 'general'}`;\r\n          console.log(` Carpeta para ${file.name}: ${folderPath}`);\r\n          \r\n          if (!folders[folderPath]) {\r\n            folders[folderPath] = [];\r\n          }\r\n          folders[folderPath].push(file);\r\n          \r\n        } catch (error) {\r\n          console.error(` Error procesando archivo ${index + 1}:`, error);\r\n        }\r\n      });\r\n      \r\n      console.log(' Carpetas organizadas:', Object.keys(folders));\r\n      \r\n      // Agregar archivos al ZIP con estructura Ren'Py\r\n      for (const [folderPath, files] of Object.entries(folders)) {\r\n        try {\r\n          console.log(` Procesando carpeta: ${folderPath} (${files.length} archivos)`);\r\n          const folder = zip.folder(folderPath);\r\n          \r\n          for (const fileData of files) {\r\n            try {\r\n              console.log(` Agregando archivo: ${fileData.name}`);\r\n              \r\n              // Validar URL\r\n              if (!fileData.url || typeof fileData.url !== 'string') {\r\n                console.warn(` URL invlida para ${fileData.name}:`, fileData.url);\r\n                continue;\r\n              }\r\n              \r\n              // Verificar si es una data URL\r\n              if (!fileData.url.startsWith('data:')) {\r\n                console.warn(` URL no es data URL para ${fileData.name}:`, fileData.url);\r\n                continue;\r\n              }\r\n              \r\n              // Extraer datos base64 de la data URL\r\n              const urlParts = fileData.url.split(',');\r\n              if (urlParts.length < 2) {\r\n                console.warn(` Data URL malformada para ${fileData.name}`);\r\n                continue;\r\n              }\r\n              \r\n              const base64Data = urlParts[1];\r\n              if (!base64Data) {\r\n                console.warn(` No hay datos base64 para ${fileData.name}`);\r\n                continue;\r\n              }\r\n              \r\n              // Convertir base64 a bytes\r\n              const binaryData = atob(base64Data);\r\n              const bytes = new Uint8Array(binaryData.length);\r\n              for (let i = 0; i < binaryData.length; i++) {\r\n                bytes[i] = binaryData.charCodeAt(i);\r\n              }\r\n              \r\n              // Agregar archivo al ZIP\r\n              folder.file(fileData.name, bytes);\r\n              console.log(` Archivo agregado: ${folderPath}/${fileData.name}`);\r\n              \r\n            } catch (error) {\r\n              console.error(` Error agregando archivo ${fileData.name}:`, error);\r\n            }\r\n          }\r\n          \r\n        } catch (error) {\r\n          console.error(` Error procesando carpeta ${folderPath}:`, error);\r\n        }\r\n      }\r\n      \r\n      console.log(' addFilesToZip completado exitosamente');\r\n      \r\n    } catch (error) {\r\n      console.error(' Error en addFilesToZip:', error);\r\n      throw new Error(`Error al agregar archivos al ZIP: ${error.message}`);\r\n    }\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst InfoContainer = styled.div`\r\n  background: rgba(23, 162, 184, 0.1);\r\n  border: 1px solid rgba(23, 162, 184, 0.3);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin: 16px 0;\r\n`;\r\n\r\nconst InfoTitle = styled.h4`\r\n  color: var(--color-info);\r\n  font-size: 16px;\r\n  margin: 0 0 12px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst InfoList = styled.ul`\r\n  margin: 0;\r\n  padding-left: 20px;\r\n  color: #cccccc;\r\n  font-size: 14px;\r\n  line-height: 1.6;\r\n`;\r\n\r\nconst InfoItem = styled.li`\r\n  margin-bottom: 8px;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst Highlight = styled.span`\r\n  color: #4a9eff;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst CodeBlock = styled.code`\r\n  background: rgba(0, 0, 0, 0.3);\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 12px;\r\n  color: #ffffff;\r\n`;\r\n\r\nfunction BackupInfo() {\r\n  return (\r\n    <InfoContainer>\r\n      <InfoTitle>\r\n         Informacin sobre archivos .ryn\r\n      </InfoTitle>\r\n      <InfoList>\r\n        <InfoItem>\r\n          <Highlight>Archivo completo:</Highlight> Contiene todo el proyecto con archivos multimedia\r\n        </InfoItem>\r\n        <InfoItem>\r\n          <Highlight>Formato ZIP:</Highlight> Archivo comprimido con estructura organizada\r\n        </InfoItem>\r\n        <InfoItem>\r\n          <Highlight>Metadatos:</Highlight> Informacin del proyecto, versin y fecha de exportacin\r\n        </InfoItem>\r\n        <InfoItem>\r\n          <Highlight>Estado del editor:</Highlight> Configuracin, pestaas activas y preferencias\r\n        </InfoItem>\r\n        <InfoItem>\r\n          <Highlight>Archivos multimedia:</Highlight> Imgenes, videos y audio organizados por categora\r\n        </InfoItem>\r\n        <InfoItem>\r\n          <Highlight>Scripts Ren'Py:</Highlight> Cdigo generado para referencia\r\n        </InfoItem>\r\n        <InfoItem>\r\n          <Highlight>Verificacin:</Highlight> Checksum para verificar integridad del archivo\r\n        </InfoItem>\r\n        <InfoItem>\r\n          <Highlight>Portabilidad:</Highlight> Funciona en cualquier instalacin de RynEditor\r\n        </InfoItem>\r\n      </InfoList>\r\n      \r\n      <div style={{ marginTop: '16px', fontSize: '12px', color: '#aaaaaa' }}>\r\n        <strong>Estructura del archivo .ryn:</strong>\r\n        <br />\r\n        <CodeBlock>metadata.json</CodeBlock> - Informacin del proyecto\r\n        <br />\r\n        <CodeBlock>editor_state.json</CodeBlock> - Estado completo del editor\r\n        <br />\r\n        <CodeBlock>media/</CodeBlock> - Archivos multimedia organizados\r\n        <br />\r\n        <CodeBlock>renpy/</CodeBlock> - Scripts Ren'Py generados\r\n        <br />\r\n        <CodeBlock>verification.json</CodeBlock> - Verificacin de integridad\r\n      </div>\r\n    </InfoContainer>\r\n  );\r\n}\r\n\r\nexport default BackupInfo;\r\n","import React, { useState, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport { RynBackupManager } from '../utils/rynBackupManager';\r\nimport { ProjectExporter } from '../utils/projectExporter';\r\nimport BackupInfo from './BackupInfo';\r\n\r\n// Componentes estilizados\r\nconst BackupContainer = styled.div`\r\n  background: var(--color-gradientSecondary);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  margin: 20px 0;\r\n  border: 1px solid var(--color-border);\r\n  box-shadow: 0 8px 32px var(--color-shadowStrong);\r\n  transition: background 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst BackupTitle = styled.h2`\r\n  color: var(--color-textPrimary);\r\n  font-size: 24px;\r\n  margin-bottom: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst BackupSubtitle = styled.p`\r\n  color: var(--color-textSecondary);\r\n  font-size: 14px;\r\n  margin-bottom: 24px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst BackupSection = styled.div`\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  color: var(--color-primary);\r\n  font-size: 18px;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst BackupButton = styled.button`\r\n  background: linear-gradient(135deg, #4a9eff 0%, #3a8eef 100%);\r\n  color: #ffffff;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  min-width: 140px;\r\n  justify-content: center;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 25px rgba(74, 158, 255, 0.3);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nconst RestoreButton = styled(BackupButton)`\r\n  background: linear-gradient(135deg, #28a745 0%, #218838 100%);\r\n  \r\n  &:hover {\r\n    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);\r\n  }\r\n`;\r\n\r\nconst ImportButton = styled(BackupButton)`\r\n  background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);\r\n  color: #333;\r\n  \r\n  &:hover {\r\n    box-shadow: 0 8px 25px rgba(255, 193, 7, 0.3);\r\n  }\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  display: none;\r\n`;\r\n\r\nconst StatusMessage = styled.div`\r\n  padding: 12px 16px;\r\n  border-radius: 8px;\r\n  margin-top: 16px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst SuccessMessage = styled(StatusMessage)`\r\n  background: rgba(40, 167, 69, 0.1);\r\n  border: 1px solid rgba(40, 167, 69, 0.3);\r\n  color: #28a745;\r\n`;\r\n\r\nconst ErrorMessage = styled(StatusMessage)`\r\n  background: rgba(220, 53, 69, 0.1);\r\n  border: 1px solid rgba(220, 53, 69, 0.3);\r\n  color: #dc3545;\r\n`;\r\n\r\nconst InfoMessage = styled(StatusMessage)`\r\n  background: rgba(23, 162, 184, 0.1);\r\n  border: 1px solid rgba(23, 162, 184, 0.3);\r\n  color: #17a2b8;\r\n`;\r\n\r\nconst ProjectInfo = styled.div`\r\n  background: rgba(74, 158, 255, 0.1);\r\n  border: 1px solid rgba(74, 158, 255, 0.3);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst InfoRow = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst InfoLabel = styled.span`\r\n  color: #cccccc;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst InfoValue = styled.span`\r\n  color: #ffffff;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100%;\r\n  height: 8px;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  margin: 12px 0;\r\n`;\r\n\r\nconst ProgressFill = styled.div`\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #4a9eff, #3a8eef);\r\n  width: ${props => props.progress}%;\r\n  transition: width 0.3s ease;\r\n`;\r\n\r\nfunction BackupManager() {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const [isExporting, setIsExporting] = useState(false);\r\n  const [isImporting, setIsImporting] = useState(false);\r\n  const [statusMessage, setStatusMessage] = useState(null);\r\n  const [exportProgress, setExportProgress] = useState(0);\r\n  const fileInputRef = useRef(null);\r\n  const backupManager = new RynBackupManager();\r\n  const projectExporter = new ProjectExporter();\r\n\r\n  // Exportar proyecto como .ryn\r\n  const handleExportProject = async () => {\r\n    try {\r\n      setIsExporting(true);\r\n      setStatusMessage({ type: 'info', text: ' Preparando exportacin...' });\r\n      setExportProgress(10);\r\n\r\n      setExportProgress(30);\r\n      setStatusMessage({ type: 'info', text: ' Empaquetando proyecto...' });\r\n\r\n      // Usar el ProjectExporter para exportar como .ryn\r\n      const filename = await projectExporter.exportProjectAsRyn(state.project, state);\r\n      \r\n      setExportProgress(70);\r\n      setStatusMessage({ type: 'info', text: ' Generando archivo .ryn...' });\r\n\r\n      setExportProgress(100);\r\n      setStatusMessage({ \r\n        type: 'success', \r\n        text: ` Proyecto exportado exitosamente: ${filename}` \r\n      });\r\n    } catch (error) {\r\n      setStatusMessage({ \r\n        type: 'error', \r\n        text: ` Error inesperado: ${error.message}` \r\n      });\r\n    } finally {\r\n      setIsExporting(false);\r\n      setTimeout(() => setExportProgress(0), 2000);\r\n    }\r\n  };\r\n\r\n  // Importar proyecto desde .ryn\r\n  const handleImportProject = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const handleFileSelected = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (!file.name.endsWith('.ryn')) {\r\n      setStatusMessage({ \r\n        type: 'error', \r\n        text: ' Por favor selecciona un archivo .ryn vlido' \r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsImporting(true);\r\n      setStatusMessage({ type: 'info', text: ' Cargando archivo .ryn...' });\r\n\r\n      const result = await backupManager.importProjectFromRyn(file);\r\n      \r\n      if (result.success) {\r\n        setStatusMessage({ \r\n          type: 'success', \r\n          text: ` Proyecto importado exitosamente: ${result.metadata.projectName}` \r\n        });\r\n\r\n        // Restaurar estado completo\r\n        dispatch({\r\n          type: 'LOAD_FULL_STATE',\r\n          payload: result.fullState\r\n        });\r\n\r\n        // Restaurar archivos multimedia\r\n        if (result.mediaFiles) {\r\n          // Aqu se restauraran los archivos multimedia\r\n          console.log('Archivos multimedia restaurados:', result.mediaFiles);\r\n        }\r\n      } else {\r\n        setStatusMessage({ \r\n          type: 'error', \r\n          text: ` Error al importar: ${result.error}` \r\n        });\r\n      }\r\n    } catch (error) {\r\n      setStatusMessage({ \r\n        type: 'error', \r\n        text: ` Error inesperado: ${error.message}` \r\n      });\r\n    } finally {\r\n      setIsImporting(false);\r\n    }\r\n  };\r\n\r\n  // Obtener informacin del proyecto\r\n  const getProjectInfo = () => {\r\n    const characters = state.project.characters?.length || 0;\r\n    const sceneFiles = state.project.sceneFiles?.length || 0;\r\n    const totalElements = state.project.sceneFiles?.reduce((total, file) => total + (file.elements?.length || 0), 0) || 0;\r\n    const variables = state.project.variables?.length || 0;\r\n    const flags = state.project.flags?.length || 0;\r\n\r\n    return { characters, sceneFiles, totalElements, variables, flags };\r\n  };\r\n\r\n  const projectInfo = getProjectInfo();\r\n\r\n  return (\r\n    <BackupContainer>\r\n      <BackupTitle>\r\n         Sistema de Backup .ryn\r\n      </BackupTitle>\r\n      <BackupSubtitle>\r\n        Guarda y restaura tus proyectos completos con todos los archivos multimedia\r\n      </BackupSubtitle>\r\n\r\n      {/* Informacin del proyecto actual */}\r\n      <BackupSection>\r\n        <SectionTitle> Informacin del Proyecto Actual</SectionTitle>\r\n        <ProjectInfo>\r\n          <InfoRow>\r\n            <InfoLabel>Nombre:</InfoLabel>\r\n            <InfoValue>{state.project.name}</InfoValue>\r\n          </InfoRow>\r\n          <InfoRow>\r\n            <InfoLabel>Versin:</InfoLabel>\r\n            <InfoValue>{state.project.version}</InfoValue>\r\n          </InfoRow>\r\n          <InfoRow>\r\n            <InfoLabel>Personajes:</InfoLabel>\r\n            <InfoValue>{projectInfo.characters}</InfoValue>\r\n          </InfoRow>\r\n          <InfoRow>\r\n            <InfoLabel>Archivos de escena:</InfoLabel>\r\n            <InfoValue>{projectInfo.sceneFiles}</InfoValue>\r\n          </InfoRow>\r\n          <InfoRow>\r\n            <InfoLabel>Elementos de script:</InfoLabel>\r\n            <InfoValue>{projectInfo.totalElements}</InfoValue>\r\n          </InfoRow>\r\n          <InfoRow>\r\n            <InfoLabel>Variables:</InfoLabel>\r\n            <InfoValue>{projectInfo.variables}</InfoValue>\r\n          </InfoRow>\r\n          <InfoRow>\r\n            <InfoLabel>Flags:</InfoLabel>\r\n            <InfoValue>{projectInfo.flags}</InfoValue>\r\n          </InfoRow>\r\n        </ProjectInfo>\r\n      </BackupSection>\r\n\r\n      {/* Exportar proyecto */}\r\n      <BackupSection>\r\n        <SectionTitle> Exportar Proyecto</SectionTitle>\r\n        <ButtonGroup>\r\n          <BackupButton \r\n            onClick={handleExportProject}\r\n            disabled={isExporting || isImporting}\r\n          >\r\n            {isExporting ? ' Exportando...' : ' Exportar como .ryn'}\r\n          </BackupButton>\r\n        </ButtonGroup>\r\n        \r\n        {isExporting && (\r\n          <ProgressBar>\r\n            <ProgressFill progress={exportProgress} />\r\n          </ProgressBar>\r\n        )}\r\n      </BackupSection>\r\n\r\n      {/* Importar proyecto */}\r\n      <BackupSection>\r\n        <SectionTitle> Importar Proyecto</SectionTitle>\r\n        <ButtonGroup>\r\n          <ImportButton \r\n            onClick={handleImportProject}\r\n            disabled={isExporting || isImporting}\r\n          >\r\n            {isImporting ? ' Importando...' : ' Seleccionar archivo .ryn'}\r\n          </ImportButton>\r\n        </ButtonGroup>\r\n        \r\n        <FileInput\r\n          ref={fileInputRef}\r\n          type=\"file\"\r\n          accept=\".ryn\"\r\n          onChange={handleFileSelected}\r\n        />\r\n      </BackupSection>\r\n\r\n      {/* Mensajes de estado */}\r\n      {statusMessage && (\r\n        <>\r\n          {statusMessage.type === 'success' && (\r\n            <SuccessMessage>\r\n              {statusMessage.text}\r\n            </SuccessMessage>\r\n          )}\r\n          {statusMessage.type === 'error' && (\r\n            <ErrorMessage>\r\n              {statusMessage.text}\r\n            </ErrorMessage>\r\n          )}\r\n          {statusMessage.type === 'info' && (\r\n            <InfoMessage>\r\n              {statusMessage.text}\r\n            </InfoMessage>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Informacin sobre archivos .ryn */}\r\n      <BackupInfo />\r\n    </BackupContainer>\r\n  );\r\n}\r\n\r\nexport default BackupManager;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { useVisualNovel } from '../../context/VisualNovelContext';\r\nimport BackupManager from '../BackupManager';\r\n\r\nconst PanelContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n`;\r\n\r\nconst Section = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  margin: 0 0 12px 0;\r\n  font-size: 14px;\r\n  color: var(--color-primary);\r\n  border-bottom: 1px solid var(--color-border);\r\n  padding-bottom: 8px;\r\n  transition: color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 4px;\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  background-color: var(--color-border);\r\n  border: 1px solid var(--color-borderSecondary);\r\n  color: var(--color-textPrimary);\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  width: 100%;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  min-height: 80px;\r\n  resize: vertical;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst StatsContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 8px;\r\n`;\r\n\r\nconst StatsRow = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr;\r\n  gap: 6px;\r\n  margin-bottom: 8px;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst StatItem = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  padding: 8px;\r\n  border-radius: 6px;\r\n  text-align: center;\r\n  min-height: 60px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-border);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst StatValue = styled.div`\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: var(--color-primary);\r\n  line-height: 1.2;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst StatLabel = styled.div`\r\n  font-size: 10px;\r\n  color: var(--color-textSecondary);\r\n  margin-top: 4px;\r\n  line-height: 1.2;\r\n  word-wrap: break-word;\r\n  overflow-wrap: break-word;\r\n  hyphens: auto;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nfunction ProjectPanel() {\r\n  const { state, dispatch } = useVisualNovel();\r\n  \r\n  // Calcular estadsticas en tiempo real\r\n  const getProjectStats = () => {\r\n    const characters = state.project.characters?.length || 0;\r\n    const sceneFiles = state.project.sceneFiles?.length || 0;\r\n    const totalElements = state.project.sceneFiles?.reduce((total, file) => total + (file.elements?.length || 0), 0) || 0;\r\n    const dialogues = state.project.sceneFiles?.reduce((total, file) => \r\n      total + (file.elements?.filter(el => el.type === 'dialogue').length || 0), 0) || 0;\r\n    const choices = state.project.sceneFiles?.reduce((total, file) => \r\n      total + (file.elements?.filter(el => el.type === 'choice').length || 0), 0) || 0;\r\n    const sceneChanges = state.project.sceneFiles?.reduce((total, file) => \r\n      total + (file.elements?.filter(el => el.type === 'scene').length || 0), 0) || 0;\r\n    const variables = state.project.variables?.length || 0;\r\n    const flags = state.project.flags?.length || 0;\r\n    \r\n    return {\r\n      characters,\r\n      sceneFiles,\r\n      totalElements,\r\n      dialogues,\r\n      choices,\r\n      sceneChanges,\r\n      variables,\r\n      flags\r\n    };\r\n  };\r\n  \r\n  const stats = getProjectStats();\r\n\r\n  // Obtener informacin del estado actual del proyecto\r\n  const getProjectStatus = () => {\r\n    const currentSceneFile = state.project.sceneFiles?.find(file => \r\n      file.id === state.project.currentSceneFile\r\n    );\r\n    \r\n    const lastModified = state.project.lastModified ? \r\n      new Date(state.project.lastModified).toLocaleString() : \r\n      'No disponible';\r\n    \r\n    const autoSaveStatus = state.autoSaveEnabled ? 'Activo' : 'Inactivo';\r\n    \r\n    const currentElement = state.selectedElement ? \r\n      `${state.selectedElement.type} (lnea ${state.selectedElementIndex + 1})` : \r\n      'Ninguno';\r\n    \r\n    return {\r\n      currentSceneFile: currentSceneFile?.displayName || 'Ninguna',\r\n      currentSceneFileId: currentSceneFile?.id || null,\r\n      lastModified,\r\n      autoSaveStatus,\r\n      currentElement,\r\n      totalSceneFiles: state.project.sceneFiles?.length || 0,\r\n      currentSceneFileElements: currentSceneFile?.elements?.length || 0\r\n    };\r\n  };\r\n  \r\n  const projectStatus = getProjectStatus();\r\n\r\n  const handleAuthorChange = (e) => {\r\n    dispatch({\r\n      type: 'SET_PROJECT_AUTHOR',\r\n      payload: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleDescriptionChange = (e) => {\r\n    dispatch({\r\n      type: 'SET_PROJECT_DESCRIPTION',\r\n      payload: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleVersionChange = (e) => {\r\n    dispatch({\r\n      type: 'SET_PROJECT_VERSION',\r\n      payload: e.target.value\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PanelContainer>\r\n      <Section>\r\n        <SectionTitle>Informacin del Proyecto</SectionTitle>\r\n        \r\n        <FormGroup>\r\n          <Label>Autor</Label>\r\n          <Input\r\n            value={state.project.author}\r\n            onChange={handleAuthorChange}\r\n            placeholder=\"Nombre del autor\"\r\n          />\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Versin</Label>\r\n          <Input\r\n            value={state.project.version}\r\n            onChange={handleVersionChange}\r\n            placeholder=\"1.0.0\"\r\n          />\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Descripcin</Label>\r\n          <TextArea\r\n            value={state.project.description}\r\n            onChange={handleDescriptionChange}\r\n            placeholder=\"Descripcin de la novela visual...\"\r\n          />\r\n        </FormGroup>\r\n      </Section>\r\n\r\n      <Section>\r\n        <SectionTitle>\r\n           Estadsticas del Proyecto\r\n          <span style={{ \r\n            fontSize: '10px', \r\n            color: 'var(--color-primary)', \r\n            marginLeft: '8px',\r\n            fontWeight: 'normal'\r\n          }}>\r\n            (Actualizacin en tiempo real)\r\n          </span>\r\n        </SectionTitle>\r\n        <StatsRow>\r\n          <StatItem>\r\n            <StatValue>{stats.characters}</StatValue>\r\n            <StatLabel>Personajes</StatLabel>\r\n          </StatItem>\r\n          <StatItem>\r\n            <StatValue>{stats.sceneFiles}</StatValue>\r\n            <StatLabel>Archivos de Escena</StatLabel>\r\n          </StatItem>\r\n          <StatItem>\r\n            <StatValue>{stats.totalElements}</StatValue>\r\n            <StatLabel>Elementos</StatLabel>\r\n          </StatItem>\r\n          <StatItem>\r\n            <StatValue>{stats.dialogues}</StatValue>\r\n            <StatLabel>Dilogos</StatLabel>\r\n          </StatItem>\r\n        </StatsRow>\r\n        <StatsRow>\r\n          <StatItem>\r\n            <StatValue>{stats.choices}</StatValue>\r\n            <StatLabel>Decisiones</StatLabel>\r\n          </StatItem>\r\n          <StatItem>\r\n            <StatValue>{stats.sceneChanges}</StatValue>\r\n            <StatLabel>Cambios de Escena</StatLabel>\r\n          </StatItem>\r\n          <StatItem>\r\n            <StatValue>{stats.variables}</StatValue>\r\n            <StatLabel>Variables</StatLabel>\r\n          </StatItem>\r\n          <StatItem>\r\n            <StatValue>{stats.flags}</StatValue>\r\n            <StatLabel>Flags</StatLabel>\r\n          </StatItem>\r\n        </StatsRow>\r\n      </Section>\r\n\r\n      <Section>\r\n        <SectionTitle>\r\n           Estado del Proyecto\r\n          <span style={{ \r\n            fontSize: '10px', \r\n            color: 'var(--color-primary)', \r\n            marginLeft: '8px',\r\n            fontWeight: 'normal'\r\n          }}>\r\n            (Sincronizado en tiempo real)\r\n          </span>\r\n        </SectionTitle>\r\n        <div style={{ fontSize: '12px', color: 'var(--color-textSecondary)', lineHeight: '1.6' }}>\r\n          <div style={{ marginBottom: '8px', padding: '8px', backgroundColor: 'var(--color-border)', borderRadius: '4px' }}>\r\n            <strong style={{ color: 'var(--color-primary)' }}> Modo de Trabajo:</strong> {state.previewMode ? 'Vista Previa' : 'Edicin'}\r\n          </div>\r\n          \r\n          <div style={{ marginBottom: '8px', padding: '8px', backgroundColor: 'var(--color-border)', borderRadius: '4px' }}>\r\n            <strong style={{ color: 'var(--color-primary)' }}> Archivo de Escena Actual:</strong> {projectStatus.currentSceneFile}\r\n            {projectStatus.currentSceneFileElements > 0 && (\r\n              <span style={{ color: 'var(--color-success)', marginLeft: '8px' }}>\r\n                ({projectStatus.currentSceneFileElements} elementos)\r\n              </span>\r\n            )}\r\n          </div>\r\n          \r\n          <div style={{ marginBottom: '8px', padding: '8px', backgroundColor: 'var(--color-border)', borderRadius: '4px' }}>\r\n            <strong style={{ color: 'var(--color-primary)' }}> Elemento Seleccionado:</strong> {projectStatus.currentElement}\r\n          </div>\r\n          \r\n          <div style={{ marginBottom: '8px', padding: '8px', backgroundColor: 'var(--color-border)', borderRadius: '4px' }}>\r\n            <strong style={{ color: 'var(--color-primary)' }}> Auto-guardado:</strong> \r\n            <span style={{ color: projectStatus.autoSaveStatus === 'Activo' ? 'var(--color-success)' : 'var(--color-error)', marginLeft: '8px' }}>\r\n              {projectStatus.autoSaveStatus}\r\n            </span>\r\n          </div>\r\n          \r\n          <div style={{ marginBottom: '8px', padding: '8px', backgroundColor: 'var(--color-border)', borderRadius: '4px' }}>\r\n            <strong style={{ color: 'var(--color-primary)' }}> ltima Modificacin:</strong> {projectStatus.lastModified}\r\n          </div>\r\n          \r\n          <div style={{ padding: '8px', backgroundColor: 'var(--color-border)', borderRadius: '4px' }}>\r\n            <strong style={{ color: 'var(--color-primary)' }}> Progreso del Proyecto:</strong> \r\n            <span style={{ marginLeft: '8px' }}>\r\n              {projectStatus.totalSceneFiles} archivos de escena, {stats.totalElements} elementos totales\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </Section>\r\n\r\n      {/* Sistema de Backup .ryn */}\r\n      <BackupManager />\r\n    </PanelContainer>\r\n  );\r\n}\r\n\r\nexport default ProjectPanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useVisualNovel } from '../../context/VisualNovelContext';\r\n\r\nconst PanelContainer = styled.div`\r\n  padding: 20px;\r\n  background-color: var(--color-surface);\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  color: var(--color-primary);\r\n  margin-bottom: 15px;\r\n  font-size: 16px;\r\n  border-bottom: 1px solid var(--color-border);\r\n  padding-bottom: 8px;\r\n  transition: color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  color: var(--color-textPrimary);\r\n  margin-bottom: 5px;\r\n  font-size: 14px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 8px;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: 8px;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  width: 100%;\r\n  padding: 8px;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  min-height: 80px;\r\n  resize: vertical;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst ColorInput = styled.input`\r\n  width: 60px;\r\n  height: 30px;\r\n  padding: 0;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n  align-items: center;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background-color: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  border: 1px solid var(--color-primary);\r\n  padding: 10px 18px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin-right: 10px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primaryHover);\r\n    border-color: var(--color-primaryHover);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n\r\n  &.secondary {\r\n    background-color: var(--color-border);\r\n    border-color: var(--color-border);\r\n    \r\n    &:hover {\r\n      background-color: var(--color-borderSecondary);\r\n      border-color: var(--color-borderSecondary);\r\n    }\r\n  }\r\n`;\r\n\r\nconst CheckboxContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst Checkbox = styled.input`\r\n  width: 16px;\r\n  height: 16px;\r\n`;\r\n\r\nconst InfoText = styled.p`\r\n  color: var(--color-textTertiary);\r\n  font-size: 12px;\r\n  margin-top: 5px;\r\n  font-style: italic;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nfunction AdvancedConfigPanel() {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const [config, setConfig] = useState({\r\n    // Configuracin bsica\r\n    name: state.name || '',\r\n    version: state.version || '1.0',\r\n    author: state.author || '',\r\n    description: state.description || '',\r\n    \r\n    // Configuracin de pantalla\r\n    screenWidth: 1280,\r\n    screenHeight: 720,\r\n    \r\n    // Colores de interfaz\r\n    accentColor: '#0099cc',\r\n    idleColor: '#888888',\r\n    hoverColor: '#66c1e0',\r\n    selectedColor: '#ffffff',\r\n    textColor: '#ffffff',\r\n    \r\n    // Fuentes\r\n    textFont: 'DejaVuSans.ttf',\r\n    nameFont: 'DejaVuSans.ttf',\r\n    interfaceFont: 'DejaVuSans.ttf',\r\n    \r\n    // Tamaos de texto\r\n    textSize: 22,\r\n    nameTextSize: 30,\r\n    interfaceTextSize: 22,\r\n    \r\n    // Configuracin de dilogo\r\n    textboxHeight: 185,\r\n    textboxYAlign: 1.0,\r\n    nameXPos: 240,\r\n    nameYPos: 0,\r\n    dialogueXPos: 268,\r\n    dialogueYPos: 50,\r\n    dialogueWidth: 744,\r\n    \r\n    // Configuracin de botones\r\n    buttonWidth: null,\r\n    buttonHeight: null,\r\n    choiceButtonWidth: 790,\r\n    \r\n    // Configuracin de audio\r\n    hasSound: true,\r\n    hasMusic: true,\r\n    hasVoice: true,\r\n    \r\n    // Transiciones\r\n    enterTransition: 'dissolve',\r\n    exitTransition: 'dissolve',\r\n    intraTransition: 'dissolve',\r\n    \r\n    // Configuracin de ventana\r\n    windowMode: 'auto',\r\n    \r\n    // Configuracin de historial\r\n    historyLength: 250,\r\n    historyHeight: 140,\r\n    \r\n    // Configuracin de guardado\r\n    saveDirectory: '',\r\n    thumbnailWidth: 256,\r\n    thumbnailHeight: 144,\r\n    fileSlotCols: 3,\r\n    fileSlotRows: 2,\r\n    \r\n    // Configuracin de idioma\r\n    language: 'unicode',\r\n    \r\n    // Configuracin de build\r\n    buildName: '',\r\n    googlePlayKey: '',\r\n    itchProject: ''\r\n  });\r\n\r\n  // Sincronizar el estado local con el estado del proyecto\r\n  useEffect(() => {\r\n    const projectConfig = state.project.advancedConfig || {};\r\n    const projectInfo = {\r\n      name: state.project.name || '',\r\n      version: state.project.version || '',\r\n      author: state.project.author || '',\r\n      description: state.project.description || ''\r\n    };\r\n    \r\n    setConfig(prev => ({\r\n      ...prev,\r\n      ...projectConfig,\r\n      ...projectInfo\r\n    }));\r\n  }, [state.project]);\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setConfig(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n    // Actualizar la configuracin avanzada\r\n    dispatch({\r\n      type: 'UPDATE_PROJECT_CONFIG',\r\n      payload: config\r\n    });\r\n    \r\n    // Actualizar la informacin bsica del proyecto\r\n    dispatch({\r\n      type: 'SET_PROJECT_NAME',\r\n      payload: config.name\r\n    });\r\n    \r\n    dispatch({\r\n      type: 'SET_PROJECT_VERSION',\r\n      payload: config.version\r\n    });\r\n    \r\n    dispatch({\r\n      type: 'SET_PROJECT_AUTHOR',\r\n      payload: config.author\r\n    });\r\n    \r\n    dispatch({\r\n      type: 'SET_PROJECT_DESCRIPTION',\r\n      payload: config.description\r\n    });\r\n    \r\n    alert('Configuracin guardada correctamente');\r\n  };\r\n\r\n  const handleReset = () => {\r\n    if (window.confirm('Ests seguro de que quieres resetear la configuracin a los valores por defecto?')) {\r\n      setConfig({\r\n        ...config,\r\n        screenWidth: 1280,\r\n        screenHeight: 720,\r\n        accentColor: '#0099cc',\r\n        idleColor: '#888888',\r\n        hoverColor: '#66c1e0',\r\n        selectedColor: '#ffffff',\r\n        textColor: '#ffffff',\r\n        textFont: 'DejaVuSans.ttf',\r\n        nameFont: 'DejaVuSans.ttf',\r\n        interfaceFont: 'DejaVuSans.ttf',\r\n        textSize: 22,\r\n        nameTextSize: 30,\r\n        interfaceTextSize: 22,\r\n        textboxHeight: 185,\r\n        textboxYAlign: 1.0,\r\n        nameXPos: 240,\r\n        nameYPos: 0,\r\n        dialogueXPos: 268,\r\n        dialogueYPos: 50,\r\n        dialogueWidth: 744,\r\n        buttonWidth: null,\r\n        buttonHeight: null,\r\n        choiceButtonWidth: 790,\r\n        hasSound: true,\r\n        hasMusic: true,\r\n        hasVoice: true,\r\n        enterTransition: 'dissolve',\r\n        exitTransition: 'dissolve',\r\n        intraTransition: 'dissolve',\r\n        windowMode: 'auto',\r\n        historyLength: 250,\r\n        historyHeight: 140,\r\n        saveDirectory: '',\r\n        thumbnailWidth: 256,\r\n        thumbnailHeight: 144,\r\n        fileSlotCols: 3,\r\n        fileSlotRows: 2,\r\n        language: 'unicode',\r\n        buildName: '',\r\n        googlePlayKey: '',\r\n        itchProject: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PanelContainer>\r\n      <SectionTitle>Configuracin Avanzada de Ren'Py</SectionTitle>\r\n      \r\n      {/* Configuracin Bsica */}\r\n      <SectionTitle>Informacin del Proyecto</SectionTitle>\r\n      <FormGroup>\r\n        <Label>Nombre del Juego:</Label>\r\n        <Input\r\n          type=\"text\"\r\n          value={config.name}\r\n          onChange={(e) => handleInputChange('name', e.target.value)}\r\n          placeholder=\"Nombre de tu novela visual\"\r\n        />\r\n      </FormGroup>\r\n      \r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Versin:</Label>\r\n          <Input\r\n            type=\"text\"\r\n            value={config.version}\r\n            onChange={(e) => handleInputChange('version', e.target.value)}\r\n            placeholder=\"1.0\"\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Autor:</Label>\r\n          <Input\r\n            type=\"text\"\r\n            value={config.author}\r\n            onChange={(e) => handleInputChange('author', e.target.value)}\r\n            placeholder=\"Tu nombre\"\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      <FormGroup>\r\n        <Label>Descripcin:</Label>\r\n        <TextArea\r\n          value={config.description}\r\n          onChange={(e) => handleInputChange('description', e.target.value)}\r\n          placeholder=\"Descripcin de tu novela visual\"\r\n        />\r\n      </FormGroup>\r\n      \r\n      {/* Configuracin de Pantalla */}\r\n      <SectionTitle>Configuracin de Pantalla</SectionTitle>\r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Ancho de Pantalla:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.screenWidth}\r\n            onChange={(e) => handleInputChange('screenWidth', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Alto de Pantalla:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.screenHeight}\r\n            onChange={(e) => handleInputChange('screenHeight', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      {/* Colores */}\r\n      <SectionTitle>Colores de Interfaz</SectionTitle>\r\n      <Row>\r\n        <FormGroup>\r\n          <Label>Color Principal:</Label>\r\n          <ColorInput\r\n            type=\"color\"\r\n            value={config.accentColor}\r\n            onChange={(e) => handleInputChange('accentColor', e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>Color Inactivo:</Label>\r\n          <ColorInput\r\n            type=\"color\"\r\n            value={config.idleColor}\r\n            onChange={(e) => handleInputChange('idleColor', e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>Color Hover:</Label>\r\n          <ColorInput\r\n            type=\"color\"\r\n            value={config.hoverColor}\r\n            onChange={(e) => handleInputChange('hoverColor', e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label>Color Seleccionado:</Label>\r\n          <ColorInput\r\n            type=\"color\"\r\n            value={config.selectedColor}\r\n            onChange={(e) => handleInputChange('selectedColor', e.target.value)}\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      {/* Fuentes */}\r\n      <SectionTitle>Fuentes</SectionTitle>\r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Fuente de Texto:</Label>\r\n          <Input\r\n            type=\"text\"\r\n            value={config.textFont}\r\n            onChange={(e) => handleInputChange('textFont', e.target.value)}\r\n            placeholder=\"DejaVuSans.ttf\"\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Fuente de Nombres:</Label>\r\n          <Input\r\n            type=\"text\"\r\n            value={config.nameFont}\r\n            onChange={(e) => handleInputChange('nameFont', e.target.value)}\r\n            placeholder=\"DejaVuSans.ttf\"\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      {/* Tamaos de Texto */}\r\n      <SectionTitle>Tamaos de Texto</SectionTitle>\r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Tamao de Texto:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.textSize}\r\n            onChange={(e) => handleInputChange('textSize', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Tamao de Nombres:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.nameTextSize}\r\n            onChange={(e) => handleInputChange('nameTextSize', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Tamao de Interfaz:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.interfaceTextSize}\r\n            onChange={(e) => handleInputChange('interfaceTextSize', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      {/* Configuracin de Dilogo */}\r\n      <SectionTitle>Configuracin de Dilogo</SectionTitle>\r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Altura de Caja de Texto:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.textboxHeight}\r\n            onChange={(e) => handleInputChange('textboxHeight', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Posicin Vertical (0.0-1.0):</Label>\r\n          <Input\r\n            type=\"number\"\r\n            step=\"0.1\"\r\n            min=\"0\"\r\n            max=\"1\"\r\n            value={config.textboxYAlign}\r\n            onChange={(e) => handleInputChange('textboxYAlign', parseFloat(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Posicin X del Nombre:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.nameXPos}\r\n            onChange={(e) => handleInputChange('nameXPos', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Posicin Y del Nombre:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.nameYPos}\r\n            onChange={(e) => handleInputChange('nameYPos', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Ancho del Dilogo:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.dialogueWidth}\r\n            onChange={(e) => handleInputChange('dialogueWidth', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      {/* Configuracin de Audio */}\r\n      <SectionTitle>Configuracin de Audio</SectionTitle>\r\n      <Row>\r\n        <CheckboxContainer>\r\n          <Checkbox\r\n            type=\"checkbox\"\r\n            checked={config.hasSound}\r\n            onChange={(e) => handleInputChange('hasSound', e.target.checked)}\r\n          />\r\n          <Label>Habilitar Sonidos</Label>\r\n        </CheckboxContainer>\r\n        <CheckboxContainer>\r\n          <Checkbox\r\n            type=\"checkbox\"\r\n            checked={config.hasMusic}\r\n            onChange={(e) => handleInputChange('hasMusic', e.target.checked)}\r\n          />\r\n          <Label>Habilitar Msica</Label>\r\n        </CheckboxContainer>\r\n        <CheckboxContainer>\r\n          <Checkbox\r\n            type=\"checkbox\"\r\n            checked={config.hasVoice}\r\n            onChange={(e) => handleInputChange('hasVoice', e.target.checked)}\r\n          />\r\n          <Label>Habilitar Voces</Label>\r\n        </CheckboxContainer>\r\n      </Row>\r\n      \r\n      {/* Transiciones */}\r\n      <SectionTitle>Transiciones</SectionTitle>\r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Transicin de Entrada:</Label>\r\n          <Select\r\n            value={config.enterTransition}\r\n            onChange={(e) => handleInputChange('enterTransition', e.target.value)}\r\n          >\r\n            <option value=\"dissolve\">Dissolve</option>\r\n            <option value=\"fade\">Fade</option>\r\n            <option value=\"pixellate\">Pixellate</option>\r\n            <option value=\"vpunch\">Vpunch</option>\r\n            <option value=\"hpunch\">Hpunch</option>\r\n            <option value=\"None\">None</option>\r\n          </Select>\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Transicin de Salida:</Label>\r\n          <Select\r\n            value={config.exitTransition}\r\n            onChange={(e) => handleInputChange('exitTransition', e.target.value)}\r\n          >\r\n            <option value=\"dissolve\">Dissolve</option>\r\n            <option value=\"fade\">Fade</option>\r\n            <option value=\"pixellate\">Pixellate</option>\r\n            <option value=\"vpunch\">Vpunch</option>\r\n            <option value=\"hpunch\">Hpunch</option>\r\n            <option value=\"None\">None</option>\r\n          </Select>\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      {/* Configuracin de Guardado */}\r\n      <SectionTitle>Configuracin de Guardado</SectionTitle>\r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Ancho de Miniatura:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.thumbnailWidth}\r\n            onChange={(e) => handleInputChange('thumbnailWidth', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Alto de Miniatura:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.thumbnailHeight}\r\n            onChange={(e) => handleInputChange('thumbnailHeight', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      <Row>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Columnas de Guardado:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.fileSlotCols}\r\n            onChange={(e) => handleInputChange('fileSlotCols', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup style={{ flex: 1 }}>\r\n          <Label>Filas de Guardado:</Label>\r\n          <Input\r\n            type=\"number\"\r\n            value={config.fileSlotRows}\r\n            onChange={(e) => handleInputChange('fileSlotRows', parseInt(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n      </Row>\r\n      \r\n      {/* Configuracin de Build */}\r\n      <SectionTitle>Configuracin de Build</SectionTitle>\r\n      <FormGroup>\r\n        <Label>Nombre de Build:</Label>\r\n        <Input\r\n          type=\"text\"\r\n          value={config.buildName}\r\n          onChange={(e) => handleInputChange('buildName', e.target.value)}\r\n          placeholder=\"Nombre para el ejecutable\"\r\n        />\r\n        <InfoText>Nombre breve para ejecutables y directorios (solo ASCII, sin espacios)</InfoText>\r\n      </FormGroup>\r\n      \r\n      <FormGroup>\r\n        <Label>Clave de Google Play (opcional):</Label>\r\n        <Input\r\n          type=\"text\"\r\n          value={config.googlePlayKey}\r\n          onChange={(e) => handleInputChange('googlePlayKey', e.target.value)}\r\n          placeholder=\"Clave para compras en Google Play\"\r\n        />\r\n      </FormGroup>\r\n      \r\n      <FormGroup>\r\n        <Label>Proyecto de Itch.io (opcional):</Label>\r\n        <Input\r\n          type=\"text\"\r\n          value={config.itchProject}\r\n          onChange={(e) => handleInputChange('itchProject', e.target.value)}\r\n          placeholder=\"usuario/proyecto\"\r\n        />\r\n        <InfoText>Formato: usuario/proyecto</InfoText>\r\n      </FormGroup>\r\n      \r\n      {/* Botones de Accin */}\r\n      <div style={{ marginTop: '20px', display: 'flex', gap: '10px' }}>\r\n        <Button onClick={handleSave}>\r\n          Guardar Configuracin\r\n        </Button>\r\n        <Button className=\"secondary\" onClick={handleReset}>\r\n          Resetear a Valores por Defecto\r\n        </Button>\r\n      </div>\r\n    </PanelContainer>\r\n  );\r\n}\r\n\r\nexport default AdvancedConfigPanel;\r\n","// Cliente WebSocket para colaboracin en tiempo real\r\nexport class CollaborationClient {\r\n  constructor() {\r\n    this.ws = null;\r\n    this.roomCode = null;\r\n    this.isHost = false;\r\n    this.isConnected = false;\r\n    this.users = new Map();\r\n    this.cursorPositions = new Map();\r\n    this.messageHandlers = new Map();\r\n    this.reconnectAttempts = 0;\r\n    this.maxReconnectAttempts = 5;\r\n    this.reconnectDelay = 1000;\r\n  }\r\n\r\n  // Conectar al servidor de colaboracin\r\n  connect(serverUrl = 'ws://localhost:3002/collaboration') {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        this.ws = new WebSocket(serverUrl);\r\n        \r\n        this.ws.onopen = () => {\r\n          console.log(' Conectado al servidor de colaboracin');\r\n          this.isConnected = true;\r\n          this.reconnectAttempts = 0;\r\n          resolve();\r\n        };\r\n        \r\n        this.ws.onmessage = (event) => {\r\n          this.handleMessage(event);\r\n        };\r\n        \r\n        this.ws.onclose = (event) => {\r\n          console.log(' Desconectado del servidor de colaboracin');\r\n          this.isConnected = false;\r\n          this.handleDisconnection(event);\r\n        };\r\n        \r\n        this.ws.onerror = (error) => {\r\n          console.error(' Error en conexin WebSocket:', error);\r\n          reject(error);\r\n        };\r\n        \r\n      } catch (error) {\r\n        console.error(' Error creando conexin WebSocket:', error);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Desconectar\r\n  disconnect() {\r\n    if (this.ws) {\r\n      this.ws.close();\r\n      this.ws = null;\r\n    }\r\n    this.isConnected = false;\r\n    this.roomCode = null;\r\n    this.isHost = false;\r\n    this.users.clear();\r\n    this.cursorPositions.clear();\r\n  }\r\n\r\n  // Crear sala (solo host)\r\n  createRoom(projectData, username = 'Host') {\r\n    if (!this.isConnected) {\r\n      throw new Error('No conectado al servidor');\r\n    }\r\n    \r\n    this.sendMessage({\r\n      type: 'create_room',\r\n      payload: {\r\n        projectData,\r\n        username\r\n      }\r\n    });\r\n  }\r\n\r\n  // Unirse a sala\r\n  joinRoom(roomCode, username = 'Usuario') {\r\n    if (!this.isConnected) {\r\n      throw new Error('No conectado al servidor');\r\n    }\r\n    \r\n    this.sendMessage({\r\n      type: 'join_room',\r\n      payload: {\r\n        roomCode: roomCode.toUpperCase(),\r\n        username\r\n      }\r\n    });\r\n  }\r\n\r\n  // Abandonar sala\r\n  leaveRoom() {\r\n    if (this.roomCode) {\r\n      this.sendMessage({\r\n        type: 'leave_room',\r\n        payload: {}\r\n      });\r\n    }\r\n  }\r\n\r\n  // Enviar operacin de sincronizacin\r\n  sendSyncOperation(operation, data) {\r\n    if (!this.roomCode) {\r\n      console.warn(' No ests en una sala');\r\n      return;\r\n    }\r\n    \r\n    this.sendMessage({\r\n      type: 'sync_operation',\r\n      payload: {\r\n        operation,\r\n        data,\r\n        timestamp: Date.now()\r\n      }\r\n    });\r\n  }\r\n\r\n  // Actualizar posicin del cursor\r\n  updateCursor(cursor) {\r\n    if (!this.roomCode) return;\r\n    \r\n    this.sendMessage({\r\n      type: 'update_cursor',\r\n      payload: { cursor }\r\n    });\r\n  }\r\n\r\n  // Enviar mensaje de chat\r\n  sendChatMessage(message) {\r\n    if (!this.roomCode) return;\r\n    \r\n    this.sendMessage({\r\n      type: 'send_chat',\r\n      payload: { message }\r\n    });\r\n  }\r\n\r\n  // Actualizar nombre de usuario\r\n  updateUsername(username) {\r\n    if (!this.roomCode) return;\r\n    \r\n    this.sendMessage({\r\n      type: 'update_username',\r\n      payload: { username }\r\n    });\r\n  }\r\n\r\n  // Enviar mensaje al servidor\r\n  sendMessage(message) {\r\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\r\n      try {\r\n        this.ws.send(JSON.stringify(message));\r\n      } catch (error) {\r\n        console.error(' Error enviando mensaje:', error);\r\n      }\r\n    } else {\r\n      console.warn(' WebSocket no conectado');\r\n    }\r\n  }\r\n\r\n  // Manejar mensajes del servidor\r\n  handleMessage(event) {\r\n    try {\r\n      const data = JSON.parse(event.data);\r\n      \r\n      switch (data.type) {\r\n        case 'connected':\r\n          this.handleConnected(data);\r\n          break;\r\n        case 'room_created':\r\n          this.handleRoomCreated(data);\r\n          break;\r\n        case 'room_joined':\r\n          this.handleRoomJoined(data);\r\n          break;\r\n        case 'user_joined':\r\n          this.handleUserJoined(data);\r\n          break;\r\n        case 'user_left':\r\n          this.handleUserLeft(data);\r\n          break;\r\n        case 'sync_operation':\r\n          this.handleSyncOperation(data);\r\n          break;\r\n        case 'cursor_update':\r\n          this.handleCursorUpdate(data);\r\n          break;\r\n        case 'chat_message':\r\n          this.handleChatMessage(data);\r\n          break;\r\n        case 'username_updated':\r\n          this.handleUsernameUpdated(data);\r\n          break;\r\n        case 'host_transferred':\r\n          this.handleHostTransferred(data);\r\n          break;\r\n        case 'room_closed':\r\n          this.handleRoomClosed(data);\r\n          break;\r\n        case 'error':\r\n          this.handleError(data);\r\n          break;\r\n        default:\r\n          console.log(' Tipo de mensaje no reconocido:', data.type);\r\n      }\r\n    } catch (error) {\r\n      console.error(' Error procesando mensaje:', error);\r\n    }\r\n  }\r\n\r\n  // Handlers de mensajes\r\n  handleConnected(data) {\r\n    console.log(' Conectado:', data.message);\r\n    this.triggerEvent('connected', data);\r\n  }\r\n\r\n  handleRoomCreated(data) {\r\n    this.roomCode = data.roomCode;\r\n    this.isHost = true;\r\n    console.log(' Sala creada:', data.roomCode);\r\n    this.triggerEvent('roomCreated', data);\r\n  }\r\n\r\n  handleRoomJoined(data) {\r\n    this.roomCode = data.roomCode;\r\n    this.isHost = false;\r\n    console.log(' Unido a sala:', data.roomCode);\r\n    \r\n    // Actualizar lista de usuarios\r\n    data.users.forEach(user => {\r\n      this.users.set(user.id, user);\r\n    });\r\n    \r\n    this.triggerEvent('roomJoined', data);\r\n  }\r\n\r\n  handleUserJoined(data) {\r\n    this.users.set(data.user.id, data.user);\r\n    console.log(' Usuario se uni:', data.user.username);\r\n    this.triggerEvent('userJoined', data);\r\n  }\r\n\r\n  handleUserLeft(data) {\r\n    this.users.delete(data.user.id);\r\n    this.cursorPositions.delete(data.user.id);\r\n    console.log(' Usuario se fue:', data.user.username);\r\n    this.triggerEvent('userLeft', data);\r\n  }\r\n\r\n  handleSyncOperation(data) {\r\n    console.log(' Operacin de sincronizacin:', data.operation);\r\n    this.triggerEvent('syncOperation', data);\r\n  }\r\n\r\n  handleCursorUpdate(data) {\r\n    this.cursorPositions.set(data.userId, {\r\n      ...data.cursor,\r\n      username: data.username\r\n    });\r\n    this.triggerEvent('cursorUpdate', data);\r\n  }\r\n\r\n  handleChatMessage(data) {\r\n    console.log(' Chat:', data.username, data.message);\r\n    this.triggerEvent('chatMessage', data);\r\n  }\r\n\r\n  handleUsernameUpdated(data) {\r\n    if (this.users.has(data.userId)) {\r\n      this.users.get(data.userId).username = data.newUsername;\r\n    }\r\n    console.log(' Usuario cambi nombre:', data.oldUsername, '', data.newUsername);\r\n    this.triggerEvent('usernameUpdated', data);\r\n  }\r\n\r\n  handleHostTransferred(data) {\r\n    if (data.newHost.id === this.getUserId()) {\r\n      this.isHost = true;\r\n      console.log(' Eres el nuevo host');\r\n    }\r\n    this.triggerEvent('hostTransferred', data);\r\n  }\r\n\r\n  handleRoomClosed(data) {\r\n    console.log(' Sala cerrada:', data.message);\r\n    this.roomCode = null;\r\n    this.isHost = false;\r\n    this.users.clear();\r\n    this.cursorPositions.clear();\r\n    this.triggerEvent('roomClosed', data);\r\n  }\r\n\r\n  handleError(data) {\r\n    console.error(' Error del servidor:', data.message);\r\n    this.triggerEvent('error', data);\r\n  }\r\n\r\n  // Manejar desconexin\r\n  handleDisconnection(event) {\r\n    this.triggerEvent('disconnected', event);\r\n    \r\n    // Solo intentar reconectar si estamos en una sala activa\r\n    if (!event.wasClean && this.roomCode && this.reconnectAttempts < this.maxReconnectAttempts) {\r\n      this.reconnectAttempts++;\r\n      const delay = this.reconnectDelay * Math.pow(2, this.reconnectAttempts - 1);\r\n      \r\n      console.log(` Intentando reconectar en ${delay}ms (intento ${this.reconnectAttempts})`);\r\n      \r\n      setTimeout(() => {\r\n        this.connect().catch(error => {\r\n          console.error(' Error reconectando:', error);\r\n        });\r\n      }, delay);\r\n    } else if (!this.roomCode) {\r\n      console.log(' Sin sala activa, no se intentar reconectar');\r\n    }\r\n  }\r\n\r\n  // Sistema de eventos\r\n  on(event, handler) {\r\n    if (!this.messageHandlers.has(event)) {\r\n      this.messageHandlers.set(event, []);\r\n    }\r\n    this.messageHandlers.get(event).push(handler);\r\n  }\r\n\r\n  off(event, handler) {\r\n    if (this.messageHandlers.has(event)) {\r\n      const handlers = this.messageHandlers.get(event);\r\n      const index = handlers.indexOf(handler);\r\n      if (index > -1) {\r\n        handlers.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  triggerEvent(event, data) {\r\n    if (this.messageHandlers.has(event)) {\r\n      this.messageHandlers.get(event).forEach(handler => {\r\n        try {\r\n          handler(data);\r\n        } catch (error) {\r\n          console.error(` Error en handler de ${event}:`, error);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Getters\r\n  getUserId() {\r\n    return this.ws ? this.ws.userId : null;\r\n  }\r\n\r\n  getRoomCode() {\r\n    return this.roomCode;\r\n  }\r\n\r\n  getIsHost() {\r\n    return this.isHost;\r\n  }\r\n\r\n  getIsConnected() {\r\n    return this.isConnected;\r\n  }\r\n\r\n  getUsers() {\r\n    return Array.from(this.users.values());\r\n  }\r\n\r\n  getCursorPositions() {\r\n    return Array.from(this.cursorPositions.values());\r\n  }\r\n\r\n  // Obtener IP del servidor para compartir\r\n  getServerIP() {\r\n    if (this.ws && this.ws.url) {\r\n      const url = new URL(this.ws.url);\r\n      return `${url.hostname}:${url.port}`;\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\n// Instancia global del cliente de colaboracin\r\nexport const collaborationClient = new CollaborationClient();\r\n","// Utilidad para detectar la IP pblica automticamente\r\nexport class IPDetector {\r\n  constructor() {\r\n    this.publicIP = null;\r\n    this.localIP = null;\r\n    this.isDetecting = false;\r\n    this.callbacks = [];\r\n  }\r\n\r\n  // Detectar IP pblica usando servicios gratuitos\r\n  async detectPublicIP() {\r\n    if (this.isDetecting) {\r\n      return new Promise((resolve) => {\r\n        this.callbacks.push(resolve);\r\n      });\r\n    }\r\n\r\n    this.isDetecting = true;\r\n    this.callbacks = [];\r\n\r\n    const services = [\r\n      'https://api.ipify.org?format=json',\r\n      'https://ipapi.co/json/',\r\n      'https://api.myip.com',\r\n      'https://ipinfo.io/json',\r\n      'https://api.ip.sb/geoip'\r\n    ];\r\n\r\n    for (const service of services) {\r\n      try {\r\n        const response = await fetch(service, {\r\n          method: 'GET',\r\n          timeout: 5000\r\n        });\r\n        \r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          this.publicIP = data.ip || data.query || data.ipAddress;\r\n          \r\n          if (this.publicIP) {\r\n            console.log(' IP pblica detectada:', this.publicIP);\r\n            this.isDetecting = false;\r\n            this.notifyCallbacks(this.publicIP);\r\n            return this.publicIP;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.warn(` Error detectando IP con ${service}:`, error);\r\n        continue;\r\n      }\r\n    }\r\n\r\n    // Si todos los servicios fallan, intentar con WebRTC\r\n    try {\r\n      const webrtcIP = await this.detectIPWithWebRTC();\r\n      if (webrtcIP) {\r\n        this.publicIP = webrtcIP;\r\n        console.log(' IP pblica detectada con WebRTC:', this.publicIP);\r\n        this.isDetecting = false;\r\n        this.notifyCallbacks(this.publicIP);\r\n        return this.publicIP;\r\n      }\r\n    } catch (error) {\r\n      console.warn(' Error detectando IP con WebRTC:', error);\r\n    }\r\n\r\n    this.isDetecting = false;\r\n    this.notifyCallbacks(null);\r\n    return null;\r\n  }\r\n\r\n  // Detectar IP usando WebRTC (ms confiable para IP pblica)\r\n  async detectIPWithWebRTC() {\r\n    return new Promise((resolve) => {\r\n      const pc = new RTCPeerConnection({\r\n        iceServers: [\r\n          { urls: 'stun:stun.l.google.com:19302' },\r\n          { urls: 'stun:stun1.l.google.com:19302' },\r\n          { urls: 'stun:stun2.l.google.com:19302' }\r\n        ]\r\n      });\r\n\r\n      pc.createDataChannel('');\r\n      pc.createOffer().then(offer => pc.setLocalDescription(offer));\r\n\r\n      pc.onicecandidate = (event) => {\r\n        if (event.candidate) {\r\n          const candidate = event.candidate.candidate;\r\n          const ipMatch = candidate.match(/([0-9]{1,3}(\\.[0-9]{1,3}){3})/);\r\n          \r\n          if (ipMatch) {\r\n            const ip = ipMatch[1];\r\n            \r\n            // Filtrar IPs locales y privadas\r\n            if (!this.isPrivateIP(ip) && !this.isLocalIP(ip)) {\r\n              pc.close();\r\n              resolve(ip);\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      // Timeout despus de 5 segundos\r\n      setTimeout(() => {\r\n        pc.close();\r\n        resolve(null);\r\n      }, 5000);\r\n    });\r\n  }\r\n\r\n  // Detectar IP local\r\n  detectLocalIP() {\r\n    return new Promise((resolve) => {\r\n      const pc = new RTCPeerConnection({\r\n        iceServers: [{ urls: 'stun:stun.l.google.com:19302' }]\r\n      });\r\n\r\n      pc.createDataChannel('');\r\n      pc.createOffer().then(offer => pc.setLocalDescription(offer));\r\n\r\n      const localIPs = new Set();\r\n\r\n      pc.onicecandidate = (event) => {\r\n        if (event.candidate) {\r\n          const candidate = event.candidate.candidate;\r\n          const ipMatch = candidate.match(/([0-9]{1,3}(\\.[0-9]{1,3}){3})/);\r\n          \r\n          if (ipMatch) {\r\n            const ip = ipMatch[1];\r\n            \r\n            // Solo IPs locales\r\n            if (this.isPrivateIP(ip) || this.isLocalIP(ip)) {\r\n              localIPs.add(ip);\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      setTimeout(() => {\r\n        pc.close();\r\n        // Preferir IPs de red local (192.168.x.x, 10.x.x.x)\r\n        const preferredIPs = Array.from(localIPs).filter(ip => \r\n          ip.startsWith('192.168.') || ip.startsWith('10.')\r\n        );\r\n        \r\n        this.localIP = preferredIPs[0] || Array.from(localIPs)[0];\r\n        resolve(this.localIP);\r\n      }, 3000);\r\n    });\r\n  }\r\n\r\n  // Verificar si es IP privada\r\n  isPrivateIP(ip) {\r\n    const parts = ip.split('.').map(Number);\r\n    \r\n    // 192.168.x.x\r\n    if (parts[0] === 192 && parts[1] === 168) return true;\r\n    \r\n    // 10.x.x.x\r\n    if (parts[0] === 10) return true;\r\n    \r\n    // 172.16.x.x - 172.31.x.x\r\n    if (parts[0] === 172 && parts[1] >= 16 && parts[1] <= 31) return true;\r\n    \r\n    return false;\r\n  }\r\n\r\n  // Verificar si es IP local\r\n  isLocalIP(ip) {\r\n    const parts = ip.split('.').map(Number);\r\n    \r\n    // 127.x.x.x (localhost)\r\n    if (parts[0] === 127) return true;\r\n    \r\n    // 169.254.x.x (link-local)\r\n    if (parts[0] === 169 && parts[1] === 254) return true;\r\n    \r\n    return false;\r\n  }\r\n\r\n  // Notificar callbacks\r\n  notifyCallbacks(ip) {\r\n    this.callbacks.forEach(callback => callback(ip));\r\n    this.callbacks = [];\r\n  }\r\n\r\n  // Obtener IP pblica (con cache)\r\n  getPublicIP() {\r\n    return this.publicIP;\r\n  }\r\n\r\n  // Obtener IP local (con cache)\r\n  getLocalIP() {\r\n    return this.localIP;\r\n  }\r\n\r\n  // Generar URL del servidor para compartir\r\n  generateServerURL(port = 3002) {\r\n    const publicIP = this.getPublicIP();\r\n    const localIP = this.getLocalIP();\r\n    \r\n    if (publicIP) {\r\n      return {\r\n        public: `ws://${publicIP}:${port}/collaboration`,\r\n        local: localIP ? `ws://${localIP}:${port}/collaboration` : null,\r\n        display: `${publicIP}:${port}`\r\n      };\r\n    }\r\n    \r\n    if (localIP) {\r\n      return {\r\n        public: null,\r\n        local: `ws://${localIP}:${port}/collaboration`,\r\n        display: `${localIP}:${port}`\r\n      };\r\n    }\r\n    \r\n    return {\r\n      public: null,\r\n      local: null,\r\n      display: 'localhost:3002'\r\n    };\r\n  }\r\n\r\n  // Detectar automticamente ambas IPs\r\n  async detectAllIPs() {\r\n    const [publicIP, localIP] = await Promise.all([\r\n      this.detectPublicIP(),\r\n      this.detectLocalIP()\r\n    ]);\r\n    \r\n    return {\r\n      public: publicIP,\r\n      local: localIP\r\n    };\r\n  }\r\n}\r\n\r\n// Instancia global del detector de IP\r\nexport const ipDetector = new IPDetector();\r\n","// Utilidad para codificar y decodificar IPs para colaboracin\r\nclass IPEncoder {\r\n  constructor() {\r\n    // Clave secreta para la codificacin (en produccin debera ser ms compleja)\r\n    this.secretKey = 'ryn-editor-2024';\r\n    // Almacenar cdigos generados para decodificacin\r\n    this.generatedCodes = new Map();\r\n  }\r\n\r\n  // Codificacin Base64 compatible con Node.js y navegador\r\n  base64Encode(str) {\r\n    if (typeof btoa !== 'undefined') {\r\n      return btoa(str);\r\n    } else {\r\n      return Buffer.from(str, 'utf8').toString('base64');\r\n    }\r\n  }\r\n\r\n  // Decodificacin Base64 compatible con Node.js y navegador\r\n  base64Decode(str) {\r\n    if (typeof atob !== 'undefined') {\r\n      return atob(str);\r\n    } else {\r\n      return Buffer.from(str, 'base64').toString('utf8');\r\n    }\r\n  }\r\n\r\n  // Codificar IP y puerto en un cdigo corto\r\n  encodeConnectionInfo(ip, port = 3002) {\r\n    try {\r\n      // Crear string simple con la informacin\r\n      const connectionString = `${ip}:${port}:${Date.now()}`;\r\n      \r\n      // Codificar en Base64\r\n      const encoded = this.base64Encode(connectionString);\r\n      \r\n      // Crear cdigo corto usando solo los primeros caracteres\r\n      const shortCode = encoded.substring(0, 12).toUpperCase();\r\n      \r\n      // Agregar checksum simple\r\n      const checksum = this.generateChecksum(shortCode);\r\n      \r\n      // Formato final: ABC123-XYZ789 (12 caracteres + guin + 6 caracteres checksum)\r\n      const finalCode = `${shortCode}-${checksum}`;\r\n      \r\n      // Guardar el cdigo completo para decodificacin\r\n      this.generatedCodes.set(finalCode, {\r\n        ip: ip,\r\n        port: port,\r\n        timestamp: Date.now(),\r\n        fullEncoded: encoded\r\n      });\r\n      \r\n      return finalCode;\r\n    } catch (error) {\r\n      console.error('Error codificando IP:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Decodificar cdigo corto a IP y puerto\r\n  decodeConnectionInfo(shortCode) {\r\n    try {\r\n      // Verificar formato\r\n      if (!shortCode || typeof shortCode !== 'string') {\r\n        throw new Error('Cdigo invlido');\r\n      }\r\n\r\n      // Separar cdigo y checksum\r\n      const parts = shortCode.split('-');\r\n      if (parts.length !== 2) {\r\n        throw new Error('Formato de cdigo invlido');\r\n      }\r\n\r\n      const [code, checksum] = parts;\r\n\r\n      // Verificar checksum\r\n      if (!this.verifyChecksum(code, checksum)) {\r\n        throw new Error('Cdigo corrupto o invlido');\r\n      }\r\n\r\n      // Buscar en cdigos generados\r\n      if (this.generatedCodes.has(shortCode)) {\r\n        const codeData = this.generatedCodes.get(shortCode);\r\n        \r\n        // Verificar que el cdigo no sea muy antiguo (24 horas)\r\n        const maxAge = 24 * 60 * 60 * 1000; // 24 horas en ms\r\n        if (Date.now() - codeData.timestamp > maxAge) {\r\n          throw new Error('Cdigo expirado');\r\n        }\r\n\r\n        return {\r\n          ip: codeData.ip,\r\n          port: codeData.port,\r\n          timestamp: codeData.timestamp,\r\n          valid: true\r\n        };\r\n      }\r\n\r\n      // Si no se encuentra en cdigos generados, intentar decodificar directamente\r\n      const decodedData = this.attemptDecode(code);\r\n      \r\n      if (decodedData) {\r\n        const [ip, port, timestamp] = decodedData.split(':');\r\n        \r\n        if (ip && port) {\r\n          // Verificar que el cdigo no sea muy antiguo (24 horas)\r\n          const maxAge = 24 * 60 * 60 * 1000; // 24 horas en ms\r\n          if (Date.now() - parseInt(timestamp) > maxAge) {\r\n            throw new Error('Cdigo expirado');\r\n          }\r\n\r\n          return {\r\n            ip: ip,\r\n            port: parseInt(port),\r\n            timestamp: parseInt(timestamp),\r\n            valid: true\r\n          };\r\n        }\r\n      }\r\n\r\n      throw new Error('No se pudo decodificar el cdigo');\r\n    } catch (error) {\r\n      console.error('Error decodificando cdigo:', error);\r\n      return {\r\n        valid: false,\r\n        error: error.message\r\n      };\r\n    }\r\n  }\r\n\r\n  // Intentar decodificar el cdigo (mtodo robusto)\r\n  attemptDecode(code) {\r\n    try {\r\n      // Intentar decodificar directamente\r\n      const decoded = this.base64Decode(code);\r\n      return decoded;\r\n    } catch (error) {\r\n      // Si falla, intentar con padding\r\n      try {\r\n        const paddedCode = code + '=='; // Agregar padding Base64\r\n        const decoded = this.base64Decode(paddedCode);\r\n        return decoded;\r\n      } catch (error2) {\r\n        // Si sigue fallando, intentar con ms padding\r\n        try {\r\n          const paddedCode2 = code + '====';\r\n          const decoded = this.base64Decode(paddedCode2);\r\n          return decoded;\r\n        } catch (error3) {\r\n          console.error('Error en attemptDecode:', error3);\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Generar checksum simple\r\n  generateChecksum(code) {\r\n    let hash = 0;\r\n    for (let i = 0; i < code.length; i++) {\r\n      const char = code.charCodeAt(i);\r\n      hash = ((hash << 5) - hash) + char;\r\n      hash = hash & hash; // Convertir a 32-bit integer\r\n    }\r\n    \r\n    // Convertir a string de 6 caracteres\r\n    const checksum = Math.abs(hash).toString(36).toUpperCase().substring(0, 6);\r\n    return checksum.padEnd(6, '0'); // Rellenar con ceros si es necesario\r\n  }\r\n\r\n  // Verificar checksum\r\n  verifyChecksum(code, checksum) {\r\n    const expectedChecksum = this.generateChecksum(code);\r\n    return expectedChecksum === checksum;\r\n  }\r\n\r\n  // Validar formato de cdigo\r\n  validateCodeFormat(code) {\r\n    if (!code || typeof code !== 'string') return false;\r\n    \r\n    // Formato: ABC123-XYZ789 (12 caracteres + guin + 6 caracteres)\r\n    const pattern = /^[A-Z0-9]{12}-[A-Z0-9]{6}$/;\r\n    return pattern.test(code);\r\n  }\r\n\r\n  // Generar cdigo de ejemplo (para testing)\r\n  generateExampleCode() {\r\n    return this.encodeConnectionInfo('192.168.1.100', 3002);\r\n  }\r\n\r\n  // Obtener informacin del cdigo sin decodificar completamente\r\n  getCodeInfo(code) {\r\n    try {\r\n      if (!this.validateCodeFormat(code)) {\r\n        return { valid: false, error: 'Formato invlido' };\r\n      }\r\n\r\n      const parts = code.split('-');\r\n      const [mainCode, checksum] = parts;\r\n\r\n      if (!this.verifyChecksum(mainCode, checksum)) {\r\n        return { valid: false, error: 'Checksum invlido' };\r\n      }\r\n\r\n      return {\r\n        valid: true,\r\n        format: 'correcto',\r\n        length: code.length,\r\n        checksum: 'vlido'\r\n      };\r\n    } catch (error) {\r\n      return { valid: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  // Limpiar cdigos expirados\r\n  cleanupExpiredCodes() {\r\n    const now = Date.now();\r\n    const maxAge = 24 * 60 * 60 * 1000; // 24 horas en ms\r\n    \r\n    for (const [code, data] of this.generatedCodes.entries()) {\r\n      if (now - data.timestamp > maxAge) {\r\n        this.generatedCodes.delete(code);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Instancia singleton\r\nexport const ipEncoder = new IPEncoder();\r\n\r\n// Funciones de conveniencia\r\nexport const encodeConnectionInfo = (ip, port) => ipEncoder.encodeConnectionInfo(ip, port);\r\nexport const decodeConnectionInfo = (code) => ipEncoder.decodeConnectionInfo(code);\r\nexport const validateCodeFormat = (code) => ipEncoder.validateCodeFormat(code);\r\nexport const getCodeInfo = (code) => ipEncoder.getCodeInfo(code);\r\n\r\nexport default ipEncoder;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst InstructionsContainer = styled.div`\r\n  background-color: var(--color-background);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n  \r\n  .instructions-title {\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: var(--color-primary);\r\n    margin-bottom: 12px;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .instructions-content {\r\n    font-size: 12px;\r\n    color: var(--color-textPrimary);\r\n    line-height: 1.5;\r\n  }\r\n  \r\n  .step {\r\n    margin-bottom: 8px;\r\n    padding-left: 20px;\r\n    position: relative;\r\n    \r\n    &::before {\r\n      content: counter(step-counter);\r\n      counter-increment: step-counter;\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      background-color: var(--color-primary);\r\n      color: var(--color-textInverse);\r\n      width: 16px;\r\n      height: 16px;\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-size: 10px;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n  \r\n  .steps-list {\r\n    counter-reset: step-counter;\r\n  }\r\n  \r\n  .highlight {\r\n    background-color: var(--color-primary);\r\n    color: var(--color-textInverse);\r\n    padding: 2px 6px;\r\n    border-radius: 4px;\r\n    font-family: 'Courier New', monospace;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .toggle-button {\r\n    background-color: var(--color-surfaceElevated);\r\n    color: var(--color-textPrimary);\r\n    border: 1px solid var(--color-border);\r\n    padding: 6px 12px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 11px;\r\n    margin-bottom: 12px;\r\n    \r\n    &:hover {\r\n      background-color: var(--color-borderSecondary);\r\n    }\r\n  }\r\n`;\r\n\r\nfunction CollaborationInstructions({ serverInfo, isHost }) {\r\n  const [showInstructions, setShowInstructions] = useState(false);\r\n\r\n  if (!serverInfo) return null;\r\n\r\n  return (\r\n    <InstructionsContainer>\r\n      <div className=\"instructions-title\">\r\n         Instrucciones de Conexin\r\n        <button \r\n          className=\"toggle-button\"\r\n          onClick={() => setShowInstructions(!showInstructions)}\r\n        >\r\n          {showInstructions ? ' Ocultar' : ' Mostrar'}\r\n        </button>\r\n      </div>\r\n      \r\n      {showInstructions && (\r\n        <div className=\"instructions-content\">\r\n          {isHost ? (\r\n            <div className=\"steps-list\">\r\n              <div className=\"step\">\r\n                <strong>Comparte esta informacin:</strong> <span className=\"highlight\">{serverInfo.display}</span>\r\n              </div>\r\n              <div className=\"step\">\r\n                Los otros usuarios deben usar esta IP para conectarse\r\n              </div>\r\n              <div className=\"step\">\r\n                Asegrate de que el puerto <span className=\"highlight\">3002</span> est abierto en tu firewall\r\n              </div>\r\n              <div className=\"step\">\r\n                Si usas IP local, solo funciona en la misma red WiFi\r\n              </div>\r\n              <div className=\"step\">\r\n                Si usas IP pblica, funciona desde cualquier lugar\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"steps-list\">\r\n              <div className=\"step\">\r\n                <strong>Conecta usando:</strong> <span className=\"highlight\">{serverInfo.display}</span>\r\n              </div>\r\n              <div className=\"step\">\r\n                Pega esta IP en el campo \"URL del servidor\"\r\n              </div>\r\n              <div className=\"step\">\r\n                Agrega <span className=\"highlight\">ws://</span> al inicio y <span className=\"highlight\">/collaboration</span> al final\r\n              </div>\r\n              <div className=\"step\">\r\n                Ejemplo: <span className=\"highlight\">ws://{serverInfo.display}/collaboration</span>\r\n              </div>\r\n              <div className=\"step\">\r\n                Si no funciona, verifica que el host est ejecutando el servidor\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </InstructionsContainer>\r\n  );\r\n}\r\n\r\nexport default CollaborationInstructions;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst HelpContainer = styled.div`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n  color: var(--color-textInverse);\r\n  box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);\r\n`;\r\n\r\nconst HelpTitle = styled.h3`\r\n  margin: 0 0 12px 0;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: #000000 !important;\r\n  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);\r\n  \r\n  /* Asegurar que el color negro se mantenga */\r\n  * {\r\n    color: #000000 !important;\r\n  }\r\n`;\r\n\r\nconst HelpContent = styled.div`\r\n  font-size: 12px;\r\n  line-height: 1.4;\r\n`;\r\n\r\nconst HelpStep = styled.div`\r\n  margin-bottom: 8px;\r\n  padding-left: 20px;\r\n  position: relative;\r\n  \r\n  &::before {\r\n    content: '${props => props.number}';\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    background-color: rgba(255, 255, 255, 0.2);\r\n    color: var(--color-textInverse);\r\n    width: 16px;\r\n    height: 16px;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 10px;\r\n    font-weight: 600;\r\n  }\r\n`;\r\n\r\nconst HelpButton = styled.button`\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  color: var(--color-textInverse);\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  margin-top: 8px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background-color: rgba(255, 255, 255, 0.3);\r\n    border-color: rgba(255, 255, 255, 0.5);\r\n  }\r\n`;\r\n\r\nconst ToggleButton = styled.button`\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  color: #000000;\r\n  border: 1px solid #000000;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background-color: #000000;\r\n    color: #ffffff;\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\r\n  }\r\n  \r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nfunction CollaborationHelp({ onStartRealServer }) {\r\n  const [showHelp, setShowHelp] = useState(false);\r\n\r\n  const handleCopyCommand = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText('npm run server:collaboration');\r\n      alert(' Comando copiado al portapapeles');\r\n    } catch (error) {\r\n      console.log('No se pudo copiar al portapapeles');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <HelpContainer>\r\n      <HelpTitle>\r\n         Gua de Colaboracin\r\n        <ToggleButton onClick={() => setShowHelp(!showHelp)}>\r\n          {showHelp ? ' Ocultar' : ' Mostrar'}\r\n        </ToggleButton>\r\n      </HelpTitle>\r\n      \r\n      {showHelp && (\r\n        <HelpContent>\r\n          <HelpStep number=\"1\">\r\n            <strong>Activa la colaboracin</strong> usando el botn de arriba\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"2\">\r\n            <strong>Inicia el servidor real:</strong> Haz clic en \"Iniciar Servidor Real\" para ver las instrucciones\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"3\">\r\n            <strong>Navega a la carpeta del editor</strong> en la terminal (muy importante)\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"4\">\r\n            <strong>Ejecuta el comando</strong> que aparece en las instrucciones\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"5\">\r\n            <strong>Crea una sala</strong> y comparte el cdigo con otros\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"6\">\r\n            <strong>Colabora!</strong> Los cambios se sincronizan en tiempo real\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"7\">\r\n            <strong> Cdigos seguros:</strong> El editor genera cdigos que ocultan tu IP real (ej: ABC123-XYZ789)\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"8\">\r\n            <strong>Seguridad:</strong> Comparte el cdigo seguro en lugar de tu IP pblica\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"9\">\r\n            <strong> Sincronizacin:</strong> Todos los cambios se sincronizan automticamente en tiempo real\r\n          </HelpStep>\r\n          \r\n          <HelpStep number=\"10\">\r\n            <strong> Colaboracin:</strong> Edita personajes, script y escenas simultneamente con otros usuarios\r\n          </HelpStep>\r\n          \r\n          <div style={{ marginTop: '12px', display: 'flex', gap: '8px' }}>\r\n            <HelpButton onClick={onStartRealServer}>\r\n               Iniciar Servidor Real\r\n            </HelpButton>\r\n            <HelpButton onClick={handleCopyCommand}>\r\n               Copiar Comando\r\n            </HelpButton>\r\n          </div>\r\n        </HelpContent>\r\n      )}\r\n    </HelpContainer>\r\n  );\r\n}\r\n\r\nexport default CollaborationHelp;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\n\r\n// Animaciones\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.8);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\nconst slideIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.1);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\n// Styled Components\r\nconst FloatingChatContainer = styled.div`\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  z-index: 1000;\r\n  \r\n  @media (max-width: 768px) {\r\n    bottom: 10px;\r\n    right: 10px;\r\n  }\r\n`;\r\n\r\nconst ChatToggleButton = styled.button`\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  border: 3px solid var(--color-surface);\r\n  color: var(--color-textInverse);\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  box-shadow: 0 8px 24px var(--color-shadowElevated);\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  \r\n  &:hover {\r\n    transform: translateY(-3px) scale(1.05);\r\n    box-shadow: 0 12px 32px var(--color-shadowHover);\r\n  }\r\n  \r\n  &:active {\r\n    transform: translateY(-1px) scale(1.02);\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 50px;\r\n    height: 50px;\r\n    font-size: 20px;\r\n  }\r\n  \r\n  ${props => props.hasNewMessages && css`\r\n    animation: ${pulse} 2s infinite;\r\n  `}\r\n`;\r\n\r\nconst NewMessageIndicator = styled.div`\r\n  position: absolute;\r\n  top: -5px;\r\n  right: -5px;\r\n  width: 20px;\r\n  height: 20px;\r\n  background: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border-radius: 50%;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid var(--color-surface);\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 16px;\r\n    height: 16px;\r\n    font-size: 10px;\r\n  }\r\n`;\r\n\r\nconst ChatWindow = styled.div`\r\n  position: absolute;\r\n  bottom: 70px;\r\n  right: 0;\r\n  width: 350px;\r\n  height: 400px;\r\n  background: var(--color-surface);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\r\n  display: flex;\r\n  flex-direction: column;\r\n  animation: ${css`${slideIn} 0.3s ease-out`};\r\n  overflow: hidden;\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 280px;\r\n    height: 350px;\r\n    bottom: 60px;\r\n    right: -10px;\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    width: calc(100vw - 20px);\r\n    height: 300px;\r\n    right: 10px;\r\n    left: 10px;\r\n    bottom: 60px;\r\n  }\r\n`;\r\n\r\nconst ChatHeader = styled.div`\r\n  background: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  padding: 12px 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst ChatCloseButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--color-textInverse);\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  border-radius: 4px;\r\n  transition: background-color 0.2s ease;\r\n  \r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.2);\r\n  }\r\n`;\r\n\r\nconst ChatMessages = styled.div`\r\n  flex: 1;\r\n  padding: 12px;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  \r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-track {\r\n    background: var(--color-backgroundSecondary);\r\n    border-radius: 3px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background: var(--color-border);\r\n    border-radius: 3px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: var(--color-borderSecondary);\r\n  }\r\n`;\r\n\r\nconst Message = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  animation: ${css`${fadeIn} 0.3s ease-out`};\r\n`;\r\n\r\nconst MessageHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 11px;\r\n  color: var(--color-textSecondary);\r\n`;\r\n\r\nconst MessageAuthor = styled.span`\r\n  font-weight: 600;\r\n  color: ${props => props.isOwn ? 'var(--color-primary)' : 'var(--color-textSecondary)'};\r\n`;\r\n\r\nconst MessageTime = styled.span`\r\n  font-size: 10px;\r\n  opacity: 0.7;\r\n`;\r\n\r\nconst MessageContent = styled.div`\r\n  background: ${props => props.isOwn \r\n    ? 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)' \r\n    : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.isOwn ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  padding: 8px 12px;\r\n  border-radius: 12px;\r\n  font-size: 13px;\r\n  line-height: 1.4;\r\n  max-width: 80%;\r\n  align-self: ${props => props.isOwn ? 'flex-end' : 'flex-start'};\r\n  word-wrap: break-word;\r\n  box-shadow: ${props => props.isOwn \r\n    ? '0 2px 8px rgba(0, 0, 0, 0.1)' \r\n    : '0 1px 4px rgba(0, 0, 0, 0.1)'};\r\n`;\r\n\r\nconst ChatInput = styled.div`\r\n  padding: 12px;\r\n  border-top: 1px solid var(--color-border);\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n`;\r\n\r\nconst MessageInput = styled.input`\r\n  flex: 1;\r\n  padding: 8px 12px;\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 20px;\r\n  background: var(--color-backgroundSecondary);\r\n  color: var(--color-textPrimary);\r\n  font-size: 13px;\r\n  outline: none;\r\n  transition: border-color 0.2s ease;\r\n  \r\n  &:focus {\r\n    border-color: var(--color-primary);\r\n  }\r\n  \r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n  }\r\n`;\r\n\r\nconst SendButton = styled.button`\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 50%;\r\n  background: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 16px;\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover:not(:disabled) {\r\n    background: var(--color-primaryHover);\r\n    transform: scale(1.05);\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--color-textSecondary);\r\n  font-size: 13px;\r\n  text-align: center;\r\n  padding: 20px;\r\n`;\r\n\r\nfunction FloatingChat({ \r\n  messages = [], \r\n  onSendMessage, \r\n  currentUser = 'Usuario',\r\n  isConnected = false,\r\n  roomCode = ''\r\n}) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [hasNewMessages, setHasNewMessages] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const chatMessagesRef = useRef(null);\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    if (messagesEndRef.current) {\r\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }, [messages]);\r\n\r\n  // Show new message indicator when messages arrive and chat is closed\r\n  useEffect(() => {\r\n    if (messages.length > 0 && !isOpen) {\r\n      setHasNewMessages(true);\r\n    }\r\n  }, [messages, isOpen]);\r\n\r\n  // Clear new message indicator when chat is opened\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setHasNewMessages(false);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const handleSendMessage = () => {\r\n    if (inputValue.trim() && onSendMessage) {\r\n      onSendMessage(inputValue.trim());\r\n      setInputValue('');\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    return new Date(timestamp).toLocaleTimeString('es-ES', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  if (!isConnected && !roomCode) {\r\n    return null; // Don't show chat if not in a room\r\n  }\r\n\r\n  return (\r\n    <FloatingChatContainer>\r\n      <ChatToggleButton \r\n        onClick={() => setIsOpen(!isOpen)}\r\n        hasNewMessages={hasNewMessages}\r\n        title={isOpen ? 'Cerrar chat' : 'Abrir chat'}\r\n      >\r\n        \r\n        {hasNewMessages && (\r\n          <NewMessageIndicator>\r\n            {messages.length}\r\n          </NewMessageIndicator>\r\n        )}\r\n      </ChatToggleButton>\r\n\r\n      {isOpen && (\r\n        <ChatWindow>\r\n          <ChatHeader>\r\n            <span> Chat - Sala {roomCode}</span>\r\n            <ChatCloseButton onClick={() => setIsOpen(false)}>\r\n              \r\n            </ChatCloseButton>\r\n          </ChatHeader>\r\n\r\n          <ChatMessages ref={chatMessagesRef}>\r\n            {messages.length === 0 ? (\r\n              <EmptyState>\r\n                <div>\r\n                  <div style={{ fontSize: '24px', marginBottom: '8px' }}></div>\r\n                  <div>Empieza la conversacin!</div>\r\n                  <div style={{ fontSize: '11px', opacity: 0.7, marginTop: '4px' }}>\r\n                    Escribe un mensaje para tus colaboradores\r\n                  </div>\r\n                </div>\r\n              </EmptyState>\r\n            ) : (\r\n              messages.map((message, index) => (\r\n                <Message key={index}>\r\n                  <MessageHeader>\r\n                    <MessageAuthor isOwn={message.user === currentUser}>\r\n                      {message.user === currentUser ? 'T' : message.user}\r\n                    </MessageAuthor>\r\n                    <MessageTime>\r\n                      {formatTime(message.timestamp)}\r\n                    </MessageTime>\r\n                  </MessageHeader>\r\n                  <MessageContent isOwn={message.user === currentUser}>\r\n                    {message.text}\r\n                  </MessageContent>\r\n                </Message>\r\n              ))\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n          </ChatMessages>\r\n\r\n          <ChatInput>\r\n            <MessageInput\r\n              value={inputValue}\r\n              onChange={(e) => setInputValue(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"Escribe un mensaje...\"\r\n              disabled={!isConnected}\r\n            />\r\n            <SendButton \r\n              onClick={handleSendMessage}\r\n              disabled={!inputValue.trim() || !isConnected}\r\n            >\r\n              \r\n            </SendButton>\r\n          </ChatInput>\r\n        </ChatWindow>\r\n      )}\r\n    </FloatingChatContainer>\r\n  );\r\n}\r\n\r\nexport default FloatingChat;\r\n","// Sistema de sincronizacin en tiempo real para colaboracin\r\nimport { collaborationClient } from './collaborationClient';\r\n\r\nclass SyncManager {\r\n  constructor() {\r\n    this.isEnabled = false;\r\n    this.currentUserId = null;\r\n    this.pendingOperations = new Set();\r\n    this.operationQueue = [];\r\n    this.isProcessingQueue = false;\r\n    \r\n    // Configuracin de sincronizacin\r\n    this.config = {\r\n      debounceDelay: 300, // ms\r\n      maxRetries: 3,\r\n      retryDelay: 1000, // ms\r\n      conflictResolution: 'last-write-wins' // o 'merge' para futuras implementaciones\r\n    };\r\n  }\r\n\r\n  // Inicializar el sistema de sincronizacin\r\n  initialize(userId) {\r\n    this.currentUserId = userId;\r\n    this.isEnabled = true;\r\n    \r\n    // Configurar listeners para operaciones de sincronizacin\r\n    collaborationClient.on('syncOperation', this.handleIncomingSync.bind(this));\r\n    collaborationClient.on('connected', () => {\r\n      console.log(' Sistema de sincronizacin activado');\r\n    });\r\n    \r\n    console.log(' SyncManager inicializado para usuario:', userId);\r\n  }\r\n\r\n  // Desactivar sincronizacin\r\n  disable() {\r\n    this.isEnabled = false;\r\n    this.currentUserId = null;\r\n    this.pendingOperations.clear();\r\n    this.operationQueue = [];\r\n    \r\n    collaborationClient.off('syncOperation', this.handleIncomingSync.bind(this));\r\n    console.log(' Sistema de sincronizacin desactivado');\r\n  }\r\n\r\n  // Enviar operacin de sincronizacin\r\n  sendSyncOperation(operation, data, metadata = {}) {\r\n    if (!this.isEnabled || !collaborationClient.isConnected) {\r\n      console.warn(' Sincronizacin desactivada o sin conexin');\r\n      return;\r\n    }\r\n\r\n    // Crear operacin nica\r\n    const operationId = this.generateOperationId();\r\n    const syncData = {\r\n      type: 'sync_operation',\r\n      operation: operation,\r\n      data: data,\r\n      metadata: {\r\n        ...metadata,\r\n        operationId,\r\n        userId: this.currentUserId,\r\n        timestamp: Date.now()\r\n      }\r\n    };\r\n\r\n    // Evitar operaciones duplicadas\r\n    if (this.pendingOperations.has(operationId)) {\r\n      console.log(' Operacin ya en cola:', operationId);\r\n      return;\r\n    }\r\n\r\n    this.pendingOperations.add(operationId);\r\n    this.operationQueue.push(syncData);\r\n\r\n    // Procesar cola con debounce\r\n    this.debounceProcessQueue();\r\n\r\n    console.log(' Operacin enviada:', operation, data);\r\n  }\r\n\r\n  // Procesar cola de operaciones con debounce\r\n  debounceProcessQueue() {\r\n    if (this.debounceTimeout) {\r\n      clearTimeout(this.debounceTimeout);\r\n    }\r\n\r\n    this.debounceTimeout = setTimeout(() => {\r\n      this.processQueue();\r\n    }, this.config.debounceDelay);\r\n  }\r\n\r\n  // Procesar cola de operaciones\r\n  async processQueue() {\r\n    if (this.isProcessingQueue || this.operationQueue.length === 0) {\r\n      return;\r\n    }\r\n\r\n    this.isProcessingQueue = true;\r\n\r\n    try {\r\n      // Procesar operaciones en lotes\r\n      const batch = this.operationQueue.splice(0, 10); // Mximo 10 operaciones por lote\r\n      \r\n      for (const operation of batch) {\r\n        await this.sendOperationToServer(operation);\r\n        this.pendingOperations.delete(operation.metadata.operationId);\r\n      }\r\n\r\n      // Si hay ms operaciones, procesar el siguiente lote\r\n      if (this.operationQueue.length > 0) {\r\n        setTimeout(() => this.processQueue(), 50);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(' Error procesando cola de sincronizacin:', error);\r\n      // Reintentar operaciones fallidas\r\n      this.retryFailedOperations();\r\n    } finally {\r\n      this.isProcessingQueue = false;\r\n    }\r\n  }\r\n\r\n  // Enviar operacin al servidor\r\n  async sendOperationToServer(operation) {\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        collaborationClient.sendMessage(operation);\r\n        resolve();\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Reintentar operaciones fallidas\r\n  retryFailedOperations() {\r\n    // Implementar lgica de reintentos si es necesario\r\n    console.log(' Reintentando operaciones fallidas...');\r\n  }\r\n\r\n  // Manejar operaciones entrantes de otros usuarios\r\n  handleIncomingSync(data) {\r\n    if (!this.isEnabled || !data.metadata || data.metadata.userId === this.currentUserId) {\r\n      return; // Ignorar operaciones propias\r\n    }\r\n\r\n    console.log(' Operacin recibida:', data.operation, 'de usuario:', data.metadata.userId);\r\n\r\n    // Emitir evento para que el contexto pueda manejar la sincronizacin\r\n    this.emitSyncEvent(data);\r\n  }\r\n\r\n  // Emitir evento de sincronizacin\r\n  emitSyncEvent(data) {\r\n    const event = new CustomEvent('collaborationSync', {\r\n      detail: {\r\n        operation: data.operation,\r\n        data: data.data,\r\n        metadata: data.metadata\r\n      }\r\n    });\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  // Generar ID nico para operaciones\r\n  generateOperationId() {\r\n    return `op_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n  }\r\n\r\n  // Mtodos de conveniencia para diferentes tipos de operaciones\r\n  syncProjectUpdate(projectData) {\r\n    this.sendSyncOperation('project_update', projectData, {\r\n      description: 'Actualizacin completa del proyecto'\r\n    });\r\n  }\r\n\r\n  syncCharacterAdd(characterData) {\r\n    this.sendSyncOperation('character_add', characterData, {\r\n      description: `Personaje agregado: ${characterData.name}`\r\n    });\r\n  }\r\n\r\n  syncCharacterEdit(characterData) {\r\n    this.sendSyncOperation('character_edit', characterData, {\r\n      description: `Personaje editado: ${characterData.name}`\r\n    });\r\n  }\r\n\r\n  syncCharacterDelete(characterId) {\r\n    this.sendSyncOperation('character_delete', { id: characterId }, {\r\n      description: 'Personaje eliminado'\r\n    });\r\n  }\r\n\r\n  syncScriptElementAdd(elementData) {\r\n    this.sendSyncOperation('script_element_add', elementData, {\r\n      description: `Elemento agregado: ${elementData.type}`\r\n    });\r\n  }\r\n\r\n  syncScriptElementEdit(elementData) {\r\n    this.sendSyncOperation('script_element_edit', elementData, {\r\n      description: `Elemento editado: ${elementData.type}`\r\n    });\r\n  }\r\n\r\n  syncScriptElementDelete(elementId) {\r\n    this.sendSyncOperation('script_element_delete', { id: elementId }, {\r\n      description: 'Elemento eliminado'\r\n    });\r\n  }\r\n\r\n  syncScriptElementMove(elementId, newIndex) {\r\n    this.sendSyncOperation('script_element_move', { id: elementId, newIndex }, {\r\n      description: 'Elemento movido'\r\n    });\r\n  }\r\n\r\n  syncSceneAdd(sceneData) {\r\n    this.sendSyncOperation('scene_add', sceneData, {\r\n      description: `Escena agregada: ${sceneData.name}`\r\n    });\r\n  }\r\n\r\n  syncSceneEdit(sceneData) {\r\n    this.sendSyncOperation('scene_edit', sceneData, {\r\n      description: `Escena editada: ${sceneData.name}`\r\n    });\r\n  }\r\n\r\n  syncSceneDelete(sceneId) {\r\n    this.sendSyncOperation('scene_delete', { id: sceneId }, {\r\n      description: 'Escena eliminada'\r\n    });\r\n  }\r\n\r\n  syncProtagonistConfig(configData) {\r\n    this.sendSyncOperation('protagonist_config', configData, {\r\n      description: 'Configuracin del protagonista actualizada'\r\n    });\r\n  }\r\n}\r\n\r\n// Instancia singleton\r\nexport const syncManager = new SyncManager();\r\n\r\nexport default syncManager;\r\n","// Hook para integrar sincronizacin en tiempo real con VisualNovelContext\r\nimport { useEffect, useRef, useCallback } from 'react';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport { syncManager } from '../utils/syncManager';\r\n\r\nexport const useCollaborationSync = (isEnabled, userId) => {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const previousStateRef = useRef(null);\r\n  const isInitializedRef = useRef(false);\r\n\r\n  // Inicializar/desactivar sincronizacin\r\n  useEffect(() => {\r\n    if (isEnabled && userId) {\r\n      syncManager.initialize(userId);\r\n      isInitializedRef.current = true;\r\n    } else if (isInitializedRef.current) {\r\n      syncManager.disable();\r\n      isInitializedRef.current = false;\r\n    }\r\n\r\n    return () => {\r\n      if (isInitializedRef.current) {\r\n        syncManager.disable();\r\n        isInitializedRef.current = false;\r\n      }\r\n    };\r\n  }, [isEnabled, userId]);\r\n\r\n  // Manejar eventos de sincronizacin entrantes\r\n  useEffect(() => {\r\n    if (!isEnabled) return;\r\n\r\n    const handleCollaborationSync = (event) => {\r\n      const { operation, data, metadata } = event.detail;\r\n      \r\n      console.log(' Sincronizacin recibida:', operation, data);\r\n\r\n      // Aplicar cambios segn el tipo de operacin\r\n      switch (operation) {\r\n        case 'project_update':\r\n          handleProjectUpdate(data);\r\n          break;\r\n        case 'character_add':\r\n          handleCharacterAdd(data);\r\n          break;\r\n        case 'character_edit':\r\n          handleCharacterEdit(data);\r\n          break;\r\n        case 'character_delete':\r\n          handleCharacterDelete(data.id);\r\n          break;\r\n        case 'script_element_add':\r\n          handleScriptElementAdd(data);\r\n          break;\r\n        case 'script_element_edit':\r\n          handleScriptElementEdit(data);\r\n          break;\r\n        case 'script_element_delete':\r\n          handleScriptElementDelete(data.id);\r\n          break;\r\n        case 'script_element_move':\r\n          handleScriptElementMove(data.id, data.newIndex);\r\n          break;\r\n        case 'scene_add':\r\n          handleSceneAdd(data);\r\n          break;\r\n        case 'scene_edit':\r\n          handleSceneEdit(data);\r\n          break;\r\n        case 'scene_delete':\r\n          handleSceneDelete(data.id);\r\n          break;\r\n        case 'protagonist_config':\r\n          handleProtagonistConfig(data);\r\n          break;\r\n        default:\r\n          console.warn(' Operacin de sincronizacin desconocida:', operation);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('collaborationSync', handleCollaborationSync);\r\n\r\n    return () => {\r\n      window.removeEventListener('collaborationSync', handleCollaborationSync);\r\n    };\r\n  }, [isEnabled, dispatch]);\r\n\r\n  // Funciones para manejar diferentes tipos de sincronizacin\r\n  const handleProjectUpdate = useCallback((projectData) => {\r\n    dispatch({ type: 'LOAD_PROJECT', payload: projectData });\r\n  }, [dispatch]);\r\n\r\n  const handleCharacterAdd = useCallback((characterData) => {\r\n    dispatch({ type: 'ADD_CHARACTER', payload: characterData });\r\n  }, [dispatch]);\r\n\r\n  const handleCharacterEdit = useCallback((characterData) => {\r\n    dispatch({ type: 'UPDATE_CHARACTER', payload: characterData });\r\n  }, [dispatch]);\r\n\r\n  const handleCharacterDelete = useCallback((characterId) => {\r\n    dispatch({ type: 'DELETE_CHARACTER', payload: characterId });\r\n  }, [dispatch]);\r\n\r\n  const handleScriptElementAdd = useCallback((elementData) => {\r\n    dispatch({ type: 'ADD_SCRIPT_ELEMENT', payload: elementData });\r\n  }, [dispatch]);\r\n\r\n  const handleScriptElementEdit = useCallback((elementData) => {\r\n    dispatch({ type: 'UPDATE_SCRIPT_ELEMENT', payload: elementData });\r\n  }, [dispatch]);\r\n\r\n  const handleScriptElementDelete = useCallback((elementId) => {\r\n    dispatch({ type: 'DELETE_SCRIPT_ELEMENT', payload: elementId });\r\n  }, [dispatch]);\r\n\r\n  const handleScriptElementMove = useCallback((elementId, newIndex) => {\r\n    dispatch({ type: 'MOVE_SCRIPT_ELEMENT', payload: { id: elementId, newIndex } });\r\n  }, [dispatch]);\r\n\r\n  const handleSceneAdd = useCallback((sceneData) => {\r\n    dispatch({ type: 'ADD_SCENE', payload: sceneData });\r\n  }, [dispatch]);\r\n\r\n  const handleSceneEdit = useCallback((sceneData) => {\r\n    dispatch({ type: 'UPDATE_SCENE', payload: sceneData });\r\n  }, [dispatch]);\r\n\r\n  const handleSceneDelete = useCallback((sceneId) => {\r\n    dispatch({ type: 'DELETE_SCENE', payload: sceneId });\r\n  }, [dispatch]);\r\n\r\n  const handleProtagonistConfig = useCallback((configData) => {\r\n    dispatch({ type: 'SET_PROTAGONIST_CONFIG', payload: configData });\r\n  }, [dispatch]);\r\n\r\n  // Detectar cambios en el estado y sincronizar\r\n  useEffect(() => {\r\n    if (!isEnabled || !isInitializedRef.current) return;\r\n\r\n    const currentState = state;\r\n    const previousState = previousStateRef.current;\r\n\r\n    if (previousState) {\r\n      // Detectar cambios en personajes\r\n      if (JSON.stringify(currentState.characters) !== JSON.stringify(previousState.characters)) {\r\n        console.log(' Cambios detectados en personajes');\r\n        \r\n        // Sincronizar cambios especficos\r\n        const currentChars = currentState.characters;\r\n        const previousChars = previousState.characters;\r\n\r\n        // Personajes agregados\r\n        const addedChars = currentChars.filter(char => \r\n          !previousChars.find(pChar => pChar.id === char.id)\r\n        );\r\n        addedChars.forEach(char => {\r\n          syncManager.syncCharacterAdd(char);\r\n        });\r\n\r\n        // Personajes editados\r\n        currentChars.forEach(char => {\r\n          const prevChar = previousChars.find(pChar => pChar.id === char.id);\r\n          if (prevChar && JSON.stringify(char) !== JSON.stringify(prevChar)) {\r\n            syncManager.syncCharacterEdit(char);\r\n          }\r\n        });\r\n\r\n        // Personajes eliminados\r\n        const deletedChars = previousChars.filter(pChar => \r\n          !currentChars.find(char => char.id === pChar.id)\r\n        );\r\n        deletedChars.forEach(char => {\r\n          syncManager.syncCharacterDelete(char.id);\r\n        });\r\n      }\r\n\r\n      // Detectar cambios en elementos del script\r\n      if (JSON.stringify(currentState.script) !== JSON.stringify(previousState.script)) {\r\n        console.log(' Cambios detectados en script');\r\n        \r\n        const currentScript = currentState.script;\r\n        const previousScript = previousState.script;\r\n\r\n        // Elementos agregados\r\n        const addedElements = currentScript.filter(element => \r\n          !previousScript.find(pElement => pElement.id === element.id)\r\n        );\r\n        addedElements.forEach(element => {\r\n          syncManager.syncScriptElementAdd(element);\r\n        });\r\n\r\n        // Elementos editados\r\n        currentScript.forEach(element => {\r\n          const prevElement = previousScript.find(pElement => pElement.id === element.id);\r\n          if (prevElement && JSON.stringify(element) !== JSON.stringify(prevElement)) {\r\n            syncManager.syncScriptElementEdit(element);\r\n          }\r\n        });\r\n\r\n        // Elementos eliminados\r\n        const deletedElements = previousScript.filter(pElement => \r\n          !currentScript.find(element => element.id === pElement.id)\r\n        );\r\n        deletedElements.forEach(element => {\r\n          syncManager.syncScriptElementDelete(element.id);\r\n        });\r\n\r\n        // Elementos movidos (cambios de orden)\r\n        if (currentScript.length === previousScript.length) {\r\n          currentScript.forEach((element, index) => {\r\n            const prevIndex = previousScript.findIndex(pElement => pElement.id === element.id);\r\n            if (prevIndex !== -1 && prevIndex !== index) {\r\n              syncManager.syncScriptElementMove(element.id, index);\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      // Detectar cambios en escenas\r\n      if (JSON.stringify(currentState.scenes) !== JSON.stringify(previousState.scenes)) {\r\n        console.log(' Cambios detectados en escenas');\r\n        \r\n        const currentScenes = currentState.scenes;\r\n        const previousScenes = previousState.scenes;\r\n\r\n        // Escenas agregadas\r\n        const addedScenes = currentScenes.filter(scene => \r\n          !previousScenes.find(pScene => pScene.id === scene.id)\r\n        );\r\n        addedScenes.forEach(scene => {\r\n          syncManager.syncSceneAdd(scene);\r\n        });\r\n\r\n        // Escenas editadas\r\n        currentScenes.forEach(scene => {\r\n          const prevScene = previousScenes.find(pScene => pScene.id === scene.id);\r\n          if (prevScene && JSON.stringify(scene) !== JSON.stringify(prevScene)) {\r\n            syncManager.syncSceneEdit(scene);\r\n          }\r\n        });\r\n\r\n        // Escenas eliminadas\r\n        const deletedScenes = previousScenes.filter(pScene => \r\n          !currentScenes.find(scene => scene.id === pScene.id)\r\n        );\r\n        deletedScenes.forEach(scene => {\r\n          syncManager.syncSceneDelete(scene.id);\r\n        });\r\n      }\r\n\r\n      // Detectar cambios en configuracin del protagonista\r\n      if (JSON.stringify(currentState.protagonistConfig) !== JSON.stringify(previousState.protagonistConfig)) {\r\n        console.log(' Cambios detectados en configuracin del protagonista');\r\n        syncManager.syncProtagonistConfig(currentState.protagonistConfig);\r\n      }\r\n    }\r\n\r\n    // Actualizar referencia del estado anterior\r\n    previousStateRef.current = JSON.parse(JSON.stringify(currentState));\r\n  }, [state, isEnabled]);\r\n\r\n  // Funcin para sincronizar manualmente el proyecto completo\r\n  const syncFullProject = useCallback(() => {\r\n    if (isEnabled && isInitializedRef.current) {\r\n      console.log(' Sincronizacin manual del proyecto completo');\r\n      syncManager.syncProjectUpdate(state.project);\r\n    }\r\n  }, [state.project, isEnabled]);\r\n\r\n  return {\r\n    syncFullProject,\r\n    isSyncEnabled: isEnabled && isInitializedRef.current\r\n  };\r\n};\r\n\r\nexport default useCollaborationSync;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../../context/VisualNovelContext';\r\nimport { useModalContext } from '../../context/ModalContext';\r\nimport { useNotification } from '../../context/NotificationContext';\r\nimport { collaborationClient } from '../../utils/collaborationClient';\r\nimport { ipDetector } from '../../utils/ipDetector';\r\nimport { ipEncoder } from '../../utils/ipEncoder';\r\nimport CollaborationInstructions from '../CollaborationInstructions';\r\nimport CollaborationHelp from '../CollaborationHelp';\r\nimport FloatingChat from '../FloatingChat';\r\nimport { useCollaborationSync } from '../../hooks/useCollaborationSync';\r\n\r\n// Keyframes definidos fuera de los styled components\r\nconst pulse = keyframes`\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.5; }\r\n`;\r\n\r\nconst PanelContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  \r\n  /* Responsive para mviles */\r\n  @media (max-width: 768px) {\r\n    gap: 12px;\r\n    padding: 8px;\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    gap: 8px;\r\n    padding: 4px;\r\n  }\r\n`;\r\n\r\nconst Section = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  transition: background-color 0.3s ease;\r\n  \r\n  /* Responsive para mviles */\r\n  @media (max-width: 768px) {\r\n    padding: 12px;\r\n    border-radius: 6px;\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    padding: 8px;\r\n    border-radius: 4px;\r\n  }\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  margin: 0 0 12px 0;\r\n  font-size: 14px;\r\n  color: var(--color-primary);\r\n  border-bottom: 1px solid var(--color-border);\r\n  padding-bottom: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: color 0.3s ease, border-color 0.3s ease;\r\n  \r\n  /* Responsive para mviles */\r\n  @media (max-width: 768px) {\r\n    font-size: 13px;\r\n    margin: 0 0 8px 0;\r\n    padding-bottom: 6px;\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    font-size: 12px;\r\n    margin: 0 0 6px 0;\r\n    padding-bottom: 4px;\r\n  }\r\n`;\r\n\r\nconst StatusIndicator = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  background-color: ${props => {\r\n    if (props.connected) return 'var(--color-success)';\r\n    if (props.connecting) return 'var(--color-warning)';\r\n    return 'var(--color-error)';\r\n  }};\r\n  color: var(--color-textInverse);\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  margin-bottom: 16px;\r\n  \r\n  .indicator-dot {\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    background-color: var(--color-textInverse);\r\n    animation: ${props => props.connecting ? css`${pulse} 1.5s infinite` : 'none'};\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background-color: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  width: 100%;\r\n  margin-bottom: 8px;\r\n  \r\n  &:hover:not(:disabled) {\r\n    background-color: var(--color-primaryHover);\r\n    transform: translateY(-1px);\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n  \r\n  &.secondary {\r\n    background-color: var(--color-surfaceElevated);\r\n    color: var(--color-textPrimary);\r\n    border: 1px solid var(--color-border);\r\n    \r\n    &:hover:not(:disabled) {\r\n      background-color: var(--color-borderSecondary);\r\n    }\r\n  }\r\n  \r\n  &.danger {\r\n    background-color: var(--color-error);\r\n    \r\n    &:hover:not(:disabled) {\r\n      background-color: var(--color-errorHover);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 6px;\r\n  background-color: var(--color-surface);\r\n  color: var(--color-textPrimary);\r\n  font-size: 12px;\r\n  margin-bottom: 8px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 2px rgba(74, 158, 255, 0.2);\r\n  }\r\n  \r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n  }\r\n`;\r\n\r\nconst RoomCodeDisplay = styled.div`\r\n  background-color: var(--color-background);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  text-align: center;\r\n  margin-bottom: 16px;\r\n  \r\n  .room-code {\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    color: var(--color-primary);\r\n    letter-spacing: 2px;\r\n    margin-bottom: 8px;\r\n  }\r\n  \r\n  .room-info {\r\n    font-size: 11px;\r\n    color: var(--color-textSecondary);\r\n  }\r\n`;\r\n\r\nconst UsersList = styled.div`\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst UserItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 6px 8px;\r\n  border-radius: 4px;\r\n  background-color: ${props => props.isHost ? 'var(--color-primary)' : 'var(--color-background)'};\r\n  color: ${props => props.isHost ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  font-size: 11px;\r\n  margin-bottom: 4px;\r\n  transition: all 0.3s ease;\r\n  \r\n  .user-avatar {\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    background-color: ${props => props.isHost ? 'var(--color-textInverse)' : 'var(--color-primary)'};\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 10px;\r\n  }\r\n  \r\n  .user-name {\r\n    flex: 1;\r\n    font-weight: 500;\r\n  }\r\n  \r\n  .user-status {\r\n    font-size: 10px;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\n\r\nconst CopyButton = styled.button`\r\n  background-color: var(--color-success);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 10px;\r\n  margin-left: 8px;\r\n  \r\n  &:hover {\r\n    background-color: var(--color-successHover);\r\n  }\r\n`;\r\n\r\nconst ServerInfoContainer = styled.div`\r\n  background-color: var(--color-background);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 8px;\r\n  padding: 12px;\r\n  margin-bottom: 16px;\r\n  \r\n  .server-title {\r\n    font-size: 12px;\r\n    font-weight: 600;\r\n    color: var(--color-primary);\r\n    margin-bottom: 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 6px;\r\n  }\r\n  \r\n  .server-ip {\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    color: var(--color-textPrimary);\r\n    font-family: 'Courier New', monospace;\r\n    margin-bottom: 4px;\r\n  }\r\n  \r\n  .server-type {\r\n    font-size: 10px;\r\n    color: var(--color-textSecondary);\r\n    margin-bottom: 8px;\r\n  }\r\n  \r\n  .server-actions {\r\n    display: flex;\r\n    gap: 8px;\r\n  }\r\n`;\r\n\r\nconst DetectButton = styled.button`\r\n  background-color: var(--color-warning);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  \r\n  &:hover:not(:disabled) {\r\n    background-color: var(--color-warningHover);\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nfunction CollaborationPanel() {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const { showAlert, showConfirm } = useModalContext();\r\n  const { showServerStatus, showSuccess, showError, showWarning, showInfo } = useNotification();\r\n  \r\n  // Estados locales\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [isConnecting, setIsConnecting] = useState(false);\r\n  const [roomCode, setRoomCode] = useState('');\r\n  const [isHost, setIsHost] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  const [chatInput, setChatInput] = useState('');\r\n  const [username, setUsername] = useState('Usuario');\r\n  const [serverUrl, setServerUrl] = useState('ws://localhost:3002/collaboration');\r\n  const [collaborationEnabled, setCollaborationEnabled] = useState(() => {\r\n    return localStorage.getItem('collaborationEnabled') === 'true';\r\n  });\r\n  const [publicIP, setPublicIP] = useState(null);\r\n  const [localIP, setLocalIP] = useState(null);\r\n  const [isDetectingIP, setIsDetectingIP] = useState(false);\r\n  const [serverInfo, setServerInfo] = useState(null);\r\n  const [connectionCode, setConnectionCode] = useState(null);\r\n\r\n  // Inicializar sincronizacin en tiempo real\r\n  const { syncFullProject, isSyncEnabled } = useCollaborationSync(\r\n    collaborationEnabled && isConnected, \r\n    username\r\n  );\r\n\r\n  // Conectar al servidor\r\n  const handleConnect = useCallback(async () => {\r\n    try {\r\n      setIsConnecting(true);\r\n      await collaborationClient.connect(serverUrl);\r\n      setIsConnected(true);\r\n      setIsConnecting(false);\r\n      showServerStatus('Conectado al servidor de colaboracin', 'success', '');\r\n    } catch (error) {\r\n      setIsConnecting(false);\r\n      showServerStatus('Error conectando al servidor: ' + error.message, 'error', '');\r\n    }\r\n  }, [serverUrl, showServerStatus]);\r\n\r\n  // Desconectar del servidor\r\n  const handleDisconnect = useCallback(() => {\r\n    collaborationClient.disconnect();\r\n    setIsConnected(false);\r\n    setRoomCode('');\r\n    setIsHost(false);\r\n    setUsers([]);\r\n    setChatMessages([]);\r\n    showServerStatus('Desconectado del servidor', 'info', '');\r\n  }, [showServerStatus]);\r\n\r\n  // Crear sala\r\n  const handleCreateRoom = useCallback(() => {\r\n    try {\r\n      collaborationClient.createRoom(state.project, username);\r\n      showServerStatus('Creando sala de colaboracin...', 'info', '');\r\n    } catch (error) {\r\n      showServerStatus('Error creando sala: ' + error.message, 'error', '');\r\n    }\r\n  }, [state.project, username, showServerStatus]);\r\n\r\n  // Unirse a sala\r\n  const handleJoinRoom = useCallback(() => {\r\n    if (!roomCode.trim()) {\r\n      showWarning('Ingresa un cdigo de sala', 'Cdigo Requerido', '');\r\n      return;\r\n    }\r\n\r\n    const trimmedCode = roomCode.trim();\r\n    \r\n    // Verificar si es un cdigo de conexin codificado\r\n    if (ipEncoder.validateCodeFormat(trimmedCode)) {\r\n      const decodedInfo = ipEncoder.decodeConnectionInfo(trimmedCode);\r\n      \r\n      if (decodedInfo.valid) {\r\n        // Usar la IP decodificada para conectar\r\n        const decodedServerUrl = `ws://${decodedInfo.ip}:${decodedInfo.port}/collaboration`;\r\n        setServerUrl(decodedServerUrl);\r\n        showServerStatus(`Cdigo decodificado. Conectando a servidor...`, 'info', '');\r\n        \r\n        // Conectar al servidor decodificado\r\n        handleConnect();\r\n        return;\r\n      } else {\r\n        showWarning(`Cdigo invlido: ${decodedInfo.error}`, 'Error de Cdigo', '');\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // Si no es un cdigo codificado, proceder como antes (cdigo de sala normal)\r\n    try {\r\n      collaborationClient.joinRoom(trimmedCode, username);\r\n      showServerStatus('Unindose a la sala...', 'info', '');\r\n    } catch (error) {\r\n      showServerStatus('Error unindose a la sala: ' + error.message, 'error', '');\r\n    }\r\n  }, [roomCode, username, showWarning, showServerStatus, handleConnect]);\r\n\r\n  // Abandonar sala\r\n  const handleLeaveRoom = useCallback(() => {\r\n    collaborationClient.leaveRoom();\r\n    setRoomCode('');\r\n    setIsHost(false);\r\n    setUsers([]);\r\n    setChatMessages([]);\r\n    showInfo('Abandonaste la sala', 'Sala Abandonada', '');\r\n  }, [showInfo]);\r\n\r\n  // Copiar cdigo de sala\r\n  const handleCopyRoomCode = useCallback(async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(collaborationClient.getRoomCode());\r\n      showSuccess('Cdigo copiado al portapapeles', 'Cdigo Copiado', '');\r\n    } catch (error) {\r\n      showError('Error copiando cdigo', 'Error', '');\r\n    }\r\n  }, [showSuccess, showError]);\r\n\r\n  // Enviar mensaje de chat\r\n  const handleSendChat = useCallback((message) => {\r\n    if (!message || !message.trim()) return;\r\n    \r\n    collaborationClient.sendChatMessage(message.trim());\r\n  }, []);\r\n\r\n\r\n  // Detectar IPs automticamente\r\n  const handleDetectIPs = useCallback(async () => {\r\n    try {\r\n      setIsDetectingIP(true);\r\n      showServerStatus('Detectando IPs...', 'info', '');\r\n      \r\n      const ips = await ipDetector.detectAllIPs();\r\n      setPublicIP(ips.public);\r\n      setLocalIP(ips.local);\r\n      \r\n      // Generar informacin del servidor\r\n      const serverURL = ipDetector.generateServerURL(3002);\r\n      setServerInfo(serverURL);\r\n      \r\n      // Generar cdigo de conexin codificado\r\n      if (ips.public) {\r\n        const encodedCode = ipEncoder.encodeConnectionInfo(ips.public, 3002);\r\n        setConnectionCode(encodedCode);\r\n        showServerStatus(`IP pblica detectada y codificada`, 'success', '');\r\n      } else if (ips.local) {\r\n        const encodedCode = ipEncoder.encodeConnectionInfo(ips.local, 3002);\r\n        setConnectionCode(encodedCode);\r\n        showServerStatus(`IP local detectada y codificada`, 'success', '');\r\n      } else {\r\n        showServerStatus('No se pudo detectar IP automticamente', 'warning', '');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error detectando IPs:', error);\r\n      showServerStatus('Error detectando IPs', 'error', '');\r\n    } finally {\r\n      setIsDetectingIP(false);\r\n    }\r\n  }, [showServerStatus]);\r\n\r\n  // Copiar informacin del servidor\r\n  const handleCopyServerInfo = useCallback(async () => {\r\n    if (!serverInfo) return;\r\n    \r\n    const textToCopy = serverInfo.display;\r\n    try {\r\n      await navigator.clipboard.writeText(textToCopy);\r\n      showSuccess(`${textToCopy} copiado al portapapeles`, 'IP Copiada', '');\r\n    } catch (error) {\r\n      showServerStatus('Error copiando informacin del servidor', 'error', '');\r\n    }\r\n  }, [serverInfo, showSuccess, showServerStatus]);\r\n\r\n  // Copiar cdigo de conexin codificado\r\n  const handleCopyConnectionCode = useCallback(async () => {\r\n    if (!connectionCode) return;\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(connectionCode);\r\n      showSuccess(`Cdigo de conexin copiado: ${connectionCode}`, 'Cdigo Copiado', '');\r\n    } catch (error) {\r\n      showServerStatus('Error copiando cdigo de conexin', 'error', '');\r\n    }\r\n  }, [connectionCode, showSuccess, showServerStatus]);\r\n\r\n\r\n  // Iniciar servidor real de colaboracin\r\n  const handleStartRealServer = useCallback(async () => {\r\n    try {\r\n      showServerStatus('Iniciando servidor real de colaboracin...', 'info', '');\r\n      \r\n      // Crear una ventana modal con instrucciones\r\n      const confirmed = await showConfirm(\r\n        'Para iniciar el servidor real, necesitas ejecutar un comando en la terminal.\\n\\n' +\r\n        'Quieres que te muestre las instrucciones paso a paso?',\r\n        'Iniciar Servidor Real',\r\n        ''\r\n      );\r\n      \r\n      if (confirmed) {\r\n        // Mostrar instrucciones detalladas\r\n        const instructions = ` GUA COMPLETA PARA INICIAR SERVIDOR REAL:\r\n\r\n PASO 1 - Abrir Terminal en la Carpeta Correcta:\r\n    Presiona Win + R, escribe \"cmd\" y presiona Enter\r\n    O busca \"Smbolo del sistema\" en el men inicio\r\n    Navega a la carpeta del editor:\r\n     cd C:\\\\Users\\\\[TuUsuario]\\\\Documents\\\\editor20212\r\n    O si descargaste el editor, ve a donde lo descomprimiste\r\n\r\n PASO 2 - Verificar que ests en la carpeta correcta:\r\n    Debes ver archivos como: package.json, collaboration-server.js\r\n    Si ves \"El sistema no puede encontrar la ruta\", revisa la ubicacin\r\n\r\n PASO 3 - Ejecutar el servidor:\r\n   npm run server:collaboration\r\n\r\n PASO 4 - Alternativa (si npm no funciona):\r\n   node collaboration-server.js\r\n\r\n PASO 5 - Verificar que funciona:\r\n    Debes ver: \" Servidor de colaboracin iniciado en 0.0.0.0:3002\"\r\n    Si hay errores, revisa que Node.js est instalado\r\n\r\n IMPORTANTE: Mantn esta ventana abierta mientras colaboras`;\r\n        \r\n        showAlert(instructions, 'Instrucciones del Servidor', '');\r\n        \r\n        // Tambin copiar el comando al portapapeles\r\n        try {\r\n          await navigator.clipboard.writeText('npm run server:collaboration');\r\n          showSuccess('Comando copiado al portapapeles', 'Comando Copiado', '');\r\n        } catch (error) {\r\n          console.log('No se pudo copiar al portapapeles');\r\n        }\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error iniciando servidor real:', error);\r\n      showServerStatus('Error mostrando instrucciones del servidor', 'error', '');\r\n    }\r\n  }, [showServerStatus, showConfirm]);\r\n\r\n  // Activar/desactivar colaboracin\r\n  const handleToggleCollaboration = useCallback(async () => {\r\n    const newState = !collaborationEnabled;\r\n    setCollaborationEnabled(newState);\r\n    \r\n    // Guardar en localStorage\r\n    localStorage.setItem('collaborationEnabled', newState.toString());\r\n    \r\n    if (newState) {\r\n      showServerStatus('Colaboracin activada - Usa \"Iniciar Servidor Real\" para comenzar', 'info', '');\r\n      // Detectar IPs automticamente cuando se activa\r\n      handleDetectIPs();\r\n    } else {\r\n      // Desconectar si est conectado\r\n      if (isConnected) {\r\n        handleDisconnect();\r\n      }\r\n      showServerStatus('Colaboracin desactivada', 'info', '');\r\n    }\r\n  }, [collaborationEnabled, isConnected, handleDisconnect, showServerStatus, handleDetectIPs]);\r\n\r\n  // Configurar event listeners\r\n  useEffect(() => {\r\n    const handleRoomCreated = (data) => {\r\n      setRoomCode(data.roomCode);\r\n      setIsHost(true);\r\n      showSuccess(`Sala ${data.roomCode} creada exitosamente`, 'Sala Creada', '');\r\n    };\r\n\r\n    const handleRoomJoined = (data) => {\r\n      setRoomCode(data.roomCode);\r\n      setIsHost(false);\r\n      setUsers(data.users);\r\n      showSuccess(`Te uniste a la sala ${data.roomCode}`, 'Sala Unida', '');\r\n    };\r\n\r\n    const handleUserJoined = (data) => {\r\n      setUsers(prev => [...prev, data.user]);\r\n      setChatMessages(prev => [...prev, {\r\n        type: 'system',\r\n        user: 'Sistema',\r\n        text: `${data.user.username} se uni a la sala`,\r\n        timestamp: Date.now()\r\n      }]);\r\n    };\r\n\r\n    const handleUserLeft = (data) => {\r\n      setUsers(prev => prev.filter(user => user.id !== data.user.id));\r\n      setChatMessages(prev => [...prev, {\r\n        type: 'system',\r\n        user: 'Sistema',\r\n        text: `${data.user.username} abandon la sala`,\r\n        timestamp: Date.now()\r\n      }]);\r\n    };\r\n\r\n    const handleChatMessage = (data) => {\r\n      setChatMessages(prev => [...prev, {\r\n        type: 'user',\r\n        user: data.username,\r\n        text: data.message,\r\n        timestamp: data.timestamp\r\n      }]);\r\n    };\r\n\r\n    const handleSyncOperation = (data) => {\r\n      // El nuevo sistema de sincronizacin maneja esto automticamente\r\n      // a travs del hook useCollaborationSync\r\n      console.log(' Operacin de sincronizacin recibida:', data.operation, data.data);\r\n      \r\n      // Mostrar notificacin de sincronizacin\r\n      if (data.metadata && data.metadata.description) {\r\n        showServerStatus(`Sincronizado: ${data.metadata.description}`, 'info', '');\r\n      }\r\n    };\r\n\r\n    const handleError = (data) => {\r\n      showError('Error: ' + data.message, 'Error de Colaboracin', '');\r\n    };\r\n\r\n    const handleDisconnected = () => {\r\n      setIsConnected(false);\r\n      setRoomCode('');\r\n      setIsHost(false);\r\n      setUsers([]);\r\n      setChatMessages([]);\r\n    };\r\n\r\n    // Registrar event listeners\r\n    collaborationClient.on('roomCreated', handleRoomCreated);\r\n    collaborationClient.on('roomJoined', handleRoomJoined);\r\n    collaborationClient.on('userJoined', handleUserJoined);\r\n    collaborationClient.on('userLeft', handleUserLeft);\r\n    collaborationClient.on('chatMessage', handleChatMessage);\r\n    collaborationClient.on('syncOperation', handleSyncOperation);\r\n    collaborationClient.on('error', handleError);\r\n    collaborationClient.on('disconnected', handleDisconnected);\r\n\r\n    // Cleanup\r\n    return () => {\r\n      collaborationClient.off('roomCreated', handleRoomCreated);\r\n      collaborationClient.off('roomJoined', handleRoomJoined);\r\n      collaborationClient.off('userJoined', handleUserJoined);\r\n      collaborationClient.off('userLeft', handleUserLeft);\r\n      collaborationClient.off('chatMessage', handleChatMessage);\r\n      collaborationClient.off('syncOperation', handleSyncOperation);\r\n      collaborationClient.off('error', handleError);\r\n      collaborationClient.off('disconnected', handleDisconnected);\r\n    };\r\n  }, [showSuccess, showError]);\r\n\r\n  return (\r\n    <PanelContainer>\r\n      <Section>\r\n        <SectionTitle>\r\n           Colaboracin\r\n          <Button \r\n            onClick={handleToggleCollaboration}\r\n            className={collaborationEnabled ? 'danger' : 'secondary'}\r\n            style={{ \r\n              width: 'auto', \r\n              padding: '4px 8px', \r\n              fontSize: '10px',\r\n              margin: 0,\r\n              minHeight: 'auto'\r\n            }}\r\n          >\r\n            {collaborationEnabled ? ' Desactivar' : ' Activar'}\r\n          </Button>\r\n        </SectionTitle>\r\n        \r\n        {collaborationEnabled ? (\r\n          <>\r\n            \r\n            <StatusIndicator \r\n              connected={isConnected} \r\n              connecting={isConnecting}\r\n            >\r\n              <div className=\"indicator-dot\" />\r\n              {isConnecting ? 'Conectando...' : \r\n               isConnected ? 'Conectado al servidor' : 'Desconectado del servidor'}\r\n            </StatusIndicator>\r\n          </>\r\n        ) : (\r\n          <div style={{\r\n            padding: '12px',\r\n            backgroundColor: 'var(--color-backgroundSecondary)',\r\n            borderRadius: '6px',\r\n            textAlign: 'center',\r\n            color: 'var(--color-textSecondary)',\r\n            fontSize: '12px',\r\n            border: '1px dashed var(--color-border)'\r\n          }}>\r\n            <div style={{ marginBottom: '8px', fontSize: '16px' }}></div>\r\n            <div style={{ fontWeight: '600', marginBottom: '4px' }}>\r\n              Colaboracin Desactivada\r\n            </div>\r\n            <div style={{ fontSize: '11px', opacity: 0.8, marginBottom: '8px' }}>\r\n              Activa la colaboracin para trabajar en equipo\r\n            </div>\r\n            <div style={{ fontSize: '10px', opacity: 0.7, fontStyle: 'italic', marginBottom: '8px' }}>\r\n               Para colaboracin real, activa la colaboracin y usa \"Iniciar Servidor Real\"\r\n            </div>\r\n            <div style={{ fontSize: '9px', opacity: 0.6, fontStyle: 'italic' }}>\r\n               Usuarios avanzados: npm run server:collaboration\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {collaborationEnabled && (\r\n          <>\r\n            {/* Gua de ayuda para usuarios nuevos */}\r\n            <CollaborationHelp onStartRealServer={handleStartRealServer} />\r\n            \r\n            {/* Informacin del servidor */}\r\n            {serverInfo && (\r\n              <ServerInfoContainer>\r\n                <div className=\"server-title\">\r\n                   Servidor de Colaboracin\r\n                </div>\r\n                <div className=\"server-ip\">\r\n                  {serverInfo.display}\r\n                </div>\r\n                <div className=\"server-type\">\r\n                  {publicIP ? 'IP Pblica' : localIP ? 'IP Local' : 'Localhost'}\r\n                </div>\r\n                <div className=\"server-actions\">\r\n                  <CopyButton onClick={handleCopyServerInfo}>\r\n                     Copiar IP\r\n                  </CopyButton>\r\n                  <DetectButton \r\n                    onClick={handleDetectIPs} \r\n                    disabled={isDetectingIP}\r\n                  >\r\n                    {isDetectingIP ? ' Detectando...' : ' Actualizar IP'}\r\n                  </DetectButton>\r\n                </div>\r\n                \r\n                {/* Cdigo de conexin seguro */}\r\n                {connectionCode && (\r\n                  <>\r\n                    <div style={{ \r\n                      borderTop: '1px solid var(--color-border)', \r\n                      marginTop: '12px', \r\n                      paddingTop: '12px' \r\n                    }}>\r\n                      <div className=\"server-title\">\r\n                         Cdigo de Conexin Seguro\r\n                      </div>\r\n                      <div style={{ \r\n                        fontFamily: 'monospace', \r\n                        fontSize: '14px', \r\n                        fontWeight: 'bold',\r\n                        color: 'var(--color-success)',\r\n                        marginBottom: '8px'\r\n                      }}>\r\n                        {connectionCode}\r\n                      </div>\r\n                      <div style={{ \r\n                        fontSize: '11px', \r\n                        opacity: 0.8, \r\n                        marginBottom: '8px',\r\n                        fontStyle: 'italic'\r\n                      }}>\r\n                         Comparte este cdigo en lugar de la IP real\r\n                      </div>\r\n                      <CopyButton onClick={handleCopyConnectionCode}>\r\n                         Copiar Cdigo Seguro\r\n                      </CopyButton>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </ServerInfoContainer>\r\n            )}\r\n\r\n            {/* Controles del servidor */}\r\n            {collaborationEnabled && (\r\n              <div style={{ display: 'flex', gap: '8px', marginBottom: '16px', flexWrap: 'wrap' }}>\r\n                <Button \r\n                  onClick={handleStartRealServer}\r\n                  className=\"primary\"\r\n                  style={{ backgroundColor: 'var(--color-success)' }}\r\n                >\r\n                   Iniciar Servidor Real\r\n                </Button>\r\n                \r\n                <Button \r\n                  onClick={handleDetectIPs} \r\n                  disabled={isDetectingIP}\r\n                  className=\"secondary\"\r\n                >\r\n                  {isDetectingIP ? ' Detectando...' : ' Detectar IP'}\r\n                </Button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Instrucciones de conexin */}\r\n            {serverInfo && (\r\n              <CollaborationInstructions \r\n                serverInfo={serverInfo} \r\n                isHost={false} \r\n              />\r\n            )}\r\n\r\n            {!isConnected ? (\r\n          <>\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"URL del servidor (ej: ws://localhost:3002/collaboration)\"\r\n              value={serverUrl}\r\n              onChange={(e) => setServerUrl(e.target.value)}\r\n            />\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Tu nombre de usuario\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n            <Button onClick={handleConnect} disabled={isConnecting}>\r\n              {isConnecting ? 'Conectando...' : 'Conectar'}\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {!roomCode ? (\r\n              <>\r\n                <Input\r\n                  type=\"text\"\r\n                  placeholder=\"Cdigo de sala o cdigo seguro\"\r\n                  value={roomCode}\r\n                  onChange={(e) => setRoomCode(e.target.value)}\r\n                />\r\n                <div style={{ \r\n                  fontSize: '10px', \r\n                  opacity: 0.7, \r\n                  marginTop: '4px',\r\n                  marginBottom: '8px',\r\n                  fontStyle: 'italic'\r\n                }}>\r\n                   Acepta cdigos normales (ABC123) o cdigos seguros (ABC123-XYZ789)\r\n                </div>\r\n                <Button onClick={handleCreateRoom}>\r\n                   Crear Sala\r\n                </Button>\r\n                <Button className=\"secondary\" onClick={handleJoinRoom}>\r\n                   Unirse a Sala\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <RoomCodeDisplay>\r\n                  <div className=\"room-code\">{roomCode}</div>\r\n                  <div className=\"room-info\">\r\n                    {isHost ? 'Sala creada por ti' : 'Sala de colaboracin'}\r\n                  </div>\r\n                </RoomCodeDisplay>\r\n                \r\n                <Button className=\"secondary\" onClick={handleCopyRoomCode}>\r\n                   Copiar Cdigo\r\n                </Button>\r\n                \r\n                <UsersList>\r\n                  {users.map(user => (\r\n                    <UserItem key={user.id} isHost={user.isHost}>\r\n                      <div className=\"user-avatar\">\r\n                        {user.username.charAt(0).toUpperCase()}\r\n                      </div>\r\n                      <div className=\"user-name\">{user.username}</div>\r\n                      {user.isHost && <div className=\"user-status\">Host</div>}\r\n                    </UserItem>\r\n                  ))}\r\n                </UsersList>\r\n\r\n\r\n                <Button className=\"danger\" onClick={handleLeaveRoom}>\r\n                   Abandonar Sala\r\n                </Button>\r\n              </>\r\n            )}\r\n            \r\n            {/* Indicador y botn de sincronizacin */}\r\n            {isSyncEnabled && (\r\n              <div style={{ \r\n                display: 'flex', \r\n                alignItems: 'center', \r\n                gap: '8px',\r\n                marginTop: '8px',\r\n                padding: '8px',\r\n                backgroundColor: 'rgba(74, 158, 255, 0.1)',\r\n                borderRadius: '6px',\r\n                border: '1px solid rgba(74, 158, 255, 0.3)'\r\n              }}>\r\n                <div style={{ \r\n                  width: '8px', \r\n                  height: '8px', \r\n                  borderRadius: '50%',\r\n                  backgroundColor: '#4ade80',\r\n                  animation: 'pulse 2s infinite'\r\n                }}></div>\r\n                <span style={{ \r\n                  fontSize: '12px', \r\n                  color: 'var(--color-primary)',\r\n                  fontWeight: '600'\r\n                }}>\r\n                  Sincronizacin Activa\r\n                </span>\r\n                <Button \r\n                  onClick={syncFullProject}\r\n                  style={{ \r\n                    fontSize: '10px',\r\n                    padding: '4px 8px',\r\n                    backgroundColor: 'var(--color-primary)',\r\n                    color: 'white'\r\n                  }}\r\n                >\r\n                   Sincronizar\r\n                </Button>\r\n              </div>\r\n            )}\r\n            \r\n            <Button className=\"danger\" onClick={handleDisconnect}>\r\n               Desconectar\r\n            </Button>\r\n          </>\r\n        )}\r\n          </>\r\n        )}\r\n      </Section>\r\n\r\n      {/* Chat flotante - solo se muestra cuando hay una sala activa */}\r\n      {(roomCode || isHost) && (\r\n        <FloatingChat\r\n          messages={chatMessages}\r\n          onSendMessage={handleSendChat}\r\n          currentUser={username}\r\n          isConnected={isConnected}\r\n          roomCode={roomCode}\r\n        />\r\n      )}\r\n    </PanelContainer>\r\n  );\r\n}\r\n\r\nexport default CollaborationPanel;\r\n","import React from 'react';\r\n\r\n// Iconos SVG para el sidebar\r\nexport const ProjectIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 13H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 17H13\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const CharactersIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"9\" cy=\"7\" r=\"4\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M23 21V19C23 18.1645 22.7155 17.3541 22.2094 16.7006C21.7033 16.0471 20.9999 15.5904 20.2 15.4\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45768C17.623 10.1593 16.8604 10.6597 16 10.88\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ScenesIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 15H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 21H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ScriptIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const CollaborationIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"9\" cy=\"7\" r=\"4\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M23 21V19C23 18.1645 22.7155 17.3541 22.2094 16.7006C21.7033 16.0471 20.9999 15.5904 20.2 15.4\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45768C17.623 10.1593 16.8604 10.6597 16 10.88\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 12L16 8L20 12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ToolsIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14.7 6.3C15.1 5.9 15.1 5.3 14.7 4.9L13.8 4C13.4 3.6 12.8 3.6 12.4 4L11.5 4.9C11.1 5.3 11.1 5.9 11.5 6.3L14.7 6.3Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M20.1 12.9L19.2 12C18.8 11.6 18.2 11.6 17.8 12L16.9 12.9C16.5 13.3 16.5 13.9 16.9 14.3L20.1 12.9Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8.3 18.7L7.4 17.8C7 17.4 6.4 17.4 6 17.8L5.1 18.7C4.7 19.1 4.7 19.7 5.1 20.1L8.3 18.7Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 12L12 8L16 12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 2V6\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 18V22\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const DownloadsIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M7 10L12 15L17 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 15V3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ConfigIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.2569 9.77251 19.9859C9.5799 19.7148 9.31074 19.5053 9 19.38C8.69838 19.2469 8.36381 19.2072 8.03941 19.266C7.71502 19.3248 7.41568 19.4795 7.18 19.71L7.12 19.77C6.93425 19.956 6.71368 20.1035 6.47088 20.2041C6.22808 20.3048 5.96783 20.3566 5.705 20.3566C5.44217 20.3566 5.18192 20.3048 4.93912 20.2041C4.69632 20.1035 4.47575 19.956 4.29 19.77C4.10405 19.5843 3.95653 19.3637 3.85588 19.1209C3.75523 18.8781 3.70343 18.6178 3.70343 18.355C3.70343 18.0922 3.75523 17.8319 3.85588 17.5891C3.95653 17.3463 4.10405 17.1257 4.29 16.94L4.35 16.88C4.58054 16.6443 4.73519 16.345 4.794 16.0206C4.85282 15.6962 4.81312 15.3616 4.68 15.06C4.55324 14.7642 4.34276 14.512 4.07447 14.3343C3.80618 14.1566 3.49179 14.0613 3.17 14.06H3C2.46957 14.06 1.96086 14.2707 1.58579 14.6458C1.21071 15.0209 1 15.5296 1 16.06C1 16.5904 1.21071 17.0991 1.58579 17.4742C1.96086 17.8493 2.46957 18.06 3 18.06H3.09C3.42099 18.0677 3.743 18.1749 4.014 18.3675C4.285 18.5601 4.49453 18.8293 4.62 19.14L4.68 19.2C4.81312 19.5016 4.85282 19.8362 4.794 20.1606C4.73519 20.485 4.58054 20.7843 4.35 21.02L4.29 21.08C4.10405 21.266 3.88348 21.4135 3.64068 21.5141C3.39788 21.6148 3.13763 21.6666 2.8748 21.6666C2.61197 21.6666 2.35172 21.6148 2.10892 21.5141C1.86612 21.4135 1.64555 21.266 1.4598 21.08C1.27385 20.8943 1.12633 20.6737 1.02568 20.4309C0.92503 20.1881 0.87323 19.9278 0.87323 19.665C0.87323 19.4022 0.92503 19.1419 1.02568 18.8991C1.12633 18.6563 1.27385 18.4357 1.4598 18.25L1.5198 18.19C1.75537 17.9595 1.91002 17.6602 1.96884 17.3358C2.02765 17.0114 1.98795 16.6768 1.8548 16.375V16.375Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Iconos para submens\r\nexport const ConverterIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M8 3H5C4.46957 3 3.96086 3.21071 3.58579 3.58579C3.21071 3.96086 3 4.46957 3 5V8M21 8V5C21 4.46957 20.7893 3.96086 20.4142 3.58579C20.0391 3.21071 19.5304 3 19 3H16M16 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V16M3 16V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 8L16 12L12 16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 12H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ValidatorIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 12L11 14L15 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const OptimizerIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M13 2L3 14H12L11 22L21 10H12L13 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const BackupIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M21 16V8C21 7.46957 20.7893 6.96086 20.4142 6.58579C20.0391 6.21071 19.5304 6 19 6H5C4.46957 6 3.96086 6.21071 3.58579 6.58579C3.21071 6.96086 3 7.46957 3 8V16C3 16.5304 3.21071 17.0391 3.58579 17.4142C3.96086 17.7893 4.46957 18 5 18H19C19.5304 18 20.0391 17.7893 20.4142 17.4142C20.7893 17.0391 21 16.5304 21 16Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M7 10H17\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M7 14H13\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const AnalyticsIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M18 20V10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 20V4\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M6 20V14\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const TemplatesIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const AssetsIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 15L16 10L5 21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ScriptsIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ExtensionsIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M12 2L2 7L12 12L22 7L12 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M2 17L12 22L22 17\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M2 12L12 17L22 12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const UpdatesIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 8V12L15 15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport CharacterPanel from './panels/CharacterPanel';\r\nimport ScenePanel from './panels/ScenePanel';\r\nimport ScriptPanel from './panels/ScriptPanel';\r\nimport ProjectPanel from './panels/ProjectPanel';\r\nimport AdvancedConfigPanel from './panels/AdvancedConfigPanel';\r\nimport CollaborationPanel from './panels/CollaborationPanel';\r\nimport {\r\n  ProjectIcon,\r\n  CharactersIcon,\r\n  ScenesIcon,\r\n  ScriptIcon,\r\n  CollaborationIcon,\r\n  ToolsIcon,\r\n  DownloadsIcon,\r\n  ConfigIcon,\r\n  ConverterIcon,\r\n  ValidatorIcon,\r\n  OptimizerIcon,\r\n  BackupIcon,\r\n  AnalyticsIcon,\r\n  TemplatesIcon,\r\n  AssetsIcon,\r\n  ScriptsIcon,\r\n  ExtensionsIcon,\r\n  UpdatesIcon\r\n} from './icons/SidebarIcons';\r\n\r\n// Keyframes definidos fuera de los styled components\r\nconst pulse = keyframes`\r\n  0%, 100% { transform: translateY(-50%) scale(1); }\r\n  50% { transform: translateY(-50%) scale(1.05); }\r\n`;\r\n\r\nconst modalSlideIn = keyframes`\r\n  from {\r\n    transform: translateX(-100%);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateX(0);\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst modalSlideInVertical = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px) scale(0.95);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1);\r\n  }\r\n`;\r\n\r\nconst SidebarContainer = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 80px; /* Ms abajo para no tapar el logo */\r\n  bottom: 0;\r\n  width: ${props => {\r\n    if (props.activePanel) return '420px'; // Ms ancho para mejor trabajo\r\n    return props.expanded ? '280px' : '60px';\r\n  }};\r\n  background-color: var(--color-surface);\r\n  border-right: 1px solid var(--color-border);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  z-index: 100;\r\n  box-shadow: ${props => props.expanded ? '0 4px 20px var(--color-shadow)' : '0 2px 8px var(--color-shadow)'};\r\n  \r\n  /* Esquinas redondeadas dinmicas */\r\n  border-radius: ${props => {\r\n    if (props.activePanel) return '0 16px 16px 0'; // Ms redondeado cuando est expandido\r\n    return props.expanded ? '0 12px 12px 0' : '0 8px 8px 0'; // Diferentes niveles\r\n  }};\r\n  \r\n  /* Efecto de suavizado en los bordes */\r\n  backdrop-filter: blur(8px);\r\n  -webkit-backdrop-filter: blur(8px);\r\n`;\r\n\r\nconst MenuToggle = styled.div`\r\n  position: absolute;\r\n  top: 0px;\r\n  right: 0px;\r\n  width: 32px;\r\n  height: 32px;\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  border: 3px solid var(--color-surface);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  color: var(--color-textInverse);\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  z-index: 101;\r\n  box-shadow: 0 4px 16px rgba(74, 158, 255, 0.3);\r\n  \r\n  /* Efecto de brillo sutil */\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 2px;\r\n    left: 2px;\r\n    right: 2px;\r\n    height: 40%;\r\n    background: linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);\r\n    border-radius: 50% 50% 0 0;\r\n    pointer-events: none;\r\n  }\r\n\r\n  &:hover {\r\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n    transform: scale(1.15) rotate(5deg);\r\n    box-shadow: 0 6px 20px rgba(74, 158, 255, 0.4);\r\n    border-width: 4px;\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(1.05) rotate(2deg);\r\n    box-shadow: 0 2px 12px rgba(74, 158, 255, 0.3);\r\n  }\r\n`;\r\n\r\nconst TabsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 16px 0; // Reducir padding para mejor aprovechamiento del espacio\r\n  gap: 8px; // Aumentar gap para mejor separacin\r\n  transition: all 0.3s ease;\r\n`;\r\n\r\nconst SidebarLayout = styled.div`\r\n  display: flex;\r\n  height: 100%;\r\n  flex: 1;\r\n`;\r\n\r\nconst TabsSection = styled.div`\r\n  width: ${props => props.activePanel ? '60px' : '100%'};\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-right: ${props => props.activePanel ? '1px solid var(--color-border)' : 'none'};\r\n`;\r\n\r\nconst ContentSection = styled.div`\r\n  flex: 1;\r\n  display: ${props => props.activePanel ? 'flex' : 'none'};\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  position: relative;\r\n  height: 100%;\r\n`;\r\n\r\nconst Tab = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: ${props => props.compact ? '10px' : '12px 16px'}; // Padding uniforme para tabs compactos\r\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'transparent'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: ${props => props.compact ? '12px' : '14px'};\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  border-radius: ${props => {\r\n    if (props.compact) return '50%';\r\n    return props.expanded ? '0 20px 20px 0' : '50%';\r\n  }};\r\n  margin: ${props => {\r\n    if (props.compact) return '0 auto';\r\n    return props.expanded ? '0 8px 0 0' : '0 auto';\r\n  }};\r\n  width: ${props => {\r\n    if (props.compact) return '44px'; // Aumentar de 36px a 44px para mejor visibilidad\r\n    return props.expanded ? 'auto' : '44px';\r\n  }};\r\n  height: ${props => props.compact ? '44px' : '44px'}; // Mantener altura consistente\r\n  justify-content: ${props => props.expanded && !props.compact ? 'flex-start' : 'center'};\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-backgroundSecondary)'};\r\n    transform: ${props => {\r\n      if (props.compact) return 'scale(1.1)';\r\n      return props.expanded ? 'translateX(4px)' : 'scale(1.1)';\r\n    }};\r\n  }\r\n\r\n  &:active {\r\n    transform: ${props => {\r\n      if (props.compact) return 'scale(0.95)';\r\n      return props.expanded ? 'translateX(2px)' : 'scale(0.95)';\r\n    }};\r\n  }\r\n`;\r\n\r\nconst TabIcon = styled.span`\r\n  font-size: ${props => props.compact ? '18px' : '18px'}; // Mantener tamao consistente para mejor visibilidad\r\n  min-width: ${props => props.compact ? '20px' : '20px'};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  line-height: 1;\r\n`;\r\n\r\nconst TabLabel = styled.span`\r\n  margin-left: 12px;\r\n  opacity: ${props => (props.expanded && !props.compact) ? 1 : 0};\r\n  transform: translateX(${props => (props.expanded && !props.compact) ? '0' : '-10px'});\r\n  transition: all 0.3s ease;\r\n  white-space: nowrap;\r\n  display: ${props => props.compact ? 'none' : 'block'};\r\n`;\r\n\r\nconst PanelContainer = styled.div`\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  padding: 16px;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border-left: 1px solid var(--color-border);\r\n  position: relative;\r\n  height: 100%;\r\n  \r\n  /* Scroll suave y personalizado */\r\n  scroll-behavior: auto; /* Cambiar a auto para mejor control manual */\r\n  scrollbar-width: thin;\r\n  scrollbar-color: var(--color-border) transparent;\r\n  \r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-track {\r\n    background: transparent;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: var(--color-border);\r\n    border-radius: 3px;\r\n    transition: background-color 0.3s ease;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background-color: var(--color-primary);\r\n  }\r\n  \r\n  /* Estilos para mejor legibilidad */\r\n  h3 {\r\n    font-size: 16px;\r\n    margin-bottom: 16px;\r\n    color: var(--color-primary);\r\n    font-weight: 600;\r\n  }\r\n  \r\n  /* Mejorar spacing en formularios */\r\n  .form-group {\r\n    margin-bottom: 16px;\r\n  }\r\n  \r\n  label {\r\n    display: block;\r\n    font-size: 13px;\r\n    font-weight: 500;\r\n    margin-bottom: 6px;\r\n    color: var(--color-textSecondary);\r\n  }\r\n  \r\n  input, textarea, select {\r\n    width: 100%;\r\n    font-size: 13px;\r\n    padding: 8px 12px;\r\n  }\r\n  \r\n  button {\r\n    font-size: 12px;\r\n    padding: 6px 12px;\r\n  }\r\n`;\r\n\r\nconst Tooltip = styled.div`\r\n  position: absolute;\r\n  left: 60px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  background-color: var(--color-backgroundElevated);\r\n  color: var(--color-textPrimary);\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  transition: all 0.2s ease;\r\n  pointer-events: none;\r\n  z-index: 1000;\r\n  border: 1px solid var(--color-border);\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    right: 100%;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    border: 5px solid transparent;\r\n    border-right-color: var(--color-border);\r\n  }\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    right: 100%;\r\n    top: 50%;\r\n    transform: translateY(-50%) translateX(1px);\r\n    border: 4px solid transparent;\r\n    border-right-color: var(--color-backgroundElevated);\r\n  }\r\n\r\n  ${Tab}:hover & {\r\n    opacity: ${props => props.expanded ? 0 : 1};\r\n    visibility: ${props => props.expanded ? 'hidden' : 'visible'};\r\n  }\r\n`;\r\n\r\nconst SidebarOverlay = styled.div`\r\n  position: fixed;\r\n  top: 72px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.08);\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\r\n  transition: all 0.3s ease;\r\n  z-index: 99;\r\n  pointer-events: none;\r\n`;\r\n\r\nconst ScrollIndicator = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 8px;\r\n  transform: translateY(-50%);\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  border-radius: 16px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  opacity: ${props => props.visible ? 0.9 : 0};\r\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  pointer-events: none;\r\n  z-index: 102;\r\n  white-space: nowrap;\r\n  box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  \r\n  /* Efecto de pulso sutil */\r\n  animation: ${props => props.visible ? css`${pulse} 2s ease-in-out infinite` : 'none'};\r\n`;\r\n\r\nconst ScrollHint = styled.div`\r\n  position: absolute;\r\n  bottom: 16px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n  color: var(--color-textSecondary);\r\n  padding: 10px 14px;\r\n  border-radius: 20px;\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  border: 1px solid var(--color-border);\r\n  opacity: ${props => props.visible ? 0.95 : 0};\r\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  pointer-events: none;\r\n  z-index: 102;\r\n  white-space: nowrap;\r\n  box-shadow: 0 4px 16px var(--color-shadow);\r\n  backdrop-filter: blur(8px);\r\n  -webkit-backdrop-filter: blur(8px);\r\n  \r\n  &::before {\r\n    content: '';\r\n    margin-right: 8px;\r\n    font-size: 12px;\r\n  }\r\n  \r\n  /* Animacin de entrada suave */\r\n  transform: ${props => props.visible \r\n    ? 'translateX(-50%) translateY(0) scale(1)' \r\n    : 'translateX(-50%) translateY(10px) scale(0.9)'};\r\n`;\r\n\r\nconst SubmenuContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: var(--color-surface);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 8px;\r\n  margin: 8px 12px;\r\n  padding: 8px;\r\n  gap: 4px;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n`;\r\n\r\nconst SubmenuButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px 14px;\r\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 1px solid ${props => props.active ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  text-align: left;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-surfaceElevated)'};\r\n    border-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-borderSecondary)'};\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 2px 8px var(--color-shadow);\r\n    color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  }\r\n  \r\n  &:active {\r\n    transform: scale(0.98);\r\n  }\r\n`;\r\n\r\nconst SubmenuIcon = styled.span`\r\n  font-size: 14px;\r\n  margin-right: 8px;\r\n  min-width: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst SubmenuLabel = styled.span`\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n`;\r\n\r\n// Estilos para el modal\r\nconst ModalOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  display: ${props => props.visible ? 'flex' : 'none'};\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  backdrop-filter: blur(4px);\r\n  -webkit-backdrop-filter: blur(4px);\r\n`;\r\n\r\nconst ModalContainer = styled.div`\r\n  background-color: var(--color-surface);\r\n  border-radius: 16px;\r\n  border: 1px solid var(--color-border);\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\r\n  max-width: 400px;\r\n  width: 90%;\r\n  padding: 24px;\r\n  animation: ${css`${modalSlideInVertical} 0.3s ease-out`};\r\n`;\r\n\r\nconst ModalTitle = styled.h3`\r\n  margin: 0 0 16px 0;\r\n  color: var(--color-textPrimary);\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst ModalMessage = styled.p`\r\n  margin: 0 0 20px 0;\r\n  color: var(--color-textSecondary);\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n`;\r\n\r\nconst ModalButtons = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst ModalButton = styled.button`\r\n  padding: 10px 20px;\r\n  border-radius: 8px;\r\n  border: none;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  \r\n  &.primary {\r\n    background-color: var(--color-primary);\r\n    color: var(--color-textInverse);\r\n    \r\n    &:hover {\r\n      background-color: var(--color-primaryHover);\r\n      transform: translateY(-1px);\r\n    }\r\n  }\r\n  \r\n  &.secondary {\r\n    background-color: transparent;\r\n    color: var(--color-textSecondary);\r\n    border: 1px solid var(--color-border);\r\n    \r\n    &:hover {\r\n      background-color: var(--color-backgroundSecondary);\r\n      color: var(--color-textPrimary);\r\n    }\r\n  }\r\n`;\r\n\r\nfunction Sidebar() {\r\n  const { storage } = useVisualNovel();\r\n  const [activeTab, setActiveTab] = useState(() => {\r\n    // Cargar la ltima pestaa activa guardada\r\n    return storage.getLastActiveTab();\r\n  });\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [isHovering, setIsHovering] = useState(false);\r\n  const [autoCollapseTimer, setAutoCollapseTimer] = useState(null);\r\n  const [activePanel, setActivePanel] = useState(null); // Panel actualmente seleccionado\r\n  const [activeSubmenu, setActiveSubmenu] = useState(null); // Submen actualmente activo\r\n  const [showScrollHint, setShowScrollHint] = useState(false);\r\n  const [isScrolling, setIsScrolling] = useState(false);\r\n  const [showMirrorModal, setShowMirrorModal] = useState(false);\r\n  const sidebarRef = useRef(null);\r\n  const panelRef = useRef(null);\r\n\r\n  // Escuchar evento para abrir sidebar automticamente\r\n  useEffect(() => {\r\n    const handleOpenSidebarForElementCreation = (event) => {\r\n      const { type, sceneFileId, insertIndex } = event.detail;\r\n      console.log('Sidebar: Recibido evento para abrir sidebar:', { type, sceneFileId, insertIndex });\r\n      \r\n      // Abrir el sidebar y activar el panel de Script\r\n      setExpanded(true);\r\n      setActivePanel('script');\r\n      setActiveTab('script');\r\n      \r\n      // Esperar un poco para que el sidebar se abra y luego preparar el formulario\r\n      setTimeout(() => {\r\n        if (window.addElementToScene) {\r\n          window.addElementToScene(type, sceneFileId, insertIndex);\r\n        }\r\n      }, 200);\r\n    };\r\n\r\n    window.addEventListener('openSidebarForElementCreation', handleOpenSidebarForElementCreation);\r\n    document.addEventListener('openSidebarForElementCreation', handleOpenSidebarForElementCreation);\r\n\r\n    return () => {\r\n      window.removeEventListener('openSidebarForElementCreation', handleOpenSidebarForElementCreation);\r\n      document.removeEventListener('openSidebarForElementCreation', handleOpenSidebarForElementCreation);\r\n    };\r\n  }, []);\r\n  const scrollHintTimer = useRef(null);\r\n\r\n  // Configuracin de tabs\r\n  const tabs = [\r\n    { id: 'project', label: 'Proyecto', icon: ProjectIcon },\r\n    { id: 'characters', label: 'Personajes', icon: CharactersIcon },\r\n    { id: 'scenes', label: 'Escenas', icon: ScenesIcon },\r\n    { id: 'script', label: 'Script', icon: ScriptIcon },\r\n    { id: 'collaboration', label: 'Colaboracin', icon: CollaborationIcon },\r\n    { id: 'tools', label: 'Herramientas', icon: ToolsIcon, hasSubmenu: true },\r\n    { id: 'downloads', label: 'Descargas', icon: DownloadsIcon, hasSubmenu: true },\r\n    { id: 'config', label: 'Configuracin', icon: ConfigIcon }\r\n  ];\r\n\r\n  // Manejar cambio de pestaa\r\n  const handleTabChange = (tabId) => {\r\n    const tab = tabs.find(t => t.id === tabId);\r\n    \r\n    setActiveTab(tabId);\r\n    storage.setLastActiveTab(tabId);\r\n    \r\n    // Si es la misma pestaa, toggle del panel\r\n    if (activePanel === tabId) {\r\n      setActivePanel(null);\r\n      setActiveSubmenu(null);\r\n      setExpanded(false);\r\n    } else {\r\n      // Activar panel y expandir\r\n      setActivePanel(tabId);\r\n      setExpanded(true);\r\n      \r\n      // Si tiene submen, mostrar el primer submen por defecto\r\n      if (tab?.hasSubmenu) {\r\n        setActiveSubmenu(getDefaultSubmenu(tabId));\r\n      } else {\r\n        setActiveSubmenu(null);\r\n      }\r\n    }\r\n    \r\n    // Limpiar timer de auto-colapso\r\n    if (autoCollapseTimer) {\r\n      clearTimeout(autoCollapseTimer);\r\n      setAutoCollapseTimer(null);\r\n    }\r\n  };\r\n\r\n  // Funcin para obtener el submen por defecto\r\n  const getDefaultSubmenu = (tabId) => {\r\n    switch (tabId) {\r\n      case 'tools':\r\n        return 'converter';\r\n      case 'downloads':\r\n        return 'templates';\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  // Manejar cambio de submen\r\n  const handleSubmenuChange = (submenuId) => {\r\n    setActiveSubmenu(submenuId);\r\n  };\r\n\r\n  // Manejar hover del sidebar\r\n  const handleMouseEnter = () => {\r\n    setIsHovering(true);\r\n    \r\n    // Solo expandir para hover si no hay panel activo\r\n    if (!activePanel) {\r\n      setExpanded(true);\r\n    }\r\n    \r\n    // Limpiar timer de auto-colapso\r\n    if (autoCollapseTimer) {\r\n      clearTimeout(autoCollapseTimer);\r\n      setAutoCollapseTimer(null);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setIsHovering(false);\r\n    \r\n    // Solo auto-colapsar si no hay panel activo\r\n    if (!activePanel) {\r\n      const timer = setTimeout(() => {\r\n        if (!isHovering && !activePanel) {\r\n          setExpanded(false);\r\n        }\r\n      }, 1500);\r\n      \r\n      setAutoCollapseTimer(timer);\r\n    }\r\n  };\r\n\r\n  // Toggle manual del sidebar\r\n  const toggleSidebar = () => {\r\n    if (activePanel) {\r\n      // Si hay panel activo, cerrarlo\r\n      setActivePanel(null);\r\n      setExpanded(false);\r\n    } else {\r\n      // Si no hay panel, solo toggle de expansin\r\n      setExpanded(!expanded);\r\n    }\r\n    \r\n    // Limpiar timer si se hace toggle manual\r\n    if (autoCollapseTimer) {\r\n      clearTimeout(autoCollapseTimer);\r\n      setAutoCollapseTimer(null);\r\n    }\r\n  };\r\n\r\n  // Mostrar hint de scroll cuando se abre un panel\r\n  useEffect(() => {\r\n    if (activePanel && panelRef.current) {\r\n      // Verificar si hay contenido que hacer scroll\r\n      const hasScrollableContent = panelRef.current.scrollHeight > panelRef.current.clientHeight;\r\n      \r\n      if (hasScrollableContent) {\r\n        setShowScrollHint(true);\r\n        \r\n        // Ocultar hint despus de 3 segundos\r\n        scrollHintTimer.current = setTimeout(() => {\r\n          setShowScrollHint(false);\r\n        }, 3000);\r\n      }\r\n    } else {\r\n      setShowScrollHint(false);\r\n    }\r\n\r\n    return () => {\r\n      if (scrollHintTimer.current) {\r\n        clearTimeout(scrollHintTimer.current);\r\n      }\r\n    };\r\n  }, [activePanel]);\r\n\r\n  // Manejar scroll con rueda del mouse - Approach directo en el panel\r\n  useEffect(() => {\r\n    const handlePanelWheel = (e) => {\r\n      const panelElement = panelRef.current;\r\n      if (!panelElement) return;\r\n      \r\n      // Verificar si hay contenido scrollable\r\n      const hasScrollableContent = panelElement.scrollHeight > panelElement.clientHeight;\r\n      \r\n      if (hasScrollableContent) {\r\n        // Mostrar indicador de scroll\r\n        setIsScrolling(true);\r\n        setShowScrollHint(false);\r\n        \r\n        // El scroll nativo ya funciona, solo agregamos feedback visual\r\n        setTimeout(() => {\r\n          setIsScrolling(false);\r\n        }, 1000);\r\n      }\r\n    };\r\n\r\n    // Agregar listener directamente al panel\r\n    const panelElement = panelRef.current;\r\n    if (activePanel && panelElement) {\r\n      panelElement.addEventListener('wheel', handlePanelWheel);\r\n    }\r\n\r\n    return () => {\r\n      if (panelElement) {\r\n        panelElement.removeEventListener('wheel', handlePanelWheel);\r\n      }\r\n    };\r\n  }, [activePanel]);\r\n\r\n  // Limpiar timer al desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      if (autoCollapseTimer) {\r\n        clearTimeout(autoCollapseTimer);\r\n      }\r\n    };\r\n  }, [autoCollapseTimer]);\r\n\r\n  // Configuracin de submens\r\n  const getSubmenus = (tabId) => {\r\n    switch (tabId) {\r\n      case 'tools':\r\n        return [\r\n          { id: 'converter', label: 'Convertidor', icon: ConverterIcon },\r\n          { id: 'validator', label: 'Validador', icon: ValidatorIcon },\r\n          { id: 'optimizer', label: 'Optimizador', icon: OptimizerIcon },\r\n          { id: 'backup', label: 'Respaldo', icon: BackupIcon },\r\n          { id: 'analytics', label: 'Anlisis', icon: AnalyticsIcon }\r\n        ];\r\n      case 'downloads':\r\n        return [\r\n          { id: 'templates', label: 'Plantillas', icon: TemplatesIcon },\r\n          { id: 'assets', label: 'Recursos', icon: AssetsIcon },\r\n          { id: 'scripts', label: 'Scripts', icon: ScriptsIcon },\r\n          { id: 'extensions', label: 'Extensiones', icon: ExtensionsIcon },\r\n          { id: 'updates', label: 'Actualizaciones/Descargas', icon: UpdatesIcon }\r\n        ];\r\n      default:\r\n        return [];\r\n    }\r\n  };\r\n\r\n  // Renderizar submen\r\n  const renderSubmenu = (tabId) => {\r\n    const submenus = getSubmenus(tabId);\r\n    if (submenus.length === 0) return null;\r\n\r\n    return (\r\n      <SubmenuContainer>\r\n        {submenus.map(submenu => {\r\n          const IconComponent = submenu.icon;\r\n          return (\r\n          <SubmenuButton\r\n            key={submenu.id}\r\n            active={activeSubmenu === submenu.id}\r\n            onClick={() => handleSubmenuChange(submenu.id)}\r\n          >\r\n              <SubmenuIcon>\r\n                <IconComponent size={14} color=\"currentColor\" />\r\n              </SubmenuIcon>\r\n            <SubmenuLabel>{submenu.label}</SubmenuLabel>\r\n          </SubmenuButton>\r\n          );\r\n        })}\r\n      </SubmenuContainer>\r\n    );\r\n  };\r\n\r\n  // Renderizar panel activo\r\n  const renderPanel = () => {\r\n    switch (activeTab) {\r\n      case 'project':\r\n        return <ProjectPanel />;\r\n      case 'characters':\r\n        return <CharacterPanel />;\r\n      case 'scenes':\r\n        return <ScenePanel />;\r\n      case 'script':\r\n        return <ScriptPanel />;\r\n      case 'collaboration':\r\n        return <CollaborationPanel />;\r\n      case 'tools':\r\n        return renderToolPanel();\r\n      case 'downloads':\r\n        return renderDownloadPanel();\r\n      case 'config':\r\n        return <AdvancedConfigPanel />;\r\n      default:\r\n        return <ProjectPanel />;\r\n    }\r\n  };\r\n\r\n  // Renderizar panel de herramientas\r\n  const renderToolPanel = () => {\r\n    return (\r\n      <div style={{ padding: '16px', textAlign: 'center' }}>\r\n        <h3 style={{ marginBottom: '16px', color: 'var(--color-primary)' }}>\r\n           Herramientas\r\n        </h3>\r\n        <div style={{ \r\n          padding: '20px', \r\n          backgroundColor: 'var(--color-backgroundTertiary)', \r\n          borderRadius: '8px',\r\n          border: '1px solid var(--color-border)'\r\n        }}>\r\n          <p style={{ color: 'var(--color-textSecondary)', marginBottom: '16px' }}>\r\n            Selecciona una herramienta del submen para comenzar\r\n          </p>\r\n          {activeSubmenu && (\r\n            <div style={{ \r\n              padding: '12px', \r\n              backgroundColor: 'var(--color-primary)', \r\n              color: 'var(--color-textInverse)',\r\n              borderRadius: '6px',\r\n              fontSize: '12px'\r\n            }}>\r\n              {getSubmenus('tools').find(s => s.id === activeSubmenu)?.label} - Prximamente\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Renderizar panel de descargas\r\n  const renderDownloadPanel = () => {\r\n    // Renderizar contenido especfico segn el submen\r\n    if (activeSubmenu === 'updates') {\r\n      return renderUpdatesPanel();\r\n    }\r\n\r\n    return (\r\n      <div style={{ padding: '16px', textAlign: 'center' }}>\r\n        <h3 style={{ marginBottom: '16px', color: 'var(--color-primary)' }}>\r\n           Descargas\r\n        </h3>\r\n        <div style={{ \r\n          padding: '20px', \r\n          backgroundColor: 'var(--color-backgroundTertiary)', \r\n          borderRadius: '8px',\r\n          border: '1px solid var(--color-border)'\r\n        }}>\r\n          <p style={{ color: 'var(--color-textSecondary)', marginBottom: '16px' }}>\r\n            Selecciona una categora del submen para descargar recursos\r\n          </p>\r\n          {activeSubmenu && (\r\n            <div style={{ \r\n              padding: '12px', \r\n              backgroundColor: 'var(--color-primary)', \r\n              color: 'var(--color-textInverse)',\r\n              borderRadius: '6px',\r\n              fontSize: '12px'\r\n            }}>\r\n              {getSubmenus('downloads').find(s => s.id === activeSubmenu)?.label} - Prximamente\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Renderizar panel de actualizaciones\r\n  const renderUpdatesPanel = () => {\r\n    return (\r\n      <div style={{ padding: '16px' }}>\r\n        <h3 style={{ marginBottom: '16px', color: 'var(--color-primary)' }}>\r\n           Actualizaciones\r\n        </h3>\r\n        \r\n        {/* Mini Post de Descarga Offline */}\r\n        <div style={{\r\n          backgroundColor: 'var(--color-backgroundTertiary)',\r\n          borderRadius: '12px',\r\n          border: '1px solid var(--color-border)',\r\n          overflow: 'hidden',\r\n          marginBottom: '16px',\r\n          boxShadow: '0 2px 8px var(--color-shadow)'\r\n        }}>\r\n          {/* Header del Post */}\r\n          <div style={{\r\n            background: 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)',\r\n            padding: '12px 16px',\r\n            color: 'var(--color-textInverse)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px'\r\n          }}>\r\n            <span style={{ fontSize: '16px' }}></span>\r\n            <div>\r\n              <h4 style={{ margin: 0, fontSize: '14px', fontWeight: '600' }}>\r\n                Editor Offline\r\n              </h4>\r\n              <p style={{ margin: 0, fontSize: '11px', opacity: 0.9 }}>\r\n                Versin v1.0.1 - ltima actualizacin\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Contenido del Post */}\r\n          <div style={{ padding: '16px' }}>\r\n            <p style={{ \r\n              color: 'var(--color-textSecondary)', \r\n              fontSize: '12px', \r\n              marginBottom: '16px',\r\n              lineHeight: '1.4'\r\n            }}>\r\n              Descarga RynEditor para usar sin conexin a internet. \r\n              Incluye todas las funcionalidades del editor web.\r\n            </p>\r\n\r\n            {/* Informacin del archivo */}\r\n            <div style={{\r\n              backgroundColor: 'var(--color-background)',\r\n              padding: '12px',\r\n              borderRadius: '8px',\r\n              border: '1px solid var(--color-borderSecondary)',\r\n              marginBottom: '16px'\r\n            }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>\r\n                <span style={{ fontSize: '11px', color: 'var(--color-textSecondary)' }}>\r\n                   Archivo: RynEditor_v1.0.1.zip\r\n                </span>\r\n                <span style={{ fontSize: '11px', color: 'var(--color-primary)', fontWeight: '500' }}>\r\n                  31.1 MB\r\n                </span>\r\n              </div>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <span style={{ fontSize: '11px', color: 'var(--color-textSecondary)' }}>\r\n                   Compatible: Windows, macOS, Linux\r\n                </span>\r\n                <span style={{ fontSize: '11px', color: 'var(--color-success)', fontWeight: '500' }}>\r\n                   Listo\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Botones de descarga */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n              <button\r\n                onClick={() => handleDownloadOffline('mirror')}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '10px 16px',\r\n                  backgroundColor: 'var(--color-primary)',\r\n                  color: 'var(--color-textInverse)',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.3s ease',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '8px'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.backgroundColor = 'var(--color-primaryHover)';\r\n                  e.target.style.transform = 'translateY(-1px)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.backgroundColor = 'var(--color-primary)';\r\n                  e.target.style.transform = 'translateY(0)';\r\n                }}\r\n              >\r\n                <span></span>\r\n                Descargar (Mirror Principal)\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => handleDownloadOffline('external')}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '10px 16px',\r\n                  backgroundColor: 'transparent',\r\n                  color: 'var(--color-primary)',\r\n                  border: '1px solid var(--color-primary)',\r\n                  borderRadius: '8px',\r\n                  fontSize: '12px',\r\n                  fontWeight: '500',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.3s ease',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '8px'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.backgroundColor = 'var(--color-primary)';\r\n                  e.target.style.color = 'var(--color-textInverse)';\r\n                  e.target.style.transform = 'translateY(-1px)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.backgroundColor = 'transparent';\r\n                  e.target.style.color = 'var(--color-primary)';\r\n                  e.target.style.transform = 'translateY(0)';\r\n                }}\r\n              >\r\n                <span></span>\r\n                Descargar (Enlace Externo)\r\n              </button>\r\n            </div>\r\n\r\n            {/* Informacin adicional */}\r\n            <div style={{\r\n              marginTop: '12px',\r\n              padding: '10px',\r\n              backgroundColor: 'var(--color-background)',\r\n              borderRadius: '6px',\r\n              border: '1px solid var(--color-borderSecondary)'\r\n            }}>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '6px' }}>\r\n                <span style={{ fontSize: '12px' }}></span>\r\n                <span style={{ fontSize: '11px', color: 'var(--color-textSecondary)', fontWeight: '500' }}>\r\n                  Instrucciones:\r\n                </span>\r\n              </div>\r\n              <ul style={{ \r\n                margin: 0, \r\n                paddingLeft: '16px', \r\n                fontSize: '10px', \r\n                color: 'var(--color-textTertiary)',\r\n                lineHeight: '1.3'\r\n              }}>\r\n                <li>Extrae el archivo ZIP en cualquier carpeta</li>\r\n                <li>Ejecuta el archivo index.html en tu navegador</li>\r\n                <li>Listo! El editor funcionar sin internet</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Otras actualizaciones (placeholder) */}\r\n        <div style={{\r\n          backgroundColor: 'var(--color-backgroundTertiary)',\r\n          borderRadius: '8px',\r\n          border: '1px solid var(--color-border)',\r\n          padding: '12px',\r\n          textAlign: 'center'\r\n        }}>\r\n          <p style={{ color: 'var(--color-textSecondary)', fontSize: '11px', margin: 0 }}>\r\n             Ms actualizaciones prximamente...\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Manejar descarga offline\r\n  const handleDownloadOffline = (source) => {\r\n    if (source === 'mirror') {\r\n      // Mostrar modal explicativo para mirror\r\n      setShowMirrorModal(true);\r\n    } else if (source === 'external') {\r\n      // Descarga desde enlace externo (alternativo)\r\n      window.open('https://bit.ly/46kUtwr', '_blank');\r\n    }\r\n  };\r\n\r\n  // Confirmar descarga desde mirror\r\n  const confirmMirrorDownload = () => {\r\n    window.open('https://github.com/ryn-editor/editor.github.io/releases/latest', '_blank');\r\n    setShowMirrorModal(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SidebarOverlay visible={expanded && activePanel} />\r\n      <SidebarContainer\r\n        ref={sidebarRef}\r\n        expanded={expanded}\r\n        activePanel={activePanel}\r\n        onMouseEnter={handleMouseEnter}\r\n        onMouseLeave={handleMouseLeave}\r\n      >\r\n        <MenuToggle onClick={toggleSidebar}>\r\n          {activePanel ? '' : (expanded ? '' : '')}\r\n        </MenuToggle>\r\n\r\n        <SidebarLayout>\r\n          <TabsSection activePanel={activePanel}>\r\n            <TabsContainer>\r\n        {tabs.map(tab => {\r\n          // Lgica corregida: compact cuando no est expandido O cuando hay panel activo pero no es este tab\r\n          const isCompact = !expanded || (activePanel && activePanel !== tab.id);\r\n          const IconComponent = tab.icon;\r\n          \r\n          return (\r\n          <Tab\r\n            key={tab.id}\r\n            active={activeTab === tab.id}\r\n              expanded={expanded}\r\n              compact={isCompact}\r\n            onClick={() => handleTabChange(tab.id)}\r\n            >\r\n              <TabIcon compact={isCompact}>\r\n                <IconComponent size={18} color=\"currentColor\" />\r\n              </TabIcon>\r\n              <TabLabel \r\n                expanded={expanded} \r\n                compact={isCompact}\r\n              >\r\n                {tab.label}\r\n              </TabLabel>\r\n              {isCompact && (\r\n                <Tooltip expanded={expanded}>\r\n            {tab.label}\r\n                </Tooltip>\r\n              )}\r\n          </Tab>\r\n          );\r\n        })}\r\n            </TabsContainer>\r\n          </TabsSection>\r\n      \r\n          <ContentSection activePanel={activePanel}>\r\n            {/* Renderizar submen si existe */}\r\n            {activePanel && renderSubmenu(activePanel)}\r\n            \r\n            <PanelContainer ref={panelRef}>\r\n        {renderPanel()}\r\n      </PanelContainer>\r\n            \r\n            {/* Indicadores de scroll */}\r\n            <ScrollIndicator visible={isScrolling}>\r\n              Desplazando...\r\n            </ScrollIndicator>\r\n            \r\n            <ScrollHint visible={showScrollHint}>\r\n              Usa la rueda del mouse para navegar\r\n            </ScrollHint>\r\n          </ContentSection>\r\n        </SidebarLayout>\r\n    </SidebarContainer>\r\n\r\n    {/* Modal para descarga desde mirror */}\r\n    <ModalOverlay \r\n      visible={showMirrorModal}\r\n      onClick={() => setShowMirrorModal(false)}\r\n    >\r\n      <ModalContainer onClick={(e) => e.stopPropagation()}>\r\n        <ModalTitle>\r\n           Enlace Externo\r\n        </ModalTitle>\r\n        <ModalMessage>\r\n          Tambin puedes descargar RynEditor desde nuestro enlace externo que nos ayuda con los acortadores. \r\n          Este enlace te llevar directamente a GitHub Releases donde podrs descargar la ltima versin del editor.\r\n        </ModalMessage>\r\n        <ModalButtons>\r\n          <ModalButton \r\n            className=\"secondary\"\r\n            onClick={() => setShowMirrorModal(false)}\r\n          >\r\n            Cancelar\r\n          </ModalButton>\r\n          <ModalButton \r\n            className=\"primary\"\r\n            onClick={confirmMirrorDownload}\r\n          >\r\n            Continuar Descarga\r\n          </ModalButton>\r\n        </ModalButtons>\r\n      </ModalContainer>\r\n    </ModalOverlay>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","// Configuracin para optimizacin del ScriptEditor\r\nexport const SCRIPT_EDITOR_CONFIG = {\r\n  // Configuracin de scroll\r\n  scroll: {\r\n    sensitivity: 4.0,\r\n    timeout: 200,\r\n    arrowScrollAmount: 300,\r\n    pageScrollAmount: 600,\r\n    spaceScrollAmount: 400\r\n  },\r\n  \r\n  // Configuracin de hints\r\n  hints: {\r\n    showDelay: 1000,\r\n    hideDelay: 4000\r\n  },\r\n  \r\n  // Configuracin de animaciones\r\n  animations: {\r\n    fadeInDuration: 300,\r\n    slideInDuration: 500,\r\n    pulseDuration: 2000\r\n  },\r\n  \r\n  // Configuracin de formularios\r\n  forms: {\r\n    textareaMinHeight: 80,\r\n    inputPadding: '10px 12px',\r\n    borderRadius: 8\r\n  },\r\n  \r\n  // Configuracin de rendimiento\r\n  performance: {\r\n    maxElementsToRender: 100, // Lmite para virtualizacin si es necesario\r\n    debounceDelay: 100,\r\n    throttleDelay: 16\r\n  }\r\n};\r\n\r\n// Funcin para obtener configuracin especfica\r\nexport const getScriptEditorConfig = (key) => {\r\n  return SCRIPT_EDITOR_CONFIG[key] || null;\r\n};\r\n\r\n// Funcin para validar si hay demasiados elementos\r\nexport const shouldVirtualizeElements = (elementCount) => {\r\n  return elementCount > SCRIPT_EDITOR_CONFIG.performance.maxElementsToRender;\r\n};\r\n","import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport { useModalContext } from '../context/ModalContext';\r\nimport { \r\n  getElementTypeLabel,\r\n  getElementTypeIcon,\r\n  getElementTypeColor\r\n} from '../config/elementTypes';\r\nimport { getAllTransitions, getTransitionsGroupedByCategory, getTransitionsGroupedByElementType } from '../config/renpyTransitions';\r\nimport { SCRIPT_EDITOR_CONFIG } from '../config/scriptEditorConfig';\r\nimport { FileManager } from '../utils/fileManager';\r\n\r\n// Animaciones\r\nconst slideIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst shimmer = keyframes`\r\n  0% {\r\n    background-position: -200px 0;\r\n  }\r\n  100% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }\r\n`;\r\n\r\nconst EditorContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  max-height: 100vh;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  padding: 20px;\r\n  padding-right: 28px;\r\n  box-sizing: border-box;\r\n  outline: none;\r\n  cursor: default;\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundSecondary) 100%);\r\n  border-radius: 16px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  animation: ${slideIn} 0.5s ease-out;\r\n  \r\n  &:focus {\r\n    outline: 2px solid var(--color-primary);\r\n    outline-offset: -2px;\r\n  }\r\n  \r\n  /* Estilos de scrollbar personalizados */\r\n  &::-webkit-scrollbar {\r\n    width: 12px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-track {\r\n    background: var(--color-surface);\r\n    border-radius: 6px;\r\n    margin: 8px 0;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n    border-radius: 6px;\r\n    transition: all 0.3s ease;\r\n    border: 2px solid var(--color-surface);\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n    transform: scale(1.05);\r\n  }\r\n  \r\n  /* Firefox */\r\n  scrollbar-width: thin;\r\n  scrollbar-color: var(--color-primary) var(--color-surface);\r\n`;\r\n\r\nconst ScriptList = styled.div`\r\n  flex: 1;\r\n  display: ${props => props.isGridMode ? 'grid' : 'flex'};\r\n  flex-direction: ${props => props.isGridMode ? 'unset' : 'column'};\r\n  grid-template-columns: ${props => props.isGridMode ? `repeat(${props.columns}, 1fr)` : 'unset'};\r\n  gap: 12px;\r\n  padding-bottom: 100px;\r\n  transition: all 0.3s ease;\r\n`;\r\n\r\nconst ScriptElement = styled.div`\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  border: 2px solid ${props => {\r\n    if (props.editing) return 'var(--color-success)';\r\n    if (props.selected) return 'var(--color-primary)';\r\n    return 'var(--color-border)';\r\n  }};\r\n  border-radius: ${props => props.isGridMode ? '12px' : '16px'};\r\n  padding: ${props => props.isGridMode ? '8px 12px' : '20px'};\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: visible;\r\n  box-shadow: ${props => props.isGridMode ? '0 2px 8px rgba(0, 0, 0, 0.1)' : '0 4px 16px rgba(0, 0, 0, 0.1)'};\r\n  animation: ${fadeIn} 0.3s ease-out;\r\n  max-width: ${props => props.isGridMode ? '100%' : 'none'};\r\n\r\n  /* Solo aplicar hover si NO est en modo de edicin */\r\n  &:hover:not([data-editing=\"true\"]) {\r\n    border-color: var(--color-primary);\r\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\r\n    \r\n    &::before {\r\n      opacity: 1;\r\n    }\r\n\r\n    /* Indicador de navegacin */\r\n    &::after {\r\n      content: ' Vista Previa';\r\n      position: absolute;\r\n      top: 8px;\r\n      right: 12px;\r\n      background: var(--color-primary);\r\n      color: white;\r\n      padding: 4px 8px;\r\n      border-radius: 12px;\r\n      font-size: 10px;\r\n      font-weight: 600;\r\n      opacity: 0;\r\n      transform: translateY(-4px);\r\n      transition: all 0.3s ease;\r\n      z-index: 10;\r\n      pointer-events: none;\r\n    }\r\n\r\n    &::after {\r\n      opacity: 1;\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 3px;\r\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover), var(--color-primary));\r\n    border-radius: 16px 16px 0 0;\r\n    opacity: 0;\r\n    transition: opacity 0.3s ease;\r\n  }\r\n  \r\n  ${props => props.selected && !props.editing && css`\r\n    border-color: var(--color-primary);\r\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\r\n    animation: ${pulse} 2s ease-in-out infinite;\r\n    \r\n    &::before {\r\n      opacity: 1;\r\n    }\r\n  `}\r\n\r\n  ${props => props.editing && css`\r\n    border-color: var(--color-success);\r\n    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, var(--color-surface) 100%);\r\n    box-shadow: 0 8px 24px rgba(34, 197, 94, 0.2);\r\n    cursor: default;\r\n    transform: none;\r\n    \r\n    &::before {\r\n      background: linear-gradient(90deg, var(--color-success), var(--color-successHover), var(--color-success));\r\n      opacity: 1;\r\n    }\r\n    \r\n    /* Deshabilitar hover cuando est editando */\r\n  &:hover {\r\n      transform: none;\r\n      box-shadow: 0 8px 24px rgba(34, 197, 94, 0.2);\r\n  }\r\n  `}\r\n`;\r\n\r\nconst ElementHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst ElementType = styled.span`\r\n  background: ${props => props.color ? `linear-gradient(135deg, ${props.color} 0%, ${props.color}dd 100%)` : 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)'};\r\n  color: #ffffff;\r\n  padding: 6px 12px;\r\n  border-radius: 8px;\r\n  font-size: 11px;\r\n  text-transform: uppercase;\r\n  font-weight: 700;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\r\n  }\r\n`;\r\n\r\nconst ElementActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: ${props => props.danger \r\n    ? 'linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%)'\r\n    : 'linear-gradient(135deg, var(--color-surfaceElevated) 0%, var(--color-surface) 100%)'\r\n  };\r\n  color: ${props => props.danger ? '#ffffff' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.danger ? '#ff6b6b' : 'var(--color-border)'};\r\n  padding: 10px 14px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: hidden;\r\n  box-shadow: 0 3px 10px var(--color-shadow);\r\n  \r\n  &:hover:not(:disabled) {\r\n    background: ${props => props.danger \r\n      ? 'linear-gradient(135deg, #ff5252 0%, #ff6b6b 100%)'\r\n      : 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)'\r\n    };\r\n    color: ${props => props.danger ? '#ffffff' : 'var(--color-textInverse)'};\r\n    border-color: ${props => props.danger ? '#ff5252' : 'var(--color-primary)'};\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n    \r\n    &::before {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  \r\n  &:active:not(:disabled) {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: all 0.3s ease;\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nconst ElementContent = styled.div`\r\n  color: #ffffff;\r\n  line-height: 1.6;\r\n  margin-bottom: 8px;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst ElementCharacter = styled.div`\r\n  color: var(--color-primary);\r\n  font-weight: 700;\r\n  margin-bottom: ${props => props.isGridMode ? '4px' : '6px'};\r\n  font-size: ${props => props.isGridMode ? '10px' : '15px'};\r\n  display: flex;\r\n  align-items: center;\r\n  gap: ${props => props.isGridMode ? '4px' : '8px'};\r\n  line-height: 1.2;\r\n`;\r\n\r\nconst ElementText = styled.div`\r\n  color: var(--color-textSecondary);\r\n  font-size: ${props => props.isGridMode ? '9px' : '13px'};\r\n  line-height: ${props => props.isGridMode ? '1.3' : '1.5'};\r\n  max-height: ${props => props.isGridMode ? '60px' : 'none'};\r\n  overflow: ${props => props.isGridMode ? 'hidden' : 'visible'};\r\n  text-overflow: ${props => props.isGridMode ? 'ellipsis' : 'clip'};\r\n  display: ${props => props.isGridMode ? '-webkit-box' : 'block'};\r\n  -webkit-line-clamp: ${props => props.isGridMode ? '3' : 'unset'};\r\n  -webkit-box-orient: ${props => props.isGridMode ? 'vertical' : 'unset'};\r\n`;\r\n\r\n// Componentes para scroll y guas\r\nconst ScrollIndicator = styled.div`\r\n  position: fixed;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: white;\r\n  padding: 8px 16px;\r\n  border-radius: 16px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\r\n  border: 2px solid var(--color-surface);\r\n  z-index: 1000;\r\n  backdrop-filter: blur(10px);\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\r\n  transition: all 0.3s ease;\r\n  animation: ${props => props.visible ? css`${pulse} 1s ease-in-out infinite` : 'none'};\r\n`;\r\n\r\nconst ScrollHint = styled.div`\r\n  position: fixed;\r\n  top: 80px;\r\n  right: 20px;\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  color: var(--color-text);\r\n  padding: 12px 16px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);\r\n  border: 2px solid var(--color-border);\r\n  z-index: 999;\r\n  backdrop-filter: blur(10px);\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\r\n  transition: all 0.3s ease;\r\n  transform: ${props => props.visible ? 'translateX(0)' : 'translateX(100%)'};\r\n`;\r\n\r\nconst GuideSection = styled.div`\r\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 16px;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  animation: ${fadeIn} 0.5s ease-out;\r\n`;\r\n\r\nconst GuideTitle = styled.h4`\r\n  color: var(--color-primary);\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  margin: 0 0 12px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst GuideText = styled.p`\r\n  color: var(--color-textSecondary);\r\n  font-size: 13px;\r\n  line-height: 1.6;\r\n  margin: 0 0 12px 0;\r\n`;\r\n\r\nconst GuideList = styled.ul`\r\n  color: var(--color-textSecondary);\r\n  font-size: 13px;\r\n  line-height: 1.6;\r\n  margin: 0;\r\n  padding-left: 20px;\r\n`;\r\n\r\nconst GuideListItem = styled.li`\r\n  margin-bottom: 6px;\r\n`;\r\n\r\nconst AddElementButton = styled.button`\r\n  background-color: #4a9eff;\r\n  color: #ffffff;\r\n  border: none;\r\n  padding: 12px 20px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  margin: 20px;\r\n  transition: background-color 0.2s;\r\n\r\n  &:hover {\r\n    background-color: #3a8eef;\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 200px;\r\n  color: #888888;\r\n  text-align: center;\r\n`;\r\n\r\nconst EmptyIcon = styled.div`\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst EmptyText = styled.div`\r\n  font-size: 16px;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst EmptySubtext = styled.div`\r\n  font-size: 14px;\r\n  color: #666666;\r\n`;\r\n\r\n// Componentes para edicin inline\r\nconst EditForm = styled.div`\r\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 16px;\r\n  padding: 20px;\r\n  margin-top: 12px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\r\n  animation: ${fadeIn} 0.3s ease-out;\r\n  position: relative;\r\n  z-index: 10;\r\n  pointer-events: auto;\r\n  user-select: text;\r\n  -webkit-user-select: text;\r\n  -moz-user-select: text;\r\n  -ms-user-select: text;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst FormLabel = styled.label`\r\n  display: block;\r\n  color: var(--color-primary);\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  margin-bottom: 6px;\r\n`;\r\n\r\nconst FormInput = styled.input`\r\n  width: 100%;\r\n  padding: 10px 12px;\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  background: var(--color-surface);\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  z-index: 20;\r\n  pointer-events: auto;\r\n  user-select: text;\r\n  -webkit-user-select: text;\r\n  -moz-user-select: text;\r\n  -ms-user-select: text;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\r\n  }\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n  }\r\n  \r\n  &::selection {\r\n    background: var(--color-primary);\r\n    color: white;\r\n  }\r\n  \r\n  /* Prevenir que se pierda el foco */\r\n  &:focus-visible {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst FormTextarea = styled.textarea`\r\n  width: 100%;\r\n  min-height: 80px;\r\n  padding: 10px 12px;\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  background: var(--color-surface);\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  font-family: inherit;\r\n  resize: vertical;\r\n  transition: all 0.3s ease;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  z-index: 20;\r\n  pointer-events: auto;\r\n  user-select: text;\r\n  -webkit-user-select: text;\r\n  -moz-user-select: text;\r\n  -ms-user-select: text;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\r\n  }\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n  }\r\n  \r\n  &::selection {\r\n    background: var(--color-primary);\r\n    color: white;\r\n  }\r\n  \r\n  /* Prevenir que se pierda el foco */\r\n  &:focus-visible {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst FormSelect = styled.select`\r\n  width: 100%;\r\n  padding: 10px 12px;\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  background: var(--color-surface);\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  z-index: 20;\r\n  pointer-events: auto;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\r\n  }\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst FormActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n  margin-top: 16px;\r\n`;\r\n\r\nconst FormButton = styled.button`\r\n  padding: 8px 16px;\r\n  border: 2px solid;\r\n  border-radius: 8px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  ${props => props.primary ? `\r\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n    color: white;\r\n    border-color: var(--color-primary);\r\n    \r\n    &:hover:not(:disabled) {\r\n      background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n    }\r\n  ` : `\r\n    background: linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%);\r\n    color: white;\r\n    border-color: var(--color-border);\r\n    \r\n    &:hover:not(:disabled) {\r\n      background: linear-gradient(135deg, var(--color-borderSecondary) 0%, var(--color-border) 100%);\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n    }\r\n  `}\r\n  \r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nconst ChoiceItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n  padding: 8px;\r\n  background: var(--color-surface);\r\n  border-radius: 6px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst ChoiceInput = styled.input`\r\n  flex: 1;\r\n  padding: 6px 8px;\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 4px;\r\n  background: var(--color-background);\r\n  color: var(--color-text);\r\n  font-size: 12px;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst ChoiceActions = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n`;\r\n\r\nconst ChoiceButton = styled.button`\r\n  padding: 4px 6px;\r\n  border: 1px solid ${props => props.danger ? '#ff6b6b' : 'var(--color-border)'};\r\n  border-radius: 4px;\r\n  background: ${props => props.danger \r\n    ? 'linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%)'\r\n    : 'linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%)'\r\n  };\r\n  color: white;\r\n  font-size: 10px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst AddChoiceButton = styled.button`\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 2px dashed var(--color-border);\r\n  border-radius: 6px;\r\n  background: transparent;\r\n  color: var(--color-textSecondary);\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    color: var(--color-primary);\r\n    background: rgba(var(--color-primary-rgb), 0.05);\r\n  }\r\n`;\r\n\r\n// Componente para seleccionar fondos\r\nconst BackgroundSelectorContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n`;\r\n\r\nconst BackgroundInput = styled(FormInput)`\r\n  flex: 1;\r\n`;\r\n\r\nconst BackgroundActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n`;\r\n\r\nconst FileSelectorButton = styled.button`\r\n  padding: 8px 12px;\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 6px;\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: white;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  \r\n  &:hover {\r\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  }\r\n  \r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst BackgroundPreview = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-top: 8px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst BackgroundOption = styled.div`\r\n  position: relative;\r\n  width: 80px;\r\n  height: 60px;\r\n  border: 2px solid ${props => props.selected ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    transform: scale(1.05);\r\n  }\r\n  \r\n  ${props => props.selected && `\r\n    box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.3);\r\n  `}\r\n`;\r\n\r\nconst BackgroundImage = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n`;\r\n\r\nconst BackgroundName = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  font-size: 10px;\r\n  padding: 2px 4px;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst NoBackgroundsMessage = styled.div`\r\n  color: var(--color-textTertiary);\r\n  font-size: 12px;\r\n  text-align: center;\r\n  padding: 20px;\r\n  font-style: italic;\r\n`;\r\n\r\n// Estilos para el selector de color de narraciones en ScriptEditor\r\nconst NarrationColorContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 8px;\r\n  background: var(--color-surface);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 6px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst NarrationColorInput = styled.input`\r\n  width: 40px;\r\n  height: 40px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  background: none;\r\n  \r\n  &::-webkit-color-swatch-wrapper {\r\n    padding: 0;\r\n  }\r\n  \r\n  &::-webkit-color-swatch {\r\n    border: 2px solid var(--color-border);\r\n    border-radius: 4px;\r\n  }\r\n`;\r\n\r\nconst NarrationColorPreview = styled.div`\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 4px;\r\n  border: 2px solid var(--color-border);\r\n  transition: all 0.3s ease;\r\n`;\r\n\r\nconst NarrationColorLabel = styled.span`\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  font-family: monospace;\r\n  background: var(--color-surfaceSecondary);\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--color-border);\r\n  transition: all 0.3s ease;\r\n`;\r\n\r\n// Componente para seleccionar fondos\r\nconst BackgroundSelector = ({ value, onChange, placeholder }) => {\r\n  const [showFileSelector, setShowFileSelector] = useState(false);\r\n  const [availableBackgrounds, setAvailableBackgrounds] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const fileManager = useMemo(() => new FileManager(), []);\r\n\r\n  // Cargar fondos disponibles\r\n  const loadBackgrounds = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const backgrounds = await fileManager.getFilesByCategory('backgrounds');\r\n      setAvailableBackgrounds(backgrounds);\r\n    } catch (error) {\r\n      console.error('Error loading backgrounds:', error);\r\n      setAvailableBackgrounds([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [fileManager]);\r\n\r\n  // Cargar fondos cuando se abre el selector\r\n  useEffect(() => {\r\n    if (showFileSelector) {\r\n      loadBackgrounds();\r\n    }\r\n  }, [showFileSelector, loadBackgrounds]);\r\n\r\n  const handleFileSelect = (background) => {\r\n    // Extraer solo el nombre del archivo sin la ruta\r\n    const fileName = background.name.replace(/\\.[^/.]+$/, \"\"); // Remover extensin\r\n    onChange(fileName);\r\n    setShowFileSelector(false);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    onChange(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <BackgroundSelectorContainer>\r\n      <BackgroundActions>\r\n        <BackgroundInput\r\n          type=\"text\"\r\n          value={value}\r\n          onChange={handleInputChange}\r\n          placeholder={placeholder}\r\n        />\r\n        <FileSelectorButton onClick={() => setShowFileSelector(!showFileSelector)}>\r\n          <span></span>\r\n          {showFileSelector ? 'Ocultar' : 'Seleccionar'}\r\n        </FileSelectorButton>\r\n      </BackgroundActions>\r\n      \r\n      {showFileSelector && (\r\n        <BackgroundPreview>\r\n          {loading ? (\r\n            <NoBackgroundsMessage>Cargando fondos...</NoBackgroundsMessage>\r\n          ) : availableBackgrounds.length > 0 ? (\r\n            availableBackgrounds.map((background) => (\r\n              <BackgroundOption\r\n                key={background.id}\r\n                selected={value === background.name.replace(/\\.[^/.]+$/, \"\")}\r\n                onClick={() => handleFileSelect(background)}\r\n                title={background.name}\r\n              >\r\n                <BackgroundImage\r\n                  src={background.url || background.data}\r\n                  alt={background.name}\r\n                  onError={(e) => {\r\n                    e.target.style.display = 'none';\r\n                  }}\r\n                />\r\n                <BackgroundName>{background.name}</BackgroundName>\r\n              </BackgroundOption>\r\n            ))\r\n          ) : (\r\n            <NoBackgroundsMessage>\r\n              No hay fondos disponibles. \r\n              <br />\r\n              Sube imgenes en la categora \"backgrounds\" desde el gestor de archivos.\r\n            </NoBackgroundsMessage>\r\n          )}\r\n        </BackgroundPreview>\r\n      )}\r\n    </BackgroundSelectorContainer>\r\n  );\r\n};\r\n\r\n// Styled components para el men contextual de insercin\r\nconst ContextMenuOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  backdrop-filter: blur(4px);\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  animation: ${fadeIn} 0.3s ease-out;\r\n`;\r\n\r\nconst ContextMenuWindow = styled.div`\r\n  background: var(--color-surface);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\r\n  padding: 20px;\r\n  max-width: 400px;\r\n  width: 90%;\r\n  animation: ${slideIn} 0.4s ease-out;\r\n  position: relative;\r\n`;\r\n\r\nconst ContextMenuHeader = styled.div`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: white;\r\n  padding: 16px 20px;\r\n  border-radius: 14px 14px 0 0;\r\n  margin: -20px -20px 20px -20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 2px solid var(--color-primary);\r\n`;\r\n\r\nconst ContextMenuTitle = styled.h3`\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  color: #ffffff;\r\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);\r\n`;\r\n\r\nconst ContextMenuCloseButton = styled.button`\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: none;\r\n  color: white;\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.3);\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst ContextMenuText = styled.p`\r\n  color: var(--color-textSecondary);\r\n  font-size: 13px;\r\n  line-height: 1.5;\r\n  margin: 0 0 16px 0;\r\n  text-align: center;\r\n`;\r\n\r\nconst ContextMenuButtons = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 12px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst ContextMenuButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 12px 16px;\r\n  background: ${props => props.color || 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.textColor || 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.borderColor || 'var(--color-border)'};\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n\r\n  &:hover {\r\n    background: ${props => props.hoverColor || 'var(--color-border)'};\r\n    border-color: ${props => props.hoverBorderColor || 'var(--color-borderSecondary)'};\r\n    transform: translateY(-2px) scale(1.02);\r\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px) scale(1.01);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst ContextMenuActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n  border-top: 1px solid var(--color-border);\r\n  padding-top: 16px;\r\n`;\r\n\r\nconst ContextMenuActionButton = styled.button`\r\n  padding: 8px 16px;\r\n  border: 2px solid ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  border-radius: 6px;\r\n  background: ${props => props.primary \r\n    ? 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)' \r\n    : 'var(--color-surface)'};\r\n  color: ${props => props.primary ? 'white' : 'var(--color-textPrimary)'};\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  font-size: 12px;\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 8px ${props => props.primary \r\n      ? 'rgba(74, 158, 255, 0.3)' \r\n      : 'rgba(0, 0, 0, 0.1)'};\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\n// Componentes para el control de zoom\r\nconst ZoomControl = styled.div`\r\n  position: fixed;\r\n  top: 160px;\r\n  right: 1000px;\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 16px;\r\n  padding: 16px;\r\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\r\n  z-index: 50;\r\n  backdrop-filter: blur(10px);\r\n  -webkit-backdrop-filter: blur(10px);\r\n  min-width: 200px;\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\r\n  transform: ${props => props.visible ? 'translateX(0) scale(1)' : 'translateX(100%) scale(0.8)'};\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n`;\r\n\r\nconst ZoomHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst ZoomTitle = styled.h4`\r\n  color: var(--color-primary);\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  margin: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst ZoomCloseButton = styled.button`\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border: none;\r\n  color: var(--color-textSecondary);\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.2);\r\n    color: var(--color-textPrimary);\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst ZoomSliderContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst ZoomSlider = styled.input`\r\n  flex: 1;\r\n  height: 6px;\r\n  border-radius: 3px;\r\n  background: var(--color-border);\r\n  outline: none;\r\n  cursor: pointer;\r\n  \r\n  &::-webkit-slider-thumb {\r\n    appearance: none;\r\n    width: 18px;\r\n    height: 18px;\r\n    border-radius: 50%;\r\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n    cursor: pointer;\r\n    border: 2px solid var(--color-surface);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n    transition: all 0.3s ease;\r\n  }\r\n  \r\n  &::-webkit-slider-thumb:hover {\r\n    transform: scale(1.2);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\r\n  }\r\n  \r\n  &::-moz-range-thumb {\r\n    width: 18px;\r\n    height: 18px;\r\n    border-radius: 50%;\r\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n    cursor: pointer;\r\n    border: 2px solid var(--color-surface);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst ZoomValue = styled.div`\r\n  background: var(--color-primary);\r\n  color: white;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  min-width: 40px;\r\n  text-align: center;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n`;\r\n\r\nconst ZoomPresets = styled.div`\r\n  display: flex;\r\n  gap: 6px;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ZoomPresetButton = styled.button`\r\n  padding: 4px 8px;\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 6px;\r\n  background: ${props => props.active ? 'var(--color-primary)' : 'var(--color-surface)'};\r\n  color: ${props => props.active ? 'white' : 'var(--color-textSecondary)'};\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-border)'};\r\n    color: white;\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst ZoomToggleButton = styled.button`\r\n  position: fixed;\r\n  top: 160px;\r\n  right: 1350px;\r\n  width: 48px;\r\n  height: 48px;\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  border: 3px solid var(--color-surface);\r\n  border-radius: 50%;\r\n  color: white;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 4px 16px rgba(74, 158, 255, 0.3);\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  z-index: 51;\r\n  \r\n  &:hover {\r\n    transform: scale(1.1) rotate(5deg);\r\n    box-shadow: 0 6px 20px rgba(74, 158, 255, 0.4);\r\n  }\r\n  \r\n  &:active {\r\n    transform: scale(1.05) rotate(2deg);\r\n  }\r\n`;\r\n\r\n// Componente para grupos de escenas en grid mode\r\nconst SceneGroupContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  padding: 16px;\r\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 16px;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\r\n  }\r\n`;\r\n\r\nconst SceneGroupHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 12px;\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: white;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst SceneGroupElements = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n`;\r\n\r\nfunction ScriptEditor() {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const { showConfirm } = useModalContext();\r\n  const [selectedElement, setSelectedElement] = useState(null);\r\n  const [editingElement, setEditingElement] = useState(null);\r\n  const [editFormData, setEditFormData] = useState({});\r\n  const [showScrollHint, setShowScrollHint] = useState(false);\r\n  const [isScrolling, setIsScrolling] = useState(false);\r\n  const [showGuide, setShowGuide] = useState(false);\r\n  const [contextMenuElement, setContextMenuElement] = useState(null);\r\n  const [showZoomControl, setShowZoomControl] = useState(false);\r\n  const [zoomLevel, setZoomLevel] = useState(100);\r\n  const [isGridMode, setIsGridMode] = useState(false);\r\n  const [columns, setColumns] = useState(1);\r\n  const editorRef = useRef(null);\r\n  const formRef = useRef(null);\r\n  const isEditingRef = useRef(false);\r\n\r\n  const handleElementClick = useCallback((element) => {\r\n    // No hacer nada si el elemento est siendo editado\r\n    if (editingElement?.id === element.id) {\r\n      return;\r\n    }\r\n    setSelectedElement(element.id === selectedElement?.id ? null : element);\r\n    \r\n    // Mostrar men contextual para insercin\r\n    setContextMenuElement(element);\r\n    \r\n    // Navegar a este elemento en la vista previa\r\n    handleNavigateToElement(element);\r\n  }, [selectedElement, editingElement]);\r\n\r\n  const handleNavigateToElement = useCallback((element) => {\r\n    console.log('ScriptEditor: Iniciando navegacin al elemento:', element);\r\n    \r\n    // Obtener el archivo de escena actual\r\n    const currentSceneFile = state.project.sceneFiles.find(\r\n      file => file.id === state.project.currentSceneFile\r\n    );\r\n    \r\n    console.log('ScriptEditor: Archivo de escena actual:', currentSceneFile);\r\n    \r\n    if (!currentSceneFile || !currentSceneFile.elements) {\r\n      console.warn('ScriptEditor: No se pudo navegar al elemento - archivo de escena no encontrado');\r\n      return;\r\n    }\r\n    \r\n    // Encontrar el ndice del elemento en el archivo actual\r\n    const elementIndex = currentSceneFile.elements.findIndex(el => el.id === element.id);\r\n    \r\n    console.log('ScriptEditor: ndice encontrado:', elementIndex, 'de', currentSceneFile.elements.length, 'elementos');\r\n    \r\n    if (elementIndex === -1) {\r\n      console.warn('ScriptEditor: No se pudo navegar al elemento - elemento no encontrado en el archivo actual');\r\n      return;\r\n    }\r\n    \r\n    // Disparar evento personalizado para que PreviewPanel lo capture\r\n    const navigateEvent = new CustomEvent('navigateToElement', {\r\n      detail: {\r\n        elementIndex: elementIndex,\r\n        elementId: element.id,\r\n        sceneFileId: currentSceneFile.id\r\n      }\r\n    });\r\n    \r\n    console.log('ScriptEditor: Disparando evento navigateToElement:', navigateEvent.detail);\r\n    \r\n    // Disparar el evento tanto en window como en document para mayor compatibilidad\r\n    window.dispatchEvent(navigateEvent);\r\n    document.dispatchEvent(navigateEvent);\r\n    \r\n    console.log('ScriptEditor: Evento disparado exitosamente');\r\n    \r\n    // Tambin intentar activar la vista previa si no est activa\r\n    if (!state.previewMode) {\r\n      console.log('ScriptEditor: Activando vista previa automticamente');\r\n      dispatch({ type: 'TOGGLE_PREVIEW' });\r\n    }\r\n  }, [state.project.sceneFiles, state.project.currentSceneFile]);\r\n\r\n  // Funcin para abrir el sidebar y preparar insercin despus de otro elemento especfico\r\n  const handleInsertElementAfter = useCallback((elementType, afterElementId) => {\r\n    // Verificar si la funcin global est disponible\r\n    if (window.addElementToSceneWithInsertion) {\r\n      // Encontrar el ndice del elemento despus del cual insertar\r\n      const currentSceneFile = state.project.sceneFiles.find(\r\n        file => file.id === state.project.currentSceneFile\r\n      );\r\n      \r\n      if (!currentSceneFile || !currentSceneFile.elements) {\r\n        console.warn('ScriptEditor: No se pudo insertar elemento - archivo de escena no encontrado');\r\n        return;\r\n      }\r\n      \r\n      const afterElementIndex = currentSceneFile.elements.findIndex(el => el.id === afterElementId);\r\n      \r\n      if (afterElementIndex === -1) {\r\n        console.warn('ScriptEditor: No se pudo insertar elemento - elemento de referencia no encontrado');\r\n        return;\r\n      }\r\n      \r\n      // Llamar a la funcin global que abrir el sidebar y preparar la insercin\r\n      window.addElementToSceneWithInsertion(elementType, state.project.currentSceneFile, afterElementIndex + 1);\r\n      \r\n      // Cerrar men contextual\r\n      setContextMenuElement(null);\r\n    } else {\r\n      console.warn('ScriptEditor: La funcin addElementToSceneWithInsertion no est disponible');\r\n    }\r\n  }, [state.project.sceneFiles, state.project.currentSceneFile]);\r\n\r\n  const handleElementDoubleClick = useCallback((element) => {\r\n    console.log(' Editando elemento:', element);\r\n    setEditingElement(element);\r\n    setEditFormData({ ...element });\r\n    isEditingRef.current = true;\r\n  }, []);\r\n\r\n  // Enfocar automticamente el primer campo cuando se abre el formulario\r\n  useEffect(() => {\r\n    if (editingElement && formRef.current) {\r\n      const firstInput = formRef.current.querySelector('input, textarea, select');\r\n      if (firstInput) {\r\n        setTimeout(() => {\r\n          firstInput.focus();\r\n        }, 100);\r\n      }\r\n    }\r\n  }, [editingElement]);\r\n\r\n  const handleCancelEdit = useCallback(() => {\r\n    setEditingElement(null);\r\n    setEditFormData({});\r\n    isEditingRef.current = false;\r\n  }, []);\r\n\r\n  const handleSaveEdit = useCallback(() => {\r\n    if (!editingElement) return;\r\n\r\n    const currentSceneFile = state.project.sceneFiles.find(\r\n      file => file.id === state.project.currentSceneFile\r\n    );\r\n    \r\n    if (currentSceneFile) {\r\n      const updatedElements = currentSceneFile.elements.map(el => \r\n        el.id === editingElement.id ? { ...el, ...editFormData } : el\r\n      );\r\n      \r\n      dispatch({\r\n        type: 'UPDATE_SCENE_FILE',\r\n        payload: {\r\n          ...currentSceneFile,\r\n          elements: updatedElements\r\n        }\r\n      });\r\n    }\r\n    \r\n    setEditingElement(null);\r\n    setEditFormData({});\r\n    isEditingRef.current = false;\r\n  }, [editingElement, editFormData, state.project.sceneFiles, state.project.currentSceneFile, dispatch]);\r\n\r\n  const handleFormChange = useCallback((field, value) => {\r\n    setEditFormData(prev => {\r\n      const newData = {\r\n        ...prev,\r\n        [field]: value\r\n      };\r\n      return newData;\r\n    });\r\n  }, []);\r\n\r\n  const handleChoiceChange = useCallback((index, value) => {\r\n    const newChoices = [...(editFormData.choices || [])];\r\n    newChoices[index] = value;\r\n    handleFormChange('choices', newChoices);\r\n  }, [editFormData.choices, handleFormChange]);\r\n\r\n  const handleAddChoice = useCallback(() => {\r\n    const newChoices = [...(editFormData.choices || []), ''];\r\n    handleFormChange('choices', newChoices);\r\n  }, [editFormData.choices, handleFormChange]);\r\n\r\n  const handleRemoveChoice = useCallback((index) => {\r\n    const newChoices = [...(editFormData.choices || [])];\r\n    newChoices.splice(index, 1);\r\n    handleFormChange('choices', newChoices);\r\n  }, [editFormData.choices, handleFormChange]);\r\n\r\n  // Funciones para el control de zoom\r\n  const handleZoomChange = useCallback((newZoomLevel) => {\r\n    setZoomLevel(newZoomLevel);\r\n    \r\n    // Activar grid mode solo cuando el zoom es menor a 100%\r\n    const shouldUseGrid = newZoomLevel < 100;\r\n    setIsGridMode(shouldUseGrid);\r\n    \r\n    if (shouldUseGrid) {\r\n      // Calcular nmero de columnas basado en el zoom\r\n      // A menor zoom, ms columnas\r\n      let newColumns = 1;\r\n      if (newZoomLevel <= 25) newColumns = 6;\r\n      else if (newZoomLevel <= 50) newColumns = 4;\r\n      else if (newZoomLevel <= 75) newColumns = 3;\r\n      else if (newZoomLevel <= 90) newColumns = 2;\r\n      \r\n      setColumns(newColumns);\r\n    } else {\r\n      setColumns(1);\r\n    }\r\n  }, []);\r\n\r\n  const handleZoomPreset = useCallback((presetLevel) => {\r\n    setZoomLevel(presetLevel);\r\n    \r\n    // Activar grid mode solo cuando el zoom es menor a 100%\r\n    const shouldUseGrid = presetLevel < 100;\r\n    setIsGridMode(shouldUseGrid);\r\n    \r\n    if (shouldUseGrid) {\r\n      // Calcular nmero de columnas basado en el zoom\r\n      let newColumns = 1;\r\n      if (presetLevel <= 25) newColumns = 6;\r\n      else if (presetLevel <= 50) newColumns = 4;\r\n      else if (presetLevel <= 75) newColumns = 3;\r\n      else if (presetLevel <= 90) newColumns = 2;\r\n      \r\n      setColumns(newColumns);\r\n    } else {\r\n      setColumns(1);\r\n    }\r\n  }, []);\r\n\r\n  const toggleZoomControl = useCallback(() => {\r\n    setShowZoomControl(prev => !prev);\r\n  }, []);\r\n\r\n  const resetZoom = useCallback(() => {\r\n    setZoomLevel(100);\r\n    setIsGridMode(false);\r\n    setColumns(1);\r\n  }, []);\r\n\r\n  const handleDeleteElement = useCallback(async (elementId, e) => {\r\n    e.stopPropagation();\r\n    const confirmed = await showConfirm(\r\n      'Ests seguro de que quieres eliminar este elemento?',\r\n      'Confirmar Eliminacin',\r\n      ''\r\n    );\r\n    \r\n    if (confirmed) {\r\n      dispatch({\r\n        type: 'DELETE_SCENE_FILE_ELEMENT',\r\n        payload: {\r\n          sceneFileId: state.project.currentSceneFile,\r\n          elementId: elementId\r\n        }\r\n      });\r\n      if (selectedElement?.id === elementId) {\r\n        setSelectedElement(null);\r\n      }\r\n    }\r\n  }, [dispatch, state.project.currentSceneFile, selectedElement]);\r\n\r\n  const handleMoveUp = useCallback((elementId, e) => {\r\n    e.stopPropagation();\r\n    const currentSceneFile = state.project.sceneFiles.find(\r\n      file => file.id === state.project.currentSceneFile\r\n    );\r\n    if (!currentSceneFile) return;\r\n    \r\n    const currentIndex = currentSceneFile.elements.findIndex(el => el.id === elementId);\r\n    if (currentIndex > 0) {\r\n      const newElements = [...currentSceneFile.elements];\r\n      [newElements[currentIndex], newElements[currentIndex - 1]] = [newElements[currentIndex - 1], newElements[currentIndex]];\r\n      \r\n      dispatch({\r\n        type: 'UPDATE_SCENE_FILE',\r\n        payload: {\r\n          ...currentSceneFile,\r\n          elements: newElements\r\n        }\r\n      });\r\n    }\r\n  }, [state.project.sceneFiles, state.project.currentSceneFile, dispatch]);\r\n\r\n  const handleMoveDown = useCallback((elementId, e) => {\r\n    e.stopPropagation();\r\n    const currentSceneFile = state.project.sceneFiles.find(\r\n      file => file.id === state.project.currentSceneFile\r\n    );\r\n    if (!currentSceneFile) return;\r\n    \r\n    const currentIndex = currentSceneFile.elements.findIndex(el => el.id === elementId);\r\n    if (currentIndex < currentSceneFile.elements.length - 1) {\r\n      const newElements = [...currentSceneFile.elements];\r\n      [newElements[currentIndex], newElements[currentIndex + 1]] = [newElements[currentIndex + 1], newElements[currentIndex]];\r\n      \r\n      dispatch({\r\n        type: 'UPDATE_SCENE_FILE',\r\n        payload: {\r\n          ...currentSceneFile,\r\n          elements: newElements\r\n        }\r\n      });\r\n    }\r\n  }, [state.project.sceneFiles, state.project.currentSceneFile, dispatch]);\r\n\r\n  const renderElementContent = (element, isGridMode = false) => {\r\n    switch (element.type) {\r\n      case 'dialogue':\r\n        const character = state.project.characters.find(char => char.id === element.character);\r\n        const positionIcon = {\r\n          'left': '',\r\n          'center': '',\r\n          'right': ''\r\n        };\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} {character?.isProtagonist ? 'Protagonista' : (character?.name || element.character)}\r\n              {element.showSprite && (\r\n                <span style={{ color: 'var(--color-primary)', fontSize: isGridMode ? '8px' : '12px', marginLeft: '8px' }}>\r\n                  ({element.showSprite} {positionIcon[element.spritePosition] || ''})\r\n                </span>\r\n              )}\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>\"{element.text.replace(/\\[mc_name\\]/g, 'Protagonista')}\"</ElementText>\r\n          </>\r\n        );\r\n      case 'narration':\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Narracin\r\n              {(element.fontSize || element.textColor) && (\r\n                <span style={{ \r\n                  color: 'var(--color-primary)', \r\n                  fontSize: isGridMode ? '9px' : '11px', \r\n                  marginLeft: '8px',\r\n                  fontWeight: 'normal'\r\n                }}>\r\n                  ({element.fontSize || 'medium'}  {element.textColor || '#ffffff'})\r\n                </span>\r\n              )}\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>{element.text.replace(/\\[mc_name\\]/g, 'Protagonista')}</ElementText>\r\n          </>\r\n        );\r\n      case 'scene':\r\n        const backgroundTransition = element.backgroundTransition ? ` (transicin: ${element.backgroundTransition})` : '';\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Cambio de Escena\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>Fondo: {element.background || 'Sin fondo'}{backgroundTransition}</ElementText>\r\n          </>\r\n        );\r\n      case 'transition':\r\n        const duration = element.transitionDuration ? ` (${element.transitionDuration}s)` : '';\r\n        const transitionConfig = getAllTransitions().find(t => t.id === element.transitionType);\r\n        const transitionName = transitionConfig ? transitionConfig.name : element.transitionType;\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Transicin\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>{transitionName}{duration}</ElementText>\r\n          </>\r\n        );\r\n      case 'choice':\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Eleccin\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>{element.choices?.length || 0} opciones disponibles</ElementText>\r\n          </>\r\n        );\r\n      case 'jump':\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Salto\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>Destino: {element.jump}</ElementText>\r\n          </>\r\n        );\r\n      case 'label':\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Etiqueta\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>Punto: {element.label}</ElementText>\r\n          </>\r\n        );\r\n      case 'show_sprite':\r\n        const showCharacter = state.project.characters.find(char => char.id === element.character);\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Mostrar Sprite\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>\r\n              {showCharacter?.name || element.character} - {element.spriteName || 'Sprite por defecto'}\r\n              <div style={{ \r\n                fontSize: isGridMode ? '7px' : '10px', \r\n                color: 'var(--color-textSecondary)', \r\n                marginTop: '4px',\r\n                fontStyle: 'italic'\r\n              }}>\r\n                Posicin: {element.spritePosition || 'center'}\r\n              </div>\r\n            </ElementText>\r\n          </>\r\n        );\r\n\r\n      case 'hide_sprite':\r\n        const hideCharacter = state.project.characters.find(char => char.id === element.character);\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Ocultar Sprite\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>\r\n              {hideCharacter?.name || element.character}\r\n              <div style={{ \r\n                fontSize: isGridMode ? '7px' : '10px', \r\n                color: 'var(--color-textSecondary)', \r\n                marginTop: '4px',\r\n                fontStyle: 'italic'\r\n              }}>\r\n                El sprite se ocultar de la escena\r\n              </div>\r\n            </ElementText>\r\n          </>\r\n        );\r\n\r\n      case 'protagonist_setup':\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} Setup del Protagonista\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>\r\n              Configuracin del nombre del protagonista\r\n              <div style={{ \r\n                fontSize: isGridMode ? '7px' : '10px', \r\n                color: 'var(--color-textSecondary)', \r\n                marginTop: '4px',\r\n                fontStyle: 'italic'\r\n              }}>\r\n                El jugador elegir su nombre en este punto\r\n              </div>\r\n            </ElementText>\r\n          </>\r\n        );\r\n      default:\r\n        return (\r\n          <>\r\n            <ElementCharacter isGridMode={isGridMode}>\r\n              {getElementTypeIcon(element.type)} {getElementTypeLabel(element.type)}\r\n            </ElementCharacter>\r\n            <ElementText isGridMode={isGridMode}>{element.text || 'Sin contenido'}</ElementText>\r\n          </>\r\n        );\r\n    }\r\n  };\r\n\r\n  // Funcin para manejar eventos del formulario\r\n  const handleFormEvent = useCallback((e) => {\r\n    e.stopPropagation();\r\n  }, []);\r\n\r\n  // Funcin para manejar cambios en inputs sin perder el foco\r\n  const handleInputChange = useCallback((field, e) => {\r\n    e.stopPropagation();\r\n    handleFormChange(field, e.target.value);\r\n  }, [handleFormChange]);\r\n\r\n  // Funcin para renderizar el formulario de edicin especfico para cada tipo\r\n  const renderEditForm = useCallback((element) => {\r\n    switch (element.type) {\r\n      case 'dialogue':\r\n        return (\r\n          <EditForm onClick={handleFormEvent} onMouseDown={handleFormEvent}>\r\n            <FormGroup>\r\n              <FormLabel>Personaje:</FormLabel>\r\n              <FormSelect\r\n                value={editFormData.character || ''}\r\n                onChange={(e) => handleInputChange('character', e)}\r\n              >\r\n                <option value=\"\">Seleccionar personaje</option>\r\n                {state.project.characters.map(char => (\r\n                  <option key={char.id} value={char.id}>{char.name}</option>\r\n                ))}\r\n              </FormSelect>\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <FormLabel>Texto del dilogo:</FormLabel>\r\n              <FormTextarea\r\n                value={editFormData.text || ''}\r\n                onChange={(e) => handleInputChange('text', e)}\r\n                placeholder=\"Escribe el dilogo aqu...\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <FormLabel>Mostrar sprite:</FormLabel>\r\n              <FormInput\r\n                type=\"text\"\r\n                value={editFormData.showSprite || ''}\r\n                onChange={(e) => handleInputChange('showSprite', e)}\r\n                placeholder=\"Nombre del sprite (ej: happy, sad, angry)\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <FormLabel>Posicin del sprite:</FormLabel>\r\n              <FormSelect\r\n                value={editFormData.spritePosition || 'center'}\r\n                onChange={(e) => handleInputChange('spritePosition', e)}\r\n              >\r\n                <option value=\"left\">Izquierda</option>\r\n                <option value=\"center\">Centro</option>\r\n                <option value=\"right\">Derecha</option>\r\n              </FormSelect>\r\n            </FormGroup>\r\n            \r\n            <FormActions>\r\n              <FormButton onClick={handleCancelEdit}>\r\n                Cancelar\r\n              </FormButton>\r\n              <FormButton primary onClick={handleSaveEdit}>\r\n                Guardar\r\n              </FormButton>\r\n            </FormActions>\r\n          </EditForm>\r\n        );\r\n\r\n      case 'narration':\r\n        return (\r\n          <EditForm onClick={handleFormEvent} onMouseDown={handleFormEvent}>\r\n            <FormGroup>\r\n              <FormLabel>Texto de narracin:</FormLabel>\r\n              <FormTextarea\r\n                value={editFormData.text || ''}\r\n                onChange={(e) => handleFormChange('text', e.target.value)}\r\n                placeholder=\"Escribe la narracin aqu...\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <FormLabel>Tamao del texto:</FormLabel>\r\n              <FormSelect\r\n                value={editFormData.fontSize || 'medium'}\r\n                onChange={(e) => handleFormChange('fontSize', e.target.value)}\r\n              >\r\n                <option value=\"small\">Pequeo (12px)</option>\r\n                <option value=\"medium\">Mediano (16px)</option>\r\n                <option value=\"large\">Grande (20px)</option>\r\n                <option value=\"xlarge\">Muy Grande (24px)</option>\r\n              </FormSelect>\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <FormLabel>Color del texto:</FormLabel>\r\n              <NarrationColorContainer>\r\n                <NarrationColorInput\r\n                  type=\"color\"\r\n                  value={editFormData.textColor || '#ffffff'}\r\n                  onChange={(e) => handleFormChange('textColor', e.target.value)}\r\n                />\r\n                <NarrationColorPreview\r\n                  style={{ backgroundColor: editFormData.textColor || '#ffffff' }}\r\n                />\r\n                <NarrationColorLabel>{editFormData.textColor || '#ffffff'}</NarrationColorLabel>\r\n              </NarrationColorContainer>\r\n            </FormGroup>\r\n            \r\n            <FormActions>\r\n              <FormButton onClick={handleCancelEdit}>\r\n                Cancelar\r\n              </FormButton>\r\n              <FormButton primary onClick={handleSaveEdit}>\r\n                Guardar\r\n              </FormButton>\r\n            </FormActions>\r\n          </EditForm>\r\n        );\r\n\r\n      case 'scene':\r\n        return (\r\n          <EditForm onClick={handleFormEvent} onMouseDown={handleFormEvent}>\r\n            <FormGroup>\r\n              <FormLabel>Fondo de escena:</FormLabel>\r\n              <BackgroundSelector\r\n                value={editFormData.background || ''}\r\n                onChange={(value) => handleFormChange('background', value)}\r\n                placeholder=\"Nombre del fondo (ej: bedroom, street, forest)\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <FormLabel>Transicin del fondo (opcional):</FormLabel>\r\n              <FormSelect\r\n                value={editFormData.backgroundTransition || ''}\r\n                onChange={(e) => handleFormChange('backgroundTransition', e.target.value)}\r\n              >\r\n                <option value=\"\">Sin transicin</option>\r\n                {Object.entries(getTransitionsGroupedByElementType('backgrounds')).map(([categoryId, category]) => (\r\n                  <optgroup key={categoryId} label={category.name}>\r\n                    {category.transitions.map(transition => (\r\n                      <option key={transition.id} value={transition.id}>\r\n                        {transition.icon} {transition.name} ({transition.duration}s)\r\n                      </option>\r\n                    ))}\r\n                  </optgroup>\r\n                ))}\r\n              </FormSelect>\r\n              {editFormData.backgroundTransition && (\r\n                <FormInput\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  min=\"0.1\"\r\n                  max=\"10\"\r\n                  value={editFormData.backgroundTransitionDuration || ''}\r\n                  onChange={(e) => handleFormChange('backgroundTransitionDuration', e.target.value)}\r\n                  placeholder=\"Duracin personalizada (opcional)\"\r\n                  style={{ marginTop: '8px' }}\r\n                />\r\n              )}\r\n            </FormGroup>\r\n            \r\n            <FormActions>\r\n              <FormButton onClick={handleCancelEdit}>\r\n                Cancelar\r\n              </FormButton>\r\n              <FormButton primary onClick={handleSaveEdit}>\r\n                Guardar\r\n              </FormButton>\r\n            </FormActions>\r\n          </EditForm>\r\n        );\r\n\r\n      case 'transition':\r\n        return (\r\n          <EditForm onClick={handleFormEvent} onMouseDown={handleFormEvent}>\r\n            <FormGroup>\r\n              <FormLabel>Tipo de transicin:</FormLabel>\r\n              <FormSelect\r\n                value={editFormData.transitionType || 'dissolve'}\r\n                onChange={(e) => handleFormChange('transitionType', e.target.value)}\r\n              >\r\n                {Object.entries(getTransitionsGroupedByCategory()).map(([categoryId, category]) => (\r\n                  <optgroup key={categoryId} label={category.name}>\r\n                    {category.transitions.map(transition => (\r\n                      <option key={transition.id} value={transition.id}>\r\n                        {transition.icon} {transition.name} ({transition.duration}s)\r\n                      </option>\r\n                    ))}\r\n                  </optgroup>\r\n                ))}\r\n              </FormSelect>\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <FormLabel>Duracin personalizada (opcional):</FormLabel>\r\n              <FormInput\r\n                type=\"number\"\r\n                step=\"0.1\"\r\n                min=\"0.1\"\r\n                max=\"10\"\r\n                value={editFormData.transitionDuration || ''}\r\n                onChange={(e) => handleFormChange('transitionDuration', e.target.value)}\r\n                placeholder=\"Dejar vaco para usar duracin por defecto\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormActions>\r\n              <FormButton onClick={handleCancelEdit}>\r\n                Cancelar\r\n              </FormButton>\r\n              <FormButton primary onClick={handleSaveEdit}>\r\n                Guardar\r\n              </FormButton>\r\n            </FormActions>\r\n          </EditForm>\r\n        );\r\n\r\n      case 'choice':\r\n  return (\r\n          <EditForm onClick={handleFormEvent} onMouseDown={handleFormEvent}>\r\n            <FormGroup>\r\n              <FormLabel>Pregunta/Eleccin:</FormLabel>\r\n              <FormTextarea\r\n                value={editFormData.question || ''}\r\n                onChange={(e) => handleFormChange('question', e.target.value)}\r\n                placeholder=\"Escribe la pregunta o situacin aqu...\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormGroup>\r\n              <FormLabel>Opciones:</FormLabel>\r\n              {(editFormData.choices || []).map((choice, index) => (\r\n                <ChoiceItem key={`choice-${index}-${choice.text?.slice(0, 10) || 'empty'}`}>\r\n                  <ChoiceInput\r\n                    value={choice}\r\n                    onChange={(e) => handleChoiceChange(index, e.target.value)}\r\n                    placeholder={`Opcin ${index + 1}`}\r\n                  />\r\n                  <ChoiceActions>\r\n                    <ChoiceButton\r\n                      danger\r\n                      onClick={() => handleRemoveChoice(index)}\r\n                      title=\"Eliminar opcin\"\r\n                    >\r\n                      \r\n                    </ChoiceButton>\r\n                  </ChoiceActions>\r\n                </ChoiceItem>\r\n              ))}\r\n              <AddChoiceButton onClick={handleAddChoice}>\r\n                + Agregar opcin\r\n              </AddChoiceButton>\r\n            </FormGroup>\r\n            \r\n            <FormActions>\r\n              <FormButton onClick={handleCancelEdit}>\r\n                Cancelar\r\n              </FormButton>\r\n              <FormButton primary onClick={handleSaveEdit}>\r\n                Guardar\r\n              </FormButton>\r\n            </FormActions>\r\n          </EditForm>\r\n        );\r\n\r\n      case 'jump':\r\n        return (\r\n          <EditForm onClick={handleFormEvent} onMouseDown={handleFormEvent}>\r\n            <FormGroup>\r\n              <FormLabel>Etiqueta de destino:</FormLabel>\r\n              <FormInput\r\n                type=\"text\"\r\n                value={editFormData.jump || ''}\r\n                onChange={(e) => handleFormChange('jump', e.target.value)}\r\n                placeholder=\"Nombre de la etiqueta de destino\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormActions>\r\n              <FormButton onClick={handleCancelEdit}>\r\n                Cancelar\r\n              </FormButton>\r\n              <FormButton primary onClick={handleSaveEdit}>\r\n                Guardar\r\n              </FormButton>\r\n            </FormActions>\r\n          </EditForm>\r\n        );\r\n\r\n      case 'label':\r\n        return (\r\n          <EditForm onClick={handleFormEvent} onMouseDown={handleFormEvent}>\r\n            <FormGroup>\r\n              <FormLabel>Nombre de la etiqueta:</FormLabel>\r\n              <FormInput\r\n                type=\"text\"\r\n                value={editFormData.label || ''}\r\n                onChange={(e) => handleFormChange('label', e.target.value)}\r\n                placeholder=\"Nombre nico para esta etiqueta\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormActions>\r\n              <FormButton onClick={handleCancelEdit}>\r\n                Cancelar\r\n              </FormButton>\r\n              <FormButton primary onClick={handleSaveEdit}>\r\n                Guardar\r\n              </FormButton>\r\n            </FormActions>\r\n          </EditForm>\r\n        );\r\n\r\n      default:\r\n        return (\r\n          <EditForm>\r\n            <FormGroup>\r\n              <FormLabel>Contenido:</FormLabel>\r\n              <FormTextarea\r\n                value={editFormData.text || ''}\r\n                onChange={(e) => handleFormChange('text', e.target.value)}\r\n                placeholder=\"Escribe el contenido aqu...\"\r\n              />\r\n            </FormGroup>\r\n            \r\n            <FormActions>\r\n              <FormButton onClick={handleCancelEdit}>\r\n                Cancelar\r\n              </FormButton>\r\n              <FormButton primary onClick={handleSaveEdit}>\r\n                Guardar\r\n              </FormButton>\r\n            </FormActions>\r\n          </EditForm>\r\n        );\r\n    }\r\n  }, [editFormData, handleFormChange, handleFormEvent, handleInputChange, handleCancelEdit, handleSaveEdit, state.project.characters]);\r\n\r\n  // Efecto para mostrar hint de scroll cuando se carga el componente\r\n  useEffect(() => {\r\n  const currentSceneFile = state.project.sceneFiles.find(\r\n    file => file.id === state.project.currentSceneFile\r\n  );\r\n  const currentElements = currentSceneFile ? currentSceneFile.elements : [];\r\n  \r\n    if (currentElements.length > 0) {\r\n      const timer = setTimeout(() => {\r\n        setShowScrollHint(true);\r\n      }, SCRIPT_EDITOR_CONFIG.hints.showDelay);\r\n      \r\n      const hideTimer = setTimeout(() => {\r\n        setShowScrollHint(false);\r\n      }, SCRIPT_EDITOR_CONFIG.hints.hideDelay);\r\n      \r\n      return () => {\r\n        clearTimeout(timer);\r\n        clearTimeout(hideTimer);\r\n      };\r\n    }\r\n  }, [state.project.currentSceneFile]); // Removido state.project.sceneFiles para evitar re-renders infinitos\r\n\r\n  // Efecto para manejar el scroll del editor\r\n  useEffect(() => {\r\n    const editorElement = editorRef.current;\r\n    if (!editorElement) return;\r\n\r\n    let scrollTimeout; // Variable local en lugar de global\r\n\r\n    const clearScrollTimeout = () => {\r\n      if (scrollTimeout) {\r\n        clearTimeout(scrollTimeout);\r\n      }\r\n    };\r\n\r\n    const setScrollTimeout = () => {\r\n      clearScrollTimeout();\r\n      scrollTimeout = setTimeout(() => {\r\n        setIsScrolling(false);\r\n      }, SCRIPT_EDITOR_CONFIG.scroll.timeout);\r\n    };\r\n\r\n    const handleWheel = (e) => {\r\n      e.preventDefault();\r\n      \r\n      const scrollAmount = e.deltaY * SCRIPT_EDITOR_CONFIG.scroll.sensitivity;\r\n      editorElement.scrollBy({\r\n        top: scrollAmount,\r\n        behavior: 'smooth'\r\n      });\r\n      \r\n      setIsScrolling(true);\r\n      setScrollTimeout();\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n      setIsScrolling(true);\r\n      setScrollTimeout();\r\n    };\r\n\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\r\n        e.preventDefault();\r\n        \r\n        const scrollAmount = e.key === 'ArrowDown' ? SCRIPT_EDITOR_CONFIG.scroll.arrowScrollAmount : -SCRIPT_EDITOR_CONFIG.scroll.arrowScrollAmount;\r\n        editorElement.scrollBy({\r\n          top: scrollAmount,\r\n          behavior: 'smooth'\r\n        });\r\n        \r\n        setIsScrolling(true);\r\n        setScrollTimeout();\r\n      }\r\n      \r\n      if (e.key === 'PageDown' || e.key === 'PageUp') {\r\n        e.preventDefault();\r\n        \r\n        const scrollAmount = e.key === 'PageDown' ? SCRIPT_EDITOR_CONFIG.scroll.pageScrollAmount : -SCRIPT_EDITOR_CONFIG.scroll.pageScrollAmount;\r\n        editorElement.scrollBy({\r\n          top: scrollAmount,\r\n          behavior: 'smooth'\r\n        });\r\n        \r\n        setIsScrolling(true);\r\n        setScrollTimeout();\r\n      }\r\n      \r\n      if (e.key === 'Home') {\r\n        e.preventDefault();\r\n        editorElement.scrollTo({\r\n          top: 0,\r\n          behavior: 'smooth'\r\n        });\r\n        setIsScrolling(true);\r\n        setScrollTimeout();\r\n      }\r\n      \r\n      if (e.key === 'End') {\r\n        e.preventDefault();\r\n        editorElement.scrollTo({\r\n          top: editorElement.scrollHeight,\r\n          behavior: 'smooth'\r\n        });\r\n        setIsScrolling(true);\r\n        setScrollTimeout();\r\n      }\r\n      \r\n      // Solo manejar Espacio si NO estamos editando un input\r\n      if (e.key === ' ' && !e.target.matches('input, textarea, [contenteditable=\"true\"]')) {\r\n        e.preventDefault();\r\n        editorElement.scrollBy({\r\n          top: SCRIPT_EDITOR_CONFIG.scroll.spaceScrollAmount,\r\n          behavior: 'smooth'\r\n        });\r\n        setIsScrolling(true);\r\n        setScrollTimeout();\r\n      }\r\n      \r\n      if (e.key === ' ' && e.shiftKey && !e.target.matches('input, textarea, [contenteditable=\"true\"]')) {\r\n        e.preventDefault();\r\n        editorElement.scrollBy({\r\n          top: -SCRIPT_EDITOR_CONFIG.scroll.spaceScrollAmount,\r\n          behavior: 'smooth'\r\n        });\r\n        setIsScrolling(true);\r\n        setScrollTimeout();\r\n      }\r\n    };\r\n\r\n    editorElement.addEventListener('wheel', handleWheel, { passive: false });\r\n    editorElement.addEventListener('scroll', handleScroll);\r\n    editorElement.addEventListener('keydown', handleKeyDown);\r\n    \r\n    editorElement.setAttribute('tabindex', '0');\r\n    \r\n    return () => {\r\n      editorElement.removeEventListener('wheel', handleWheel);\r\n      editorElement.removeEventListener('scroll', handleScroll);\r\n      editorElement.removeEventListener('keydown', handleKeyDown);\r\n      clearScrollTimeout();\r\n    };\r\n  }, []);\r\n\r\n  // Funcin para renderizar la gua del editor de script\r\n  const renderScriptEditorGuide = () => (\r\n    <GuideSection>\r\n      <GuideTitle>\r\n         Gua del Editor de Script\r\n      </GuideTitle>\r\n      <GuideText>\r\n        El Editor de Script te permite visualizar y gestionar todos los elementos de tu historia:\r\n      </GuideText>\r\n      <GuideList>\r\n        <GuideListItem>\r\n          <strong>Visualizacin:</strong> Ve todos los elementos en orden secuencial\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Seleccin:</strong> Haz clic en cualquier elemento para seleccionarlo\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Edicin Inline:</strong> Haz doble clic en cualquier elemento para editarlo directamente\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Reordenamiento:</strong> Usa los botones / para mover elementos\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Eliminacin:</strong> Usa el botn  para eliminar elementos\r\n        </GuideListItem>\r\n        <GuideListItem>\r\n          <strong>Tipos de Elementos:</strong> Cada elemento muestra su tipo con color distintivo\r\n        </GuideListItem>\r\n      </GuideList>\r\n      <GuideText>\r\n        <strong> Consejos:</strong> Los elementos se sincronizan automticamente con la Vista de Lnea de Tiempo y el Mapa de Decisiones. La edicin inline te permite modificar elementos sin abrir el men lateral.\r\n      </GuideText>\r\n    </GuideSection>\r\n  );\r\n\r\n  // Usar funciones centralizadas de configuracin\r\n\r\n  // Obtener el archivo de escena actual y elementos memoizados\r\n  const currentSceneFile = useMemo(() => \r\n    state.project.sceneFiles.find(file => file.id === state.project.currentSceneFile),\r\n    [state.project.sceneFiles, state.project.currentSceneFile]\r\n  );\r\n  \r\n  const currentElements = useMemo(() => \r\n    currentSceneFile ? currentSceneFile.elements : [],\r\n    [currentSceneFile]\r\n  );\r\n\r\n  // Agrupar elementos por escenas para el grid mode\r\n  const elementsGroupedByScenes = useMemo(() => {\r\n    if (!isGridMode || !currentElements.length) {\r\n      return currentElements;\r\n    }\r\n\r\n    const groups = [];\r\n    let currentScene = null;\r\n    let currentGroup = [];\r\n\r\n    currentElements.forEach((element, index) => {\r\n      // Si es un elemento de escena, iniciar nueva agrupacin\r\n      if (element.type === 'scene') {\r\n        // Guardar el grupo anterior si existe\r\n        if (currentGroup.length > 0) {\r\n          groups.push({\r\n            type: 'scene_group',\r\n            scene: currentScene,\r\n            elements: currentGroup,\r\n            id: `scene_${currentScene || 'default'}_${groups.length}`\r\n          });\r\n        }\r\n        \r\n        // Iniciar nuevo grupo con el elemento de escena\r\n        currentScene = element.background || `Escena ${groups.length + 1}`;\r\n        currentGroup = [element];\r\n      } else {\r\n        // Agregar elemento al grupo actual\r\n        currentGroup.push(element);\r\n      }\r\n    });\r\n\r\n    // Agregar el ltimo grupo\r\n    if (currentGroup.length > 0) {\r\n      groups.push({\r\n        type: 'scene_group',\r\n        scene: currentScene,\r\n        elements: currentGroup,\r\n        id: `scene_${currentScene || 'default'}_${groups.length}`\r\n      });\r\n    }\r\n\r\n    return groups;\r\n  }, [currentElements, isGridMode]);\r\n\r\n  // Componente para renderizar grupos de escenas\r\n  const SceneGroupComponent = useMemo(() => React.memo(({ \r\n    group, \r\n    onElementClick, \r\n    onElementDoubleClick, \r\n    onMoveUp, \r\n    onMoveDown, \r\n    onDelete,\r\n    onRenderContent,\r\n    onRenderEditForm,\r\n    selectedElement,\r\n    editingElement,\r\n    zoomLevel\r\n  }) => (\r\n    <SceneGroupContainer>\r\n      <SceneGroupHeader>\r\n         {group.scene || 'Escena Principal'}\r\n      </SceneGroupHeader>\r\n      <SceneGroupElements>\r\n        {group.elements.map((element, index) => (\r\n           <ScriptElementItem\r\n            key={element.id}\r\n             element={element}\r\n             index={index}\r\n             isSelected={selectedElement?.id === element.id}\r\n             isEditing={editingElement?.id === element.id}\r\n             zoomLevel={zoomLevel}\r\n             isGridMode={true}\r\n             onElementClick={onElementClick}\r\n             onElementDoubleClick={onElementDoubleClick}\r\n             onMoveUp={onMoveUp}\r\n             onMoveDown={onMoveDown}\r\n             onDelete={onDelete}\r\n             onRenderContent={onRenderContent}\r\n             onRenderEditForm={onRenderEditForm}\r\n           />\r\n        ))}\r\n      </SceneGroupElements>\r\n    </SceneGroupContainer>\r\n  )), []);\r\n\r\n  // Componente memoizado para cada elemento individual\r\n  const ScriptElementItem = useMemo(() => React.memo(({ \r\n    element, \r\n    index, \r\n    isSelected, \r\n    isEditing, \r\n    zoomLevel,\r\n    isGridMode,\r\n    onElementClick, \r\n    onElementDoubleClick, \r\n    onMoveUp, \r\n    onMoveDown, \r\n    onDelete,\r\n    onRenderContent,\r\n    onRenderEditForm\r\n  }) => (\r\n          <ScriptElement\r\n      selected={isSelected}\r\n      editing={isEditing}\r\n      isGridMode={isGridMode}\r\n      data-editing={isEditing}\r\n      onClick={() => onElementClick(element)}\r\n          >\r\n            <ElementHeader>\r\n        <ElementType color={getElementTypeColor(element.type)}>\r\n          {getElementTypeIcon(element.type)} {getElementTypeLabel(element.type)}\r\n        </ElementType>\r\n              <ElementActions>\r\n                <ActionButton \r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onMoveUp(element.id, e);\r\n            }}\r\n                  disabled={index === 0}\r\n                  title=\"Mover hacia arriba\"\r\n                >\r\n                  \r\n                </ActionButton>\r\n                <ActionButton \r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onMoveDown(element.id, e);\r\n            }}\r\n            disabled={index === currentElements.length - 1}\r\n                  title=\"Mover hacia abajo\"\r\n                >\r\n                  \r\n                </ActionButton>\r\n                <ActionButton \r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onElementDoubleClick(element);\r\n            }}\r\n                  title=\"Editar elemento\"\r\n                >\r\n                  \r\n                </ActionButton>\r\n                <ActionButton \r\n            danger\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onDelete(element.id, e);\r\n            }}\r\n                  title=\"Eliminar elemento\"\r\n                >\r\n                  \r\n                </ActionButton>\r\n              </ElementActions>\r\n            </ElementHeader>\r\n            <ElementContent>\r\n              {onRenderContent(element, isGridMode)}\r\n            </ElementContent>\r\n      \r\n      {/* Mostrar formulario de edicin si este elemento est siendo editado */}\r\n      {isEditing && (\r\n        <div ref={formRef} onClick={(e) => e.stopPropagation()}>\r\n          {onRenderEditForm(element)}\r\n        </div>\r\n      )}\r\n          </ScriptElement>\r\n  )), []);\r\n  \r\n  if (currentElements.length === 0) {\r\n    return (\r\n      <EditorContainer ref={editorRef}>\r\n        <EmptyState>\r\n          <EmptyIcon></EmptyIcon>\r\n          <EmptyText>No hay elementos en {currentSceneFile?.displayName || 'el script'}</EmptyText>\r\n          <EmptySubtext>Usa la barra lateral para agregar personajes, escenas y elementos del script</EmptySubtext>\r\n        </EmptyState>\r\n        {renderScriptEditorGuide()}\r\n      </EditorContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <EditorContainer ref={editorRef}>\r\n      <ScrollHint visible={showScrollHint}>\r\n         Mouse: rueda | Teclado: , Page Up/Down, Home/End, Espacio\r\n      </ScrollHint>\r\n      \r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n        <h3 style={{ \r\n          color: 'var(--color-primary)', \r\n          fontSize: '24px', \r\n          fontWeight: '700', \r\n          margin: '0',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: '12px'\r\n        }}>\r\n           Editor de Script\r\n        </h3>\r\n        <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>\r\n          {isGridMode && (\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, var(--color-success) 0%, var(--color-successHover) 100%)',\r\n              color: 'white',\r\n              padding: '6px 12px',\r\n              borderRadius: '16px',\r\n              fontSize: '11px',\r\n              fontWeight: '600',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '6px',\r\n              boxShadow: '0 2px 8px rgba(34, 197, 94, 0.3)'\r\n            }}>\r\n               Vista Grid Activa\r\n            </div>\r\n          )}\r\n          <button\r\n            onClick={() => setShowGuide(!showGuide)}\r\n            style={{\r\n              background: 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)',\r\n              color: 'white',\r\n              border: '2px solid var(--color-primary)',\r\n              padding: '8px 12px',\r\n              borderRadius: '8px',\r\n              cursor: 'pointer',\r\n              fontSize: '12px',\r\n              fontWeight: '600',\r\n              transition: 'all 0.3s ease'\r\n            }}\r\n          >\r\n            {showGuide ? ' Ocultar Gua' : ' Ver Gua'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showGuide && renderScriptEditorGuide()}\r\n\r\n       <ScriptList isGridMode={isGridMode} columns={columns}>\r\n         {isGridMode ? (\r\n           // Modo grid: agrupar por escenas\r\n           elementsGroupedByScenes.map((group, index) => (\r\n             <SceneGroupComponent\r\n               key={group.id || index}\r\n               group={group}\r\n               onElementClick={handleElementClick}\r\n               onElementDoubleClick={handleElementDoubleClick}\r\n               onMoveUp={handleMoveUp}\r\n               onMoveDown={handleMoveDown}\r\n               onDelete={handleDeleteElement}\r\n               onRenderContent={renderElementContent}\r\n               onRenderEditForm={renderEditForm}\r\n               selectedElement={selectedElement}\r\n               editingElement={editingElement}\r\n               zoomLevel={zoomLevel}\r\n             />\r\n           ))\r\n         ) : (\r\n           // Modo normal: columna nica\r\n           currentElements.map((element, index) => (\r\n             <ScriptElementItem\r\n               key={element.id}\r\n               element={element}\r\n               index={index}\r\n               isSelected={selectedElement?.id === element.id}\r\n               isEditing={editingElement?.id === element.id}\r\n               zoomLevel={zoomLevel}\r\n               isGridMode={isGridMode}\r\n               onElementClick={handleElementClick}\r\n               onElementDoubleClick={handleElementDoubleClick}\r\n               onMoveUp={handleMoveUp}\r\n               onMoveDown={handleMoveDown}\r\n               onDelete={handleDeleteElement}\r\n               onRenderContent={renderElementContent}\r\n               onRenderEditForm={renderEditForm}\r\n             />\r\n           ))\r\n         )}\r\n      </ScriptList>\r\n      \r\n      <ScrollIndicator visible={isScrolling}>\r\n         Navegando por el script...\r\n      </ScrollIndicator>\r\n      \r\n      {/* Botn flotante de zoom */}\r\n      <ZoomToggleButton onClick={toggleZoomControl}>\r\n        \r\n      </ZoomToggleButton>\r\n      \r\n      {/* Control de zoom */}\r\n      <ZoomControl visible={showZoomControl}>\r\n        <ZoomHeader>\r\n          <ZoomTitle>\r\n             Control de Zoom\r\n          </ZoomTitle>\r\n          <ZoomCloseButton onClick={() => setShowZoomControl(false)}>\r\n            \r\n          </ZoomCloseButton>\r\n        </ZoomHeader>\r\n        \r\n        <ZoomSliderContainer>\r\n          <ZoomSlider\r\n            type=\"range\"\r\n            min=\"25\"\r\n            max=\"200\"\r\n            value={zoomLevel}\r\n            onChange={(e) => handleZoomChange(parseInt(e.target.value))}\r\n          />\r\n          <ZoomValue>\r\n            {zoomLevel}%\r\n          </ZoomValue>\r\n        </ZoomSliderContainer>\r\n        \r\n        <ZoomPresets>\r\n          <ZoomPresetButton\r\n            active={zoomLevel === 25}\r\n            onClick={() => handleZoomPreset(25)}\r\n          >\r\n            25%\r\n          </ZoomPresetButton>\r\n          <ZoomPresetButton\r\n            active={zoomLevel === 50}\r\n            onClick={() => handleZoomPreset(50)}\r\n          >\r\n            50%\r\n          </ZoomPresetButton>\r\n          <ZoomPresetButton\r\n            active={zoomLevel === 75}\r\n            onClick={() => handleZoomPreset(75)}\r\n          >\r\n            75%\r\n          </ZoomPresetButton>\r\n          <ZoomPresetButton\r\n            active={zoomLevel === 100}\r\n            onClick={() => handleZoomPreset(100)}\r\n          >\r\n            100%\r\n          </ZoomPresetButton>\r\n          <ZoomPresetButton\r\n            active={zoomLevel === 125}\r\n            onClick={() => handleZoomPreset(125)}\r\n          >\r\n            125%\r\n          </ZoomPresetButton>\r\n          <ZoomPresetButton\r\n            active={zoomLevel === 150}\r\n            onClick={() => handleZoomPreset(150)}\r\n          >\r\n            150%\r\n          </ZoomPresetButton>\r\n        </ZoomPresets>\r\n      </ZoomControl>\r\n      \r\n      {/* Men contextual para insercin de elementos */}\r\n      {contextMenuElement && (\r\n        <ContextMenuOverlay onClick={() => setContextMenuElement(null)}>\r\n          <ContextMenuWindow onClick={(e) => e.stopPropagation()}>\r\n            <ContextMenuHeader>\r\n              <ContextMenuTitle>\r\n                 Insertar Elemento\r\n              </ContextMenuTitle>\r\n              <ContextMenuCloseButton onClick={() => setContextMenuElement(null)}>\r\n                \r\n              </ContextMenuCloseButton>\r\n            </ContextMenuHeader>\r\n            \r\n            <ContextMenuText>\r\n              Qu tipo de elemento quieres insertar <strong>despus</strong> de \"{contextMenuElement.type}\"?\r\n            </ContextMenuText>\r\n            \r\n            <ContextMenuButtons>\r\n              <ContextMenuButton\r\n                onClick={() => handleInsertElementAfter('dialogue', contextMenuElement.id)}\r\n                color=\"var(--color-success)\"\r\n                textColor=\"white\"\r\n                borderColor=\"var(--color-success)\"\r\n                hoverColor=\"var(--color-successHover)\"\r\n                hoverBorderColor=\"var(--color-successHover)\"\r\n              >\r\n                 Dilogo\r\n              </ContextMenuButton>\r\n              \r\n              <ContextMenuButton\r\n                onClick={() => handleInsertElementAfter('narration', contextMenuElement.id)}\r\n                color=\"var(--color-info)\"\r\n                textColor=\"white\"\r\n                borderColor=\"var(--color-info)\"\r\n                hoverColor=\"var(--color-infoHover)\"\r\n                hoverBorderColor=\"var(--color-infoHover)\"\r\n              >\r\n                 Narracin\r\n              </ContextMenuButton>\r\n              \r\n              <ContextMenuButton\r\n                onClick={() => handleInsertElementAfter('choice', contextMenuElement.id)}\r\n                color=\"var(--color-warning)\"\r\n                textColor=\"white\"\r\n                borderColor=\"var(--color-warning)\"\r\n                hoverColor=\"var(--color-warningHover)\"\r\n                hoverBorderColor=\"var(--color-warningHover)\"\r\n              >\r\n                 Eleccin\r\n              </ContextMenuButton>\r\n              \r\n              <ContextMenuButton\r\n                onClick={() => handleInsertElementAfter('scene', contextMenuElement.id)}\r\n                color=\"var(--color-primary)\"\r\n                textColor=\"white\"\r\n                borderColor=\"var(--color-primary)\"\r\n                hoverColor=\"var(--color-primaryHover)\"\r\n                hoverBorderColor=\"var(--color-primaryHover)\"\r\n              >\r\n                 Escena\r\n              </ContextMenuButton>\r\n            </ContextMenuButtons>\r\n            \r\n            <ContextMenuActions>\r\n              <ContextMenuActionButton onClick={() => setContextMenuElement(null)}>\r\n                Cancelar\r\n              </ContextMenuActionButton>\r\n            </ContextMenuActions>\r\n          </ContextMenuWindow>\r\n        </ContextMenuOverlay>\r\n      )}\r\n    </EditorContainer>\r\n  );\r\n}\r\n\r\nexport default ScriptEditor;\r\n","import React, { useState, useMemo } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport { \r\n  getElementTypeIcon,\r\n  getElementTypeColor \r\n} from '../config/elementTypes';\r\n\r\n// === ANIMACIONES ===\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst slideIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst TimelineContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst TimelineHeader = styled.div`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  padding: 20px 24px;\r\n  border-bottom: 2px solid var(--color-primary);\r\n  position: relative;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 1px;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\r\n  }\r\n`;\r\n\r\nconst TimelineTitle = styled.h3`\r\n  margin: 0;\r\n  color: white;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst TimelineStats = styled.div`\r\n  margin-top: 8px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst TimelineContent = styled.div`\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 24px;\r\n  background: var(--color-surface);\r\n  \r\n  /* Scrollbar personalizado */\r\n  &::-webkit-scrollbar {\r\n    width: 8px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-track {\r\n    background: var(--color-backgroundSecondary);\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background: var(--color-primary);\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: var(--color-primaryHover);\r\n  }\r\n`;\r\n\r\nconst TimelineItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n  padding: 16px;\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  border-radius: 12px;\r\n  border-left: 4px solid ${props => props.color || '#4a9eff'};\r\n  border: 1px solid var(--color-border);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n  animation: ${slideIn} 0.4s ease-out;\r\n  animation-delay: ${props => props.index * 0.1}s;\r\n  animation-fill-mode: both;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\r\n    border-left-color: ${props => props.color || '#4a9eff'};\r\n    border-left-width: 6px;\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst TimelineIcon = styled.div`\r\n  font-size: 20px;\r\n  margin-right: 16px;\r\n  min-width: 40px;\r\n  text-align: center;\r\n  padding: 8px;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 8px;\r\n  transition: all 0.3s ease;\r\n\r\n  ${TimelineItem}:hover & {\r\n    background: rgba(255, 255, 255, 0.2);\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst TimelineItemContent = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst TimelineText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin-bottom: 6px;\r\n  line-height: 1.4;\r\n`;\r\n\r\nconst TimelineMeta = styled.div`\r\n  color: var(--color-textSecondary);\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  opacity: 0.8;\r\n`;\r\n\r\nconst TimelineTime = styled.div`\r\n  color: var(--color-textTertiary);\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  margin-left: 16px;\r\n  min-width: 60px;\r\n  text-align: right;\r\n  background: var(--color-backgroundSecondary);\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst TimelineConnector = styled.div`\r\n  width: 2px;\r\n  height: 20px;\r\n  background: linear-gradient(180deg, var(--color-primary) 0%, transparent 100%);\r\n  margin: 0 auto 12px auto;\r\n  opacity: 0.6;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 300px;\r\n  color: var(--color-textSecondary);\r\n  text-align: center;\r\n  animation: ${fadeIn} 0.6s ease-out;\r\n`;\r\n\r\nconst EmptyIcon = styled.div`\r\n  font-size: 64px;\r\n  margin-bottom: 20px;\r\n  opacity: 0.6;\r\n  animation: ${pulse} 2s ease-in-out infinite;\r\n`;\r\n\r\nconst EmptyText = styled.div`\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin-bottom: 8px;\r\n  color: var(--color-textPrimary);\r\n`;\r\n\r\nconst EmptySubtext = styled.div`\r\n  font-size: 14px;\r\n  color: var(--color-textTertiary);\r\n  max-width: 300px;\r\n  line-height: 1.5;\r\n`;\r\n\r\nconst TimelineFilters = styled.div`\r\n  padding: 16px 24px;\r\n  background: var(--color-backgroundSecondary);\r\n  border-bottom: 1px solid var(--color-border);\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst FilterButton = styled.button`\r\n  padding: 6px 12px;\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 6px;\r\n  background: ${props => props.active ? 'var(--color-primary)' : 'var(--color-surface)'};\r\n  color: ${props => props.active ? 'white' : 'var(--color-textPrimary)'};\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-backgroundElevated)'};\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\n// Styled components para el men contextual de insercin (reutilizados de ScriptEditor)\r\nconst ContextMenuOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  backdrop-filter: blur(4px);\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  animation: ${fadeIn} 0.3s ease-out;\r\n`;\r\n\r\nconst ContextMenuWindow = styled.div`\r\n  background: var(--color-surface);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 40px var(--color-shadowElevated);\r\n  padding: 20px;\r\n  max-width: 400px;\r\n  width: 90%;\r\n  animation: ${slideIn} 0.4s ease-out;\r\n  position: relative;\r\n`;\r\n\r\nconst ContextMenuHeader = styled.div`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: white;\r\n  padding: 16px 20px;\r\n  border-radius: 14px 14px 0 0;\r\n  margin: -20px -20px 20px -20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 2px solid var(--color-primary);\r\n`;\r\n\r\nconst ContextMenuTitle = styled.h3`\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  color: #ffffff;\r\n  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);\r\n`;\r\n\r\nconst ContextMenuCloseButton = styled.button`\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: none;\r\n  color: white;\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.3);\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst ContextMenuText = styled.p`\r\n  color: var(--color-textSecondary);\r\n  font-size: 13px;\r\n  line-height: 1.5;\r\n  margin: 0 0 16px 0;\r\n  text-align: center;\r\n`;\r\n\r\nconst ContextMenuButtons = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 12px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst ContextMenuButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 12px 16px;\r\n  background: ${props => props.color || 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.textColor || 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.borderColor || 'var(--color-border)'};\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n\r\n  &:hover {\r\n    background: ${props => props.hoverColor || 'var(--color-border)'};\r\n    border-color: ${props => props.hoverBorderColor || 'var(--color-borderSecondary)'};\r\n    transform: translateY(-2px) scale(1.02);\r\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px) scale(1.01);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst ContextMenuActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n  border-top: 1px solid var(--color-border);\r\n  padding-top: 16px;\r\n`;\r\n\r\nconst ContextMenuActionButton = styled.button`\r\n  padding: 8px 16px;\r\n  border: 2px solid ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  border-radius: 6px;\r\n  background: ${props => props.primary \r\n    ? 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)' \r\n    : 'var(--color-surface)'};\r\n  color: ${props => props.primary ? 'white' : 'var(--color-textPrimary)'};\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  font-size: 12px;\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 8px ${props => props.primary \r\n      ? 'rgba(74, 158, 255, 0.3)' \r\n      : 'rgba(0, 0, 0, 0.1)'};\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nfunction TimelineView() {\r\n  const { state } = useVisualNovel();\r\n  const [activeFilter, setActiveFilter] = useState('all');\r\n  const [contextMenuElement, setContextMenuElement] = useState(null);\r\n\r\n  // Usar funciones centralizadas de configuracin\r\n  const getElementIcon = getElementTypeIcon;\r\n  const getElementColor = getElementTypeColor;\r\n\r\n  const getElementDescription = (element) => {\r\n    switch (element.type) {\r\n      case 'dialogue':\r\n        const character = state.project.characters.find(char => char.id === element.character);\r\n        const spriteInfo = element.showSprite ? ` (${element.showSprite})` : '';\r\n        return `${character?.name || element.character}${spriteInfo}: \"${element.text}\"`;\r\n      case 'narration':\r\n        return element.text;\r\n      case 'scene':\r\n        return `Cambio de escena: ${element.background || 'Sin fondo'}`;\r\n      case 'choice':\r\n        return `Eleccin: ${element.choices?.length || 0} opciones`;\r\n      case 'jump':\r\n        return `Salto a: ${element.jump}`;\r\n      case 'label':\r\n        return `Etiqueta: ${element.label}`;\r\n      default:\r\n        return element.text || 'Sin contenido';\r\n    }\r\n  };\r\n\r\n  const getElementMeta = (element) => {\r\n    switch (element.type) {\r\n      case 'dialogue':\r\n        const spriteInfo = element.showSprite ? `  Sprite: ${element.showSprite}` : '';\r\n        return `Dilogo  Personaje: ${element.character}${spriteInfo}`;\r\n      case 'narration':\r\n        return 'Narracin';\r\n      case 'scene':\r\n        return 'Cambio de escena';\r\n      case 'choice':\r\n        return `Eleccin  ${element.choices?.length || 0} opciones`;\r\n      case 'jump':\r\n        return `Salto  Destino: ${element.jump}`;\r\n      case 'label':\r\n        return `Etiqueta  ${element.label}`;\r\n      default:\r\n        return element.type;\r\n    }\r\n  };\r\n\r\n  // Obtener el archivo de escena actual\r\n  const currentSceneFile = state.project.sceneFiles.find(\r\n    file => file.id === state.project.currentSceneFile\r\n  );\r\n  \r\n  const allElements = currentSceneFile ? currentSceneFile.elements : [];\r\n  \r\n  // Estadsticas de elementos\r\n  const elementStats = useMemo(() => {\r\n    const stats = {\r\n      total: allElements.length,\r\n      dialogue: allElements.filter(el => el.type === 'dialogue').length,\r\n      narration: allElements.filter(el => el.type === 'narration').length,\r\n      scene: allElements.filter(el => el.type === 'scene').length,\r\n      choice: allElements.filter(el => el.type === 'choice').length,\r\n      jump: allElements.filter(el => el.type === 'jump').length,\r\n      label: allElements.filter(el => el.type === 'label').length,\r\n      other: allElements.filter(el => !['dialogue', 'narration', 'scene', 'choice', 'jump', 'label'].includes(el.type)).length\r\n    };\r\n    return stats;\r\n  }, [allElements]);\r\n  \r\n  // Filtrar elementos segn el filtro activo\r\n  const filteredElements = useMemo(() => {\r\n    if (activeFilter === 'all') return allElements;\r\n    return allElements.filter(element => element.type === activeFilter);\r\n  }, [allElements, activeFilter]);\r\n  \r\n  // Tipos de filtros disponibles\r\n  const filterTypes = [\r\n    { id: 'all', label: 'Todos', count: elementStats.total },\r\n    { id: 'dialogue', label: 'Dilogos', count: elementStats.dialogue },\r\n    { id: 'narration', label: 'Narraciones', count: elementStats.narration },\r\n    { id: 'scene', label: 'Escenas', count: elementStats.scene },\r\n    { id: 'choice', label: 'Elecciones', count: elementStats.choice },\r\n    { id: 'jump', label: 'Saltos', count: elementStats.jump },\r\n    { id: 'label', label: 'Etiquetas', count: elementStats.label }\r\n  ];\r\n\r\n  // Funcin para navegar a un elemento en la vista previa\r\n  const handleNavigateToElement = (element) => {\r\n    // Obtener el archivo de escena actual\r\n    const currentSceneFile = state.project.sceneFiles.find(\r\n      file => file.id === state.project.currentSceneFile\r\n    );\r\n    \r\n    if (!currentSceneFile || !currentSceneFile.elements) {\r\n      console.warn('TimelineView: No se pudo navegar al elemento - archivo de escena no encontrado');\r\n      return;\r\n    }\r\n    \r\n    // Encontrar el ndice del elemento en el archivo actual\r\n    const elementIndex = currentSceneFile.elements.findIndex(el => el.id === element.id);\r\n    \r\n    if (elementIndex === -1) {\r\n      console.warn('TimelineView: No se pudo navegar al elemento - elemento no encontrado en el archivo actual');\r\n      return;\r\n    }\r\n    \r\n    // Disparar evento personalizado para que PreviewPanel lo capture\r\n    const navigateEvent = new CustomEvent('navigateToElement', {\r\n      detail: {\r\n        elementIndex: elementIndex,\r\n        elementId: element.id,\r\n        sceneFileId: currentSceneFile.id\r\n      }\r\n    });\r\n    \r\n    // Mostrar men contextual para insercin\r\n    setContextMenuElement(element);\r\n    \r\n    console.log('TimelineView: Disparando evento navigateToElement:', navigateEvent.detail);\r\n    \r\n    // Disparar el evento tanto en window como en document para mayor compatibilidad\r\n    window.dispatchEvent(navigateEvent);\r\n    document.dispatchEvent(navigateEvent);\r\n    \r\n    console.log('TimelineView: Navegando a elemento', elementIndex, ':', element);\r\n  };\r\n\r\n  // Funcin para abrir el sidebar y preparar insercin despus de otro elemento especfico\r\n  const handleInsertElementAfter = (elementType, afterElementId) => {\r\n    // Verificar si la funcin global est disponible\r\n    if (window.addElementToSceneWithInsertion) {\r\n      // Encontrar el ndice del elemento despus del cual insertar\r\n      const currentSceneFile = state.project.sceneFiles.find(\r\n        file => file.id === state.project.currentSceneFile\r\n      );\r\n      \r\n      if (!currentSceneFile || !currentSceneFile.elements) {\r\n        console.warn('TimelineView: No se pudo insertar elemento - archivo de escena no encontrado');\r\n        return;\r\n      }\r\n      \r\n      const afterElementIndex = currentSceneFile.elements.findIndex(el => el.id === afterElementId);\r\n      \r\n      if (afterElementIndex === -1) {\r\n        console.warn('TimelineView: No se pudo insertar elemento - elemento de referencia no encontrado');\r\n        return;\r\n      }\r\n      \r\n      // Llamar a la funcin global que abrir el sidebar y preparar la insercin\r\n      window.addElementToSceneWithInsertion(elementType, state.project.currentSceneFile, afterElementIndex + 1);\r\n      \r\n      // Cerrar men contextual\r\n      setContextMenuElement(null);\r\n    } else {\r\n      console.warn('TimelineView: La funcin addElementToSceneWithInsertion no est disponible');\r\n    }\r\n  };\r\n  \r\n  if (allElements.length === 0) {\r\n    return (\r\n      <TimelineContainer>\r\n        <TimelineHeader>\r\n          <TimelineTitle> Lnea de Tiempo</TimelineTitle>\r\n          <TimelineStats>No hay elementos en este archivo</TimelineStats>\r\n        </TimelineHeader>\r\n        <EmptyState>\r\n          <EmptyIcon></EmptyIcon>\r\n          <EmptyText>No hay elementos en la lnea de tiempo</EmptyText>\r\n          <EmptySubtext>Agrega elementos al script para verlos aqu de forma cronolgica</EmptySubtext>\r\n        </EmptyState>\r\n      </TimelineContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <TimelineContainer>\r\n      <TimelineHeader>\r\n        <TimelineTitle> Lnea de Tiempo</TimelineTitle>\r\n        <TimelineStats>\r\n          {filteredElements.length} de {allElements.length} elementos \r\n          {activeFilter !== 'all' && ` (${activeFilter})`}\r\n        </TimelineStats>\r\n      </TimelineHeader>\r\n      \r\n      {allElements.length > 3 && (\r\n        <TimelineFilters>\r\n          {filterTypes.map(filter => (\r\n            <FilterButton\r\n              key={filter.id}\r\n              active={activeFilter === filter.id}\r\n              onClick={() => setActiveFilter(filter.id)}\r\n            >\r\n              {filter.label} ({filter.count})\r\n            </FilterButton>\r\n          ))}\r\n        </TimelineFilters>\r\n      )}\r\n      \r\n      <TimelineContent>\r\n        {filteredElements.map((element, index) => (\r\n          <React.Fragment key={element.id}>\r\n            <TimelineItem \r\n              color={getElementColor(element.type)}\r\n              index={index}\r\n              onClick={() => {\r\n                // Navegar a este elemento en la vista previa\r\n                handleNavigateToElement(element);\r\n              }}\r\n            >\r\n            <TimelineIcon>{getElementIcon(element.type)}</TimelineIcon>\r\n            <TimelineItemContent>\r\n              <TimelineText>{getElementDescription(element)}</TimelineText>\r\n              <TimelineMeta>{getElementMeta(element)}</TimelineMeta>\r\n            </TimelineItemContent>\r\n              <TimelineTime>#{allElements.indexOf(element) + 1}</TimelineTime>\r\n          </TimelineItem>\r\n            {index < filteredElements.length - 1 && <TimelineConnector />}\r\n          </React.Fragment>\r\n        ))}\r\n      </TimelineContent>\r\n      \r\n      {/* Men contextual para insercin de elementos */}\r\n      {contextMenuElement && (\r\n        <ContextMenuOverlay onClick={() => setContextMenuElement(null)}>\r\n          <ContextMenuWindow onClick={(e) => e.stopPropagation()}>\r\n            <ContextMenuHeader>\r\n              <ContextMenuTitle>\r\n                 Insertar Elemento\r\n              </ContextMenuTitle>\r\n              <ContextMenuCloseButton onClick={() => setContextMenuElement(null)}>\r\n                \r\n              </ContextMenuCloseButton>\r\n            </ContextMenuHeader>\r\n            \r\n            <ContextMenuText>\r\n              Qu tipo de elemento quieres insertar <strong>despus</strong> de \"{contextMenuElement.type}\"?\r\n            </ContextMenuText>\r\n            \r\n            <ContextMenuButtons>\r\n              <ContextMenuButton\r\n                onClick={() => handleInsertElementAfter('dialogue', contextMenuElement.id)}\r\n                color=\"var(--color-success)\"\r\n                textColor=\"white\"\r\n                borderColor=\"var(--color-success)\"\r\n                hoverColor=\"var(--color-successHover)\"\r\n                hoverBorderColor=\"var(--color-successHover)\"\r\n              >\r\n                 Dilogo\r\n              </ContextMenuButton>\r\n              \r\n              <ContextMenuButton\r\n                onClick={() => handleInsertElementAfter('narration', contextMenuElement.id)}\r\n                color=\"var(--color-info)\"\r\n                textColor=\"white\"\r\n                borderColor=\"var(--color-info)\"\r\n                hoverColor=\"var(--color-infoHover)\"\r\n                hoverBorderColor=\"var(--color-infoHover)\"\r\n              >\r\n                 Narracin\r\n              </ContextMenuButton>\r\n              \r\n              <ContextMenuButton\r\n                onClick={() => handleInsertElementAfter('choice', contextMenuElement.id)}\r\n                color=\"var(--color-warning)\"\r\n                textColor=\"white\"\r\n                borderColor=\"var(--color-warning)\"\r\n                hoverColor=\"var(--color-warningHover)\"\r\n                hoverBorderColor=\"var(--color-warningHover)\"\r\n              >\r\n                 Eleccin\r\n              </ContextMenuButton>\r\n              \r\n              <ContextMenuButton\r\n                onClick={() => handleInsertElementAfter('scene', contextMenuElement.id)}\r\n                color=\"var(--color-primary)\"\r\n                textColor=\"white\"\r\n                borderColor=\"var(--color-primary)\"\r\n                hoverColor=\"var(--color-primaryHover)\"\r\n                hoverBorderColor=\"var(--color-primaryHover)\"\r\n              >\r\n                 Escena\r\n              </ContextMenuButton>\r\n            </ContextMenuButtons>\r\n            \r\n            <ContextMenuActions>\r\n              <ContextMenuActionButton onClick={() => setContextMenuElement(null)}>\r\n                Cancelar\r\n              </ContextMenuActionButton>\r\n            </ContextMenuActions>\r\n          </ContextMenuWindow>\r\n        </ContextMenuOverlay>\r\n      )}\r\n    </TimelineContainer>\r\n  );\r\n}\r\n\r\nexport default TimelineView;\r\n","import React, { useState, useMemo, useEffect, useRef } from 'react';\nimport styled, { keyframes, css } from 'styled-components';\nimport { useVisualNovel } from '../../context/VisualNovelContext';\n\n// Animaciones\nconst slideIn = keyframes`\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\n\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n`;\n\nconst pulse = keyframes`\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n`;\n\nconst shimmer = keyframes`\n  0% {\n    background-position: -200px 0;\n  }\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n`;\n\nconst PanelContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  animation: ${slideIn} 0.5s ease-out;\n  height: 100vh;\n  max-height: 100vh;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 20px;\n  padding-right: 28px;\n  box-sizing: border-box;\n  outline: none;\n  cursor: default;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundSecondary) 100%);\n  border-radius: 16px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  \n  &:focus {\n    outline: 2px solid var(--color-primary);\n    outline-offset: -2px;\n  }\n  \n  /* Estilos de scrollbar personalizados */\n  &::-webkit-scrollbar {\n    width: 12px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: var(--color-surface);\n    border-radius: 6px;\n    margin: 8px 0;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n    border-radius: 6px;\n    transition: all 0.3s ease;\n    border: 2px solid var(--color-surface);\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\n    transform: scale(1.05);\n  }\n  \n  /* Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--color-primary) var(--color-surface);\n`;\n\nconst PanelTitle = styled.h3`\n  color: var(--color-primary);\n  margin: 0 0 20px 0;\n  font-size: 24px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: all 0.3s ease;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  \n  &:hover {\n    transform: translateX(5px);\n    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst DecisionNode = styled.div`\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid ${props => props.isSelected ? 'var(--color-primary)' : 'var(--color-border)'};\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: ${fadeIn} 0.3s ease-out;\n\n  &:hover {\n    border-color: var(--color-primary);\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      opacity: 1;\n    }\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover), var(--color-primary));\n    border-radius: 16px 16px 0 0;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n  \n  ${props => props.isSelected && css`\n    border-color: var(--color-primary);\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);\n    animation: ${pulse} 2s ease-in-out infinite;\n    \n    &::before {\n      opacity: 1;\n    }\n  `}\n`;\n\nconst DecisionHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 12px;\n`;\n\nconst DecisionTitle = styled.div`\n  color: #ffffff;\n  font-weight: bold;\n  font-size: 14px;\n  flex: 1;\n`;\n\nconst DecisionType = styled.div`\n  background-color: #4a9eff;\n  color: #ffffff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-weight: bold;\n`;\n\nconst DecisionQuestion = styled.div`\n  color: #cccccc;\n  font-size: 13px;\n  margin-bottom: 12px;\n  line-height: 1.4;\n  font-style: italic;\n`;\n\nconst ChoicesList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nconst ChoiceItem = styled.div`\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 12px 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    border-color: var(--color-primary);\n    background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surfaceSecondary) 100%);\n    transform: translateX(5px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      opacity: 1;\n    }\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 3px;\n    height: 100%;\n    background: linear-gradient(180deg, var(--color-primary), var(--color-primaryHover));\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n`;\n\nconst ChoiceText = styled.div`\n  color: #ffffff;\n  font-size: 12px;\n  flex: 1;\n  margin-right: 12px;\n`;\n\nconst JumpLabel = styled.div`\n  background: ${props => props.exists \n    ? 'linear-gradient(135deg, #4a9eff 0%, #3a8eef 100%)'\n    : 'linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%)'\n  };\n  color: #ffffff;\n  padding: 6px 12px;\n  border-radius: 8px;\n  font-size: 11px;\n  font-weight: 700;\n  min-width: 70px;\n  text-align: center;\n  position: relative;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: scale(1.05);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  }\n  \n  &::after {\n    content: '${props => props.exists ? '' : ''}';\n    position: absolute;\n    top: -4px;\n    right: -4px;\n    background: ${props => props.exists \n      ? 'linear-gradient(135deg, #4a9eff 0%, #3a8eef 100%)'\n      : 'linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%)'\n    };\n    color: white;\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    font-size: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 2px solid var(--color-surface);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  }\n`;\n\nconst ConditionLabel = styled.div`\n  background-color: #ff9500;\n  color: #ffffff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-weight: bold;\n  margin: 4px 0;\n  display: inline-block;\n`;\n\nconst JumpDetails = styled.div`\n  background-color: #2a2a2a;\n  border: 1px solid #555555;\n  border-radius: 6px;\n  padding: 8px;\n  margin-top: 8px;\n  font-size: 11px;\n  color: #cccccc;\n`;\n\nconst JumpDestination = styled.div`\n  color: ${props => props.exists ? '#4a9eff' : '#ff6b6b'};\n  font-weight: bold;\n  margin-bottom: 4px;\n`;\n\nconst JumpLocation = styled.div`\n  color: #888888;\n  font-size: 10px;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  color: #888888;\n  padding: 40px 20px;\n`;\n\nconst EmptyIcon = styled.div`\n  font-size: 48px;\n  margin-bottom: 16px;\n`;\n\nconst EmptyText = styled.div`\n  font-size: 16px;\n  margin-bottom: 8px;\n`;\n\nconst EmptySubtext = styled.div`\n  font-size: 14px;\n  color: #666666;\n`;\n\nconst FilterContainer = styled.div`\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  align-items: center;\n`;\n\nconst FilterButton = styled.button`\n  background: ${props => props.active \n    ? 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)'\n    : 'linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%)'\n  };\n  color: ${props => props.active ? '#ffffff' : 'var(--color-textSecondary)'};\n  border: 2px solid ${props => props.active ? 'var(--color-primary)' : 'var(--color-border)'};\n  padding: 10px 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    background: ${props => props.active \n      ? 'linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%)'\n      : 'linear-gradient(135deg, var(--color-borderSecondary) 0%, var(--color-border) 100%)'\n    };\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    \n    &::before {\n      opacity: 1;\n    }\n  }\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: all 0.3s ease;\n    opacity: 0;\n  }\n  \n  ${props => props.active && css`\n    animation: ${pulse} 2s ease-in-out infinite;\n  `}\n`;\n\nconst StatsContainer = styled.div`\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-around;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: ${fadeIn} 0.5s ease-out;\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n    animation: ${shimmer} 3s ease-in-out infinite;\n  }\n`;\n\nconst StatItem = styled.div`\n  text-align: center;\n`;\n\nconst StatNumber = styled.div`\n  color: #4a9eff;\n  font-size: 18px;\n  font-weight: bold;\n`;\n\nconst StatLabel = styled.div`\n  color: #cccccc;\n  font-size: 11px;\n  margin-top: 4px;\n`;\n\nconst LabelsSection = styled.div`\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: ${fadeIn} 0.5s ease-out;\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\n    animation: ${shimmer} 3s ease-in-out infinite;\n  }\n`;\n\nconst LabelsTitle = styled.div`\n  color: #4a9eff;\n  font-weight: bold;\n  font-size: 14px;\n  margin-bottom: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst LabelsList = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n`;\n\nconst LabelTag = styled.div`\n  background-color: #4a9eff;\n  color: #ffffff;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 11px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n`;\n\nconst LabelLocation = styled.span`\n  background-color: rgba(255, 255, 255, 0.2);\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-size: 10px;\n`;\n\n// Componentes para scroll y guas\nconst ScrollIndicator = styled.div`\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\n  color: white;\n  padding: 8px 16px;\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 600;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-surface);\n  z-index: 1000;\n  backdrop-filter: blur(10px);\n  opacity: ${props => props.visible ? 1 : 0};\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\n  transition: all 0.3s ease;\n  animation: ${props => props.visible ? css`${pulse} 1s ease-in-out infinite` : 'none'};\n`;\n\nconst ScrollHint = styled.div`\n  position: fixed;\n  top: 80px;\n  right: 20px;\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\n  color: var(--color-text);\n  padding: 12px 16px;\n  border-radius: 20px;\n  font-size: 12px;\n  font-weight: 600;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);\n  border: 2px solid var(--color-border);\n  z-index: 999;\n  backdrop-filter: blur(10px);\n  opacity: ${props => props.visible ? 1 : 0};\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\n  transition: all 0.3s ease;\n  transform: ${props => props.visible ? 'translateX(0)' : 'translateX(100%)'};\n`;\n\nconst GuideSection = styled.div`\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\n  border: 2px solid var(--color-border);\n  border-radius: 16px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  animation: ${fadeIn} 0.5s ease-out;\n`;\n\nconst GuideTitle = styled.h4`\n  color: var(--color-primary);\n  font-size: 16px;\n  font-weight: 700;\n  margin: 0 0 12px 0;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst GuideText = styled.p`\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 0 0 12px 0;\n`;\n\nconst GuideList = styled.ul`\n  color: var(--color-textSecondary);\n  font-size: 13px;\n  line-height: 1.6;\n  margin: 0;\n  padding-left: 20px;\n`;\n\nconst GuideListItem = styled.li`\n  margin-bottom: 6px;\n`;\n\nfunction DecisionMapPanel() {\n  const { state } = useVisualNovel();\n  const [selectedDecision, setSelectedDecision] = useState(null);\n  const [filter, setFilter] = useState('all'); // 'all', 'withJumps', 'withoutJumps'\n  const [showScrollHint, setShowScrollHint] = useState(false);\n  const [isScrolling, setIsScrolling] = useState(false);\n  const [showGuide, setShowGuide] = useState(false);\n  const panelRef = useRef(null);\n\n  // Obtener todas las decisiones del proyecto\n  const decisions = useMemo(() => {\n    const allDecisions = [];\n    \n    // Buscar en todos los archivos de escenas\n    state.project.sceneFiles.forEach(sceneFile => {\n      sceneFile.elements.forEach(element => {\n        if (element.type === 'choice') {\n          allDecisions.push({\n            ...element,\n            sceneFile: sceneFile.displayName,\n            sceneFileId: sceneFile.id\n          });\n        }\n      });\n    });\n\n    return allDecisions;\n  }, [state.project.sceneFiles]);\n\n  // Obtener todas las etiquetas (labels) del proyecto\n  const labels = useMemo(() => {\n    const allLabels = [];\n    \n    // Agregar labels manuales\n    state.project.sceneFiles.forEach(sceneFile => {\n      sceneFile.elements.forEach(element => {\n        if (element.type === 'label') {\n          allLabels.push({\n            name: element.label || element.name,\n            type: 'manual',\n            sceneFile: sceneFile.displayName\n          });\n        }\n      });\n    });\n\n    // Agregar IDs de archivos de escena como labels automticos\n    state.project.sceneFiles.forEach(sceneFile => {\n      if (!sceneFile.isMain) { // No incluir el archivo principal\n        allLabels.push({\n          name: sceneFile.id,\n          type: 'sceneFile',\n          sceneFile: sceneFile.displayName\n        });\n      }\n    });\n\n    return allLabels;\n  }, [state.project.sceneFiles]);\n\n  // Filtrar decisiones\n  const filteredDecisions = useMemo(() => {\n    switch (filter) {\n      case 'withJumps':\n        return decisions.filter(decision => \n          decision.choices?.some(choice => choice.jump && choice.jump.trim())\n        );\n      case 'withoutJumps':\n        return decisions.filter(decision => \n          !decision.choices?.some(choice => choice.jump && choice.jump.trim())\n        );\n      default:\n        return decisions;\n    }\n  }, [decisions, filter]);\n\n  // Estadsticas\n  const stats = useMemo(() => {\n    const totalDecisions = decisions.length;\n    const decisionsWithJumps = decisions.filter(decision => \n      decision.choices?.some(choice => choice.jump && choice.jump.trim())\n    ).length;\n    const totalJumps = decisions.reduce((count, decision) => \n      count + (decision.choices?.filter(choice => choice.jump && choice.jump.trim()).length || 0), 0\n    );\n    const orphanJumps = decisions.reduce((count, decision) => \n      count + (decision.choices?.filter(choice => \n        choice.jump && choice.jump.trim() && !labels.includes(choice.jump)\n      ).length || 0), 0\n    );\n\n    return {\n      totalDecisions,\n      decisionsWithJumps,\n      totalJumps,\n      orphanJumps\n    };\n  }, [decisions, labels]);\n\n  const handleDecisionClick = (decision) => {\n    setSelectedDecision(selectedDecision?.id === decision.id ? null : decision);\n  };\n\n  const checkJumpExists = (jumpLabel) => {\n    // Verificar si existe en la lista de labels (manuales o automticos)\n    const labelExists = labels.some(label => \n      label.name === jumpLabel\n    );\n    \n    if (labelExists) {\n      console.log(` Jump \"${jumpLabel}\" vlido`);\n      return true;\n    }\n    \n    return false;\n  };\n\n  // Funcin para encontrar la ubicacin de un label\n  const findLabelLocation = (labelName) => {\n    // Buscar como label manual primero\n    for (const sceneFile of state.project.sceneFiles) {\n      const labelElement = sceneFile.elements.find(element => \n        element.type === 'label' && element.label === labelName\n      );\n      if (labelElement) {\n        return {\n          sceneFile: sceneFile.displayName,\n          sceneFileId: sceneFile.id,\n          exists: true,\n          type: 'manual'\n        };\n      }\n    }\n    \n    // Buscar como ID de archivo de escena\n    const sceneFile = state.project.sceneFiles.find(file => file.id === labelName);\n    if (sceneFile) {\n      console.log(` Label \"${labelName}\" encontrado como archivo de escena: ${sceneFile.displayName}`);\n      return {\n        sceneFile: sceneFile.displayName,\n        sceneFileId: sceneFile.id,\n        exists: true,\n        type: 'sceneFile'\n      };\n    }\n    \n    return { exists: false };\n  };\n\n  // Efecto para mostrar hint de scroll cuando se carga el componente\n  useEffect(() => {\n    if (decisions.length > 0) {\n      const timer = setTimeout(() => {\n        setShowScrollHint(true);\n      }, 1000);\n      \n      const hideTimer = setTimeout(() => {\n        setShowScrollHint(false);\n      }, 4000);\n      \n      return () => {\n        clearTimeout(timer);\n        clearTimeout(hideTimer);\n      };\n    }\n  }, [decisions.length]);\n\n  // Efecto para manejar el scroll del panel principal\n  useEffect(() => {\n    const panelElement = panelRef.current;\n    if (!panelElement) return;\n\n    const handleWheel = (e) => {\n      e.preventDefault();\n      \n      const scrollAmount = e.deltaY * 4.0;\n      panelElement.scrollBy({\n        top: scrollAmount,\n        behavior: 'smooth'\n      });\n      \n      setIsScrolling(true);\n      clearTimeout(window.scrollTimeout);\n      window.scrollTimeout = setTimeout(() => {\n        setIsScrolling(false);\n      }, 200);\n    };\n\n    const handleScroll = (e) => {\n      setIsScrolling(true);\n      clearTimeout(window.scrollTimeout);\n      window.scrollTimeout = setTimeout(() => {\n        setIsScrolling(false);\n      }, 200);\n    };\n\n    const handleKeyDown = (e) => {\n      if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\n        e.preventDefault();\n        \n        const scrollAmount = e.key === 'ArrowDown' ? 300 : -300;\n        panelElement.scrollBy({\n          top: scrollAmount,\n          behavior: 'smooth'\n        });\n        \n        setIsScrolling(true);\n        clearTimeout(window.scrollTimeout);\n        window.scrollTimeout = setTimeout(() => {\n          setIsScrolling(false);\n        }, 200);\n      }\n      \n      if (e.key === 'PageDown' || e.key === 'PageUp') {\n        e.preventDefault();\n        \n        const scrollAmount = e.key === 'PageDown' ? 600 : -600;\n        panelElement.scrollBy({\n          top: scrollAmount,\n          behavior: 'smooth'\n        });\n        \n        setIsScrolling(true);\n        clearTimeout(window.scrollTimeout);\n        window.scrollTimeout = setTimeout(() => {\n          setIsScrolling(false);\n        }, 200);\n      }\n      \n      if (e.key === 'Home') {\n        e.preventDefault();\n        panelElement.scrollTo({\n          top: 0,\n          behavior: 'smooth'\n        });\n        setIsScrolling(true);\n        clearTimeout(window.scrollTimeout);\n        window.scrollTimeout = setTimeout(() => {\n          setIsScrolling(false);\n        }, 200);\n      }\n      \n      if (e.key === 'End') {\n        e.preventDefault();\n        panelElement.scrollTo({\n          top: panelElement.scrollHeight,\n          behavior: 'smooth'\n        });\n        setIsScrolling(true);\n        clearTimeout(window.scrollTimeout);\n        window.scrollTimeout = setTimeout(() => {\n          setIsScrolling(false);\n        }, 200);\n      }\n      \n      if (e.key === ' ') {\n        e.preventDefault();\n        panelElement.scrollBy({\n          top: 400,\n          behavior: 'smooth'\n        });\n        setIsScrolling(true);\n        clearTimeout(window.scrollTimeout);\n        window.scrollTimeout = setTimeout(() => {\n          setIsScrolling(false);\n        }, 200);\n      }\n      \n      if (e.key === ' ' && e.shiftKey) {\n        e.preventDefault();\n        panelElement.scrollBy({\n          top: -400,\n          behavior: 'smooth'\n        });\n        setIsScrolling(true);\n        clearTimeout(window.scrollTimeout);\n        window.scrollTimeout = setTimeout(() => {\n          setIsScrolling(false);\n        }, 200);\n      }\n    };\n\n    panelElement.addEventListener('wheel', handleWheel, { passive: false });\n    panelElement.addEventListener('scroll', handleScroll);\n    panelElement.addEventListener('keydown', handleKeyDown);\n    \n    panelElement.setAttribute('tabindex', '0');\n    \n    return () => {\n      panelElement.removeEventListener('wheel', handleWheel);\n      panelElement.removeEventListener('scroll', handleScroll);\n      panelElement.removeEventListener('keydown', handleKeyDown);\n      clearTimeout(window.scrollTimeout);\n    };\n  }, []);\n\n  // Funcin para renderizar la gua del mapa de decisiones\n  const renderDecisionMapGuide = () => (\n    <GuideSection>\n      <GuideTitle>\n         Gua del Mapa de Decisiones\n      </GuideTitle>\n      <GuideText>\n        El Mapa de Decisiones te ayuda a visualizar y gestionar todas las decisiones de tu novela visual:\n      </GuideText>\n      <GuideList>\n        <GuideListItem>\n          <strong>Estadsticas:</strong> Ve el resumen general de tus decisiones y jumps\n        </GuideListItem>\n        <GuideListItem>\n          <strong>Labels Disponibles:</strong> Lista de todos los puntos de salto definidos\n        </GuideListItem>\n        <GuideListItem>\n          <strong>Filtros:</strong> Organiza las decisiones por tipo (Todas, Con Jumps, Sin Jumps)\n        </GuideListItem>\n        <GuideListItem>\n          <strong>Validacin:</strong> Los jumps hurfanos se marcan en rojo ()\n        </GuideListItem>\n        <GuideListItem>\n          <strong>Navegacin:</strong> Haz clic en cualquier decisin para expandirla\n        </GuideListItem>\n      </GuideList>\n      <GuideText>\n        <strong> Consejos:</strong> Revisa regularmente los jumps hurfanos para mantener la coherencia narrativa.\n      </GuideText>\n    </GuideSection>\n  );\n\n  if (decisions.length === 0) {\n    return (\n      <PanelContainer ref={panelRef}>\n        <PanelTitle>\n           Mapa de Decisiones\n        </PanelTitle>\n        <EmptyState>\n          <EmptyIcon></EmptyIcon>\n          <EmptyText>No hay decisiones creadas</EmptyText>\n          <EmptySubtext>Crea elementos de eleccin en el script para ver el mapa de decisiones</EmptySubtext>\n        </EmptyState>\n        {renderDecisionMapGuide()}\n      </PanelContainer>\n    );\n  }\n\n  return (\n    <PanelContainer ref={panelRef}>\n      <ScrollHint visible={showScrollHint}>\n         Mouse: rueda | Teclado: , Page Up/Down, Home/End, Espacio\n      </ScrollHint>\n      \n      <PanelTitle>\n         Mapa de Decisiones\n        <div style={{ display: 'flex', gap: '8px', marginLeft: 'auto' }}>\n          <button\n            onClick={() => setShowGuide(!showGuide)}\n            style={{\n              background: 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)',\n              color: 'white',\n              border: '2px solid var(--color-primary)',\n              padding: '8px 12px',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              fontSize: '12px',\n              fontWeight: '600',\n              transition: 'all 0.3s ease'\n            }}\n          >\n            {showGuide ? ' Ocultar Gua' : ' Ver Gua'}\n          </button>\n        </div>\n      </PanelTitle>\n\n      {showGuide && renderDecisionMapGuide()}\n\n      <StatsContainer>\n        <StatItem>\n          <StatNumber>{stats.totalDecisions}</StatNumber>\n          <StatLabel>Decisiones</StatLabel>\n        </StatItem>\n        <StatItem>\n          <StatNumber>{stats.decisionsWithJumps}</StatNumber>\n          <StatLabel>Con Jumps</StatLabel>\n        </StatItem>\n        <StatItem>\n          <StatNumber>{stats.totalJumps}</StatNumber>\n          <StatLabel>Total Jumps</StatLabel>\n        </StatItem>\n        <StatItem>\n          <StatNumber style={{ color: stats.orphanJumps > 0 ? '#ff6b6b' : '#4a9eff' }}>\n            {stats.orphanJumps}\n          </StatNumber>\n          <StatLabel>Jumps Hurfanos</StatLabel>\n        </StatItem>\n      </StatsContainer>\n\n      {labels.length > 0 && (\n        <LabelsSection>\n          <LabelsTitle>\n             Labels Disponibles ({labels.length})\n          </LabelsTitle>\n          <LabelsList>\n            {labels.map((label, index) => {\n              return (\n                <LabelTag key={index}>\n                  {label.name}\n                  <LabelLocation>\n                    {label.sceneFile} \n                    {label.type === 'sceneFile' && ' (Archivo)'}\n                  </LabelLocation>\n                </LabelTag>\n              );\n            })}\n          </LabelsList>\n        </LabelsSection>\n      )}\n\n      <FilterContainer>\n        <FilterButton \n          active={filter === 'all'} \n          onClick={() => setFilter('all')}\n        >\n          Todas ({decisions.length})\n        </FilterButton>\n        <FilterButton \n          active={filter === 'withJumps'} \n          onClick={() => setFilter('withJumps')}\n        >\n          Con Jumps ({stats.decisionsWithJumps})\n        </FilterButton>\n        <FilterButton \n          active={filter === 'withoutJumps'} \n          onClick={() => setFilter('withoutJumps')}\n        >\n          Sin Jumps ({stats.totalDecisions - stats.decisionsWithJumps})\n        </FilterButton>\n      </FilterContainer>\n\n      {filteredDecisions.map((decision, index) => (\n        <DecisionNode\n          key={decision.id}\n          isSelected={selectedDecision?.id === decision.id}\n          onClick={() => handleDecisionClick(decision)}\n        >\n          <DecisionHeader>\n            <DecisionTitle>\n              Decisin #{index + 1} - {decision.sceneFile}\n            </DecisionTitle>\n            <DecisionType>CHOICE</DecisionType>\n          </DecisionHeader>\n\n          {decision.text && (\n            <DecisionQuestion>\n              \"{decision.text}\"\n            </DecisionQuestion>\n          )}\n\n          <ChoicesList>\n            {decision.choices?.map((choice, choiceIndex) => {\n              const jumpExists = checkJumpExists(choice.jump);\n              const labelLocation = findLabelLocation(choice.jump);\n              \n              return (\n                <div key={choice.id || choiceIndex}>\n                  <ChoiceItem>\n                    <ChoiceText>\n                      {choiceIndex + 1}. {choice.text}\n                    </ChoiceText>\n                    {choice.condition && (\n                      <ConditionLabel>\n                         Si: {choice.condition}\n                      </ConditionLabel>\n                    )}\n                    <JumpLabel exists={jumpExists}>\n                      {choice.jump || 'Sin jump'}\n                    </JumpLabel>\n                  </ChoiceItem>\n                  \n                  {choice.jump && (\n                    <JumpDetails>\n                      <JumpDestination exists={jumpExists}>\n                        {jumpExists ? ` ${choice.jump}` : ` ${choice.jump} (NO ENCONTRADO)`}\n                      </JumpDestination>\n                      {jumpExists && (\n                        <JumpLocation>\n                           Ubicacin: {labelLocation.sceneFile}\n                        </JumpLocation>\n                      )}\n                    </JumpDetails>\n                  )}\n                </div>\n              );\n            })}\n          </ChoicesList>\n        </DecisionNode>\n      ))}\n      \n      <ScrollIndicator visible={isScrolling}>\n         Navegando por el mapa...\n      </ScrollIndicator>\n    </PanelContainer>\n  );\n}\n\nexport default DecisionMapPanel;\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../../context/VisualNovelContext';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// Animaciones\r\nconst slideIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst shimmer = keyframes`\r\n  0% {\r\n    background-position: -200% 0;\r\n  }\r\n  100% {\r\n    background-position: 200% 0;\r\n  }\r\n`;\r\n\r\nconst PanelContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  animation: ${slideIn} 0.5s ease-out;\r\n  height: 90vh;\r\n  max-height: none;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  padding: 20px;\r\n  padding-right: 28px;\r\n  box-sizing: border-box;\r\n  outline: none;\r\n  cursor: default;\r\n  \r\n  &:focus {\r\n    outline: 2px solid var(--color-primary);\r\n    outline-offset: -2px;\r\n  }\r\n  \r\n  /* Estilos de scrollbar personalizados para el panel principal */\r\n  &::-webkit-scrollbar {\r\n    width: 12px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-track {\r\n    background: var(--color-surface);\r\n    border-radius: 6px;\r\n    margin: 8px 0;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n    border-radius: 6px;\r\n    transition: all 0.3s ease;\r\n    border: 2px solid var(--color-surface);\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n    transform: scale(1.05);\r\n  }\r\n  \r\n  /* Firefox */\r\n  scrollbar-width: thin;\r\n  scrollbar-color: var(--color-primary) var(--color-surface);\r\n`;\r\n\r\nconst Section = styled.div`\r\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 16px;\r\n  padding: 20px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  position: relative;\r\n  overflow: visible;\r\n  min-height: auto;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\r\n    transition: left 0.5s;\r\n    pointer-events: none;\r\n  }\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\r\n    border-color: var(--color-borderSecondary);\r\n\r\n    &::before {\r\n      left: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  margin: 0 0 16px 0;\r\n  font-size: 16px;\r\n  color: var(--color-primary);\r\n  border-bottom: 2px solid var(--color-border);\r\n  padding-bottom: 12px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: all 0.3s ease;\r\n  font-weight: 600;\r\n  position: relative;\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -2px;\r\n    left: 0;\r\n    width: 30%;\r\n    height: 2px;\r\n    background: linear-gradient(90deg, var(--color-primary), transparent);\r\n    transition: width 0.3s ease;\r\n  }\r\n\r\n  &:hover::after {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: var(--color-textInverse);\r\n  border: 1px solid var(--color-primary);\r\n  padding: 10px 16px;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  overflow: hidden;\r\n  min-height: 36px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: left 0.5s;\r\n  }\r\n\r\n  &:hover {\r\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\r\n    \r\n    &::before {\r\n      left: 100%;\r\n    }\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n  }\r\n\r\n  &:disabled {\r\n    background: linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%);\r\n    color: var(--color-textTertiary);\r\n    cursor: not-allowed;\r\n    transform: none;\r\n    box-shadow: none;\r\n\r\n    &::before {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 16px;\r\n  animation: ${fadeIn} 0.4s ease-out;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-size: 13px;\r\n  color: var(--color-textSecondary);\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-background) 100%);\r\n  border: 2px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  padding: 12px 16px;\r\n  border-radius: 10px;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-style: italic;\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-background) 100%);\r\n  border: 2px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  padding: 12px 16px;\r\n  border-radius: 10px;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  cursor: pointer;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.1);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  option {\r\n    background: var(--color-surfaceSecondary);\r\n    color: var(--color-textPrimary);\r\n  }\r\n`;\r\n\r\nconst ItemList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n`;\r\n\r\nconst ItemCard = styled.div`\r\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-background) 100%);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);\r\n    transition: left 0.5s;\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\r\n\r\n    &::before {\r\n      left: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ItemInfo = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst ItemName = styled.div`\r\n  font-weight: 700;\r\n  color: var(--color-textPrimary);\r\n  margin-bottom: 6px;\r\n  font-size: 14px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ItemDetails = styled.div`\r\n  font-size: 12px;\r\n  color: var(--color-textTertiary);\r\n  transition: color 0.3s ease;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst ItemActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: ${props => props.danger \r\n    ? 'linear-gradient(135deg, var(--color-error) 0%, var(--color-errorHover) 100%)'\r\n    : 'linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%)'\r\n  };\r\n  color: var(--color-textInverse);\r\n  border: 1px solid ${props => props.danger ? 'var(--color-error)' : 'var(--color-border)'};\r\n  padding: 8px 12px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n\r\n  &:hover {\r\n    background: ${props => props.danger \r\n      ? 'linear-gradient(135deg, var(--color-errorHover) 0%, var(--color-error) 100%)'\r\n      : 'linear-gradient(135deg, var(--color-borderSecondary) 0%, var(--color-border) 100%)'\r\n    };\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  color: var(--color-textTertiary);\r\n  font-style: italic;\r\n  padding: 20px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-top: 12px;\r\n`;\r\n\r\nconst FormContainer = styled.div`\r\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-surface) 100%);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n  margin-top: 20px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  position: relative;\r\n  animation: ${slideIn} 0.4s ease-out;\r\n  width: 100%;\r\n  min-height: auto;\r\n  overflow: visible;\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover), var(--color-primary));\r\n    background-size: 200% 100%;\r\n    animation: ${shimmer} 3s ease-in-out infinite;\r\n    z-index: 1;\r\n  }\r\n`;\r\n\r\nconst GuideSection = styled.div`\r\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin-bottom: 20px;\r\n  position: relative;\r\n  animation: ${fadeIn} 0.5s ease-out;\r\n`;\r\n\r\nconst GuideTitle = styled.h4`\r\n  margin: 0 0 12px 0;\r\n  color: var(--color-primary);\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst GuideText = styled.p`\r\n  margin: 0 0 8px 0;\r\n  color: var(--color-textSecondary);\r\n  font-size: 12px;\r\n  line-height: 1.5;\r\n`;\r\n\r\nconst GuideList = styled.ul`\r\n  margin: 8px 0;\r\n  padding-left: 16px;\r\n  color: var(--color-textSecondary);\r\n  font-size: 12px;\r\n  line-height: 1.6;\r\n`;\r\n\r\nconst GuideListItem = styled.li`\r\n  margin-bottom: 4px;\r\n`;\r\n\r\nconst GuideCode = styled.code`\r\n  background: var(--color-surface);\r\n  color: var(--color-primary);\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-size: 11px;\r\n  font-family: 'Courier New', monospace;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst ScrollIndicator = styled.div`\r\n  position: fixed;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: var(--color-textInverse);\r\n  padding: 12px 20px;\r\n  border-radius: 25px;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  transition: all 0.3s ease;\r\n  pointer-events: none;\r\n  z-index: 1000;\r\n  animation: ${props => props.visible ? pulse : 'none'} 2s ease-in-out infinite;\r\n  backdrop-filter: blur(10px);\r\n  border: 2px solid rgba(255, 255, 255, 0.2);\r\n`;\r\n\r\nconst ScrollHint = styled.div`\r\n  position: fixed;\r\n  top: 80px;\r\n  right: 20px;\r\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\r\n  border: 2px solid var(--color-border);\r\n  color: var(--color-textSecondary);\r\n  padding: 10px 16px;\r\n  border-radius: 20px;\r\n  font-size: 13px;\r\n  font-weight: 700;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  transform: translateY(${props => props.visible ? '0' : '-20px'});\r\n  transition: all 0.4s ease;\r\n  pointer-events: none;\r\n  z-index: 999;\r\n  backdrop-filter: blur(10px);\r\n`;\r\n\r\nconst TabsContainer = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 20px;\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  padding: 8px;\r\n  border-radius: 12px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst Tab = styled.button`\r\n  background: ${props => props.active \r\n    ? 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)'\r\n    : 'linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.05) 100%)'\r\n  };\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: ${props => props.active ? '1px solid var(--color-primary)' : '1px solid transparent'};\r\n  padding: 12px 20px;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  position: relative;\r\n  overflow: hidden;\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  box-shadow: ${props => props.active ? '0 4px 12px rgba(74, 158, 255, 0.3)' : '0 2px 8px rgba(0, 0, 0, 0.05)'};\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: left 0.5s;\r\n  }\r\n\r\n  &:hover {\r\n    background: ${props => props.active \r\n      ? 'linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%)'\r\n      : 'linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%)'\r\n    };\r\n    transform: translateY(-2px);\r\n    box-shadow: ${props => props.active \r\n      ? '0 6px 16px rgba(74, 158, 255, 0.4)'\r\n      : '0 4px 12px rgba(0, 0, 0, 0.1)'\r\n    };\r\n    \r\n    &::before {\r\n      left: 100%;\r\n    }\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  ${props => props.active && css`\r\n    animation: ${pulse} 2s ease-in-out infinite;\r\n  `}\r\n`;\r\n\r\nconst VariablesPanel = () => {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const [activeTab, setActiveTab] = useState('variables');\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingItem, setEditingItem] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    value: '',\r\n    type: 'number',\r\n    description: ''\r\n  });\r\n  const [showScrollHint, setShowScrollHint] = useState(false);\r\n  const [isScrolling, setIsScrolling] = useState(false);\r\n  const panelRef = useRef(null);\r\n\r\n  // Funcin para renderizar la gua de variables\r\n  const renderVariableGuide = () => (\r\n    <GuideSection>\r\n      <GuideTitle>\r\n        <span></span>\r\n        Gua de Variables\r\n      </GuideTitle>\r\n      <GuideText>\r\n        Las <strong>variables</strong> almacenan datos que pueden cambiar durante el juego. Son perfectas para sistemas de puntuacin, inventario, o cualquier valor numrico o de texto.\r\n      </GuideText>\r\n      <GuideList>\r\n        <GuideListItem><strong>Nmero:</strong> Para puntuaciones, dinero, estadsticas (ej: <GuideCode>player_money = 100</GuideCode>)</GuideListItem>\r\n        <GuideListItem><strong>Texto:</strong> Para nombres, descripciones, mensajes (ej: <GuideCode>player_name = \"Alex\"</GuideCode>)</GuideListItem>\r\n        <GuideListItem><strong>Booleano:</strong> Para estados simples (ej: <GuideCode>has_key = true</GuideCode>)</GuideListItem>\r\n      </GuideList>\r\n      <GuideText>\r\n        <strong> Tip:</strong> Usa nombres descriptivos con guiones bajos: <GuideCode>love_points</GuideCode>, <GuideCode>current_chapter</GuideCode>\r\n      </GuideText>\r\n    </GuideSection>\r\n  );\r\n\r\n  // Funcin para renderizar la gua de flags\r\n  const renderFlagGuide = () => (\r\n    <GuideSection>\r\n      <GuideTitle>\r\n        <span></span>\r\n        Gua de Flags\r\n      </GuideTitle>\r\n      <GuideText>\r\n        Los <strong>flags</strong> son variables booleanas (true/false) que recuerdan eventos o estados especficos del juego. Son ideales para desbloquear contenido o rastrear progreso.\r\n      </GuideText>\r\n      <GuideList>\r\n        <GuideListItem><strong>Eventos:</strong> Si el jugador conoci a un personaje (ej: <GuideCode>met_alice = true</GuideCode>)</GuideListItem>\r\n        <GuideListItem><strong>Ubicaciones:</strong> Si visit un lugar (ej: <GuideCode>visited_school = false</GuideCode>)</GuideListItem>\r\n        <GuideListItem><strong>Logros:</strong> Si complet una tarea (ej: <GuideCode>found_secret = true</GuideCode>)</GuideListItem>\r\n        <GuideListItem><strong>Rutas:</strong> Para desbloquear finales alternativos</GuideListItem>\r\n      </GuideList>\r\n      <GuideText>\r\n        <strong> Tip:</strong> Los flags se usan en condiciones para mostrar contenido diferente: <GuideCode>if met_alice: \"Hola Alice!\"</GuideCode>\r\n      </GuideText>\r\n    </GuideSection>\r\n  );\r\n\r\n  // Cargar variables y flags del proyecto\r\n  const variables = state.project.variables || [];\r\n  const flags = state.project.flags || [];\r\n\r\n  // Efecto para mostrar hint de scroll cuando se abre el formulario\r\n  useEffect(() => {\r\n    if (showForm) {\r\n      const timer = setTimeout(() => {\r\n        setShowScrollHint(true);\r\n      }, 1000);\r\n      \r\n      const hideTimer = setTimeout(() => {\r\n        setShowScrollHint(false);\r\n      }, 4000);\r\n      \r\n      return () => {\r\n        clearTimeout(timer);\r\n        clearTimeout(hideTimer);\r\n      };\r\n    } else {\r\n      setShowScrollHint(false);\r\n    }\r\n  }, [showForm]);\r\n\r\n  // Efecto para manejar el scroll del panel principal\r\n  useEffect(() => {\r\n    const panelElement = panelRef.current;\r\n    if (!panelElement) return;\r\n\r\n    const handleWheel = (e) => {\r\n      e.preventDefault();\r\n      \r\n      // Aumentar significativamente la sensibilidad del scroll\r\n      const scrollAmount = e.deltaY * 4.0; // Multiplicar por 4.0 para scroll mucho ms rpido\r\n      panelElement.scrollBy({\r\n        top: scrollAmount,\r\n        behavior: 'smooth'\r\n      });\r\n      \r\n      setIsScrolling(true);\r\n      clearTimeout(window.scrollTimeout);\r\n      window.scrollTimeout = setTimeout(() => {\r\n        setIsScrolling(false);\r\n      }, 200);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n      setIsScrolling(true);\r\n      clearTimeout(window.scrollTimeout);\r\n      window.scrollTimeout = setTimeout(() => {\r\n        setIsScrolling(false);\r\n      }, 200);\r\n    };\r\n\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\r\n        e.preventDefault();\r\n        \r\n        // Scroll mucho ms rpido con teclado\r\n        const scrollAmount = e.key === 'ArrowDown' ? 300 : -300;\r\n        panelElement.scrollBy({\r\n          top: scrollAmount,\r\n          behavior: 'smooth'\r\n        });\r\n        \r\n        setIsScrolling(true);\r\n        clearTimeout(window.scrollTimeout);\r\n        window.scrollTimeout = setTimeout(() => {\r\n          setIsScrolling(false);\r\n        }, 200);\r\n      }\r\n      \r\n      // Agregar soporte para Page Up/Page Down para scroll an ms rpido\r\n      if (e.key === 'PageDown' || e.key === 'PageUp') {\r\n        e.preventDefault();\r\n        \r\n        const scrollAmount = e.key === 'PageDown' ? 600 : -600;\r\n        panelElement.scrollBy({\r\n          top: scrollAmount,\r\n          behavior: 'smooth'\r\n        });\r\n        \r\n        setIsScrolling(true);\r\n        clearTimeout(window.scrollTimeout);\r\n        window.scrollTimeout = setTimeout(() => {\r\n          setIsScrolling(false);\r\n        }, 200);\r\n      }\r\n      \r\n      // Agregar soporte para Home/End para ir al inicio/final\r\n      if (e.key === 'Home') {\r\n        e.preventDefault();\r\n        panelElement.scrollTo({\r\n          top: 0,\r\n          behavior: 'smooth'\r\n        });\r\n        setIsScrolling(true);\r\n        clearTimeout(window.scrollTimeout);\r\n        window.scrollTimeout = setTimeout(() => {\r\n          setIsScrolling(false);\r\n        }, 200);\r\n      }\r\n      \r\n      if (e.key === 'End') {\r\n        e.preventDefault();\r\n        panelElement.scrollTo({\r\n          top: panelElement.scrollHeight,\r\n          behavior: 'smooth'\r\n        });\r\n        setIsScrolling(true);\r\n        clearTimeout(window.scrollTimeout);\r\n        window.scrollTimeout = setTimeout(() => {\r\n          setIsScrolling(false);\r\n        }, 200);\r\n      }\r\n      \r\n      // Agregar soporte para barra espaciadora (scroll hacia abajo)\r\n      if (e.key === ' ') {\r\n        e.preventDefault();\r\n        panelElement.scrollBy({\r\n          top: 400,\r\n          behavior: 'smooth'\r\n        });\r\n        setIsScrolling(true);\r\n        clearTimeout(window.scrollTimeout);\r\n        window.scrollTimeout = setTimeout(() => {\r\n          setIsScrolling(false);\r\n        }, 200);\r\n      }\r\n      \r\n      // Agregar soporte para Shift + barra espaciadora (scroll hacia arriba)\r\n      if (e.key === ' ' && e.shiftKey) {\r\n        e.preventDefault();\r\n        panelElement.scrollBy({\r\n          top: -400,\r\n          behavior: 'smooth'\r\n        });\r\n        setIsScrolling(true);\r\n        clearTimeout(window.scrollTimeout);\r\n        window.scrollTimeout = setTimeout(() => {\r\n          setIsScrolling(false);\r\n        }, 200);\r\n      }\r\n    };\r\n\r\n    panelElement.addEventListener('wheel', handleWheel, { passive: false });\r\n    panelElement.addEventListener('scroll', handleScroll);\r\n    panelElement.addEventListener('keydown', handleKeyDown);\r\n    \r\n    // Hacer el panel focusable para recibir eventos de teclado\r\n    panelElement.setAttribute('tabindex', '0');\r\n    \r\n    return () => {\r\n      panelElement.removeEventListener('wheel', handleWheel);\r\n      panelElement.removeEventListener('scroll', handleScroll);\r\n      panelElement.removeEventListener('keydown', handleKeyDown);\r\n      clearTimeout(window.scrollTimeout);\r\n    };\r\n  }, []);\r\n\r\n  const handleFormChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleAddItem = (type) => {\r\n    setActiveTab(type);\r\n    setFormData({\r\n      name: '',\r\n      value: type === 'flags' ? false : '',\r\n      type: type === 'variables' ? 'number' : 'boolean',\r\n      description: ''\r\n    });\r\n    setEditingItem(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEditItem = (item, type) => {\r\n    setActiveTab(type);\r\n    setFormData({\r\n      name: item.name,\r\n      value: item.value,\r\n      type: item.type || (type === 'flags' ? 'boolean' : 'number'),\r\n      description: item.description || ''\r\n    });\r\n    setEditingItem(item);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (!formData.name.trim()) {\r\n      alert('El nombre es requerido');\r\n      return;\r\n    }\r\n\r\n    const itemData = {\r\n      id: editingItem ? editingItem.id : uuidv4(),\r\n      name: formData.name.trim(),\r\n      value: formData.value,\r\n      type: formData.type,\r\n      description: formData.description.trim()\r\n    };\r\n\r\n    if (activeTab === 'variables') {\r\n      if (editingItem) {\r\n        dispatch({\r\n          type: 'UPDATE_VARIABLE',\r\n          payload: itemData\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: 'ADD_VARIABLE',\r\n          payload: itemData\r\n        });\r\n      }\r\n    } else {\r\n      if (editingItem) {\r\n        dispatch({\r\n          type: 'UPDATE_FLAG',\r\n          payload: itemData\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: 'ADD_FLAG',\r\n          payload: itemData\r\n        });\r\n      }\r\n    }\r\n\r\n    setShowForm(false);\r\n    setEditingItem(null);\r\n    setFormData({\r\n      name: '',\r\n      value: '',\r\n      type: 'number',\r\n      description: ''\r\n    });\r\n  };\r\n\r\n  const handleDeleteItem = (item, type) => {\r\n    if (window.confirm(`Ests seguro de que quieres eliminar ${item.name}?`)) {\r\n      if (type === 'variables') {\r\n        dispatch({\r\n          type: 'DELETE_VARIABLE',\r\n          payload: item.id\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: 'DELETE_FLAG',\r\n          payload: item.id\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderItemValue = (item) => {\r\n    if (item.type === 'boolean') {\r\n      return item.value ? 'Activado (True)' : 'Desactivado (False)';\r\n    } else if (item.type === 'string') {\r\n      return `\"${item.value}\"`;\r\n    } else {\r\n      return item.value;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PanelContainer ref={panelRef}>\r\n      <ScrollHint visible={showScrollHint}>\r\n         Mouse: rueda | Teclado: , Page Up/Down, Home/End, Espacio\r\n      </ScrollHint>\r\n      \r\n      <Section>\r\n        <SectionTitle>\r\n           Variables y Flags\r\n          <div style={{ display: 'flex', gap: '8px' }}>\r\n            <Button onClick={() => handleAddItem('variables')}>\r\n              + Variable\r\n            </Button>\r\n            <Button onClick={() => handleAddItem('flags')}>\r\n              + Flag\r\n            </Button>\r\n          </div>\r\n        </SectionTitle>\r\n\r\n        <TabsContainer>\r\n          <Tab \r\n            active={activeTab === 'variables'} \r\n            onClick={() => setActiveTab('variables')}\r\n          >\r\n            <span style={{ fontSize: '16px' }}></span>\r\n            <div>\r\n              <div style={{ fontSize: '13px', fontWeight: '700' }}>Variables</div>\r\n              <div style={{ fontSize: '10px', opacity: 0.8, marginTop: '2px' }}>\r\n                Datos dinmicos ({variables.length})\r\n              </div>\r\n            </div>\r\n          </Tab>\r\n          <Tab \r\n            active={activeTab === 'flags'} \r\n            onClick={() => setActiveTab('flags')}\r\n          >\r\n            <span style={{ fontSize: '16px' }}></span>\r\n            <div>\r\n              <div style={{ fontSize: '13px', fontWeight: '700' }}>Flags</div>\r\n              <div style={{ fontSize: '10px', opacity: 0.8, marginTop: '2px' }}>\r\n                Estados del juego ({flags.length})\r\n              </div>\r\n            </div>\r\n          </Tab>\r\n        </TabsContainer>\r\n\r\n        {activeTab === 'variables' && (\r\n          <>\r\n            <ItemList>\r\n              {variables.length === 0 ? (\r\n                <EmptyState>\r\n                  <div style={{ fontSize: '48px', marginBottom: '16px' }}></div>\r\n                  <div style={{ fontSize: '16px', fontWeight: '600', marginBottom: '8px' }}>No hay variables definidas</div>\r\n                  <div style={{ fontSize: '14px' }}>Crea tu primera variable para comenzar a personalizar tu juego</div>\r\n                  <div style={{ fontSize: '12px', marginTop: '8px', opacity: 0.7 }}>\r\n                    Las variables son perfectas para sistemas de puntuacin, inventario y estadsticas\r\n                  </div>\r\n                </EmptyState>\r\n              ) : (\r\n                variables.map(variable => (\r\n                  <ItemCard key={variable.id}>\r\n                    <ItemInfo>\r\n                      <ItemName>{variable.name}</ItemName>\r\n                      <ItemDetails>\r\n                        {renderItemValue(variable)} ({variable.type})\r\n                        {variable.description && ` - ${variable.description}`}\r\n                      </ItemDetails>\r\n                    </ItemInfo>\r\n                    <ItemActions>\r\n                      <ActionButton onClick={() => handleEditItem(variable, 'variables')}>\r\n                        \r\n                      </ActionButton>\r\n                      <ActionButton \r\n                        danger \r\n                        onClick={() => handleDeleteItem(variable, 'variables')}\r\n                      >\r\n                        \r\n                      </ActionButton>\r\n                    </ItemActions>\r\n                  </ItemCard>\r\n                ))\r\n              )}\r\n            </ItemList>\r\n          </>\r\n        )}\r\n\r\n        {activeTab === 'flags' && (\r\n          <>\r\n            <ItemList>\r\n              {flags.length === 0 ? (\r\n                <EmptyState>\r\n                  <div style={{ fontSize: '48px', marginBottom: '16px' }}></div>\r\n                  <div style={{ fontSize: '16px', fontWeight: '600', marginBottom: '8px' }}>No hay flags definidos</div>\r\n                  <div style={{ fontSize: '14px' }}>Crea tu primer flag para comenzar a rastrear eventos y estados</div>\r\n                  <div style={{ fontSize: '12px', marginTop: '8px', opacity: 0.7 }}>\r\n                    Los flags son ideales para recordar encuentros, logros y progreso del juego\r\n                  </div>\r\n                </EmptyState>\r\n              ) : (\r\n                flags.map(flag => (\r\n                  <ItemCard key={flag.id}>\r\n                    <ItemInfo>\r\n                      <ItemName>{flag.name}</ItemName>\r\n                      <ItemDetails>\r\n                        {renderItemValue(flag)}\r\n                        {flag.description && ` - ${flag.description}`}\r\n                      </ItemDetails>\r\n                    </ItemInfo>\r\n                    <ItemActions>\r\n                      <ActionButton onClick={() => handleEditItem(flag, 'flags')}>\r\n                        \r\n                      </ActionButton>\r\n                      <ActionButton \r\n                        danger \r\n                        onClick={() => handleDeleteItem(flag, 'flags')}\r\n                      >\r\n                        \r\n                      </ActionButton>\r\n                    </ItemActions>\r\n                  </ItemCard>\r\n                ))\r\n              )}\r\n            </ItemList>\r\n          </>\r\n        )}\r\n\r\n        {showForm && (\r\n          <FormContainer>\r\n            \r\n            <h4 style={{ margin: '0 0 20px 0', color: 'var(--color-primary)', fontSize: '18px', fontWeight: '700' }}>\r\n              {editingItem ? ' Editar' : ' Agregar'} {activeTab === 'variables' ? 'Variable' : 'Flag'}\r\n            </h4>\r\n            \r\n            {/* Mostrar gua contextual */}\r\n            {activeTab === 'variables' ? renderVariableGuide() : renderFlagGuide()}\r\n            \r\n            <FormGroup>\r\n              <Label>Nombre de la {activeTab === 'variables' ? 'Variable' : 'Flag'}</Label>\r\n              <Input\r\n                value={formData.name}\r\n                onChange={(e) => handleFormChange('name', e.target.value)}\r\n                placeholder={activeTab === 'variables' ? \"player_money, love_points, current_chapter\" : \"met_alice, visited_school, found_secret\"}\r\n              />\r\n              <div style={{ marginTop: '6px', fontSize: '11px', color: 'var(--color-textTertiary)', fontStyle: 'italic' }}>\r\n                {activeTab === 'variables' \r\n                  ? \"Usa nombres descriptivos con guiones bajos (sin espacios ni caracteres especiales)\"\r\n                  : \"Nombre que identifique claramente el evento o estado que representa\"\r\n                }\r\n              </div>\r\n            </FormGroup>\r\n\r\n            {activeTab === 'variables' && (\r\n              <FormGroup>\r\n                <Label>Tipo de Variable</Label>\r\n                <Select\r\n                  value={formData.type}\r\n                  onChange={(e) => handleFormChange('type', e.target.value)}\r\n                >\r\n                  <option value=\"number\"> Nmero (puntuaciones, dinero, estadsticas)</option>\r\n                  <option value=\"string\"> Texto (nombres, descripciones, mensajes)</option>\r\n                  <option value=\"boolean\"> Booleano (verdadero/falso)</option>\r\n                </Select>\r\n                <div style={{ marginTop: '6px', fontSize: '11px', color: 'var(--color-textTertiary)', fontStyle: 'italic' }}>\r\n                  El tipo determina qu tipo de datos puede almacenar la variable\r\n                </div>\r\n              </FormGroup>\r\n            )}\r\n\r\n            <FormGroup>\r\n              <Label>Valor {activeTab === 'variables' ? 'Inicial' : 'del Flag'}</Label>\r\n              {activeTab === 'flags' ? (\r\n                <>\r\n                <Select\r\n                  value={formData.value ? 'true' : 'false'}\r\n                  onChange={(e) => handleFormChange('value', e.target.value === 'true')}\r\n                >\r\n                    <option value=\"true\"> Activado (True) - El evento ocurri</option>\r\n                    <option value=\"false\"> Desactivado (False) - El evento no ocurri</option>\r\n                </Select>\r\n                  <div style={{ marginTop: '6px', fontSize: '11px', color: 'var(--color-textTertiary)', fontStyle: 'italic' }}>\r\n                    Estado inicial del flag cuando comienza el juego\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                <Input\r\n                  value={formData.value}\r\n                  onChange={(e) => handleFormChange('value', e.target.value)}\r\n                    placeholder={\r\n                      formData.type === 'string' ? '\"Alex\" o \"Texto descriptivo\"' :\r\n                      formData.type === 'boolean' ? 'true o false' :\r\n                      '100 o 0'\r\n                    }\r\n                  />\r\n                  <div style={{ marginTop: '6px', fontSize: '11px', color: 'var(--color-textTertiary)', fontStyle: 'italic' }}>\r\n                    {formData.type === 'string' && \"Valor inicial de texto (usa comillas para texto)\"}\r\n                    {formData.type === 'number' && \"Valor numrico inicial (enteros o decimales)\"}\r\n                    {formData.type === 'boolean' && \"Estado booleano: true (verdadero) o false (falso)\"}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </FormGroup>\r\n\r\n            <FormGroup>\r\n              <Label>Descripcin (Opcional)</Label>\r\n              <Input\r\n                value={formData.description}\r\n                onChange={(e) => handleFormChange('description', e.target.value)}\r\n                placeholder={activeTab === 'variables' \r\n                  ? \"Describe para qu se usa esta variable en tu juego...\" \r\n                  : \"Describe qu evento o estado representa este flag...\"\r\n                }\r\n              />\r\n              <div style={{ marginTop: '6px', fontSize: '11px', color: 'var(--color-textTertiary)', fontStyle: 'italic' }}>\r\n                Una descripcin clara te ayudar a recordar el propsito de esta {activeTab === 'variables' ? 'variable' : 'flag'}\r\n              </div>\r\n            </FormGroup>\r\n\r\n            <ButtonGroup>\r\n              <Button onClick={handleSaveItem}>\r\n                {editingItem ? ' Actualizar' : ' Agregar'} {activeTab === 'variables' ? 'Variable' : 'Flag'}\r\n              </Button>\r\n              <Button \r\n                onClick={() => {\r\n                  setShowForm(false);\r\n                  setEditingItem(null);\r\n                }}\r\n                style={{ \r\n                  background: 'linear-gradient(135deg, var(--color-border) 0%, var(--color-borderSecondary) 100%)',\r\n                  color: 'var(--color-textSecondary)',\r\n                  border: '1px solid var(--color-border)'\r\n                }}\r\n              >\r\n                 Cancelar\r\n              </Button>\r\n            </ButtonGroup>\r\n          </FormContainer>\r\n        )}\r\n      </Section>\r\n      \r\n      <ScrollIndicator visible={isScrolling}>\r\n         Navegando por la pgina...\r\n      </ScrollIndicator>\r\n    </PanelContainer>\r\n  );\r\n};\r\n\r\nexport default VariablesPanel;\r\n","import React from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport ScriptEditor from './ScriptEditor';\r\nimport TimelineView from './TimelineView';\r\nimport DecisionMapPanel from './panels/DecisionMapPanel';\r\nimport VariablesPanel from './panels/VariablesPanel';\r\n\r\n// Configuracin centralizada de pestaas del editor\r\nconst EDITOR_TABS_CONFIG = [\r\n  {\r\n    id: 'script',\r\n    label: 'Editor de Script',\r\n    icon: '',\r\n    color: '#4a9eff',\r\n    description: 'Crear y editar elementos de la historia',\r\n    component: ScriptEditor\r\n  },\r\n  {\r\n    id: 'timeline',\r\n    label: 'Vista de Lnea de Tiempo',\r\n    icon: '',\r\n    color: '#9eff4a',\r\n    description: 'Ver la secuencia temporal de elementos',\r\n    component: TimelineView\r\n  },\r\n  {\r\n    id: 'decisions',\r\n    label: 'Mapa de Decisiones',\r\n    icon: '',\r\n    color: '#ff9e4a',\r\n    description: 'Visualizar el flujo de decisiones',\r\n    component: DecisionMapPanel\r\n  },\r\n  {\r\n    id: 'variables',\r\n    label: 'Variables y Flags',\r\n    icon: '',\r\n    color: '#ff4a9e',\r\n    description: 'Gestionar variables del juego',\r\n    component: VariablesPanel\r\n  }\r\n];\r\n\r\n// Animaciones\r\nconst slideIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst tabGlow = keyframes`\r\n  0%, 100% {\r\n    box-shadow: 0 0 0 rgba(37, 99, 235, 0);\r\n  }\r\n  50% {\r\n    box-shadow: 0 0 20px rgba(37, 99, 235, 0.3);\r\n  }\r\n`;\r\n\r\nconst EditorContainer = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n  border-radius: 16px 0 0 0;\r\n  border: 1px solid var(--color-border);\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst EditorTabs = styled.div`\r\n  display: flex;\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  border-bottom: 2px solid var(--color-border);\r\n  transition: all 0.3s ease;\r\n  padding: 8px 16px 0 16px;\r\n  border-radius: 16px 0 0 0;\r\n  position: relative;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 1px;\r\n    background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\r\n    opacity: 0.3;\r\n  }\r\n`;\r\n\r\nconst Tab = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 14px 20px;\r\n  background: ${props => props.active \r\n    ? `linear-gradient(135deg, ${props.color || 'var(--color-primary)'} 0%, ${props.color || 'var(--color-primary)'}dd 100%)`\r\n    : 'linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.05) 100%)'\r\n  };\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  border-radius: 12px 12px 0 0;\r\n  position: relative;\r\n  overflow: hidden;\r\n  min-width: 160px;\r\n  justify-content: center;\r\n  \r\n  /* Efecto de brillo */\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: left 0.5s;\r\n  }\r\n\r\n  &:hover {\r\n    background: ${props => props.active \r\n      ? `linear-gradient(135deg, ${props.color || 'var(--color-primary)'} 0%, ${props.color || 'var(--color-primary)'}dd 100%)`\r\n      : 'linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%)'\r\n    };\r\n    transform: translateY(-2px);\r\n    box-shadow: ${props => props.active \r\n      ? `0 8px 24px ${props.color || 'var(--color-primary)'}40`\r\n      : '0 4px 12px rgba(0, 0, 0, 0.1)'\r\n    };\r\n    \r\n    &::before {\r\n      left: 100%;\r\n    }\r\n  }\r\n  \r\n  &:active {\r\n    transform: translateY(-1px);\r\n  }\r\n  \r\n  /* Animacin de brillo para pestaa activa */\r\n  ${props => props.active && css`\r\n    animation: ${tabGlow} 3s ease-in-out infinite;\r\n  `}\r\n`;\r\n\r\nconst EditorContent = styled.div`\r\n  flex: 1;\r\n  overflow: hidden;\r\n  background: var(--color-surface);\r\n  border-radius: 0 0 16px 0;\r\n  position: relative;\r\n  \r\n  /* Efecto de entrada */\r\n  animation: ${slideIn} 0.4s ease-out;\r\n`;\r\n\r\nfunction MainEditor() {\r\n  const { state, storage } = useVisualNovel();\r\n  const [activeTab, setActiveTab] = React.useState(() => {\r\n    // Cargar la ltima pestaa activa del editor guardada\r\n    return storage.getLastActiveTab('mainEditor') || 'script';\r\n  });\r\n\r\n  // Guardar pestaa activa cuando cambie\r\n  const handleTabChange = (tabId) => {\r\n    setActiveTab(tabId);\r\n    storage.setLastActiveTab(tabId, 'mainEditor');\r\n  };\r\n\r\n  // Obtener la configuracin de la pestaa activa\r\n  const activeTabConfig = EDITOR_TABS_CONFIG.find(tab => tab.id === activeTab);\r\n  const ActiveComponent = activeTabConfig?.component;\r\n\r\n  return (\r\n    <EditorContainer>\r\n      <EditorTabs>\r\n        {EDITOR_TABS_CONFIG.map(tab => (\r\n          <Tab\r\n            key={tab.id}\r\n            active={activeTab === tab.id}\r\n            color={tab.color}\r\n            onClick={() => handleTabChange(tab.id)}\r\n            title={tab.description}\r\n          >\r\n            <span style={{ fontSize: '16px' }}>{tab.icon}</span>\r\n            <div>\r\n              <div style={{ fontSize: '13px', fontWeight: '700' }}>{tab.label}</div>\r\n              <div style={{ fontSize: '10px', opacity: 0.8, marginTop: '2px' }}>\r\n                {tab.description}\r\n              </div>\r\n            </div>\r\n        </Tab>\r\n        ))}\r\n      </EditorTabs>\r\n      \r\n      <EditorContent>\r\n        {ActiveComponent && <ActiveComponent />}\r\n      </EditorContent>\r\n    </EditorContainer>\r\n  );\r\n}\r\n\r\nexport default MainEditor;\r\n","// Utilidades para efectos de transicin en el preview\r\n// Basado en las transiciones de Ren'Py: https://www.renpy.org/doc/html/transitions.html\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { getAllTransitions } from '../config/renpyTransitions';\r\n\r\n// Clase para manejar transiciones en el preview\r\nexport class TransitionManager {\r\n  constructor() {\r\n    this.currentTransition = null;\r\n    this.transitionQueue = [];\r\n    this.isTransitioning = false;\r\n  }\r\n\r\n  // Aplicar transicin\r\n  async applyTransition(transitionType, duration = null) {\r\n    if (this.isTransitioning) {\r\n      this.transitionQueue.push({ transitionType, duration });\r\n      return;\r\n    }\r\n\r\n    this.isTransitioning = true;\r\n    this.currentTransition = { transitionType, duration };\r\n\r\n    try {\r\n      const transition = getAllTransitions().find(t => t.id === transitionType);\r\n      if (!transition) {\r\n        console.warn(`Transicin no encontrada: ${transitionType}`);\r\n        return;\r\n      }\r\n\r\n      const actualDuration = duration || transition.duration;\r\n      await this.executeTransition(transitionType, actualDuration);\r\n    } catch (error) {\r\n      console.error('Error aplicando transicin:', error);\r\n    } finally {\r\n      this.isTransitioning = false;\r\n      this.currentTransition = null;\r\n      \r\n      // Procesar siguiente transicin en cola\r\n      if (this.transitionQueue.length > 0) {\r\n        const nextTransition = this.transitionQueue.shift();\r\n        this.applyTransition(nextTransition.transitionType, nextTransition.duration);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Ejecutar transicin especfica\r\n  async executeTransition(transitionType, duration) {\r\n    return new Promise((resolve) => {\r\n      const element = document.querySelector('.preview-transition-container');\r\n      if (!element) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      // Aplicar clase de transicin\r\n      element.classList.add(`transition-${transitionType}`);\r\n      element.style.setProperty('--transition-duration', `${duration}s`);\r\n\r\n      // Remover clase despus de la duracin\r\n      setTimeout(() => {\r\n        element.classList.remove(`transition-${transitionType}`);\r\n        element.style.removeProperty('--transition-duration');\r\n        resolve();\r\n      }, duration * 1000);\r\n    });\r\n  }\r\n\r\n  // Obtener estilos CSS para transiciones\r\n  static getTransitionStyles() {\r\n    return `\r\n      .preview-transition-container {\r\n        position: relative;\r\n        overflow: hidden;\r\n      }\r\n\r\n      /* Transiciones bsicas */\r\n      .transition-dissolve {\r\n        animation: dissolve var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-fade {\r\n        animation: fade var(--transition-duration, 1.0s) ease-in-out;\r\n      }\r\n\r\n      .transition-pixellate {\r\n        animation: pixellate var(--transition-duration, 1.0s) ease-in-out;\r\n      }\r\n\r\n      /* Transiciones de movimiento */\r\n      .transition-moveinright {\r\n        animation: moveInRight var(--transition-duration, 0.5s) ease-out;\r\n      }\r\n\r\n      .transition-moveinleft {\r\n        animation: moveInLeft var(--transition-duration, 0.5s) ease-out;\r\n      }\r\n\r\n      .transition-moveintop {\r\n        animation: moveInTop var(--transition-duration, 0.5s) ease-out;\r\n      }\r\n\r\n      .transition-moveinbottom {\r\n        animation: moveInBottom var(--transition-duration, 0.5s) ease-out;\r\n      }\r\n\r\n      .transition-moveoutright {\r\n        animation: moveOutRight var(--transition-duration, 0.5s) ease-in;\r\n      }\r\n\r\n      .transition-moveoutleft {\r\n        animation: moveOutLeft var(--transition-duration, 0.5s) ease-in;\r\n      }\r\n\r\n      .transition-moveouttop {\r\n        animation: moveOutTop var(--transition-duration, 0.5s) ease-in;\r\n      }\r\n\r\n      .transition-moveoutbottom {\r\n        animation: moveOutBottom var(--transition-duration, 0.5s) ease-in;\r\n      }\r\n\r\n      /* Transiciones de zoom */\r\n      .transition-zoomin {\r\n        animation: zoomIn var(--transition-duration, 0.5s) ease-out;\r\n      }\r\n\r\n      .transition-zoomout {\r\n        animation: zoomOut var(--transition-duration, 0.5s) ease-in;\r\n      }\r\n\r\n      .transition-zoominout {\r\n        animation: zoomInOut var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      /* Transiciones de efecto */\r\n      .transition-vpunch {\r\n        animation: vPunch var(--transition-duration, 0.25s) ease-in-out;\r\n      }\r\n\r\n      .transition-hpunch {\r\n        animation: hPunch var(--transition-duration, 0.25s) ease-in-out;\r\n      }\r\n\r\n      .transition-blinds {\r\n        animation: blinds var(--transition-duration, 1.0s) ease-in-out;\r\n      }\r\n\r\n      .transition-squares {\r\n        animation: squares var(--transition-duration, 1.0s) ease-in-out;\r\n      }\r\n\r\n      /* Transiciones de deslizamiento */\r\n      .transition-wipeleft {\r\n        animation: wipeLeft var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-wiperight {\r\n        animation: wipeRight var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-wipeup {\r\n        animation: wipeUp var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-wipedown {\r\n        animation: wipeDown var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-slideleft {\r\n        animation: slideLeft var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-slideright {\r\n        animation: slideRight var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-slideup {\r\n        animation: slideUp var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-slidedown {\r\n        animation: slideDown var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      /* Transiciones de empuje */\r\n      .transition-pushright {\r\n        animation: pushRight var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-pushleft {\r\n        animation: pushLeft var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-pushup {\r\n        animation: pushUp var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-pushdown {\r\n        animation: pushDown var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      /* Transiciones de iris */\r\n      .transition-irisin {\r\n        animation: irisIn var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      .transition-irisout {\r\n        animation: irisOut var(--transition-duration, 0.5s) ease-in-out;\r\n      }\r\n\r\n      /* Keyframes para animaciones */\r\n      @keyframes dissolve {\r\n        0% { opacity: 1; }\r\n        50% { opacity: 0.5; }\r\n        100% { opacity: 1; }\r\n      }\r\n\r\n      @keyframes fade {\r\n        0% { opacity: 1; }\r\n        50% { opacity: 0; }\r\n        100% { opacity: 1; }\r\n      }\r\n\r\n      @keyframes pixellate {\r\n        0% { filter: blur(0px); }\r\n        50% { filter: blur(2px); }\r\n        100% { filter: blur(0px); }\r\n      }\r\n\r\n      @keyframes moveInRight {\r\n        0% { transform: translateX(100%); }\r\n        100% { transform: translateX(0); }\r\n      }\r\n\r\n      @keyframes moveInLeft {\r\n        0% { transform: translateX(-100%); }\r\n        100% { transform: translateX(0); }\r\n      }\r\n\r\n      @keyframes moveInTop {\r\n        0% { transform: translateY(-100%); }\r\n        100% { transform: translateY(0); }\r\n      }\r\n\r\n      @keyframes moveInBottom {\r\n        0% { transform: translateY(100%); }\r\n        100% { transform: translateY(0); }\r\n      }\r\n\r\n      @keyframes moveOutRight {\r\n        0% { transform: translateX(0); }\r\n        100% { transform: translateX(100%); }\r\n      }\r\n\r\n      @keyframes moveOutLeft {\r\n        0% { transform: translateX(0); }\r\n        100% { transform: translateX(-100%); }\r\n      }\r\n\r\n      @keyframes moveOutTop {\r\n        0% { transform: translateY(0); }\r\n        100% { transform: translateY(-100%); }\r\n      }\r\n\r\n      @keyframes moveOutBottom {\r\n        0% { transform: translateY(0); }\r\n        100% { transform: translateY(100%); }\r\n      }\r\n\r\n      @keyframes zoomIn {\r\n        0% { transform: scale(1); }\r\n        100% { transform: scale(1.2); }\r\n      }\r\n\r\n      @keyframes zoomOut {\r\n        0% { transform: scale(1); }\r\n        100% { transform: scale(0.8); }\r\n      }\r\n\r\n      @keyframes zoomInOut {\r\n        0% { transform: scale(1); }\r\n        50% { transform: scale(1.2); }\r\n        100% { transform: scale(1); }\r\n      }\r\n\r\n      @keyframes vPunch {\r\n        0%, 100% { transform: translateY(0); }\r\n        25% { transform: translateY(-10px); }\r\n        75% { transform: translateY(10px); }\r\n      }\r\n\r\n      @keyframes hPunch {\r\n        0%, 100% { transform: translateX(0); }\r\n        25% { transform: translateX(-10px); }\r\n        75% { transform: translateX(10px); }\r\n      }\r\n\r\n      @keyframes blinds {\r\n        0% { clip-path: inset(0 0 100% 0); }\r\n        100% { clip-path: inset(0 0 0 0); }\r\n      }\r\n\r\n      @keyframes squares {\r\n        0% { clip-path: inset(0 0 100% 0); }\r\n        100% { clip-path: inset(0 0 0 0); }\r\n      }\r\n\r\n      @keyframes wipeLeft {\r\n        0% { clip-path: inset(0 0 0 100%); }\r\n        100% { clip-path: inset(0 0 0 0); }\r\n      }\r\n\r\n      @keyframes wipeRight {\r\n        0% { clip-path: inset(0 100% 0 0); }\r\n        100% { clip-path: inset(0 0 0 0); }\r\n      }\r\n\r\n      @keyframes wipeUp {\r\n        0% { clip-path: inset(100% 0 0 0); }\r\n        100% { clip-path: inset(0 0 0 0); }\r\n      }\r\n\r\n      @keyframes wipeDown {\r\n        0% { clip-path: inset(0 0 100% 0); }\r\n        100% { clip-path: inset(0 0 0 0); }\r\n      }\r\n\r\n      @keyframes slideLeft {\r\n        0% { transform: translateX(-100%); }\r\n        100% { transform: translateX(0); }\r\n      }\r\n\r\n      @keyframes slideRight {\r\n        0% { transform: translateX(100%); }\r\n        100% { transform: translateX(0); }\r\n      }\r\n\r\n      @keyframes slideUp {\r\n        0% { transform: translateY(-100%); }\r\n        100% { transform: translateY(0); }\r\n      }\r\n\r\n      @keyframes slideDown {\r\n        0% { transform: translateY(100%); }\r\n        100% { transform: translateY(0); }\r\n      }\r\n\r\n      @keyframes pushRight {\r\n        0% { transform: translateX(0); }\r\n        100% { transform: translateX(100%); }\r\n      }\r\n\r\n      @keyframes pushLeft {\r\n        0% { transform: translateX(0); }\r\n        100% { transform: translateX(-100%); }\r\n      }\r\n\r\n      @keyframes pushUp {\r\n        0% { transform: translateY(0); }\r\n        100% { transform: translateY(-100%); }\r\n      }\r\n\r\n      @keyframes pushDown {\r\n        0% { transform: translateY(0); }\r\n        100% { transform: translateY(100%); }\r\n      }\r\n\r\n      @keyframes irisIn {\r\n        0% { clip-path: circle(0% at 50% 50%); }\r\n        100% { clip-path: circle(100% at 50% 50%); }\r\n      }\r\n\r\n      @keyframes irisOut {\r\n        0% { clip-path: circle(100% at 50% 50%); }\r\n        100% { clip-path: circle(0% at 50% 50%); }\r\n      }\r\n    `;\r\n  }\r\n\r\n  // Inyectar estilos en el documento\r\n  static injectStyles() {\r\n    if (document.getElementById('transition-styles')) {\r\n      return; // Ya estn inyectados\r\n    }\r\n\r\n    const style = document.createElement('style');\r\n    style.id = 'transition-styles';\r\n    style.textContent = this.getTransitionStyles();\r\n    document.head.appendChild(style);\r\n  }\r\n}\r\n\r\n// Hook para usar transiciones en componentes React\r\nexport const useTransition = () => {\r\n  const [transitionManager] = useState(() => new TransitionManager());\r\n\r\n  useEffect(() => {\r\n    TransitionManager.injectStyles();\r\n  }, []);\r\n\r\n  const applyTransition = useCallback((transitionType, duration) => {\r\n    return transitionManager.applyTransition(transitionType, duration);\r\n  }, [transitionManager]);\r\n\r\n  return { applyTransition };\r\n};\r\n","import React from 'react';\r\n\r\n// Iconos SVG para el PreviewPanel\r\nexport const PreviewIcon = ({ size = 18, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const PreviousIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M15 18L9 12L15 6\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const NextIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 18L15 12L9 6\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const InteractiveIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 12L11 14L15 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const StaticIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M12 2L2 7L12 12L22 7L12 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M2 17L12 22L22 17\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M2 12L12 17L22 12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const MouseIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M12 2C8.13401 2 5 5.13401 5 9V15C5 18.866 8.13401 22 12 22C15.866 22 19 18.866 19 15V9C19 5.13401 15.866 2 12 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 6V14\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const TouchIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 11L12 14L22 4\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 12V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const EmptyPreviewIcon = ({ size = 48, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 15H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 21H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const VideoPreviewIcon = ({ size = 48, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M23 7L16 12L23 17V7Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const PlayIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <polygon points=\"5,3 19,12 5,21\" fill={color}/>\r\n  </svg>\r\n);\r\n\r\nexport const PauseIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" fill={color}/>\r\n    <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" fill={color}/>\r\n  </svg>\r\n);\r\n\r\nexport const VolumeIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <polygon points=\"11,5 6,9 2,9 2,15 6,15 11,19\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M19.07 4.93C20.9441 6.8041 21.9999 9.3474 21.9999 12C21.9999 14.6526 20.9441 17.1959 19.07 19.07\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const MuteIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <polygon points=\"11,5 6,9 2,9 2,15 6,15 11,19\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <line x1=\"23\" y1=\"9\" x2=\"17\" y2=\"15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <line x1=\"17\" y1=\"9\" x2=\"23\" y2=\"15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const FullscreenIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M8 3H5C4.46957 3 3.96086 3.21071 3.58579 3.58579C3.21071 3.96086 3 4.46957 3 5V8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 8V5C21 4.46957 20.7893 3.96086 20.4142 3.58579C20.0391 3.21071 19.5304 3 19 3H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M3 16V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const LoadingIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" opacity=\"0.3\"/>\r\n    <path d=\"M12 2C14.2091 2 16.2091 3 17.6569 4.34315\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ErrorIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M15 9L9 15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9L15 15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport { FileManager } from '../utils/fileManager';\r\nimport { getElementTypeConfig } from '../config/elementTypes';\r\nimport { AssetStorage } from '../utils/assetStorage';\r\nimport { useTransition } from '../utils/transitionEffects';\r\nimport {\r\n  PreviewIcon,\r\n  PreviousIcon,\r\n  NextIcon,\r\n  InteractiveIcon,\r\n  StaticIcon,\r\n  MouseIcon,\r\n  TouchIcon,\r\n  EmptyPreviewIcon,\r\n  VideoPreviewIcon,\r\n  PlayIcon,\r\n  PauseIcon,\r\n  VolumeIcon,\r\n  MuteIcon,\r\n  FullscreenIcon,\r\n  LoadingIcon,\r\n  ErrorIcon\r\n} from './icons/PreviewPanelIcons';\r\n\r\n// Configuracin centralizada del PreviewPanel\r\nconst PREVIEW_CONFIG = {\r\n  title: 'Vista Previa',\r\n  icon: PreviewIcon,\r\n  controls: [\r\n    {\r\n      id: 'previous',\r\n      label: 'Anterior',\r\n      icon: PreviousIcon,\r\n      action: 'navigatePrevious',\r\n      primary: false\r\n    },\r\n    {\r\n      id: 'next',\r\n      label: 'Siguiente',\r\n      icon: NextIcon,\r\n      action: 'navigateNext',\r\n      primary: false\r\n    }\r\n  ],\r\n  info: {\r\n    elementCount: 'Elementos',\r\n    currentElement: 'Elemento Actual',\r\n    memoryUsage: 'Memoria'\r\n  }\r\n};\r\n\r\n// Hook personalizado para monitorear memoria\r\nconst useMemoryMonitor = () => {\r\n  const [memoryInfo, setMemoryInfo] = useState(null);\r\n  \r\n  const getMemoryInfo = useCallback(() => {\r\n    if ('memory' in performance) {\r\n      const memory = performance.memory;\r\n      return {\r\n        usedJSHeapSize: memory.usedJSHeapSize,\r\n        totalJSHeapSize: memory.totalJSHeapSize,\r\n        jsHeapSizeLimit: memory.jsHeapSizeLimit,\r\n        usedMB: (memory.usedJSHeapSize / 1024 / 1024).toFixed(2),\r\n        totalMB: (memory.totalJSHeapSize / 1024 / 1024).toFixed(2),\r\n        limitMB: (memory.jsHeapSizeLimit / 1024 / 1024).toFixed(2)\r\n      };\r\n    }\r\n    return null;\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    const updateMemoryInfo = () => {\r\n      const info = getMemoryInfo();\r\n      if (info) {\r\n        setMemoryInfo(info);\r\n        \r\n        // Advertir si el uso de memoria es alto\r\n        const usagePercent = (info.usedJSHeapSize / info.jsHeapSizeLimit) * 100;\r\n        if (usagePercent > 80) {\r\n          console.warn(`PreviewPanel: Uso de memoria alto: ${usagePercent.toFixed(1)}%`);\r\n        }\r\n      }\r\n    };\r\n    \r\n    // Actualizar cada 30 segundos\r\n    const interval = setInterval(updateMemoryInfo, 30000);\r\n    updateMemoryInfo(); // Actualizar inmediatamente\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [getMemoryInfo]);\r\n  \r\n  return { memoryInfo, getMemoryInfo };\r\n};\r\n\r\n// Animaciones\r\nconst slideInRight = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst PreviewContainer = styled.div`\r\n  width: ${props => props.visible ? '480px' : '0'};\r\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-surface) 100%);\r\n  border-left: 2px solid var(--color-border);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  box-shadow: -4px 0 16px rgba(0, 0, 0, 0.1);\r\n  position: relative;\r\n  \r\n  /* Efecto de entrada */\r\n  ${props => props.visible && css`\r\n    animation: ${slideInRight} 0.5s ease-out;\r\n  `}\r\n`;\r\n\r\nconst PreviewHeader = styled.div`\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  padding: 16px 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  \r\n  /* Lnea de brillo sutil */\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 1px;\r\n    background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\r\n    opacity: 0.3;\r\n  }\r\n`;\r\n\r\nconst PreviewTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  transition: color 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst PreviewControls = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n`;\r\n\r\nconst ControlButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  background: ${props => props.primary \r\n    ? 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%)'\r\n    : 'linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%)'\r\n  };\r\n  color: ${props => props.primary ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 1px solid ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  padding: 8px 14px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  position: relative;\r\n  overflow: hidden;\r\n  min-width: 80px;\r\n  justify-content: center;\r\n\r\n  /* Efecto de brillo */\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: left 0.5s;\r\n  }\r\n\r\n  &:hover {\r\n    background: ${props => props.primary \r\n      ? 'linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%)'\r\n      : 'linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%)'\r\n    };\r\n    transform: translateY(-2px) scale(1.05);\r\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\r\n    \r\n    &::before {\r\n      left: 100%;\r\n    }\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px) scale(1.02);\r\n  }\r\n\r\n  &:disabled {\r\n    background: var(--color-backgroundTertiary);\r\n    color: var(--color-textTertiary);\r\n    border-color: var(--color-border);\r\n    cursor: not-allowed;\r\n    opacity: 0.6;\r\n    transform: none;\r\n    box-shadow: none;\r\n    \r\n    &::before {\r\n      display: none;\r\n    }\r\n  }\r\n  \r\n  /* Animacin de pulso para botn de reproduccin */\r\n  ${props => props.primary && props.playing && css`\r\n    animation: ${pulse} 2s ease-in-out infinite;\r\n  `}\r\n`;\r\n\r\nconst PreviewContent = styled.div`\r\n  width: 100%;\r\n  height: 270px; /* 16:9 ratio: 480px * 9/16 = 270px */\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: var(--color-surface);\r\n  position: relative;\r\n  overflow: hidden;\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  margin: 8px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst GameScreen = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: var(--color-background);\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  background-image: ${props => props.background ? `url(${props.background})` : 'none'};\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  border-radius: 6px;\r\n  transition: background-color 0.3s ease;\r\n  \r\n  /* Clase para transiciones */\r\n  &.preview-transition-container {\r\n    overflow: hidden;\r\n  }\r\n  `;\r\n\r\nconst VideoBackground = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 0;\r\n`;\r\n  \r\n  const CharacterSprites = styled.div`\r\n  position: absolute;\r\n  bottom: -80px; /* Posicionar debajo del textbox */\r\n  left: 0;\r\n  right: 0;\r\n  height: calc(100% - 80px);\r\n  z-index: 1; /* Detrs del textbox y texto */\r\n`;\r\n\r\nconst CharacterSprite = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 120px;\r\n  height: 240px;\r\n  background-color: ${props => props.sprite ? 'transparent' : '#333333'};\r\n  border: ${props => props.sprite ? 'none' : '2px solid #555555'};\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: center;\r\n  color: #888888;\r\n  font-size: 12px;\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  transition: opacity 0.3s;\r\n  background-image: ${props => props.sprite ? `url(${props.sprite})` : 'none'};\r\n  background-size: contain;\r\n  background-position: center bottom;\r\n  background-repeat: no-repeat;\r\n  \r\n  /* Posicionamiento basado en la posicin del sprite */\r\n  ${props => {\r\n    switch (props.position) {\r\n      case 'left':\r\n        return `\r\n          left: 20px;\r\n        `;\r\n      case 'right':\r\n        return `\r\n          right: 20px;\r\n        `;\r\n      case 'center':\r\n      default:\r\n        return `\r\n          left: 50%;\r\n          transform: translateX(-50%);\r\n        `;\r\n    }\r\n  }}\r\n`;\r\n\r\n// Componente mejorado para mostrar sprites - Memoizado para evitar re-renders innecesarios\r\nconst CharacterSpriteComponent = React.memo(({ characterId, spriteName, visible, position, characterName, loadedSprites, setLoadedSprites, fileManager, state }) => {\r\n  const [spriteUrl, setSpriteUrl] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  \r\n  // Memoizar la funcin de carga de sprite para evitar recreaciones innecesarias\r\n  const loadSprite = useCallback(async () => {\r\n      // Verificar que state y state.project existan\r\n      if (!state || !state.project || !state.project.characters) {\r\n        setSpriteUrl(null);\r\n        return;\r\n      }\r\n      \r\n      const character = state.project.characters.find(char => char.id === characterId);\r\n      \r\n      if (!character || !character.sprites || character.sprites.length === 0) {\r\n        setSpriteUrl(null);\r\n        return;\r\n      }\r\n      \r\n      const characterSprites = loadedSprites[characterId] || {};\r\n      \r\n      let targetSprite = null;\r\n      let url = null;\r\n      \r\n      if (spriteName) {\r\n        targetSprite = character.sprites.find(s => s.name === spriteName);\r\n        if (targetSprite) {\r\n          url = characterSprites[spriteName];\r\n        }\r\n      } else {\r\n        targetSprite = character.sprites[0];\r\n        url = characterSprites[targetSprite.name];\r\n      }\r\n      \r\n      // Si no tenemos la URL cargada, intentar cargarla ahora\r\n      if (!url && targetSprite) {\r\n        setIsLoading(true);\r\n        try {\r\n          url = await fileManager.getImageUrl(targetSprite.path);\r\n          \r\n          // Actualizar el estado de sprites cargados\r\n          if (url) {\r\n            setLoadedSprites(prev => ({\r\n              ...prev,\r\n              [characterId]: {\r\n                ...prev[characterId],\r\n                [targetSprite.name]: url\r\n              }\r\n            }));\r\n          }\r\n        } catch (error) {\r\n          console.error('Error loading sprite URL:', error);\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n      \r\n      // Si an no tenemos URL, usar la ruta como fallback\r\n      if (!url && targetSprite) {\r\n        url = targetSprite.path;\r\n      }\r\n      \r\n      setSpriteUrl(url);\r\n  }, [characterId, spriteName, state?.project?.characters, loadedSprites, fileManager, setLoadedSprites]);\r\n    \r\n  useEffect(() => {\r\n    loadSprite();\r\n  }, [loadSprite]);\r\n  \r\n  return (\r\n    <CharacterSprite\r\n      visible={visible}\r\n      sprite={spriteUrl}\r\n      position={position}\r\n    >\r\n      {isLoading && ''}\r\n      {!spriteUrl && !isLoading && characterName}\r\n      {!spriteUrl && !isLoading && !characterName && ''}\r\n    </CharacterSprite>\r\n  );\r\n});\r\n\r\nconst DialogueBox = styled.div`\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  color: #ffffff;\r\n  padding: 12px 16px;\r\n  border-top: 2px solid #4a9eff;\r\n  min-height: 80px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  border-radius: 0 0 6px 6px;\r\n  z-index: 10; /* Por encima de los sprites */\r\n  position: relative;\r\n`;\r\n\r\nconst CharacterName = styled.div`\r\n  color: ${props => props.color || '#4a9eff'};\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  margin-bottom: 6px;\r\n`;\r\n\r\nconst DialogueText = styled.div`\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n  color: #ffffff;\r\n`;\r\n\r\nconst NarrationText = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  color: ${props => props.textColor || '#ffffff'};\r\n  padding: 16px;\r\n  max-width: 85%;\r\n  text-align: center;\r\n  font-size: ${props => {\r\n    switch (props.fontSize) {\r\n      case 'small': return '12px';\r\n      case 'medium': return '16px';\r\n      case 'large': return '20px';\r\n      case 'xlarge': return '24px';\r\n      default: return '16px';\r\n    }\r\n  }};\r\n  line-height: 1.4;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);\r\n  font-weight: 500;\r\n  z-index: 10; /* Por encima de los sprites */\r\n  transition: all 0.3s ease;\r\n`;\r\n\r\nconst PreviewInfo = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  padding: 12px 16px;\r\n  border-top: 1px solid var(--color-border);\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;\r\n`;\r\n\r\nconst EmptyPreview = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  color: #888888;\r\n  text-align: center;\r\n  padding: 20px;\r\n`;\r\n\r\nconst EmptyIcon = styled.div`\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst EmptyText = styled.div`\r\n  font-size: 16px;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst EmptySubtext = styled.div`\r\n  font-size: 14px;\r\n  color: #666666;\r\n`;\r\n\r\n// Componentes para elecciones (estilo Ren'Py)\r\nconst ChoiceContainer = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 20;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 22px; /* gui.choice_spacing */\r\n`;\r\n\r\nconst ChoiceQuestion = styled.div`\r\n  color: #ffffff;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  line-height: 1.4;\r\n  max-width: 400px;\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);\r\n  margin-bottom: 20px;\r\n  padding: 12px 16px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  border-radius: 6px;\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n`;\r\n\r\nconst ChoiceMenu = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 22px; /* gui.choice_spacing */\r\n  width: 100%;\r\n  max-width: 400px;\r\n`;\r\n\r\nconst ChoiceOption = styled.button`\r\n  background-color: transparent;\r\n  color: #cccccc; /* gui.choice_button_text_idle_color */\r\n  border: none;\r\n  padding: 8px 20px;\r\n  cursor: pointer;\r\n  font-size: 18px; /* gui.choice_button_text_size */\r\n  text-align: center;\r\n  transition: all 0.2s ease;\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  position: relative;\r\n  \r\n  /* Simular el fondo de botn de Ren'Py */\r\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgNDAwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwIiBmaWxsPSJyZ2JhKDAsIDAsIDAsIDAuMykiIHJ4PSI0Ii8+Cjwvc3ZnPgo=');\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n\r\n  &:hover {\r\n    color: #ffffff; /* gui.choice_button_text_hover_color */\r\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgNDAwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwIiBmaWxsPSJyZ2JhKDIwNCwgMTU4LCAyNTUsIDAuNSkiIHJ4PSI0Ii8+Cjwvc3ZnPgo=');\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\n// Componentes para videos\r\nconst VideoPreview = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);\r\n  border: 2px dashed #4a9eff;\r\n  border-radius: 8px;\r\n  margin: 20px;\r\n`;\r\n\r\nconst VideoIcon = styled.div`\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  opacity: 0.8;\r\n`;\r\n\r\nconst VideoInfo = styled.div`\r\n  text-align: center;\r\n  color: #ffffff;\r\n`;\r\n\r\nconst VideoTitle = styled.div`\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #4a9eff;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst VideoFile = styled.div`\r\n  font-size: 14px;\r\n  color: #cccccc;\r\n  margin-bottom: 4px;\r\n  word-break: break-all;\r\n`;\r\n\r\nconst VideoType = styled.div`\r\n  font-size: 12px;\r\n  color: #888888;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst VideoDetails = styled.div`\r\n  font-size: 11px;\r\n  color: #666666;\r\n  margin-top: 8px;\r\n  \r\n  div {\r\n    margin-bottom: 2px;\r\n  }\r\n`;\r\n\r\n// Componentes para reproductor de video integrado\r\nconst VideoPlayer = styled.video`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  background-color: #000000;\r\n`;\r\n\r\nconst VideoContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #000000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\n\r\n\r\n\r\n\r\n// Componente para manejar la carga de videos con URL desde IndexedDB\r\nconst VideoPlayerWithUrl = React.memo(({ element, onPlay, onPause, onEnded, onTimeUpdate, onLoadedMetadata, onError, controls, loop, autoPlay, muted }) => {\r\n  const [videoUrl, setVideoUrl] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const videoRef = useRef(null);\r\n  const abortControllerRef = useRef(null);\r\n\r\n  // Cleanup de recursos al desmontar o cambiar elemento\r\n  useEffect(() => {\r\n    return () => {\r\n      // Limpiar video\r\n      if (videoRef.current) {\r\n        videoRef.current.pause();\r\n        videoRef.current.src = '';\r\n        videoRef.current.load();\r\n        videoRef.current = null;\r\n      }\r\n      \r\n      // Cancelar operaciones asncronas pendientes\r\n      if (abortControllerRef.current) {\r\n        abortControllerRef.current.abort();\r\n      }\r\n      \r\n      // Limpiar estados\r\n      setVideoUrl(null);\r\n      setIsLoading(true);\r\n      setIsPlaying(false);\r\n    };\r\n  }, [element.id]); // Solo limpiar cuando cambie el elemento\r\n\r\n  useEffect(() => {\r\n    const loadVideoUrl = async () => {\r\n      try {\r\n        if (!element.file) return;\r\n        \r\n        // Crear nuevo AbortController para esta operacin\r\n        abortControllerRef.current = new AbortController();\r\n        \r\n        // Extraer el nombre del archivo de la ruta\r\n        const fileName = element.file.split('/').pop();\r\n        \r\n        // Acceder directamente a IndexedDB\r\n        const assetStorage = new AssetStorage();\r\n        const files = await assetStorage.getAllFiles();\r\n        \r\n        // Verificar si la operacin fue cancelada\r\n        if (abortControllerRef.current.signal.aborted) {\r\n          return;\r\n        }\r\n        \r\n        const file = files.find(f => f.name === fileName && f.category === 'videos');\r\n        \r\n        if (file && file.data) {\r\n          console.log('Archivo encontrado en IndexedDB:', fileName);\r\n          setVideoUrl(file.data);\r\n        } else {\r\n          console.log('No se encontr el archivo en IndexedDB:', fileName);\r\n          console.log('Archivos disponibles:', files.map(f => ({ name: f.name, category: f.category })));\r\n        }\r\n      } catch (error) {\r\n        if (error.name !== 'AbortError') {\r\n          console.error('Error al cargar URL del video:', error);\r\n        }\r\n      } finally {\r\n        if (!abortControllerRef.current?.signal.aborted) {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    loadVideoUrl();\r\n  }, [element.file]);\r\n\r\n  // Intentar reproducir automticamente cuando el video se carga\r\n  useEffect(() => {\r\n    if (videoUrl && videoRef.current && !isPlaying) {\r\n      const attemptPlay = async () => {\r\n        try {\r\n          console.log('Intentando reproducir video automticamente...');\r\n          await videoRef.current.play();\r\n          setIsPlaying(true);\r\n          console.log('Video reproducido automticamente');\r\n        } catch (error) {\r\n          console.log('No se pudo reproducir automticamente:', error.message);\r\n          // Si falla la reproduccin automtica, mostrar botn de play\r\n        }\r\n      };\r\n      \r\n      // Pequeo delay para asegurar que el video est listo\r\n      setTimeout(attemptPlay, 100);\r\n    }\r\n  }, [videoUrl, isPlaying]);\r\n\r\n  const handlePlayClick = async () => {\r\n    if (videoRef.current) {\r\n      try {\r\n        await videoRef.current.play();\r\n        setIsPlaying(true);\r\n      } catch (error) {\r\n        console.error('Error al reproducir video:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        background: 'rgba(0, 0, 0, 0.8)',\r\n        color: '#ffffff',\r\n        padding: '20px',\r\n        borderRadius: '8px',\r\n        textAlign: 'center',\r\n        fontSize: '14px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n      }}>\r\n        <div style={{ fontSize: '32px' }}></div>\r\n        <div style={{ fontWeight: 'bold' }}>Cargando video...</div>\r\n        <div style={{ fontSize: '12px', opacity: 0.8 }}>\r\n          {element.file.split('/').pop()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!videoUrl) {\r\n    return (\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        background: 'rgba(0, 0, 0, 0.8)',\r\n        color: '#ffffff',\r\n        padding: '20px',\r\n        borderRadius: '8px',\r\n        textAlign: 'center',\r\n        fontSize: '14px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n      }}>\r\n        <div style={{ fontSize: '32px' }}></div>\r\n        <div style={{ fontWeight: 'bold' }}>Video</div>\r\n        <div style={{ fontSize: '12px', opacity: 0.8 }}>\r\n          {element.file.split('/').pop()}\r\n        </div>\r\n        <div style={{ fontSize: '10px', opacity: 0.6 }}>\r\n          Archivo no encontrado\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width: '100%', height: '100%' }}>\r\n      <VideoPlayer\r\n        ref={videoRef}\r\n        id={`video-${element.id}`}\r\n        src={videoUrl}\r\n        onPlay={(e) => {\r\n          setIsPlaying(true);\r\n          if (onPlay) onPlay(e);\r\n        }}\r\n        onPause={(e) => {\r\n          setIsPlaying(false);\r\n          if (onPause) onPause(e);\r\n        }}\r\n        onEnded={onEnded}\r\n        onTimeUpdate={onTimeUpdate}\r\n        onLoadedMetadata={onLoadedMetadata}\r\n        onError={onError}\r\n        controls={false}\r\n        loop={loop}\r\n        autoPlay={false}\r\n        muted={muted}\r\n        style={{\r\n          background: 'linear-gradient(45deg, #1a1a1a, #2a2a2a)'\r\n        }}\r\n      />\r\n      \r\n      {/* Botn de play overlay cuando el video no est reproducindose */}\r\n      {!isPlaying && (\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            background: 'rgba(0, 0, 0, 0.7)',\r\n            borderRadius: '50%',\r\n            width: '60px',\r\n            height: '60px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            cursor: 'pointer',\r\n            fontSize: '24px',\r\n            color: 'white',\r\n            zIndex: 10\r\n          }}\r\n          onClick={handlePlayClick}\r\n        >\r\n          \r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nfunction PreviewPanel() {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const [currentElementIndex, setCurrentElementIndex] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentBackground, setCurrentBackground] = useState(null);\r\n  const [visibleCharacters, setVisibleCharacters] = useState([]);\r\n  const [characterSprites, setCharacterSprites] = useState({});\r\n  const [isInteractive, setIsInteractive] = useState(false);\r\n  const [selectedChoice, setSelectedChoice] = useState(null);\r\n  const [videoStates, setVideoStates] = useState({});\r\n  const [currentVideo, setCurrentVideo] = useState(null);\r\n  const fileManager = new FileManager();\r\n  \r\n  // Monitoreo de memoria\r\n  const { memoryInfo, getMemoryInfo } = useMemoryMonitor();\r\n\r\n  // Hook para transiciones\r\n  const { applyTransition } = useTransition();\r\n\r\n  // Aplicar transiciones cuando se detecte un elemento de transicin o cambio de fondo/sprite\r\n  useEffect(() => {\r\n    const previewElements = getPreviewElements();\r\n    const currentElement = previewElements[currentElementIndex];\r\n    \r\n    if (currentElement) {\r\n      // Transicin independiente\r\n      if (currentElement.type === 'transition') {\r\n        const transitionType = currentElement.transitionType || 'dissolve';\r\n        const transitionDuration = currentElement.transitionDuration || null;\r\n        \r\n        console.log('PreviewPanel: Aplicando transicin independiente:', transitionType, transitionDuration);\r\n        applyTransition(transitionType, transitionDuration);\r\n      }\r\n      \r\n      // Transicin de fondo en cambio de escena\r\n      if (currentElement.type === 'scene' && currentElement.backgroundTransition) {\r\n        const transitionType = currentElement.backgroundTransition;\r\n        const transitionDuration = currentElement.backgroundTransitionDuration || null;\r\n        \r\n        console.log('PreviewPanel: Aplicando transicin de fondo:', transitionType, transitionDuration);\r\n        applyTransition(transitionType, transitionDuration);\r\n      }\r\n      \r\n      // Transicin de sprite en show_sprite\r\n      if (currentElement.type === 'show_sprite' && currentElement.spriteTransition) {\r\n        const transitionType = currentElement.spriteTransition;\r\n        const transitionDuration = currentElement.spriteTransitionDuration || null;\r\n        \r\n        console.log('PreviewPanel: Aplicando transicin de sprite:', transitionType, transitionDuration);\r\n        applyTransition(transitionType, transitionDuration);\r\n      }\r\n    }\r\n  }, [currentElementIndex, applyTransition]);\r\n\r\n  // Escuchar eventos de navegacin desde ScriptEditor\r\n  useEffect(() => {\r\n    const handleNavigateToElement = (event) => {\r\n      const { elementIndex, elementId, sceneFileId } = event.detail;\r\n      \r\n      console.log('PreviewPanel: Evento recibido:', { elementIndex, elementId, sceneFileId, currentSceneFile: state.project.currentSceneFile, previewMode: state.previewMode });\r\n      \r\n      // Verificar que el evento sea para el archivo de escena actual\r\n      if (sceneFileId === state.project.currentSceneFile) {\r\n        console.log('PreviewPanel: Navegando a elemento desde ScriptEditor:', elementIndex, elementId);\r\n        \r\n        // Si la vista previa no est activa, activarla primero\r\n        if (!state.previewMode) {\r\n          console.log('PreviewPanel: Activando vista previa automticamente');\r\n          dispatch({ type: 'TOGGLE_PREVIEW' });\r\n          \r\n          // Esperar un momento para que se active la vista previa antes de navegar\r\n          setTimeout(() => {\r\n            const previewElements = getPreviewElements();\r\n            console.log('PreviewPanel: Elementos de vista previa (despus de activar):', previewElements.length, 'ndice solicitado:', elementIndex);\r\n            \r\n            if (elementIndex >= 0 && elementIndex < previewElements.length) {\r\n              setCurrentElementIndex(elementIndex);\r\n              console.log('PreviewPanel: Navegacin exitosa al elemento (despus de activar):', elementIndex);\r\n            } else {\r\n              console.warn('PreviewPanel: ndice de elemento invlido (despus de activar):', elementIndex, 'de', previewElements.length);\r\n            }\r\n          }, 100);\r\n        } else {\r\n          // Si ya est activa, navegar directamente\r\n          const previewElements = getPreviewElements();\r\n          console.log('PreviewPanel: Elementos de vista previa:', previewElements.length, 'ndice solicitado:', elementIndex);\r\n          \r\n          if (elementIndex >= 0 && elementIndex < previewElements.length) {\r\n            setCurrentElementIndex(elementIndex);\r\n            console.log('PreviewPanel: Navegacin exitosa al elemento:', elementIndex);\r\n          } else {\r\n            console.warn('PreviewPanel: ndice de elemento invlido:', elementIndex, 'de', previewElements.length);\r\n          }\r\n        }\r\n      } else {\r\n        console.log('PreviewPanel: Evento ignorado - archivo de escena diferente:', sceneFileId, 'vs', state.project.currentSceneFile);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('navigateToElement', handleNavigateToElement);\r\n    document.addEventListener('navigateToElement', handleNavigateToElement);\r\n    \r\n    return () => {\r\n      window.removeEventListener('navigateToElement', handleNavigateToElement);\r\n      document.removeEventListener('navigateToElement', handleNavigateToElement);\r\n    };\r\n  }, [state.project.currentSceneFile, state.project.sceneFiles, state.previewMode, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!state.previewMode) {\r\n      setIsPlaying(false);\r\n      setCurrentElementIndex(0);\r\n    }\r\n  }, [state.previewMode]);\r\n\r\n  // Resetear vista previa cuando cambie el archivo de escena\r\n  useEffect(() => {\r\n    setCurrentElementIndex(0);\r\n    setVisibleCharacters([]);\r\n    setSelectedChoice(null);\r\n    // No resetear el fondo aqu, se actualizar automticamente\r\n  }, [state.project.currentSceneFile]);\r\n\r\n  // Funcin para actualizar personajes visibles basado en elementos del script\r\n  const updateVisibleCharacters = useCallback(() => {\r\n    const currentSceneFile = state.project.sceneFiles.find(\r\n      file => file.id === state.project.currentSceneFile\r\n    );\r\n    \r\n    if (!currentSceneFile) return;\r\n\r\n    const visibleChars = new Set();\r\n    const realIndex = getRealElementIndex(currentElementIndex);\r\n    \r\n    // Revisar todos los elementos hasta el elemento actual\r\n    for (let i = 0; i <= realIndex; i++) {\r\n      const element = currentSceneFile.elements[i];\r\n      if (!element) continue;\r\n\r\n      switch (element.type) {\r\n        case 'show_sprite':\r\n          if (element.character && element.spriteName) {\r\n            visibleChars.add(element.character);\r\n          }\r\n          break;\r\n        case 'hide_sprite':\r\n          if (element.character) {\r\n            visibleChars.delete(element.character);\r\n          }\r\n          break;\r\n        case 'dialogue':\r\n          // En dilogos, solo mostrar el personaje que est hablando si tiene sprite\r\n          if (element.character && element.showSprite) {\r\n            visibleChars.add(element.character);\r\n          }\r\n          break;\r\n        case 'scene':\r\n          // Las escenas pueden ocultar todos los personajes si no hay show_sprite\r\n          // Esto se maneja por defecto ya que visibleChars empieza vaco\r\n          break;\r\n      }\r\n    }\r\n\r\n    setVisibleCharacters(Array.from(visibleChars));\r\n  }, [currentElementIndex, state.project.currentSceneFile, state.project.sceneFiles]);\r\n\r\n  // Actualizar personajes visibles cuando cambie el elemento actual\r\n  useEffect(() => {\r\n    updateVisibleCharacters();\r\n  }, [updateVisibleCharacters]);\r\n\r\n  // Funcin para obtener elementos que deben aparecer en la vista previa\r\n  const getPreviewElements = () => {\r\n    // Verificar que state y project existan\r\n    if (!state || !state.project || !state.project.sceneFiles) {\r\n      console.log('PreviewPanel - getPreviewElements: state o project no disponibles');\r\n      return [];\r\n    }\r\n    \r\n    // Obtener el archivo de escena actual\r\n    const currentSceneFile = state.project.sceneFiles.find(\r\n      file => file.id === state.project.currentSceneFile\r\n    );\r\n    \r\n    if (!currentSceneFile) {\r\n      console.log('PreviewPanel - getPreviewElements: archivo de escena actual no encontrado');\r\n      return [];\r\n    }\r\n    \r\n    console.log('PreviewPanel - getPreviewElements: archivo actual:', currentSceneFile.displayName, 'elementos totales:', currentSceneFile.elements.length);\r\n    \r\n    // Filtrar elementos del archivo actual\r\n    const filteredElements = currentSceneFile.elements.filter(element => {\r\n      // Filtrar fondos que no deben mostrarse como elementos en la vista previa\r\n      if (element.type === 'scene' && !element.showAsElement) {\r\n        return false;\r\n      }\r\n      // Filtrar labels - no deben aparecer en la vista previa\r\n      if (element.type === 'label') {\r\n        return false;\r\n      }\r\n      // Filtrar variables, condiciones y flags - son elementos de lgica interna\r\n      if (element.type === 'variable' || element.type === 'condition' || element.type === 'flag') {\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n    \r\n    console.log('PreviewPanel - getPreviewElements: elementos filtrados:', filteredElements.length);\r\n    return filteredElements;\r\n  };\r\n\r\n  // Funcin para encontrar el ndice de vista previa de un label\r\n  const findPreviewIndexForLabel = (labelName) => {\r\n    // Verificar que state y project existan\r\n    if (!state || !state.project || !state.project.sceneFiles) {\r\n      return -1;\r\n    }\r\n    \r\n    // Buscar el label en todos los archivos de escena\r\n    for (const sceneFile of state.project.sceneFiles) {\r\n      const labelIndex = sceneFile.elements.findIndex(element => \r\n        element.type === 'label' && element.label === labelName\r\n      );\r\n      \r\n      if (labelIndex !== -1) {\r\n        // Si el label est en el archivo actual, calcular el ndice de vista previa\r\n        if (sceneFile.id === state.project.currentSceneFile) {\r\n          let previewIndex = 0;\r\n          for (let i = 0; i < labelIndex; i++) {\r\n            const element = sceneFile.elements[i];\r\n            if (element.type !== 'label' && !(element.type === 'scene' && !element.showAsElement)) {\r\n              previewIndex++;\r\n            }\r\n          }\r\n          return previewIndex;\r\n        } else {\r\n          // Si el label est en otro archivo, cambiar al archivo correcto\r\n          // y navegar al primer elemento visible despus del label\r\n          let previewIndex = 0;\r\n          for (let i = 0; i < labelIndex; i++) {\r\n            const element = sceneFile.elements[i];\r\n            if (element.type !== 'label' && !(element.type === 'scene' && !element.showAsElement)) {\r\n              previewIndex++;\r\n            }\r\n          }\r\n          \r\n          // Cambiar al archivo correcto y navegar al primer elemento visible despus del label\r\n          setTimeout(() => {\r\n            // Cambiar el archivo de escena actual\r\n            dispatch({\r\n              type: 'SET_CURRENT_SCENE_FILE',\r\n              payload: sceneFile.id\r\n            });\r\n            \r\n            // Navegar al primer elemento visible despus del label\r\n            setCurrentElementIndex(previewIndex);\r\n            \r\n            // Forzar actualizacin del elemento actual despus del cambio\r\n            setTimeout(() => {\r\n              // Actualizar el fondo inmediatamente\r\n              const newBackground = getCurrentBackground();\r\n              setCurrentBackground(newBackground);\r\n              console.log('PreviewPanel: Fondo actualizado despus del cambio de archivo:', newBackground);\r\n              \r\n              // El re-render se maneja automticamente por React cuando cambia el estado\r\n              console.log('PreviewPanel: Elemento actual actualizado automticamente');\r\n              \r\n              // Segunda actualizacin del fondo despus de que el elemento se haya actualizado\r\n              setTimeout(() => {\r\n                const finalBackground = getCurrentBackground();\r\n                setCurrentBackground(finalBackground);\r\n                console.log('PreviewPanel: Fondo final actualizado:', finalBackground);\r\n              }, 100);\r\n            }, 50);\r\n          }, 100);\r\n          return -1; // Indicar que se est cambiando de archivo\r\n        }\r\n      }\r\n    }\r\n    \r\n    return -1; // Label no encontrado\r\n  };\r\n\r\n  // Obtener el elemento actual basado en el ndice de vista previa\r\n  const getCurrentElement = () => {\r\n    const previewElements = getPreviewElements();\r\n    console.log('PreviewPanel - getCurrentElement:', {\r\n      currentElementIndex,\r\n      previewElementsLength: previewElements.length,\r\n      currentSceneFile: state.project?.currentSceneFile\r\n    });\r\n    \r\n    if (currentElementIndex >= 0 && currentElementIndex < previewElements.length) {\r\n      const element = previewElements[currentElementIndex];\r\n      console.log('PreviewPanel - getCurrentElement found:', element);\r\n      return element;\r\n    }\r\n    \r\n    console.log('PreviewPanel - getCurrentElement: no element found');\r\n    return null;\r\n  };\r\n\r\n  const currentElement = React.useMemo(() => {\r\n    return getCurrentElement();\r\n  }, [currentElementIndex, state.project.currentSceneFile, state.project.sceneFiles]);\r\n\r\n  // Funcin para obtener el fondo actual basado en el ltimo elemento de escena\r\n  const getCurrentBackground = () => {\r\n    // Verificar que state y project existan\r\n    if (!state || !state.project || !state.project.sceneFiles) {\r\n      console.log('PreviewPanel - getCurrentBackground: state o project no disponibles');\r\n      return null;\r\n    }\r\n    \r\n    // Obtener el archivo de escena actual\r\n    const currentSceneFile = state.project.sceneFiles.find(\r\n      file => file.id === state.project.currentSceneFile\r\n    );\r\n    \r\n    if (!currentSceneFile) {\r\n      console.log('PreviewPanel - getCurrentBackground: archivo de escena actual no encontrado');\r\n      return null;\r\n    }\r\n    \r\n    console.log('PreviewPanel - getCurrentBackground: archivo actual:', currentSceneFile.displayName, 'ndice:', currentElementIndex);\r\n    \r\n    // Obtener elementos de vista previa del archivo actual\r\n    const previewElements = getPreviewElements();\r\n    \r\n    // PRIORIDAD 1: Si el elemento actual es una escena, usar su fondo inmediatamente\r\n    if (currentElement && currentElement.type === 'scene' && currentElement.background) {\r\n      console.log('PreviewPanel - getCurrentBackground (current scene):', currentElement.background);\r\n      return currentElement.background;\r\n    }\r\n    \r\n    // PRIORIDAD 2: Buscar basado en el ndice actual (ms confiable para cambios de archivo)\r\n    if (currentElementIndex >= 0 && currentElementIndex < previewElements.length) {\r\n      const targetElement = previewElements[currentElementIndex];\r\n      const realIndex = currentSceneFile.elements.findIndex(scriptElement => scriptElement.id === targetElement.id);\r\n      \r\n      if (realIndex !== -1) {\r\n        // Buscar el ltimo elemento de escena o video antes del elemento objetivo\r\n        for (let i = realIndex; i >= 0; i--) {\r\n          const element = currentSceneFile.elements[i];\r\n          if (element && element.type === 'scene' && element.background) {\r\n            console.log('PreviewPanel - getCurrentBackground (scene, by index):', element.background);\r\n            return element.background;\r\n          }\r\n          // Tambin buscar videos como fondo\r\n          if (element && (element.type === 'video' || element.type === 'movie_sprite' || element.type === 'movie_cutscene') && element.file) {\r\n            console.log('PreviewPanel - getCurrentBackground (video, by index):', element.file);\r\n            return { type: 'video', file: element.file, element: element };\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    // PRIORIDAD 3: Si hay un elemento actual y est en el archivo correcto, usarlo\r\n    if (currentElement && currentElement.id) {\r\n      const realIndex = currentSceneFile.elements.findIndex(scriptElement => scriptElement.id === currentElement.id);\r\n      \r\n      if (realIndex !== -1) {\r\n        // Buscar el ltimo elemento de escena o video antes del elemento actual\r\n        for (let i = realIndex; i >= 0; i--) {\r\n          const element = currentSceneFile.elements[i];\r\n          if (element && element.type === 'scene' && element.background) {\r\n            console.log('PreviewPanel - getCurrentBackground (scene, with currentElement):', element.background);\r\n            return element.background;\r\n          }\r\n          // Tambin buscar videos como fondo\r\n          if (element && (element.type === 'video' || element.type === 'movie_sprite' || element.type === 'movie_cutscene') && element.file) {\r\n            console.log('PreviewPanel - getCurrentBackground (video, with currentElement):', element.file);\r\n            return { type: 'video', file: element.file, element: element };\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    // PRIORIDAD 4: Fallback - buscar el ltimo fondo en todo el archivo\r\n    for (let i = currentSceneFile.elements.length - 1; i >= 0; i--) {\r\n      const element = currentSceneFile.elements[i];\r\n      if (element && element.type === 'scene' && element.background) {\r\n        console.log('PreviewPanel - getCurrentBackground (scene, fallback):', element.background);\r\n        return element.background;\r\n      }\r\n      // Tambin buscar videos como fondo\r\n      if (element && (element.type === 'video' || element.type === 'movie_sprite' || element.type === 'movie_cutscene') && element.file) {\r\n        console.log('PreviewPanel - getCurrentBackground (video, fallback):', element.file);\r\n        return { type: 'video', file: element.file, element: element };\r\n      }\r\n    }\r\n    \r\n    console.log('PreviewPanel - getCurrentBackground: no background found');\r\n    return null;\r\n  };\r\n\r\n  // Funcin para obtener el ndice real del elemento actual en el archivo actual\r\n  const getRealElementIndex = (previewIndex) => {\r\n    const previewElements = getPreviewElements();\r\n    if (previewIndex >= 0 && previewIndex < previewElements.length) {\r\n      const element = previewElements[previewIndex];\r\n      const currentSceneFile = state.project.sceneFiles.find(\r\n        file => file.id === state.project.currentSceneFile\r\n      );\r\n      if (currentSceneFile) {\r\n        return currentSceneFile.elements.findIndex(scriptElement => scriptElement.id === element.id);\r\n      }\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  // Funciones para manejar videos automticamente con lmite de memoria\r\n  const getVideoState = (elementId) => {\r\n    return videoStates[elementId] || { isPlaying: false, currentTime: 0, duration: 0, hasEnded: false };\r\n  };\r\n\r\n  const setVideoState = (elementId, newState) => {\r\n    setVideoStates(prev => {\r\n      const newStates = {\r\n        ...prev,\r\n        [elementId]: { ...prev[elementId], ...newState }\r\n      };\r\n      \r\n      // Limitar el nmero de estados de video para evitar memory leak\r\n      const stateKeys = Object.keys(newStates);\r\n      if (stateKeys.length > 10) {\r\n        // Mantener solo los 5 estados ms recientes\r\n        const sortedKeys = stateKeys.sort((a, b) => {\r\n          const timeA = newStates[a].lastAccessed || 0;\r\n          const timeB = newStates[b].lastAccessed || 0;\r\n          return timeB - timeA;\r\n        });\r\n        \r\n        const limitedStates = {};\r\n        sortedKeys.slice(0, 5).forEach(key => {\r\n          limitedStates[key] = newStates[key];\r\n        });\r\n        \r\n        console.log('PreviewPanel: Limpiando estados de video antiguos para evitar memory leak');\r\n        return limitedStates;\r\n      }\r\n      \r\n      return newStates;\r\n    });\r\n  };\r\n\r\n  // Limpiar estados de video antiguos\r\n  const cleanupVideoStates = () => {\r\n    setVideoStates(prev => {\r\n      const now = Date.now();\r\n      const cleanedStates = {};\r\n      \r\n      Object.entries(prev).forEach(([elementId, state]) => {\r\n        // Mantener solo estados de los ltimos 5 minutos\r\n        if (state.lastAccessed && (now - state.lastAccessed) < 300000) {\r\n          cleanedStates[elementId] = state;\r\n        }\r\n      });\r\n      \r\n      if (Object.keys(cleanedStates).length !== Object.keys(prev).length) {\r\n        console.log('PreviewPanel: Limpiando estados de video antiguos');\r\n      }\r\n      \r\n      return cleanedStates;\r\n    });\r\n  };\r\n\r\n  const handleVideoPlay = (elementId) => {\r\n    setVideoState(elementId, { isPlaying: true, hasEnded: false, lastAccessed: Date.now() });\r\n    setCurrentVideo(elementId);\r\n  };\r\n\r\n  const handleVideoPause = (elementId) => {\r\n    setVideoState(elementId, { isPlaying: false, lastAccessed: Date.now() });\r\n  };\r\n\r\n  const handleVideoEnded = (elementId) => {\r\n    setVideoState(elementId, { isPlaying: false, currentTime: 0, hasEnded: true, lastAccessed: Date.now() });\r\n    setCurrentVideo(null);\r\n    \r\n    // Avanzar automticamente al siguiente elemento despus del video\r\n    setTimeout(() => {\r\n      handleNext();\r\n    }, 500);\r\n  };\r\n\r\n  const handleVideoTimeUpdate = (elementId, currentTime) => {\r\n    setVideoState(elementId, { currentTime, lastAccessed: Date.now() });\r\n  };\r\n\r\n  const handleVideoLoadedMetadata = (elementId, duration) => {\r\n    setVideoState(elementId, { duration, lastAccessed: Date.now() });\r\n  };\r\n\r\n\r\n  // Funcin para obtener la URL real del archivo desde IndexedDB\r\n  const getFileUrl = async (filePath) => {\r\n    try {\r\n      if (!filePath) return null;\r\n      \r\n      // Extraer el nombre del archivo de la ruta\r\n      const fileName = filePath.split('/').pop();\r\n      \r\n      // Buscar el archivo en IndexedDB\r\n      const fileManager = new FileManager();\r\n      const files = await fileManager.getFilesByCategory('videos');\r\n      const file = files.find(f => f.name === fileName);\r\n      \r\n      if (file && file.data) {\r\n        return file.data; // data:video/webm;base64,...\r\n      }\r\n      \r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error al obtener URL del archivo:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Funcin para reproducir video automticamente cuando se llega a l\r\n  const playVideoAutomatically = async (element) => {\r\n    if (element && (element.type === 'video' || element.type === 'movie_sprite' || element.type === 'movie_cutscene')) {\r\n      const timeoutId = setTimeout(async () => {\r\n        const videoElement = document.getElementById(`video-${element.id}`);\r\n        if (videoElement && element.file) {\r\n          // Obtener la URL real del archivo\r\n          const fileUrl = await getFileUrl(element.file);\r\n          if (fileUrl) {\r\n            videoElement.src = fileUrl;\r\n            videoElement.play().catch(error => {\r\n              console.log('Error al reproducir video:', error);\r\n              // Si no se puede reproducir, avanzar automticamente\r\n              handleNext();\r\n            });\r\n          } else {\r\n            console.log('No se pudo obtener la URL del archivo');\r\n            handleNext();\r\n          }\r\n        } else {\r\n          // Si no hay archivo, avanzar automticamente\r\n          handleNext();\r\n        }\r\n      }, 100);\r\n      \r\n      // Guardar el timeoutId para poder cancelarlo si es necesario\r\n      return timeoutId;\r\n    }\r\n  };\r\n\r\n\r\n  // Actualizar el fondo actual cuando cambien los elementos, ndice o archivo de escena\r\n  useEffect(() => {\r\n    const background = getCurrentBackground();\r\n    setCurrentBackground(background);\r\n  }, [currentElementIndex, currentElement, state.project.currentSceneFile, state.project.sceneFiles]);\r\n\r\n  // Efecto para verificar y actualizar el fondo cuando cambie la escena o elementos\r\n  useEffect(() => {\r\n    // Verificar si el fondo actual es correcto\r\n    const expectedBackground = getCurrentBackground();\r\n    if (expectedBackground !== currentBackground) {\r\n      setCurrentBackground(expectedBackground);\r\n    }\r\n  }, [state.project.currentSceneFile, currentElementIndex, currentBackground]);\r\n\r\n  // Manejar reproduccin automtica de videos\r\n  useEffect(() => {\r\n    let videoTimeoutId = null;\r\n    \r\n    if (currentElement && isPlaying) {\r\n      // Pausar videos anteriores\r\n      Object.keys(videoStates).forEach(elementId => {\r\n        if (elementId !== currentElement.id) {\r\n          const videoElement = document.getElementById(`video-${elementId}`);\r\n          if (videoElement && !videoElement.paused) {\r\n            videoElement.pause();\r\n          }\r\n        }\r\n      });\r\n\r\n      // Reproducir video actual si es un elemento de video\r\n      videoTimeoutId = playVideoAutomatically(currentElement);\r\n    }\r\n    \r\n    // Cleanup: cancelar timeout si el componente se desmonta o cambia el elemento\r\n    return () => {\r\n      if (videoTimeoutId) {\r\n        clearTimeout(videoTimeoutId);\r\n      }\r\n    };\r\n  }, [currentElement, isPlaying]);\r\n\r\n  // Cleanup automtico de memoria cada 2 minutos\r\n  useEffect(() => {\r\n    const cleanupInterval = setInterval(() => {\r\n      cleanupVideoStates();\r\n      \r\n      // Limpiar videos que no estn siendo usados\r\n      Object.keys(videoStates).forEach(elementId => {\r\n        const videoElement = document.getElementById(`video-${elementId}`);\r\n        if (videoElement && elementId !== currentElement?.id) {\r\n          // Si el video no est siendo usado actualmente, limpiarlo completamente\r\n          if (videoElement.paused && videoElement.currentTime === 0) {\r\n            videoElement.pause();\r\n            videoElement.src = '';\r\n            videoElement.load();\r\n            // Remover event listeners si existen\r\n            videoElement.removeEventListener('ended', () => {});\r\n            videoElement.removeEventListener('error', () => {});\r\n          }\r\n        }\r\n      });\r\n      \r\n      // Limpiar elementos DOM hurfanos\r\n      const orphanVideos = document.querySelectorAll('video[id^=\"video-\"]');\r\n      orphanVideos.forEach(video => {\r\n        const elementId = video.id.replace('video-', '');\r\n        if (!videoStates[elementId] && elementId !== currentElement?.id) {\r\n          video.pause();\r\n          video.src = '';\r\n          video.load();\r\n          video.remove();\r\n        }\r\n      });\r\n      \r\n      // Forzar garbage collection si est disponible\r\n      if (window.gc) {\r\n        window.gc();\r\n      }\r\n      \r\n      // Obtener informacin de memoria para logging\r\n      const memInfo = getMemoryInfo();\r\n      if (memInfo) {\r\n        console.log(`PreviewPanel: Cleanup automtico ejecutado - Memoria: ${memInfo.usedMB}MB/${memInfo.limitMB}MB`);\r\n        \r\n        // Advertir si el uso de memoria es muy alto\r\n        const usagePercent = (memInfo.usedJSHeapSize / memInfo.jsHeapSizeLimit) * 100;\r\n        if (usagePercent > 85) {\r\n          console.warn(`PreviewPanel:  Uso de memoria muy alto: ${usagePercent.toFixed(1)}%`);\r\n          // Limpieza de emergencia\r\n          cleanupVideoStates();\r\n          Object.keys(videoStates).forEach(elementId => {\r\n            const videoElement = document.getElementById(`video-${elementId}`);\r\n            if (videoElement) {\r\n              videoElement.pause();\r\n              videoElement.src = '';\r\n              videoElement.load();\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        console.log('PreviewPanel: Cleanup automtico de memoria ejecutado');\r\n      }\r\n    }, 120000); // Cada 2 minutos\r\n\r\n    return () => clearInterval(cleanupInterval);\r\n  }, [videoStates, currentElement, getMemoryInfo]);\r\n\r\n  // Cleanup al desmontar el componente\r\n  useEffect(() => {\r\n    return () => {\r\n      // Limpiar todos los videos\r\n      Object.keys(videoStates).forEach(elementId => {\r\n        const videoElement = document.getElementById(`video-${elementId}`);\r\n        if (videoElement) {\r\n          videoElement.pause();\r\n          videoElement.src = '';\r\n          videoElement.load();\r\n          videoElement.removeEventListener('ended', () => {});\r\n          videoElement.removeEventListener('error', () => {});\r\n        }\r\n      });\r\n      \r\n      // Limpiar todos los timeouts pendientes\r\n      // Esto se maneja automticamente por React, pero podemos agregar logging\r\n      console.log('PreviewPanel: Componente desmontado, limpiando recursos');\r\n      \r\n      // Forzar garbage collection si est disponible\r\n      if (window.gc) {\r\n        window.gc();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n\r\n  const handlePlay = () => {\r\n    setIsPlaying(true);\r\n  };\r\n\r\n  const handlePause = () => {\r\n    setIsPlaying(false);\r\n  };\r\n\r\n  const handleStop = () => {\r\n    setIsPlaying(false);\r\n    setCurrentElementIndex(0);\r\n    setCurrentBackground(null);\r\n    setVisibleCharacters([]);\r\n    \r\n    // Limpiar todos los videos al detener\r\n    Object.keys(videoStates).forEach(elementId => {\r\n      const videoElement = document.getElementById(`video-${elementId}`);\r\n      if (videoElement) {\r\n        videoElement.pause();\r\n        videoElement.src = '';\r\n        videoElement.load();\r\n      }\r\n    });\r\n    \r\n    // Limpiar estados de video\r\n    setVideoStates({});\r\n    \r\n    // Forzar garbage collection\r\n    if (window.gc) {\r\n      window.gc();\r\n    }\r\n  };\r\n\r\n  // Funcin de limpieza de emergencia para casos de memoria muy alta\r\n  const emergencyCleanup = () => {\r\n    console.warn('PreviewPanel: Ejecutando limpieza de emergencia');\r\n    \r\n    // Pausar todos los videos\r\n    const allVideos = document.querySelectorAll('video');\r\n    allVideos.forEach(video => {\r\n      video.pause();\r\n      video.src = '';\r\n      video.load();\r\n    });\r\n    \r\n    // Limpiar todos los estados\r\n    setVideoStates({});\r\n    setLoadedSprites({});\r\n    setCurrentBackground(null);\r\n    setVisibleCharacters([]);\r\n    setSelectedChoice(null);\r\n    \r\n    // Forzar garbage collection mltiples veces\r\n    if (window.gc) {\r\n      window.gc();\r\n      setTimeout(() => window.gc(), 1000);\r\n      setTimeout(() => window.gc(), 3000);\r\n    }\r\n    \r\n    console.log('PreviewPanel: Limpieza de emergencia completada');\r\n  };\r\n\r\n  const handleNext = () => {\r\n    const previewElements = getPreviewElements();\r\n    if (currentElementIndex < previewElements.length - 1) {\r\n      setCurrentElementIndex(prev => prev + 1);\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentElementIndex > 0) {\r\n      setCurrentElementIndex(prev => prev - 1);\r\n    }\r\n  };\r\n\r\n  const handleElementClick = (index) => {\r\n    setCurrentElementIndex(index);\r\n  };\r\n\r\n  const handlePreviewClick = () => {\r\n    if (isInteractive && currentElement?.type !== 'choice') {\r\n      const previewElements = getPreviewElements();\r\n      if (currentElementIndex < previewElements.length - 1) {\r\n        setCurrentElementIndex(prev => prev + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChoiceSelect = (choiceIndex) => {\r\n    if (currentElement?.type === 'choice' && currentElement.choices) {\r\n      const selectedChoice = currentElement.choices[choiceIndex];\r\n      setSelectedChoice(selectedChoice);\r\n      \r\n      // Navegar al label correspondiente si existe\r\n      if (selectedChoice.jump) {\r\n        setTimeout(() => {\r\n          const targetPreviewIndex = findPreviewIndexForLabel(selectedChoice.jump);\r\n          \r\n          if (targetPreviewIndex !== -1) {\r\n            // Navegar al label encontrado\r\n            setCurrentElementIndex(targetPreviewIndex);\r\n          } else {\r\n            // Si no se encuentra el label, mostrar mensaje de error\r\n            console.error(`Label \"${selectedChoice.jump}\" no encontrado`);\r\n            // Avanzar al siguiente elemento como fallback\r\n            const previewElements = getPreviewElements();\r\n            if (currentElementIndex < previewElements.length - 1) {\r\n              setCurrentElementIndex(prev => prev + 1);\r\n            }\r\n          }\r\n          setSelectedChoice(null);\r\n        }, 500);\r\n      } else {\r\n        // Si no hay jump, avanzar al siguiente elemento\r\n        setTimeout(() => {\r\n          const previewElements = getPreviewElements();\r\n          if (currentElementIndex < previewElements.length - 1) {\r\n            setCurrentElementIndex(prev => prev + 1);\r\n          }\r\n          setSelectedChoice(null);\r\n        }, 500);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Estado para sprites cargados\r\n  const [loadedSprites, setLoadedSprites] = useState({});\r\n\r\n  // Lazy loading de sprites - solo cargar cuando sean necesarios\r\n  const loadSpriteOnDemand = useCallback(async (characterId, spriteName) => {\r\n    if (loadedSprites[characterId]?.[spriteName]) {\r\n      return loadedSprites[characterId][spriteName];\r\n    }\r\n\r\n    try {\r\n      const character = state.project.characters.find(char => char.id === characterId);\r\n      if (!character || !character.sprites) return null;\r\n\r\n      const sprite = character.sprites.find(s => s.name === spriteName);\r\n      if (!sprite) return null;\r\n\r\n              const imageUrl = await fileManager.getImageUrl(sprite.path);\r\n      const url = imageUrl || sprite.path;\r\n\r\n      // Actualizar el estado de sprites cargados\r\n      setLoadedSprites(prev => ({\r\n        ...prev,\r\n        [characterId]: {\r\n          ...prev[characterId],\r\n          [spriteName]: url\r\n        }\r\n      }));\r\n\r\n      return url;\r\n      } catch (error) {\r\n      console.error('Error loading sprite on demand:', error);\r\n      return null;\r\n    }\r\n  }, [state.project.characters, fileManager, loadedSprites]);\r\n\r\n\r\n  // Funcin sncrona para compatibilidad (deprecated)\r\n  const getCharacterSprite = (characterId, spriteName = null) => {\r\n    // Verificar que state y project existan\r\n    if (!state || !state.project || !state.project.characters) {\r\n      return null;\r\n    }\r\n    \r\n    const character = state.project.characters.find(char => char.id === characterId);\r\n    if (character && character.sprites && character.sprites.length > 0) {\r\n      const characterSprites = loadedSprites[characterId] || {};\r\n      \r\n      if (spriteName && characterSprites[spriteName]) {\r\n        return characterSprites[spriteName];\r\n      }\r\n      \r\n      const firstSprite = character.sprites[0];\r\n      return characterSprites[firstSprite.name] || firstSprite.path;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // Estado para fondos cargados\r\n  const [loadedBackgrounds, setLoadedBackgrounds] = useState({});\r\n\r\n  // Cargar fondos de forma asncrona con cleanup\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    \r\n    const loadBackgrounds = async () => {\r\n      try {\r\n        const backgroundPaths = new Set();\r\n        \r\n        // Recopilar todos los fondos nicos del proyecto\r\n        console.log('PreviewPanel - loadBackgrounds: iniciando carga de fondos...');\r\n        state.project.sceneFiles.forEach(sceneFile => {\r\n          if (!isMounted) return;\r\n          \r\n          sceneFile.elements.forEach(element => {\r\n            if (element.background) {\r\n              backgroundPaths.add(element.background);\r\n              console.log('PreviewPanel - loadBackgrounds: encontrado fondo:', element.background);\r\n            }\r\n          });\r\n        });\r\n\r\n        console.log('PreviewPanel - loadBackgrounds: total de fondos encontrados:', backgroundPaths.size);\r\n        console.log('PreviewPanel - loadBackgrounds: rutas de fondos:', Array.from(backgroundPaths));\r\n\r\n        if (!isMounted) return;\r\n\r\n        const backgroundPromises = Array.from(backgroundPaths).map(async (path) => {\r\n          if (!isMounted) return null;\r\n          \r\n          console.log('PreviewPanel - loadBackgrounds: cargando fondo:', path);\r\n          const imageUrl = await fileManager.getImageUrl(path);\r\n          console.log('PreviewPanel - loadBackgrounds: fondo cargado:', path, '->', imageUrl);\r\n          return { path, url: imageUrl || path };\r\n        });\r\n\r\n        const results = await Promise.all(backgroundPromises);\r\n        \r\n        if (isMounted) {\r\n          const backgroundMap = {};\r\n          results.forEach(result => {\r\n            if (result) {\r\n              backgroundMap[result.path] = result.url;\r\n            }\r\n          });\r\n          console.log('PreviewPanel - loadBackgrounds: mapa de fondos final:', backgroundMap);\r\n          setLoadedBackgrounds(backgroundMap);\r\n        }\r\n      } catch (error) {\r\n        if (isMounted) {\r\n          console.error('Error al cargar fondos:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    loadBackgrounds();\r\n    \r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [state.project.sceneFiles]);\r\n\r\n  const getBackgroundImage = (backgroundPath) => {\r\n    if (!backgroundPath) {\r\n      console.log('PreviewPanel - getBackgroundImage: no background path provided');\r\n      return null;\r\n    }\r\n    \r\n    // Si es un objeto con tipo video, devolver null para que se maneje como video\r\n    if (typeof backgroundPath === 'object' && backgroundPath.type === 'video') {\r\n      console.log('PreviewPanel - getBackgroundImage: video background detected');\r\n      return null;\r\n    }\r\n    \r\n    const imageUrl = loadedBackgrounds[backgroundPath];\r\n    \r\n    // Si no est cargado, mostrar advertencia y usar fallback\r\n    if (!imageUrl && backgroundPath) {\r\n      console.warn('PreviewPanel - getBackgroundImage: Fondo no cargado:', backgroundPath);\r\n      console.log('PreviewPanel - getBackgroundImage: Fondos disponibles:', Object.keys(loadedBackgrounds));\r\n      // Usar la ruta original como fallback\r\n      return backgroundPath;\r\n    }\r\n    \r\n    console.log('PreviewPanel - getBackgroundImage:', {\r\n      backgroundPath,\r\n      loadedUrl: imageUrl,\r\n      finalUrl: imageUrl,\r\n      totalLoadedBackgrounds: Object.keys(loadedBackgrounds).length\r\n    });\r\n    \r\n    return imageUrl;\r\n  };\r\n\r\n  const getBackgroundVideo = (backgroundPath) => {\r\n    if (!backgroundPath) return null;\r\n    \r\n    // Si es un objeto con tipo video, devolver el elemento\r\n    if (typeof backgroundPath === 'object' && backgroundPath.type === 'video') {\r\n      return backgroundPath.element;\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  // Componente para renderizar el fondo (imagen o video)\r\n  const renderBackground = (backgroundPath) => {\r\n    const backgroundVideo = getBackgroundVideo(backgroundPath);\r\n    \r\n    if (backgroundVideo) {\r\n      // Si hay un video de fondo, renderizarlo directamente\r\n      return (\r\n        <VideoBackground>\r\n          <VideoPlayerWithUrl \r\n            element={backgroundVideo}\r\n            onPlay={() => {}}\r\n            onPause={() => {}}\r\n            onEnded={() => {}}\r\n            onTimeUpdate={() => {}}\r\n            onLoadedMetadata={() => {}}\r\n            onError={() => {}}\r\n            controls={false}\r\n            loop={true}\r\n            autoPlay={false}\r\n            muted={true}\r\n          />\r\n        </VideoBackground>\r\n      );\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  const renderPreviewContent = () => {\r\n    if (!currentElement) {\r\n      return (\r\n        <EmptyPreview>\r\n          <EmptyIcon></EmptyIcon>\r\n          <EmptyText>Vista Previa</EmptyText>\r\n          <EmptySubtext>Selecciona un elemento del script para ver la vista previa</EmptySubtext>\r\n        </EmptyPreview>\r\n      );\r\n    }\r\n\r\n    switch (currentElement.type) {\r\n      case 'dialogue':\r\n        // Verificar que state y project existan\r\n        if (!state || !state.project || !state.project.characters) {\r\n          return null;\r\n        }\r\n        \r\n        const character = state.project.characters.find(char => char.id === currentElement.character);\r\n        return (\r\n            <>\r\n              <GameScreen background={getBackgroundImage(currentBackground)}>\r\n                {renderBackground(currentBackground)}\r\n                <CharacterSprites>\r\n                {state.project.characters\r\n                  .filter(char => visibleCharacters.includes(char.id)) // Solo mostrar personajes visibles\r\n                  .map(char => {\r\n                    const isCurrentCharacter = char.id === currentElement.character;\r\n                    const spriteName = isCurrentCharacter && currentElement.showSprite ? currentElement.showSprite : null;\r\n                    const spritePosition = isCurrentCharacter && currentElement.showSprite ? currentElement.spritePosition : 'center';\r\n                    \r\n                    return (\r\n                      <CharacterSpriteComponent\r\n                        key={char.id}\r\n                        characterId={char.id}\r\n                        spriteName={spriteName}\r\n                        visible={true} // Ya filtrado arriba\r\n                        position={spritePosition}\r\n                        characterName={char.name}\r\n                        loadedSprites={loadedSprites}\r\n                        setLoadedSprites={setLoadedSprites}\r\n                        fileManager={fileManager}\r\n                        state={state}\r\n                      />\r\n                    );\r\n                  })}\r\n              </CharacterSprites>\r\n            </GameScreen>\r\n            <DialogueBox>\r\n              <CharacterName color={character?.who_color || character?.color}>\r\n                {character?.isProtagonist ? 'Protagonista' : (character?.name || currentElement.character)}\r\n              </CharacterName>\r\n              <DialogueText>\r\n                {currentElement.text.replace(/\\[mc_name\\]/g, 'Protagonista')}\r\n              </DialogueText>\r\n            </DialogueBox>\r\n          </>\r\n        );\r\n\r\n      case 'narration':\r\n        return (\r\n          <GameScreen background={getBackgroundImage(currentBackground)}>\r\n            {renderBackground(currentBackground)}\r\n            <NarrationText \r\n              textColor={currentElement.textColor}\r\n              fontSize={currentElement.fontSize}\r\n            >\r\n              {currentElement.text.replace(/\\[mc_name\\]/g, 'Protagonista')}\r\n            </NarrationText>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'scene':\r\n        return (\r\n          <GameScreen background={getBackgroundImage(currentBackground)}>\r\n            {renderBackground(currentBackground)}\r\n            <CharacterSprites>\r\n              {state && state.project && state.project.characters ? \r\n                state.project.characters\r\n                  .filter(char => visibleCharacters.includes(char.id))\r\n                  .map(char => (\r\n                    <CharacterSpriteComponent\r\n                      key={char.id}\r\n                      characterId={char.id}\r\n                      spriteName={null}\r\n                      visible={true}\r\n                      position=\"center\"\r\n                      characterName={char.name}\r\n                      loadedSprites={loadedSprites}\r\n                      setLoadedSprites={setLoadedSprites}\r\n                      fileManager={fileManager}\r\n                      state={state}\r\n                    />\r\n                  )) : null}\r\n            </CharacterSprites>\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '20px',\r\n              left: '20px',\r\n              background: 'linear-gradient(135deg, rgba(255, 158, 74, 0.9) 0%, rgba(255, 158, 74, 0.7) 100%)',\r\n              color: '#ffffff',\r\n              padding: '12px 16px',\r\n              borderRadius: '12px',\r\n              fontSize: '13px',\r\n              fontWeight: '600',\r\n              boxShadow: '0 4px 16px rgba(255, 158, 74, 0.3)',\r\n              border: '2px solid rgba(255, 255, 255, 0.2)',\r\n              backdropFilter: 'blur(8px)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px'\r\n            }}>\r\n              <span style={{ fontSize: '16px' }}></span>\r\n              <div>\r\n                <div style={{ fontSize: '11px', opacity: 0.9 }}>Cambio de escena</div>\r\n                <div style={{ fontSize: '13px', fontWeight: '700' }}>\r\n                  {currentElement.background || 'Sin fondo'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'transition':\r\n        // Las transiciones no muestran contenido visual, solo aplican el efecto\r\n        // El efecto se aplica automticamente en el useEffect\r\n        return (\r\n          <GameScreen background={getBackgroundImage(currentBackground)} className=\"preview-transition-container\">\r\n            {renderBackground(currentBackground)}\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '50%',\r\n              left: '50%',\r\n              transform: 'translate(-50%, -50%)',\r\n              color: 'var(--color-textPrimary)',\r\n              fontSize: '18px',\r\n              textAlign: 'center',\r\n              backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n              padding: '20px',\r\n              borderRadius: '8px',\r\n              border: '2px solid var(--color-primary)'\r\n            }}>\r\n              <div style={{ fontSize: '24px', marginBottom: '8px' }}></div>\r\n              <div>Transicin: {currentElement.transitionType || 'dissolve'}</div>\r\n              {currentElement.transitionDuration && (\r\n                <div style={{ fontSize: '14px', opacity: 0.8 }}>\r\n                  Duracin: {currentElement.transitionDuration}s\r\n                </div>\r\n              )}\r\n            </div>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'choice':\r\n        return (\r\n          <GameScreen background={getBackgroundImage(currentBackground)}>\r\n            {renderBackground(currentBackground)}\r\n            <CharacterSprites>\r\n              {state && state.project && state.project.characters ? \r\n                state.project.characters\r\n                  .filter(char => visibleCharacters.includes(char.id))\r\n                  .map(char => (\r\n                    <CharacterSpriteComponent\r\n                      key={char.id}\r\n                      characterId={char.id}\r\n                      spriteName={null}\r\n                      visible={true}\r\n                      position=\"center\"\r\n                      characterName={char.name}\r\n                      loadedSprites={loadedSprites}\r\n                      setLoadedSprites={setLoadedSprites}\r\n                      fileManager={fileManager}\r\n                      state={state}\r\n                    />\r\n                  )) : null}\r\n            </CharacterSprites>\r\n            <ChoiceContainer>\r\n              <ChoiceMenu>\r\n                {currentElement.text && (\r\n                  <ChoiceQuestion>{currentElement.text}</ChoiceQuestion>\r\n                )}\r\n                {currentElement.choices?.map((choice, index) => (\r\n                  <ChoiceOption\r\n                    key={choice.id || index}\r\n                    onClick={() => handleChoiceSelect(index)}\r\n                    style={{\r\n                      opacity: selectedChoice === choice ? 0.7 : 1,\r\n                      transform: selectedChoice === choice ? 'scale(0.95)' : 'scale(1)'\r\n                    }}\r\n                  >\r\n                    {choice.text}\r\n                  </ChoiceOption>\r\n                ))}\r\n              </ChoiceMenu>\r\n            </ChoiceContainer>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'label':\r\n        // Los labels son invisibles en Ren'Py, solo marcan puntos de destino\r\n        // Avanzar automticamente al siguiente elemento\r\n        return null;\r\n\r\n      case 'jump':\r\n        // Los jumps navegan al label correspondiente\r\n        const targetPreviewIndex = findPreviewIndexForLabel(currentElement.jump);\r\n        \r\n        if (targetPreviewIndex !== -1) {\r\n          // Navegar al label encontrado en el archivo actual\r\n          setCurrentElementIndex(targetPreviewIndex);\r\n          return null; // No mostrar nada, ya que navegamos al label\r\n        } else {\r\n          // Verificar si el label existe en algn archivo (incluso si est cambiando de archivo)\r\n          const labelExists = state && state.project && state.project.sceneFiles && \r\n            state.project.sceneFiles.some(sceneFile => \r\n              sceneFile.elements.some(element => \r\n                element.type === 'label' && element.label === currentElement.jump\r\n              )\r\n            );\r\n          \r\n          if (labelExists) {\r\n            // El label existe pero est en otro archivo, se est cambiando automticamente\r\n            // Mostrar un mensaje de transicin temporal\r\n            return (\r\n              <GameScreen background={getBackgroundImage(currentBackground)}>\r\n                {renderBackground(currentBackground)}\r\n                <CharacterSprites>\r\n                  {state && state.project && state.project.characters ? state.project.characters.map(char => (\r\n                    <CharacterSpriteComponent\r\n                      key={char.id}\r\n                      characterId={char.id}\r\n                      spriteName={null}\r\n                      visible={visibleCharacters.includes(char.id)}\r\n                      position=\"center\"\r\n                      characterName={char.name}\r\n                    />\r\n                  )) : null}\r\n                </CharacterSprites>\r\n                <div style={{\r\n                  position: 'absolute',\r\n                  top: '50%',\r\n                  left: '50%',\r\n                  transform: 'translate(-50%, -50%)',\r\n                  background: 'rgba(0, 150, 255, 0.8)',\r\n                  color: '#ffffff',\r\n                  padding: '20px',\r\n                  borderRadius: '8px',\r\n                  fontSize: '16px',\r\n                  textAlign: 'center',\r\n                  border: '2px solid #0096ff'\r\n                }}>\r\n                   Navegando a \"{currentElement.jump}\"...\r\n                </div>\r\n              </GameScreen>\r\n            );\r\n          } else {\r\n            // Si no se encuentra el label en ningn archivo, mostrar mensaje de error\r\n            return (\r\n              <GameScreen background={getBackgroundImage(currentBackground)}>\r\n                {renderBackground(currentBackground)}\r\n                <CharacterSprites>\r\n                  {state && state.project && state.project.characters ? state.project.characters.map(char => (\r\n                    <CharacterSpriteComponent\r\n                      key={char.id}\r\n                      characterId={char.id}\r\n                      spriteName={null}\r\n                      visible={visibleCharacters.includes(char.id)}\r\n                      position=\"center\"\r\n                      characterName={char.name}\r\n                    />\r\n                  )) : null}\r\n                </CharacterSprites>\r\n                <div style={{\r\n                  position: 'absolute',\r\n                  top: '50%',\r\n                  left: '50%',\r\n                  transform: 'translate(-50%, -50%)',\r\n                  background: 'rgba(255, 0, 0, 0.8)',\r\n                  color: '#ffffff',\r\n                  padding: '20px',\r\n                  borderRadius: '8px',\r\n                  fontSize: '16px',\r\n                  textAlign: 'center',\r\n                  border: '2px solid #ff0000'\r\n                }}>\r\n                   Error: Label \"{currentElement.jump}\" no encontrado\r\n                </div>\r\n              </GameScreen>\r\n            );\r\n          }\r\n        }\r\n\r\n      case 'video':\r\n        return (\r\n          <GameScreen>\r\n            <VideoContainer>\r\n              {currentElement.file ? (\r\n                <VideoPlayerWithUrl\r\n                  element={currentElement}\r\n                  onPlay={() => handleVideoPlay(currentElement.id)}\r\n                  onPause={() => handleVideoPause(currentElement.id)}\r\n                  onEnded={() => handleVideoEnded(currentElement.id)}\r\n                  onTimeUpdate={(e) => handleVideoTimeUpdate(currentElement.id, e.target.currentTime)}\r\n                  onLoadedMetadata={(e) => handleVideoLoadedMetadata(currentElement.id, e.target.duration)}\r\n                  onError={(e) => {\r\n                    console.log('Error al cargar video:', e);\r\n                    // Si hay error, avanzar automticamente\r\n                    setTimeout(() => handleNext(), 1000);\r\n                  }}\r\n                  controls={false}\r\n                  loop={currentElement.loops > 0}\r\n                  autoPlay={isPlaying}\r\n                  muted={false}\r\n                />\r\n              ) : (\r\n                <VideoPreview>\r\n                  <VideoIcon>\r\n                    <VideoPreviewIcon size={48} color=\"#4a9eff\" />\r\n                  </VideoIcon>\r\n                  <VideoInfo>\r\n                    <VideoTitle>Video</VideoTitle>\r\n                    <VideoFile>Sin archivo</VideoFile>\r\n                    <VideoType>Archivo no encontrado</VideoType>\r\n                  </VideoInfo>\r\n                </VideoPreview>\r\n              )}\r\n            </VideoContainer>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'movie_sprite':\r\n        return (\r\n          <GameScreen background={getBackgroundImage(currentBackground)}>\r\n            {renderBackground(currentBackground)}\r\n            <CharacterSprites>\r\n              {currentElement.file ? (\r\n                <CharacterSprite\r\n                  key={currentElement.id}\r\n                  visible={true}\r\n                  style={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    width: '300px',\r\n                    height: '400px',\r\n                    overflow: 'hidden',\r\n                    borderRadius: '8px',\r\n                    border: '3px solid #4a9eff',\r\n                    boxShadow: '0 4px 12px rgba(74, 158, 255, 0.3)',\r\n                    background: 'linear-gradient(45deg, #1a1a1a, #2a2a2a)'\r\n                  }}\r\n                >\r\n                  <VideoPlayer\r\n                    id={`video-${currentElement.id}`}\r\n                    src={currentElement.file}\r\n                    onPlay={() => handleVideoPlay(currentElement.id)}\r\n                    onPause={() => handleVideoPause(currentElement.id)}\r\n                    onEnded={() => handleVideoEnded(currentElement.id)}\r\n                    onTimeUpdate={(e) => handleVideoTimeUpdate(currentElement.id, e.target.currentTime)}\r\n                    onLoadedMetadata={(e) => handleVideoLoadedMetadata(currentElement.id, e.target.duration)}\r\n                    onError={(e) => {\r\n                      console.log('Error al cargar movie sprite:', e);\r\n                      // Si hay error, avanzar automticamente\r\n                      setTimeout(() => handleNext(), 1000);\r\n                    }}\r\n                    controls={false}\r\n                    loop={true}\r\n                    autoPlay={isPlaying}\r\n                    muted={false}\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      objectFit: 'cover'\r\n                    }}\r\n                  />\r\n                  {/* Fallback visual mientras se carga el video */}\r\n                  <div style={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    background: 'rgba(0, 0, 0, 0.8)',\r\n                    color: '#ffffff',\r\n                    padding: '16px',\r\n                    borderRadius: '6px',\r\n                    textAlign: 'center',\r\n                    fontSize: '12px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                    gap: '6px'\r\n                  }}>\r\n                    <div style={{ fontSize: '24px' }}></div>\r\n                    <div style={{ fontWeight: 'bold' }}>Movie Sprite</div>\r\n                    <div style={{ fontSize: '10px', opacity: 0.8 }}>\r\n                      {currentElement.spriteName || 'Sin nombre'}\r\n                    </div>\r\n                    <div style={{ fontSize: '9px', opacity: 0.6 }}>\r\n                      {currentElement.file.split('/').pop()}\r\n                    </div>\r\n                  </div>\r\n                </CharacterSprite>\r\n              ) : (\r\n                <CharacterSprite\r\n                  key={currentElement.id}\r\n                  visible={true}\r\n                  style={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    width: '300px',\r\n                    height: '400px',\r\n                    background: 'linear-gradient(45deg, #4a9eff, #6bb6ff)',\r\n                    border: '3px solid #4a9eff',\r\n                    borderRadius: '8px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    color: '#ffffff',\r\n                    fontSize: '14px',\r\n                    textAlign: 'center',\r\n                    boxShadow: '0 4px 12px rgba(74, 158, 255, 0.3)'\r\n                  }}\r\n                >\r\n                  <div style={{ fontSize: '48px', marginBottom: '12px' }}></div>\r\n                  <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>Movie Sprite</div>\r\n                  <div style={{ fontSize: '12px', marginBottom: '4px' }}>\r\n                    {currentElement.spriteName || 'Sin nombre'}\r\n                  </div>\r\n                  <div style={{ fontSize: '10px', opacity: 0.8 }}>\r\n                    Sin archivo\r\n                  </div>\r\n                </CharacterSprite>\r\n              )}\r\n            </CharacterSprites>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'movie_cutscene':\r\n        return (\r\n          <GameScreen>\r\n            <VideoContainer>\r\n              {currentElement.file ? (\r\n                <>\r\n                  <VideoPlayer\r\n                    id={`video-${currentElement.id}`}\r\n                    src={currentElement.file}\r\n                    onPlay={() => handleVideoPlay(currentElement.id)}\r\n                    onPause={() => handleVideoPause(currentElement.id)}\r\n                    onEnded={() => handleVideoEnded(currentElement.id)}\r\n                    onTimeUpdate={(e) => handleVideoTimeUpdate(currentElement.id, e.target.currentTime)}\r\n                    onLoadedMetadata={(e) => handleVideoLoadedMetadata(currentElement.id, e.target.duration)}\r\n                    onError={(e) => {\r\n                      console.log('Error al cargar movie cutscene:', e);\r\n                      // Si hay error, avanzar automticamente\r\n                      setTimeout(() => handleNext(), 1000);\r\n                    }}\r\n                    controls={false}\r\n                    loop={currentElement.loops > 0}\r\n                    autoPlay={isPlaying}\r\n                    muted={false}\r\n                    style={{\r\n                      background: 'linear-gradient(45deg, #1a1a1a, #2a2a2a)'\r\n                    }}\r\n                  />\r\n                  {/* Fallback visual mientras se carga el video */}\r\n                  <div style={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    background: 'rgba(0, 0, 0, 0.8)',\r\n                    color: '#ffffff',\r\n                    padding: '20px',\r\n                    borderRadius: '8px',\r\n                    textAlign: 'center',\r\n                    fontSize: '14px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                    gap: '8px'\r\n                  }}>\r\n                    <div style={{ fontSize: '32px' }}></div>\r\n                    <div style={{ fontWeight: 'bold' }}>Movie Cutscene</div>\r\n                    <div style={{ fontSize: '12px', opacity: 0.8 }}>\r\n                      {currentElement.file.split('/').pop()}\r\n                    </div>\r\n                    <div style={{ fontSize: '10px', opacity: 0.6 }}>\r\n                      Cinemtica de pantalla completa\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <VideoPreview>\r\n                  <VideoIcon>\r\n                    <VideoPreviewIcon size={48} color=\"#4a9eff\" />\r\n                  </VideoIcon>\r\n                  <VideoInfo>\r\n                    <VideoTitle>Movie Cutscene</VideoTitle>\r\n                    <VideoFile>Sin archivo</VideoFile>\r\n                    <VideoType>Archivo no encontrado</VideoType>\r\n                  </VideoInfo>\r\n                </VideoPreview>\r\n              )}\r\n            </VideoContainer>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'show_sprite':\r\n        return (\r\n          <GameScreen background={getBackgroundImage(currentBackground)}>\r\n            {renderBackground(currentBackground)}\r\n            <CharacterSprites>\r\n              {state && state.project && state.project.characters ? \r\n                state.project.characters\r\n                  .filter(char => visibleCharacters.includes(char.id))\r\n                  .map(char => (\r\n                    <CharacterSpriteComponent\r\n                      key={char.id}\r\n                      characterId={char.id}\r\n                      spriteName={char.id === currentElement.character ? currentElement.spriteName : null}\r\n                      visible={true}\r\n                      position={char.id === currentElement.character ? (currentElement.spritePosition || 'center') : 'center'}\r\n                      characterName={char.name}\r\n                      loadedSprites={loadedSprites}\r\n                      setLoadedSprites={setLoadedSprites}\r\n                      fileManager={fileManager}\r\n                      state={state}\r\n                    />\r\n                  )) : null}\r\n            </CharacterSprites>\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '20px',\r\n              left: '20px',\r\n              background: 'linear-gradient(135deg, rgba(74, 158, 255, 0.9) 0%, rgba(74, 158, 255, 0.7) 100%)',\r\n              color: '#ffffff',\r\n              padding: '12px 16px',\r\n              borderRadius: '12px',\r\n              fontSize: '13px',\r\n              fontWeight: '600',\r\n              boxShadow: '0 4px 16px rgba(74, 158, 255, 0.3)',\r\n              border: '2px solid rgba(255, 255, 255, 0.2)',\r\n              backdropFilter: 'blur(8px)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px'\r\n            }}>\r\n              <span style={{ fontSize: '16px' }}></span>\r\n              <div>\r\n                <div style={{ fontSize: '11px', opacity: 0.9 }}>Mostrar Sprite</div>\r\n                <div style={{ fontSize: '13px', fontWeight: '700' }}>\r\n                  {currentElement.character} - {currentElement.spriteName || 'Sprite por defecto'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'hide_sprite':\r\n        return (\r\n          <GameScreen background={getBackgroundImage(currentBackground)}>\r\n            {renderBackground(currentBackground)}\r\n            <CharacterSprites>\r\n              {state && state.project && state.project.characters ? \r\n                state.project.characters\r\n                  .filter(char => visibleCharacters.includes(char.id))\r\n                  .map(char => (\r\n                    <CharacterSpriteComponent\r\n                      key={char.id}\r\n                      characterId={char.id}\r\n                      spriteName={null}\r\n                      visible={true}\r\n                      position=\"center\"\r\n                      characterName={char.name}\r\n                      loadedSprites={loadedSprites}\r\n                      setLoadedSprites={setLoadedSprites}\r\n                      fileManager={fileManager}\r\n                      state={state}\r\n                    />\r\n                  )) : null}\r\n            </CharacterSprites>\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '20px',\r\n              left: '20px',\r\n              background: 'linear-gradient(135deg, rgba(255, 107, 107, 0.9) 0%, rgba(255, 107, 107, 0.7) 100%)',\r\n              color: '#ffffff',\r\n              padding: '12px 16px',\r\n              borderRadius: '12px',\r\n              fontSize: '13px',\r\n              fontWeight: '600',\r\n              boxShadow: '0 4px 16px rgba(255, 107, 107, 0.3)',\r\n              border: '2px solid rgba(255, 255, 255, 0.2)',\r\n              backdropFilter: 'blur(8px)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px'\r\n            }}>\r\n              <span style={{ fontSize: '16px' }}></span>\r\n              <div>\r\n                <div style={{ fontSize: '11px', opacity: 0.9 }}>Ocultar Sprite</div>\r\n                <div style={{ fontSize: '13px', fontWeight: '700' }}>\r\n                  {currentElement.character}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </GameScreen>\r\n        );\r\n\r\n      case 'protagonist_setup':\r\n        return (\r\n          <GameScreen background={getBackgroundImage(currentBackground)}>\r\n            {renderBackground(currentBackground)}\r\n            \r\n            {/* Simulacin del input de Ren'Py */}\r\n            <div style={{\r\n              position: 'absolute',\r\n              bottom: '120px',\r\n              left: '50%',\r\n              transform: 'translateX(-50%)',\r\n              width: '80%',\r\n              maxWidth: '600px'\r\n            }}>\r\n              <div style={{\r\n                background: 'linear-gradient(135deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.9) 100%)',\r\n                padding: '20px',\r\n                borderRadius: '8px',\r\n                border: '2px solid rgba(255, 255, 255, 0.2)',\r\n                boxShadow: '0 4px 20px rgba(0, 0, 0, 0.5)'\r\n              }}>\r\n                <div style={{\r\n                  fontSize: '16px',\r\n                  color: '#ffffff',\r\n                  marginBottom: '16px',\r\n                  textAlign: 'center',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  {state.project.protagonistConfig?.promptText || 'Por favor, introduce tu nombre:'}\r\n                </div>\r\n                \r\n                <input\r\n                  type=\"text\"\r\n                  placeholder={state.project.protagonistConfig?.defaultName || 'Jugador'}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '12px 16px',\r\n                    borderRadius: '4px',\r\n                    border: '2px solid #4a9eff',\r\n                    backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n                    color: '#333',\r\n                    fontSize: '16px',\r\n                    textAlign: 'center',\r\n                    outline: 'none',\r\n                    fontFamily: 'inherit',\r\n                    transition: 'all 0.2s ease',\r\n                    boxSizing: 'border-box'\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    e.target.style.borderColor = '#60a5fa';\r\n                    e.target.style.backgroundColor = '#ffffff';\r\n                    e.target.style.boxShadow = '0 0 10px rgba(74, 158, 255, 0.3)';\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    e.target.style.borderColor = '#4a9eff';\r\n                    e.target.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';\r\n                    e.target.style.boxShadow = 'none';\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Simulacin del men de confirmacin de Ren'Py */}\r\n            <div style={{\r\n              position: 'absolute',\r\n              bottom: '20px',\r\n              left: '50%',\r\n              transform: 'translateX(-50%)',\r\n              width: '80%',\r\n              maxWidth: '600px'\r\n            }}>\r\n              <div style={{\r\n                background: 'linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.95) 100%)',\r\n                padding: '16px',\r\n                borderRadius: '8px',\r\n                border: '2px solid rgba(255, 255, 255, 0.2)',\r\n                boxShadow: '0 4px 20px rgba(0, 0, 0, 0.5)'\r\n              }}>\r\n                <div style={{\r\n                  fontSize: '16px',\r\n                  color: '#ffffff',\r\n                  marginBottom: '12px',\r\n                  textAlign: 'center',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  Ests seguro?\r\n                </div>\r\n                \r\n                <div style={{\r\n                  display: 'flex',\r\n                  gap: '12px',\r\n                  justifyContent: 'center'\r\n                }}>\r\n                  <button\r\n                    style={{\r\n                      padding: '8px 20px',\r\n                      borderRadius: '4px',\r\n                      border: '2px solid #4a9eff',\r\n                      backgroundColor: 'rgba(74, 158, 255, 0.2)',\r\n                      color: '#ffffff',\r\n                      fontSize: '14px',\r\n                      cursor: 'pointer',\r\n                      transition: 'all 0.2s ease',\r\n                      fontWeight: '500'\r\n                    }}\r\n                    onMouseOver={(e) => {\r\n                      e.target.style.backgroundColor = 'rgba(74, 158, 255, 0.4)';\r\n                      e.target.style.borderColor = '#60a5fa';\r\n                      e.target.style.transform = 'translateY(-1px)';\r\n                    }}\r\n                    onMouseOut={(e) => {\r\n                      e.target.style.backgroundColor = 'rgba(74, 158, 255, 0.2)';\r\n                      e.target.style.borderColor = '#4a9eff';\r\n                      e.target.style.transform = 'translateY(0)';\r\n                    }}\r\n                  >\r\n                    S, continuar.\r\n                  </button>\r\n                  <button\r\n                    style={{\r\n                      padding: '8px 20px',\r\n                      borderRadius: '4px',\r\n                      border: '2px solid #ff6b6b',\r\n                      backgroundColor: 'rgba(255, 107, 107, 0.2)',\r\n                      color: '#ffffff',\r\n                      fontSize: '14px',\r\n                      cursor: 'pointer',\r\n                      transition: 'all 0.2s ease',\r\n                      fontWeight: '500'\r\n                    }}\r\n                    onMouseOver={(e) => {\r\n                      e.target.style.backgroundColor = 'rgba(255, 107, 107, 0.4)';\r\n                      e.target.style.borderColor = '#ff8a8a';\r\n                      e.target.style.transform = 'translateY(-1px)';\r\n                    }}\r\n                    onMouseOut={(e) => {\r\n                      e.target.style.backgroundColor = 'rgba(255, 107, 107, 0.2)';\r\n                      e.target.style.borderColor = '#ff6b6b';\r\n                      e.target.style.transform = 'translateY(0)';\r\n                    }}\r\n                  >\r\n                    No, quiero cambiar mi nombre.\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </GameScreen>\r\n        );\r\n\r\n      default:\r\n        return (\r\n          <EmptyPreview>\r\n            <EmptyIcon>\r\n              <EmptyPreviewIcon size={48} color=\"#888888\" />\r\n            </EmptyIcon>\r\n            <EmptyText>Tipo de elemento no soportado</EmptyText>\r\n            <EmptySubtext>{currentElement.type}</EmptySubtext>\r\n          </EmptyPreview>\r\n        );\r\n    }\r\n  };\r\n\r\n  if (!state.previewMode) {\r\n    return <PreviewContainer visible={false} />;\r\n  }\r\n\r\n  return (\r\n    <PreviewContainer visible={state.previewMode}>\r\n      <PreviewHeader>\r\n        <PreviewTitle>\r\n          <PREVIEW_CONFIG.icon size={18} color=\"currentColor\" />\r\n          {PREVIEW_CONFIG.title}\r\n        </PreviewTitle>\r\n        <PreviewControls>\r\n          {PREVIEW_CONFIG.controls.map(control => {\r\n            const IconComponent = control.icon;\r\n            return (\r\n          <ControlButton \r\n              key={control.id}\r\n              primary={control.primary}\r\n              onClick={() => {\r\n                switch (control.action) {\r\n                  case 'navigatePrevious':\r\n                    handlePrevious();\r\n                    break;\r\n                  case 'navigateNext':\r\n                    handleNext();\r\n                    break;\r\n                  default:\r\n                    break;\r\n                }\r\n              }}\r\n              disabled={\r\n                (control.id === 'previous' && currentElementIndex === 0) ||\r\n                (control.id === 'next' && currentElementIndex >= getPreviewElements().length - 1)\r\n              }\r\n              title={control.label}\r\n            >\r\n                <IconComponent size={14} color=\"currentColor\" />\r\n              <span style={{ fontSize: '11px', fontWeight: '600' }}>\r\n                {control.label}\r\n              </span>\r\n          </ControlButton>\r\n            );\r\n          })}\r\n          <ControlButton \r\n            primary={isInteractive}\r\n            onClick={() => setIsInteractive(!isInteractive)}\r\n            title={isInteractive ? 'Desactivar modo interactivo' : 'Activar modo interactivo'}\r\n          >\r\n            {isInteractive ? (\r\n              <MouseIcon size={14} color=\"currentColor\" />\r\n            ) : (\r\n              <TouchIcon size={14} color=\"currentColor\" />\r\n            )}\r\n            <span style={{ fontSize: '11px', fontWeight: '600' }}>\r\n              {isInteractive ? 'Interactivo' : 'Esttico'}\r\n            </span>\r\n          </ControlButton>\r\n        </PreviewControls>\r\n      </PreviewHeader>\r\n\r\n      <PreviewContent \r\n        onClick={handlePreviewClick}\r\n        style={{ \r\n          cursor: isInteractive ? 'pointer' : 'default',\r\n          position: 'relative'\r\n        }}\r\n      >\r\n        {renderPreviewContent()}\r\n        {isInteractive && (\r\n          <div style={{\r\n            position: 'absolute',\r\n            bottom: '10px',\r\n            right: '10px',\r\n            background: 'rgba(0, 0, 0, 0.7)',\r\n            color: '#ffffff',\r\n            padding: '5px 10px',\r\n            borderRadius: '4px',\r\n            fontSize: '12px',\r\n            pointerEvents: 'none'\r\n          }}>\r\n            {currentElement?.type === 'choice' ? ' Selecciona una opcin' : ' Click para avanzar'}\r\n          </div>\r\n        )}\r\n      </PreviewContent>\r\n\r\n      <PreviewInfo>\r\n        {(() => {\r\n          const currentSceneFile = state.project.sceneFiles.find(\r\n            file => file.id === state.project.currentSceneFile\r\n          );\r\n          const sceneFileName = currentSceneFile ? currentSceneFile.displayName : 'Sin archivo';\r\n          return `${sceneFileName}  Elemento ${currentElementIndex + 1} de ${getPreviewElements().length}`;\r\n        })()}\r\n        {currentElement && `  ${currentElement.type}`}\r\n        {isInteractive && `   Interactivo`}\r\n        {memoryInfo && `   ${memoryInfo.usedMB}MB`}\r\n        {memoryInfo && (memoryInfo.usedJSHeapSize / memoryInfo.jsHeapSizeLimit) > 0.8 && (\r\n          <button \r\n            onClick={emergencyCleanup}\r\n            style={{\r\n              marginLeft: '10px',\r\n              padding: '4px 8px',\r\n              backgroundColor: '#ff4444',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              fontSize: '10px',\r\n              cursor: 'pointer'\r\n            }}\r\n            title=\"Limpieza de emergencia - Uso de memoria muy alto\"\r\n          >\r\n             Limpiar\r\n          </button>\r\n        )}\r\n        \r\n        <button\r\n          onClick={() => {\r\n            console.log('=== DEBUG FONDOS ===');\r\n            console.log('loadedBackgrounds:', loadedBackgrounds);\r\n            console.log('currentBackground:', currentBackground);\r\n            console.log('currentElement:', currentElement);\r\n            console.log('state.project.sceneFiles:', state.project.sceneFiles);\r\n            \r\n            // Mostrar todas las escenas con fondos\r\n            state.project.sceneFiles.forEach(sceneFile => {\r\n              console.log(`Archivo: ${sceneFile.displayName}`);\r\n              sceneFile.elements.forEach((element, index) => {\r\n                if (element.type === 'scene' && element.background) {\r\n                  console.log(`  Escena ${index}: ${element.background}`);\r\n                }\r\n              });\r\n            });\r\n          }}\r\n          style={{\r\n            backgroundColor: 'var(--color-info)',\r\n            color: 'white',\r\n            border: 'none',\r\n            padding: '4px 8px',\r\n            borderRadius: '4px',\r\n            fontSize: '10px',\r\n            cursor: 'pointer',\r\n            marginLeft: '8px'\r\n          }}\r\n          title=\"Debug: Mostrar informacin de fondos en consola\"\r\n        >\r\n          Debug\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => {\r\n            // Crear una ventana modal para mostrar todas las imgenes de fondo\r\n            const modal = document.createElement('div');\r\n            modal.style.cssText = `\r\n              position: fixed;\r\n              top: 0;\r\n              left: 0;\r\n              width: 100%;\r\n              height: 100%;\r\n              background-color: rgba(0, 0, 0, 0.8);\r\n              z-index: 10000;\r\n              display: flex;\r\n              flex-direction: column;\r\n              align-items: center;\r\n              padding: 20px;\r\n              overflow-y: auto;\r\n            `;\r\n            \r\n            const title = document.createElement('h2');\r\n            title.textContent = 'Galera de Fondos Cargados';\r\n            title.style.cssText = `\r\n              color: white;\r\n              margin-bottom: 20px;\r\n              text-align: center;\r\n            `;\r\n            \r\n            const closeBtn = document.createElement('button');\r\n            closeBtn.textContent = 'Cerrar';\r\n            closeBtn.style.cssText = `\r\n              position: absolute;\r\n              top: 20px;\r\n              right: 20px;\r\n              background-color: #ff4444;\r\n              color: white;\r\n              border: none;\r\n              padding: 10px 20px;\r\n              border-radius: 4px;\r\n              cursor: pointer;\r\n              font-size: 14px;\r\n            `;\r\n            closeBtn.onclick = () => modal.remove();\r\n            \r\n            const gallery = document.createElement('div');\r\n            gallery.style.cssText = `\r\n              display: grid;\r\n              grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n              gap: 20px;\r\n              max-width: 1200px;\r\n              width: 100%;\r\n            `;\r\n            \r\n            Object.entries(loadedBackgrounds).forEach(([path, url]) => {\r\n              const item = document.createElement('div');\r\n              item.style.cssText = `\r\n                background-color: white;\r\n                border-radius: 8px;\r\n                padding: 10px;\r\n                text-align: center;\r\n              `;\r\n              \r\n              const img = document.createElement('img');\r\n              img.src = url;\r\n              img.style.cssText = `\r\n                width: 100%;\r\n                height: 150px;\r\n                object-fit: cover;\r\n                border-radius: 4px;\r\n                margin-bottom: 10px;\r\n              `;\r\n              \r\n              const label = document.createElement('div');\r\n              label.textContent = path;\r\n              label.style.cssText = `\r\n                font-size: 12px;\r\n                color: #333;\r\n                word-break: break-all;\r\n              `;\r\n              \r\n              item.appendChild(img);\r\n              item.appendChild(label);\r\n              gallery.appendChild(item);\r\n            });\r\n            \r\n            modal.appendChild(title);\r\n            modal.appendChild(closeBtn);\r\n            modal.appendChild(gallery);\r\n            document.body.appendChild(modal);\r\n          }}\r\n          style={{\r\n            backgroundColor: 'var(--color-success)',\r\n            color: 'white',\r\n            border: 'none',\r\n            padding: '4px 8px',\r\n            borderRadius: '4px',\r\n            fontSize: '10px',\r\n            cursor: 'pointer',\r\n            marginLeft: '8px'\r\n          }}\r\n          title=\"Ver galera de todas las imgenes de fondo cargadas\"\r\n        >\r\n          Galera\r\n        </button>\r\n      </PreviewInfo>\r\n    </PreviewContainer>\r\n  );\r\n}\r\n\r\nexport default PreviewPanel;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useVisualNovel, isProjectEmpty } from '../context/VisualNovelContext';\r\nimport { useModalContext } from '../context/ModalContext';\r\n\r\nconst ModalOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-backdrop);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  background-color: var(--color-surface);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  max-width: 600px;\r\n  width: 90%;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 8px 32px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 12px 40px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ModalHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  padding-bottom: 16px;\r\n  transition: border-color 0.3s ease;\r\n`;\r\n\r\nconst ModalTitle = styled.h2`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 24px;\r\n  font-weight: 800;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: var(--color-textPrimary);\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  border-radius: 8px;\r\n  font-weight: 700;\r\n\r\n  &:hover {\r\n    background-color: var(--color-error);\r\n    color: var(--color-textInverse);\r\n    transform: scale(1.1);\r\n    box-shadow: 0 4px 12px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst TabContainer = styled.div`\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  transition: border-color 0.3s ease;\r\n`;\r\n\r\nconst Tab = styled.button`\r\n  padding: 14px 24px;\r\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'transparent'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  border-radius: 8px 8px 0 0;\r\n  position: relative;\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-border)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst TabContent = styled.div`\r\n  display: ${props => props.active ? 'block' : 'none'};\r\n`;\r\n\r\nconst ProjectList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst ProjectItem = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-4px);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ProjectInfo = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst ProjectName = styled.div`\r\n  font-weight: 800;\r\n  color: var(--color-textPrimary);\r\n  margin-bottom: 6px;\r\n  font-size: 16px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst ProjectMeta = styled.div`\r\n  font-size: 14px;\r\n  color: var(--color-textSecondary);\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst ProjectActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background-color: ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  color: var(--color-textInverse);\r\n  border: 2px solid ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  padding: 10px 16px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.primary ? 'var(--color-primaryHover)' : 'var(--color-borderSecondary)'};\r\n    border-color: ${props => props.primary ? 'var(--color-primaryHover)' : 'var(--color-borderSecondary)'};\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &.danger {\r\n    background-color: var(--color-error);\r\n    border-color: var(--color-error);\r\n    \r\n    &:hover {\r\n      background-color: var(--color-errorHover);\r\n      border-color: var(--color-errorHover);\r\n    }\r\n  }\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-size: 16px;\r\n  color: var(--color-textPrimary);\r\n  font-weight: 700;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  padding: 12px 16px;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 3px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-weight: 400;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  width: 100%;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  padding: 12px 16px;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  min-height: 100px;\r\n  resize: vertical;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 3px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-weight: 400;\r\n  }\r\n`;\r\n\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  color: var(--color-textTertiary);\r\n  padding: 40px 20px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nfunction ProjectManager({ isOpen, onClose }) {\r\n  const { state, dispatch, storage } = useVisualNovel();\r\n  const { showAlert, showConfirm } = useModalContext();\r\n  const [activeTab, setActiveTab] = useState('load');\r\n  const [projectName, setProjectName] = useState('');\r\n  const [projectDescription, setProjectDescription] = useState('');\r\n  const [savedProjects, setSavedProjects] = useState([]);\r\n\r\n  React.useEffect(() => {\r\n    if (isOpen) {\r\n      setSavedProjects(storage.getProjectNames());\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Sincronizar campos con el proyecto actual cuando cambie\r\n  React.useEffect(() => {\r\n    setProjectName(state.project.name || '');\r\n    setProjectDescription(state.project.description || '');\r\n  }, [state.project.name, state.project.description]);\r\n\r\n  const handleSaveProject = async () => {\r\n    if (!projectName.trim()) {\r\n      await showAlert('El nombre del proyecto es obligatorio', 'Campo Obligatorio', '');\r\n      return;\r\n    }\r\n\r\n    // Validar que el proyecto tenga contenido mnimo\r\n    if (!state.project.characters || state.project.characters.length === 0) {\r\n      const proceed = await showConfirm(\r\n        'El proyecto no tiene personajes. Desea guardarlo de todas formas?',\r\n        'Proyecto Sin Personajes',\r\n        ''\r\n      );\r\n      if (!proceed) return;\r\n    }\r\n\r\n    if (!state.project.sceneFiles || state.project.sceneFiles.length === 0) {\r\n      const proceed = await showConfirm(\r\n        'El proyecto no tiene archivos de script. Desea guardarlo de todas formas?',\r\n        'Proyecto Sin Script',\r\n        ''\r\n      );\r\n      if (!proceed) return;\r\n    }\r\n\r\n    const projectToSave = {\r\n      ...state.project,\r\n      name: projectName.trim(),\r\n      description: projectDescription.trim()\r\n    };\r\n\r\n    if (storage.saveProject(projectName.trim(), projectToSave)) {\r\n      // Actualizar el estado del proyecto actual\r\n      dispatch({\r\n        type: 'SET_PROJECT_NAME',\r\n        payload: projectName.trim()\r\n      });\r\n      dispatch({\r\n        type: 'SET_PROJECT_DESCRIPTION',\r\n        payload: projectDescription.trim()\r\n      });\r\n      \r\n      await showAlert('Proyecto guardado exitosamente', 'Guardado Exitoso', '');\r\n      setSavedProjects(storage.getProjectNames());\r\n      setProjectName('');\r\n      setProjectDescription('');\r\n      setActiveTab('load');\r\n    } else {\r\n      await showAlert('Error al guardar el proyecto. Verifique que tenga contenido vlido.', 'Error de Guardado', '');\r\n    }\r\n  };\r\n\r\n  const handleSaveCurrentProject = async () => {\r\n    if (!state.project.name || state.project.name.trim() === '') {\r\n      await showAlert('El proyecto actual no tiene nombre. Por favor, asigna un nombre al proyecto antes de guardarlo.', 'Nombre Requerido', '');\r\n      return;\r\n    }\r\n\r\n    const confirmMessage = `Ests seguro de que quieres guardar el proyecto actual \"${state.project.name}\"?\\n\\n` +\r\n      `Esto sobreescribir la versin guardada anteriormente.`;\r\n\r\n    const confirmed = await showConfirm(confirmMessage, 'Confirmar Guardado', '');\r\n    if (confirmed) {\r\n      const projectToSave = {\r\n        ...state.project,\r\n        savedAt: new Date().toISOString()\r\n      };\r\n\r\n      if (storage.saveProject(state.project.name, projectToSave)) {\r\n        await showAlert(' Proyecto guardado exitosamente', 'Guardado Exitoso', '');\r\n        setSavedProjects(storage.getProjectNames());\r\n        onClose();\r\n      } else {\r\n        await showAlert(' Error al guardar el proyecto', 'Error de Guardado', '');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLoadProject = async (projectName) => {\r\n    const project = storage.loadProject(projectName);\r\n    if (project) {\r\n      // Verificar si hay cambios sin guardar\r\n      const hasUnsavedChanges = storage.hasUnsavedChanges(state);\r\n      \r\n      if (hasUnsavedChanges) {\r\n        const proceed = await showConfirm(\r\n          'Tienes cambios sin guardar en el proyecto actual. Deseas continuar cargando el proyecto? Los cambios se perdern.',\r\n          'Cambios Sin Guardar',\r\n          ''\r\n        );\r\n        if (!proceed) return;\r\n      }\r\n      \r\n      dispatch({\r\n        type: 'LOAD_PROJECT',\r\n        payload: project\r\n      });\r\n      \r\n      // Sincronizar los campos del formulario con el proyecto cargado\r\n      setProjectName(project.name || '');\r\n      setProjectDescription(project.description || '');\r\n      \r\n      await showAlert(`Proyecto \"${projectName}\" cargado exitosamente`, 'Carga Exitosa', '');\r\n      onClose();\r\n    } else {\r\n      await showAlert('Error al cargar el proyecto. El archivo puede estar corrupto o no existir.', 'Error de Carga', '');\r\n    }\r\n  };\r\n\r\n  const handleDeleteProject = async (projectName) => {\r\n    const confirmMessage = `Ests seguro de que quieres eliminar el proyecto \"${projectName}\"?\\n\\n` +\r\n      `Esto eliminar:\\n` +\r\n      ` El proyecto y todos sus datos\\n` +\r\n      ` Todos los personajes y sus sprites\\n` +\r\n      ` Todos los archivos asociados\\n` +\r\n      ` Todo el estado actual del proyecto\\n\\n` +\r\n      `Esta accin NO se puede deshacer.`;\r\n    \r\n    const confirmed = await showConfirm(confirmMessage, 'Confirmar Eliminacin', '');\r\n    if (confirmed) {\r\n      try {\r\n        const success = await storage.deleteProject(projectName);\r\n        if (success) {\r\n          setSavedProjects(storage.getProjectNames());\r\n          \r\n          // Si el proyecto eliminado es el proyecto actual, resetear el estado\r\n          if (state.project.name === projectName) {\r\n            console.log(' Reseteando estado del contexto despus de eliminar proyecto actual');\r\n            dispatch({ type: 'RESET_TO_CLEAN_STATE' });\r\n          }\r\n          \r\n          await showAlert('Proyecto y todos sus archivos eliminados exitosamente', 'Eliminacin Exitosa', '');\r\n        } else {\r\n          await showAlert('Error al eliminar el proyecto', 'Error de Eliminacin', '');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error eliminando proyecto:', error);\r\n        await showAlert('Error al eliminar el proyecto: ' + error.message, 'Error de Eliminacin', '');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClearAllData = async () => {\r\n    const isCurrentProjectEmpty = isProjectEmpty(state.project);\r\n    const confirmMessage = ` ADVERTENCIA: LIMPIEZA COMPLETA \\n\\n` +\r\n      `Esto eliminar TODOS los datos:\\n` +\r\n      ` Todos los proyectos guardados\\n` +\r\n      ` Todos los personajes y sprites\\n` +\r\n      ` Todos los archivos subidos\\n` +\r\n      ` Todo el historial y configuracin\\n` +\r\n      ` El nombre del proyecto actual\\n\\n` +\r\n      `Esta accin es IRREVERSIBLE y eliminar TODO.\\n` +\r\n      `El editor se reiniciar completamente desde cero.\\n\\n` +\r\n      `Ests ABSOLUTAMENTE seguro?`;\r\n    \r\n    const confirmed = await showConfirm(confirmMessage, ' Limpieza Completa', '');\r\n    if (confirmed) {\r\n      const doubleConfirm = await showConfirm(\r\n        `LTIMA CONFIRMACIN\\n\\n` +\r\n        `Vas a eliminar TODOS los datos del editor.\\n` +\r\n        `Esto incluye proyectos, personajes, archivos, todo.\\n` +\r\n        `El editor se reiniciar con un estado completamente limpio.\\n\\n` +\r\n        `Confirmas que quieres continuar?`,\r\n        'Confirmacin Final',\r\n        ''\r\n      );\r\n      \r\n      if (doubleConfirm) {\r\n        try {\r\n          const success = await storage.clearAllData();\r\n          if (success) {\r\n            setSavedProjects([]);\r\n            // Resetear el estado a completamente limpio\r\n            dispatch({ type: 'RESET_TO_CLEAN_STATE' });\r\n            await showAlert(' Todos los datos han sido eliminados completamente.\\n\\nEl editor se ha reiniciado con un estado completamente limpio.\\n\\nEl nombre del proyecto ahora est vaco y listo para un nuevo proyecto.', 'Limpieza Completa', '');\r\n          } else {\r\n            await showAlert(' Error al limpiar los datos', 'Error de Limpieza', '');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error limpiando datos:', error);\r\n          await showAlert(' Error al limpiar los datos: ' + error.message, 'Error de Limpieza', '');\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCleanupOrphanedData = async () => {\r\n    const confirmMessage = `Deseas limpiar datos hurfanos?\\n\\n` +\r\n      `Esto eliminar:\\n` +\r\n      ` Archivos que no pertenecen a ningn proyecto\\n` +\r\n      ` Sprites de personajes eliminados\\n` +\r\n      ` Datos corruptos o inconsistentes\\n\\n` +\r\n      `Esta accin es segura y solo elimina datos no utilizados.`;\r\n    \r\n    const confirmed = await showConfirm(confirmMessage, 'Limpiar Datos Hurfanos', '');\r\n    if (confirmed) {\r\n      try {\r\n        const cleanedCount = await storage.cleanupOrphanedData();\r\n        await showAlert(` Limpieza completada.\\n\\nSe eliminaron ${cleanedCount} archivos hurfanos.`, 'Limpieza Exitosa', '');\r\n        setSavedProjects(storage.getProjectNames());\r\n      } catch (error) {\r\n        console.error('Error limpiando datos hurfanos:', error);\r\n        await showAlert(' Error al limpiar datos hurfanos: ' + error.message, 'Error de Limpieza', '');\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <ModalOverlay onClick={onClose}>\r\n      <ModalContent onClick={(e) => e.stopPropagation()}>\r\n        <ModalHeader>\r\n          <ModalTitle>Gestin de Proyectos</ModalTitle>\r\n          <CloseButton onClick={onClose}></CloseButton>\r\n        </ModalHeader>\r\n\r\n        <TabContainer>\r\n          <Tab active={activeTab === 'load'} onClick={() => setActiveTab('load')}>\r\n            Cargar Proyecto\r\n          </Tab>\r\n          <Tab active={activeTab === 'save'} onClick={() => setActiveTab('save')}>\r\n            Guardar Proyecto\r\n          </Tab>\r\n          <Tab active={activeTab === 'cleanup'} onClick={() => setActiveTab('cleanup')}>\r\n            Limpiar Datos\r\n          </Tab>\r\n        </TabContainer>\r\n\r\n        <TabContent active={activeTab === 'load'}>\r\n          <h3>Cargar Proyecto Guardado</h3>\r\n          {savedProjects.length > 0 ? (\r\n            <ProjectList>\r\n              {savedProjects.map(project => (\r\n                <ProjectItem key={project.name}>\r\n                  <ProjectInfo>\r\n                    <ProjectName>{project.name}</ProjectName>\r\n                    <ProjectMeta>\r\n                      Guardado: {new Date(project.savedAt).toLocaleString()}\r\n                      <br />\r\n                      {project.description}\r\n                    </ProjectMeta>\r\n                  </ProjectInfo>\r\n                  <ProjectActions>\r\n                    <Button primary onClick={() => handleLoadProject(project.name)}>\r\n                      Cargar\r\n                    </Button>\r\n                    <Button \r\n                      className=\"danger\"\r\n                      onClick={() => handleDeleteProject(project.name)}\r\n                    >\r\n                      Eliminar\r\n                    </Button>\r\n                  </ProjectActions>\r\n                </ProjectItem>\r\n              ))}\r\n            </ProjectList>\r\n          ) : (\r\n            <EmptyState>\r\n              No hay proyectos guardados\r\n            </EmptyState>\r\n          )}\r\n          \r\n          <div style={{ \r\n            marginTop: '20px', \r\n            padding: '20px', \r\n            backgroundColor: 'var(--color-surfaceSecondary)', \r\n            borderRadius: '10px', \r\n            border: '2px solid var(--color-primary)',\r\n            boxShadow: '0 4px 12px var(--color-shadow)',\r\n            transition: 'all 0.3s ease'\r\n          }}>\r\n            <h4 style={{ \r\n              margin: '0 0 16px 0', \r\n              color: 'var(--color-primary)', \r\n              fontSize: '18px',\r\n              fontWeight: '800',\r\n              textShadow: '0 2px 4px var(--color-shadow)',\r\n              letterSpacing: '0.3px'\r\n            }}>\r\n               Guardar Proyecto Actual\r\n            </h4>\r\n            <p style={{ \r\n              margin: '0 0 16px 0', \r\n              color: 'var(--color-textPrimary)', \r\n              fontSize: '16px',\r\n              fontWeight: '600',\r\n              textShadow: '0 1px 2px var(--color-shadow)'\r\n            }}>\r\n              Guarda el proyecto actual con el nombre \"{state.project.name}\" para no perder cambios.\r\n            </p>\r\n            <Button \r\n              primary \r\n              onClick={() => handleSaveCurrentProject()}\r\n              style={{ fontSize: '14px', padding: '12px 20px' }}\r\n            >\r\n               Guardar Proyecto Actual\r\n            </Button>\r\n          </div>\r\n        </TabContent>\r\n\r\n        <TabContent active={activeTab === 'save'}>\r\n          <h3>Guardar Proyecto Actual</h3>\r\n          <div style={{ \r\n            marginBottom: '20px', \r\n            padding: '20px', \r\n            backgroundColor: 'var(--color-surfaceSecondary)', \r\n            borderRadius: '10px', \r\n            border: '2px solid var(--color-info)',\r\n            fontSize: '16px',\r\n            color: 'var(--color-textPrimary)',\r\n            boxShadow: '0 4px 12px var(--color-shadow)',\r\n            transition: 'all 0.3s ease'\r\n          }}>\r\n            <div style={{ \r\n              color: 'var(--color-info)', \r\n              fontWeight: '800', \r\n              marginBottom: '8px',\r\n              fontSize: '18px',\r\n              textShadow: '0 2px 4px var(--color-shadow)',\r\n              letterSpacing: '0.3px'\r\n            }}>\r\n               Sincronizacin Automtica\r\n            </div>\r\n            <div style={{\r\n              fontWeight: '600',\r\n              textShadow: '0 1px 2px var(--color-shadow)'\r\n            }}>\r\n              Los campos se sincronizan automticamente con el proyecto actual: <strong>\"{state.project.name}\"</strong>\r\n            </div>\r\n          </div>\r\n          <FormGroup>\r\n            <Label>Nombre del proyecto</Label>\r\n            <Input\r\n              value={projectName}\r\n              onChange={(e) => setProjectName(e.target.value)}\r\n              placeholder=\"Mi Novela Visual\"\r\n            />\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Descripcin (opcional)</Label>\r\n            <TextArea\r\n              value={projectDescription}\r\n              onChange={(e) => setProjectDescription(e.target.value)}\r\n              placeholder=\"Descripcin del proyecto...\"\r\n            />\r\n          </FormGroup>\r\n          <ButtonGroup>\r\n            <Button primary onClick={handleSaveProject}>\r\n              Guardar Proyecto\r\n            </Button>\r\n            <Button onClick={() => {\r\n              setProjectName('');\r\n              setProjectDescription('');\r\n            }}>\r\n              Limpiar\r\n            </Button>\r\n          </ButtonGroup>\r\n        </TabContent>\r\n\r\n        <TabContent active={activeTab === 'cleanup'}>\r\n          <h3>Limpieza de Datos</h3>\r\n          \r\n          <div style={{ \r\n            marginBottom: '20px', \r\n            padding: '20px', \r\n            backgroundColor: 'var(--color-surfaceSecondary)', \r\n            borderRadius: '10px', \r\n            border: '2px solid var(--color-warning)',\r\n            fontSize: '16px',\r\n            color: 'var(--color-textPrimary)',\r\n            boxShadow: '0 4px 12px var(--color-shadow)',\r\n            transition: 'all 0.3s ease'\r\n          }}>\r\n            <div style={{ \r\n              color: 'var(--color-warning)', \r\n              fontWeight: '800', \r\n              marginBottom: '8px',\r\n              fontSize: '18px',\r\n              textShadow: '0 2px 4px var(--color-shadow)',\r\n              letterSpacing: '0.3px'\r\n            }}>\r\n              ZONA DE PELIGRO\r\n            </div>\r\n            <div style={{\r\n              fontWeight: '600',\r\n              textShadow: '0 1px 2px var(--color-shadow)'\r\n            }}>\r\n              Estas acciones eliminarn datos permanentemente. salas solo si tienes problemas de persistencia o quieres empezar completamente desde cero.\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ \r\n            marginBottom: '20px', \r\n            padding: '20px', \r\n            backgroundColor: 'var(--color-surfaceSecondary)', \r\n            borderRadius: '10px', \r\n            border: '2px solid var(--color-error)',\r\n            fontSize: '16px',\r\n            color: 'var(--color-textPrimary)',\r\n            boxShadow: '0 4px 12px var(--color-shadow)',\r\n            transition: 'all 0.3s ease'\r\n          }}>\r\n            <h4 style={{ \r\n              color: 'var(--color-error)', \r\n              fontWeight: '800', \r\n              marginBottom: '12px',\r\n              fontSize: '18px',\r\n              textShadow: '0 2px 4px var(--color-shadow)',\r\n              letterSpacing: '0.3px'\r\n            }}>\r\n              Limpieza Completa\r\n            </h4>\r\n            <p style={{ \r\n              margin: '0 0 16px 0', \r\n              color: 'var(--color-textPrimary)', \r\n              fontSize: '16px',\r\n              fontWeight: '600',\r\n              textShadow: '0 1px 2px var(--color-shadow)'\r\n            }}>\r\n              Elimina TODOS los datos del editor: proyectos, personajes, archivos, configuracin, todo.\r\n            </p>\r\n            <Button \r\n              className=\"danger\"\r\n              onClick={handleClearAllData}\r\n              style={{ fontSize: '14px', padding: '12px 20px' }}\r\n            >\r\n              Limpiar TODOS los Datos\r\n            </Button>\r\n          </div>\r\n\r\n          <div style={{ \r\n            marginBottom: '20px', \r\n            padding: '20px', \r\n            backgroundColor: 'var(--color-surfaceSecondary)', \r\n            borderRadius: '10px', \r\n            border: '2px solid var(--color-info)',\r\n            fontSize: '16px',\r\n            color: 'var(--color-textPrimary)',\r\n            boxShadow: '0 4px 12px var(--color-shadow)',\r\n            transition: 'all 0.3s ease'\r\n          }}>\r\n            <h4 style={{ \r\n              color: 'var(--color-info)', \r\n              fontWeight: '800', \r\n              marginBottom: '12px',\r\n              fontSize: '18px',\r\n              textShadow: '0 2px 4px var(--color-shadow)',\r\n              letterSpacing: '0.3px'\r\n            }}>\r\n              Limpieza de Datos Hurfanos\r\n            </h4>\r\n            <p style={{ \r\n              margin: '0 0 16px 0', \r\n              color: 'var(--color-textPrimary)', \r\n              fontSize: '16px',\r\n              fontWeight: '600',\r\n              textShadow: '0 1px 2px var(--color-shadow)'\r\n            }}>\r\n              Elimina archivos que no pertenecen a ningn proyecto (sprites de personajes eliminados, etc.)\r\n            </p>\r\n            <Button \r\n              onClick={handleCleanupOrphanedData}\r\n              style={{ fontSize: '14px', padding: '12px 20px' }}\r\n            >\r\n              Limpiar Datos Hurfanos\r\n            </Button>\r\n          </div>\r\n\r\n          <div style={{ \r\n            marginBottom: '20px', \r\n            padding: '20px', \r\n            backgroundColor: 'var(--color-surfaceSecondary)', \r\n            borderRadius: '10px', \r\n            border: '2px solid var(--color-info)',\r\n            fontSize: '16px',\r\n            color: 'var(--color-textPrimary)',\r\n            boxShadow: '0 4px 12px var(--color-shadow)',\r\n            transition: 'all 0.3s ease'\r\n          }}>\r\n            <h4 style={{ \r\n              color: 'var(--color-info)', \r\n              fontWeight: '800', \r\n              marginBottom: '12px',\r\n              fontSize: '18px',\r\n              textShadow: '0 2px 4px var(--color-shadow)',\r\n              letterSpacing: '0.3px'\r\n            }}>\r\n               Cundo usar la limpieza\r\n            </h4>\r\n            <ul style={{ \r\n              margin: '0', \r\n              paddingLeft: '20px',\r\n              color: 'var(--color-textPrimary)', \r\n              fontSize: '14px',\r\n              fontWeight: '500',\r\n              textShadow: '0 1px 2px var(--color-shadow)'\r\n            }}>\r\n              <li>Personajes que no se eliminan al borrar proyectos</li>\r\n              <li>Archivos corruptos o datos inconsistentes</li>\r\n              <li>Problemas de rendimiento por datos acumulados</li>\r\n              <li>Quieres empezar completamente desde cero</li>\r\n            </ul>\r\n          </div>\r\n        </TabContent>\r\n\r\n      </ModalContent>\r\n    </ModalOverlay>\r\n  );\r\n}\r\n\r\nexport default ProjectManager;\r\n","import { useState, useEffect } from 'react';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport { applyTheme, getCurrentTheme, initializeTheme } from '../utils/themeManager';\r\n\r\nexport const useTheme = () => {\r\n  const { state } = useVisualNovel();\r\n  const [currentTheme, setCurrentTheme] = useState('dark-default');\r\n\r\n  // Inicializar tema al cargar\r\n  useEffect(() => {\r\n    const savedTheme = initializeTheme();\r\n    setCurrentTheme(savedTheme);\r\n  }, []);\r\n\r\n  // Aplicar tema cuando cambie el estado\r\n  useEffect(() => {\r\n    if (state.theme && state.theme !== currentTheme) {\r\n      applyTheme(state.theme);\r\n      setCurrentTheme(state.theme);\r\n    }\r\n  }, [state.theme, currentTheme]);\r\n\r\n  // Funcin para cambiar tema\r\n  const changeTheme = (themeId) => {\r\n    applyTheme(themeId);\r\n    setCurrentTheme(themeId);\r\n  };\r\n\r\n  // Obtener informacin del tema actual\r\n  const getThemeInfo = () => {\r\n    return getCurrentTheme(currentTheme);\r\n  };\r\n\r\n  // Obtener colores del tema actual\r\n  const getThemeColors = () => {\r\n    const theme = getCurrentTheme(currentTheme);\r\n    return theme.colors;\r\n  };\r\n\r\n  // Obtener variables CSS del tema actual\r\n  const getCSSVariables = () => {\r\n    const theme = getCurrentTheme(currentTheme);\r\n    const variables = {};\r\n    \r\n    // Colores\r\n    Object.entries(theme.colors).forEach(([key, value]) => {\r\n      variables[`--color-${key}`] = value;\r\n    });\r\n    \r\n    // Tipografa\r\n    Object.entries(theme.typography).forEach(([key, value]) => {\r\n      if (typeof value === 'object') {\r\n        Object.entries(value).forEach(([subKey, subValue]) => {\r\n          variables[`--font-${key}-${subKey}`] = subValue;\r\n        });\r\n      } else {\r\n        variables[`--font-${key}`] = value;\r\n      }\r\n    });\r\n    \r\n    // Espaciado\r\n    Object.entries(theme.spacing).forEach(([key, value]) => {\r\n      variables[`--spacing-${key}`] = value;\r\n    });\r\n    \r\n    // Bordes redondeados\r\n    Object.entries(theme.borderRadius).forEach(([key, value]) => {\r\n      variables[`--radius-${key}`] = value;\r\n    });\r\n    \r\n    return variables;\r\n  };\r\n\r\n  return {\r\n    currentTheme,\r\n    changeTheme,\r\n    getThemeInfo,\r\n    getThemeColors,\r\n    getCSSVariables,\r\n    isLight: currentTheme.includes('light'),\r\n    isDark: currentTheme.includes('dark')\r\n  };\r\n};\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport { useTheme } from '../hooks/useTheme';\r\n\r\nconst ThemeContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst ThemeHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst ThemeTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 28px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: #c82333;\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst ThemeContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst ThemeSection = styled.div`\r\n  background-color: var(--color-surface);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  margin-bottom: 30px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst SectionTitle = styled.h2`\r\n  color: var(--color-primary);\r\n  margin: 0 0 20px 0;\r\n  font-size: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ThemeGrid = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst ThemeCard = styled.div`\r\n  background-color: ${props => props.selected ? 'var(--color-primary)' : 'var(--color-surfaceSecondary)'};\r\n  border: 2px solid ${props => props.selected ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  min-width: 200px;\r\n  flex: 1;\r\n  max-width: 300px;\r\n\r\n  &:hover {\r\n    background-color: ${props => props.selected ? 'var(--color-primaryHover)' : 'var(--color-backgroundSecondary)'};\r\n    border-color: ${props => props.selected ? 'var(--color-primaryHover)' : 'var(--color-borderSecondary)'};\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 5px 15px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ThemePreview = styled.div`\r\n  width: 100%;\r\n  height: 80px;\r\n  border-radius: 6px;\r\n  background: ${props => {\r\n    switch(props.theme) {\r\n      case 'light-default': return 'linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #e9ecef 100%)';\r\n      case 'dark-default': return 'linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #333333 100%)';\r\n      case 'dark-colorblind-theme': return 'linear-gradient(135deg, #0f0f0f 0%, #1f1f1f 50%, #2f2f2f 100%)';\r\n      case 'dark-tritanopia-theme': return 'linear-gradient(135deg, #1a0f0a 0%, #2a1f1a 50%, #3a2f2a 100%)';\r\n      case 'blue-theme': return 'linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #60a5fa 100%)';\r\n      case 'green-theme': return 'linear-gradient(135deg, #064e3b 0%, #10b981 50%, #34d399 100%)';\r\n      case 'purple-theme': return 'linear-gradient(135deg, #581c87 0%, #8b5cf6 50%, #a78bfa 100%)';\r\n      case 'orange-theme': return 'linear-gradient(135deg, #9a3412 0%, #f97316 50%, #fb923c 100%)';\r\n      default: return 'linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #333333 100%)';\r\n    }\r\n  }};\r\n  margin-bottom: 10px;\r\n  border: 1px solid #666666;\r\n  position: relative;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ThemePreviewContent = styled.div`\r\n  position: absolute;\r\n  top: 8px;\r\n  left: 8px;\r\n  right: 8px;\r\n  bottom: 8px;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  border-radius: 4px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n`;\r\n\r\nconst PreviewLine = styled.div`\r\n  height: 3px;\r\n  background-color: ${props => props.theme === 'light' ? '#333333' : '#ffffff'};\r\n  border-radius: 1px;\r\n  opacity: 0.7;\r\n  \r\n  &:nth-child(1) { width: 100%; }\r\n  &:nth-child(2) { width: 80%; }\r\n  &:nth-child(3) { width: 60%; }\r\n  &:nth-child(4) { width: 90%; }\r\n`;\r\n\r\nconst ThemeName = styled.div`\r\n  color: var(--color-textInverse);\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  margin-bottom: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ThemeDescription = styled.div`\r\n  color: var(--color-textSecondary);\r\n  font-size: 12px;\r\n  line-height: 1.4;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst BetaLabel = styled.span`\r\n  background-color: var(--color-warning);\r\n  color: var(--color-textInverse);\r\n  font-size: 10px;\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst AccessibilityNote = styled.div`\r\n  background-color: rgba(37, 99, 235, 0.1);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  margin: 20px 0;\r\n  transition: border-color 0.3s ease;\r\n`;\r\n\r\nconst AccessibilityTitle = styled.div`\r\n  color: var(--color-primary);\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  margin-bottom: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst AccessibilityText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CurrentThemeInfo = styled.div`\r\n  background-color: rgba(16, 185, 129, 0.1);\r\n  border: 2px solid var(--color-success);\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  margin: 20px 0;\r\n  transition: border-color 0.3s ease;\r\n`;\r\n\r\nconst CurrentThemeTitle = styled.div`\r\n  color: var(--color-success);\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  margin-bottom: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CurrentThemeText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ApplyButton = styled.button`\r\n  background-color: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 6px;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n  margin-top: 10px;\r\n\r\n  &:hover {\r\n    background-color: var(--color-primaryHover);\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: var(--color-backgroundTertiary);\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nfunction ThemePage({ onClose }) {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const { currentTheme, changeTheme } = useTheme();\r\n  const [selectedTheme, setSelectedTheme] = useState(currentTheme);\r\n\r\n  // Cargar tema seleccionado desde localStorage al abrir (solo una vez)\r\n  React.useEffect(() => {\r\n    const savedSelectedTheme = localStorage.getItem('selected-theme');\r\n    if (savedSelectedTheme) {\r\n      setSelectedTheme(savedSelectedTheme);\r\n    }\r\n  }, []);\r\n\r\n  // Guardar tema seleccionado en localStorage cuando cambie (pero no al cargar inicial)\r\n  React.useEffect(() => {\r\n    // Solo guardar si no es la carga inicial\r\n    if (selectedTheme !== currentTheme) {\r\n      localStorage.setItem('selected-theme', selectedTheme);\r\n    }\r\n  }, [selectedTheme, currentTheme]);\r\n\r\n  const themes = {\r\n    light: [\r\n      {\r\n        id: 'light-default',\r\n        name: 'Light default',\r\n        description: 'Tema claro estndar con colores neutros',\r\n        theme: 'light',\r\n        beta: false\r\n      }\r\n    ],\r\n    dark: [\r\n      {\r\n        id: 'dark-default',\r\n        name: 'Dark default',\r\n        description: 'Tema oscuro estndar, ideal para trabajo nocturno',\r\n        theme: 'dark',\r\n        beta: false\r\n      }\r\n    ],\r\n    accessibility: [\r\n      {\r\n        id: 'dark-colorblind-theme',\r\n        name: 'Dark Colorblind Beta',\r\n        description: 'Tema oscuro optimizado para daltonismo general',\r\n        theme: 'dark',\r\n        beta: true\r\n      },\r\n      {\r\n        id: 'dark-tritanopia-theme',\r\n        name: 'Dark Tritanopia Beta',\r\n        description: 'Tema oscuro para tritanopia (deficiencia azul-amarillo)',\r\n        theme: 'dark',\r\n        beta: true\r\n      }\r\n    ],\r\n    custom: [\r\n      {\r\n        id: 'blue-theme',\r\n        name: 'Blue theme',\r\n        description: 'Tema azul profesional',\r\n        theme: 'blue',\r\n        beta: false\r\n      },\r\n      {\r\n        id: 'green-theme',\r\n        name: 'Green theme',\r\n        description: 'Tema verde relajante',\r\n        theme: 'green',\r\n        beta: false\r\n      },\r\n      {\r\n        id: 'purple-theme',\r\n        name: 'Purple theme',\r\n        description: 'Tema prpura creativo',\r\n        theme: 'purple',\r\n        beta: false\r\n      },\r\n      {\r\n        id: 'orange-theme',\r\n        name: 'Orange theme',\r\n        description: 'Tema naranja energtico',\r\n        theme: 'orange',\r\n        beta: false\r\n      }\r\n    ]\r\n  };\r\n\r\n  const handleThemeSelect = (themeId) => {\r\n    setSelectedTheme(themeId);\r\n  };\r\n\r\n  const handleApplyTheme = () => {\r\n    dispatch({\r\n      type: 'SET_THEME',\r\n      payload: selectedTheme\r\n    });\r\n    changeTheme(selectedTheme);\r\n    console.log('Aplicando tema:', selectedTheme);\r\n  };\r\n\r\n  const getCurrentTheme = () => {\r\n    const allThemes = [...themes.light, ...themes.dark, ...themes.accessibility, ...themes.custom];\r\n    return allThemes.find(theme => theme.id === selectedTheme);\r\n  };\r\n\r\n  return (\r\n    <ThemeContainer>\r\n      <ThemeHeader>\r\n        <ThemeTitle>\r\n          Selector de Temas\r\n        </ThemeTitle>\r\n        <CloseButton onClick={onClose}>\r\n           Cerrar\r\n        </CloseButton>\r\n      </ThemeHeader>\r\n\r\n      <ThemeContent>\r\n        <ThemeSection>\r\n          <SectionTitle>\r\n            Temas Claros\r\n          </SectionTitle>\r\n          <ThemeGrid>\r\n            {themes.light.map(theme => (\r\n              <ThemeCard\r\n                key={theme.id}\r\n                selected={selectedTheme === theme.id}\r\n                onClick={() => handleThemeSelect(theme.id)}\r\n              >\r\n                <ThemePreview theme={theme.id}>\r\n                  <ThemePreviewContent>\r\n                    <PreviewLine theme=\"light\" />\r\n                    <PreviewLine theme=\"light\" />\r\n                    <PreviewLine theme=\"light\" />\r\n                    <PreviewLine theme=\"light\" />\r\n                  </ThemePreviewContent>\r\n                </ThemePreview>\r\n                <ThemeName>\r\n                  {theme.name}\r\n                  {theme.beta && <BetaLabel>Beta</BetaLabel>}\r\n                </ThemeName>\r\n                <ThemeDescription>\r\n                  {theme.description}\r\n                </ThemeDescription>\r\n              </ThemeCard>\r\n            ))}\r\n          </ThemeGrid>\r\n        </ThemeSection>\r\n\r\n        <ThemeSection>\r\n          <SectionTitle>\r\n            Temas Oscuros\r\n          </SectionTitle>\r\n          <ThemeGrid>\r\n            {themes.dark.map(theme => (\r\n              <ThemeCard\r\n                key={theme.id}\r\n                selected={selectedTheme === theme.id}\r\n                onClick={() => handleThemeSelect(theme.id)}\r\n              >\r\n                <ThemePreview theme={theme.id}>\r\n                  <ThemePreviewContent>\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                  </ThemePreviewContent>\r\n                </ThemePreview>\r\n                <ThemeName>\r\n                  {theme.name}\r\n                  {theme.beta && <BetaLabel>Beta</BetaLabel>}\r\n                </ThemeName>\r\n                <ThemeDescription>\r\n                  {theme.description}\r\n                </ThemeDescription>\r\n              </ThemeCard>\r\n            ))}\r\n          </ThemeGrid>\r\n        </ThemeSection>\r\n\r\n        <ThemeSection>\r\n          <SectionTitle>\r\n            Temas de Accesibilidad\r\n          </SectionTitle>\r\n          <ThemeGrid>\r\n            {themes.accessibility.map(theme => (\r\n              <ThemeCard\r\n                key={theme.id}\r\n                selected={selectedTheme === theme.id}\r\n                onClick={() => handleThemeSelect(theme.id)}\r\n              >\r\n                <ThemePreview theme={theme.id}>\r\n                  <ThemePreviewContent>\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                  </ThemePreviewContent>\r\n                </ThemePreview>\r\n                <ThemeName>\r\n                  {theme.name}\r\n                  {theme.beta && <BetaLabel>Beta</BetaLabel>}\r\n                </ThemeName>\r\n                <ThemeDescription>\r\n                  {theme.description}\r\n                </ThemeDescription>\r\n              </ThemeCard>\r\n            ))}\r\n          </ThemeGrid>\r\n        </ThemeSection>\r\n\r\n        <ThemeSection>\r\n          <SectionTitle>\r\n            Temas Personalizados\r\n          </SectionTitle>\r\n          <ThemeGrid>\r\n            {themes.custom.map(theme => (\r\n              <ThemeCard\r\n                key={theme.id}\r\n                selected={selectedTheme === theme.id}\r\n                onClick={() => handleThemeSelect(theme.id)}\r\n              >\r\n                <ThemePreview theme={theme.id}>\r\n                  <ThemePreviewContent>\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                    <PreviewLine theme=\"dark\" />\r\n                  </ThemePreviewContent>\r\n                </ThemePreview>\r\n                <ThemeName>\r\n                  {theme.name}\r\n                </ThemeName>\r\n                <ThemeDescription>\r\n                  {theme.description}\r\n                </ThemeDescription>\r\n              </ThemeCard>\r\n            ))}\r\n          </ThemeGrid>\r\n        </ThemeSection>\r\n\r\n        {getCurrentTheme() && (\r\n          <CurrentThemeInfo>\r\n            <CurrentThemeTitle>\r\n               Tema Seleccionado\r\n            </CurrentThemeTitle>\r\n            <CurrentThemeText>\r\n              <strong>{getCurrentTheme().name}</strong> - {getCurrentTheme().description}\r\n              {getCurrentTheme().beta && (\r\n                <span style={{ color: '#f59e0b', marginLeft: '8px' }}>\r\n                  (Versin Beta)\r\n                </span>\r\n              )}\r\n            </CurrentThemeText>\r\n            <ApplyButton onClick={handleApplyTheme}>\r\n              Aplicar Tema\r\n            </ApplyButton>\r\n          </CurrentThemeInfo>\r\n        )}\r\n\r\n        <AccessibilityNote>\r\n          <AccessibilityTitle>\r\n             Informacin de Accesibilidad\r\n          </AccessibilityTitle>\r\n          <AccessibilityText>\r\n            Los temas marcados como \"Beta\" incluyen mejoras de accesibilidad para usuarios con daltonismo. \r\n            Estos temas utilizan colores y contrastes optimizados para diferentes tipos de deficiencia visual, \r\n            incluyendo protanopia, deuteranopia y tritanopia.\r\n          </AccessibilityText>\r\n        </AccessibilityNote>\r\n\r\n        <AccessibilityNote>\r\n          <AccessibilityTitle>\r\n             Consejos de Uso\r\n          </AccessibilityTitle>\r\n          <AccessibilityText>\r\n             Los temas claros son ideales para trabajo diurno y espacios bien iluminados<br/>\r\n             Los temas oscuros reducen la fatiga visual durante el trabajo nocturno<br/>\r\n             Los temas personalizados ofrecen opciones de colores especficos para diferentes preferencias<br/>\r\n             Los temas Beta incluyen mejoras de accesibilidad que se actualizan regularmente\r\n          </AccessibilityText>\r\n        </AccessibilityNote>\r\n      </ThemeContent>\r\n    </ThemeContainer>\r\n  );\r\n}\r\n\r\nexport default ThemePage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useCollaboration } from '../hooks/useCollaboration';\r\n\r\n// Animacin para el indicador\r\nconst pulse = keyframes`\r\n  0%, 100% {\r\n    opacity: 1;\r\n  }\r\n  50% {\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nconst IndicatorContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 6px 12px;\r\n  background-color: ${props => props.connected ? 'var(--color-success)' : 'var(--color-error)'};\r\n  color: var(--color-textInverse);\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    transform: scale(1.05);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst StatusDot = styled.div`\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background-color: var(--color-textInverse);\r\n  animation: ${props => props.connected ? 'none' : css`${pulse} 1.5s infinite`};\r\n`;\r\n\r\nconst UserCount = styled.span`\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  padding: 2px 6px;\r\n  border-radius: 10px;\r\n  font-size: 10px;\r\n  min-width: 20px;\r\n  text-align: center;\r\n`;\r\n\r\nconst Tooltip = styled.div`\r\n  position: absolute;\r\n  bottom: 100%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: var(--color-surface);\r\n  color: var(--color-textPrimary);\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  font-size: 11px;\r\n  white-space: nowrap;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  border: 1px solid var(--color-border);\r\n  z-index: 1000;\r\n  margin-bottom: 8px;\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  transition: all 0.3s ease;\r\n  \r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    border: 4px solid transparent;\r\n    border-top-color: var(--color-surface);\r\n  }\r\n`;\r\n\r\nconst TooltipContainer = styled.div`\r\n  position: relative;\r\n  \r\n  &:hover ${Tooltip} {\r\n    opacity: 1;\r\n    visibility: visible;\r\n  }\r\n`;\r\n\r\nfunction CollaborationIndicator() {\r\n  const { \r\n    isConnected, \r\n    roomCode, \r\n    users, \r\n    isHost \r\n  } = useCollaboration();\r\n  \r\n  const [showTooltip, setShowTooltip] = useState(false);\r\n  const [collaborationEnabled, setCollaborationEnabled] = useState(false);\r\n\r\n  // Verificar si la colaboracin est habilitada\r\n  useEffect(() => {\r\n    const checkCollaborationStatus = () => {\r\n      const enabled = localStorage.getItem('collaborationEnabled') === 'true';\r\n      setCollaborationEnabled(enabled);\r\n    };\r\n    \r\n    checkCollaborationStatus();\r\n    \r\n    // Escuchar cambios en localStorage\r\n    const handleStorageChange = (e) => {\r\n      if (e.key === 'collaborationEnabled') {\r\n        setCollaborationEnabled(e.newValue === 'true');\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('storage', handleStorageChange);\r\n    \r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []);\r\n\r\n  // Solo mostrar si la colaboracin est habilitada\r\n  if (!collaborationEnabled) {\r\n    return null;\r\n  }\r\n\r\n  const userCount = users.length;\r\n  const statusText = roomCode ? \r\n    (isHost ? `Host - Sala ${roomCode}` : `Sala ${roomCode}`) : \r\n    'Conectado';\r\n\r\n  const tooltipText = roomCode ? \r\n    `${userCount} usuario${userCount !== 1 ? 's' : ''} conectado${userCount !== 1 ? 's' : ''}` :\r\n    'Conectado al servidor de colaboracin';\r\n\r\n  return (\r\n    <TooltipContainer>\r\n      <IndicatorContainer connected={isConnected}>\r\n        <StatusDot connected={isConnected} />\r\n        <span>{statusText}</span>\r\n        {roomCode && (\r\n          <UserCount>\r\n            {userCount}\r\n          </UserCount>\r\n        )}\r\n      </IndicatorContainer>\r\n      \r\n      <Tooltip>\r\n        {tooltipText}\r\n        {roomCode && (\r\n          <>\r\n            <br />\r\n            {isHost ? 'Eres el host de la sala' : 'Te uniste a la sala'}\r\n          </>\r\n        )}\r\n      </Tooltip>\r\n    </TooltipContainer>\r\n  );\r\n}\r\n\r\nexport default CollaborationIndicator;\r\n","import { useState, useEffect, useCallback } from 'react';\r\nimport { collaborationClient } from '../utils/collaborationClient';\r\n\r\n// Hook para manejar la colaboracin en tiempo real\r\nexport function useCollaboration() {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [roomCode, setRoomCode] = useState(null);\r\n  const [isHost, setIsHost] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [cursorPositions, setCursorPositions] = useState(new Map());\r\n\r\n  // Conectar al servidor\r\n  const connect = useCallback(async (serverUrl) => {\r\n    try {\r\n      await collaborationClient.connect(serverUrl);\r\n      setIsConnected(true);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error conectando:', error);\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  // Desconectar\r\n  const disconnect = useCallback(() => {\r\n    collaborationClient.disconnect();\r\n    setIsConnected(false);\r\n    setRoomCode(null);\r\n    setIsHost(false);\r\n    setUsers([]);\r\n    setCursorPositions(new Map());\r\n  }, []);\r\n\r\n  // Crear sala\r\n  const createRoom = useCallback((projectData, username) => {\r\n    collaborationClient.createRoom(projectData, username);\r\n  }, []);\r\n\r\n  // Unirse a sala\r\n  const joinRoom = useCallback((roomCode, username) => {\r\n    collaborationClient.joinRoom(roomCode, username);\r\n  }, []);\r\n\r\n  // Abandonar sala\r\n  const leaveRoom = useCallback(() => {\r\n    collaborationClient.leaveRoom();\r\n    setRoomCode(null);\r\n    setIsHost(false);\r\n    setUsers([]);\r\n    setCursorPositions(new Map());\r\n  }, []);\r\n\r\n  // Enviar operacin de sincronizacin\r\n  const syncOperation = useCallback((operation, data) => {\r\n    collaborationClient.sendSyncOperation(operation, data);\r\n  }, []);\r\n\r\n  // Actualizar cursor\r\n  const updateCursor = useCallback((cursor) => {\r\n    collaborationClient.updateCursor(cursor);\r\n  }, []);\r\n\r\n  // Enviar mensaje de chat\r\n  const sendChatMessage = useCallback((message) => {\r\n    collaborationClient.sendChatMessage(message);\r\n  }, []);\r\n\r\n  // Actualizar nombre de usuario\r\n  const updateUsername = useCallback((username) => {\r\n    collaborationClient.updateUsername(username);\r\n  }, []);\r\n\r\n  // Configurar event listeners\r\n  useEffect(() => {\r\n    const handleRoomCreated = (data) => {\r\n      setRoomCode(data.roomCode);\r\n      setIsHost(true);\r\n    };\r\n\r\n    const handleRoomJoined = (data) => {\r\n      setRoomCode(data.roomCode);\r\n      setIsHost(false);\r\n      setUsers(data.users || []);\r\n    };\r\n\r\n    const handleUserJoined = (data) => {\r\n      setUsers(prev => [...prev, data.user]);\r\n    };\r\n\r\n    const handleUserLeft = (data) => {\r\n      setUsers(prev => prev.filter(user => user.id !== data.user.id));\r\n      setCursorPositions(prev => {\r\n        const newMap = new Map(prev);\r\n        newMap.delete(data.user.id);\r\n        return newMap;\r\n      });\r\n    };\r\n\r\n    const handleCursorUpdate = (data) => {\r\n      setCursorPositions(prev => {\r\n        const newMap = new Map(prev);\r\n        newMap.set(data.userId, {\r\n          ...data.cursor,\r\n          username: data.username\r\n        });\r\n        return newMap;\r\n      });\r\n    };\r\n\r\n    const handleHostTransferred = (data) => {\r\n      if (data.newHost.id === collaborationClient.getUserId()) {\r\n        setIsHost(true);\r\n      }\r\n    };\r\n\r\n    const handleDisconnected = () => {\r\n      setIsConnected(false);\r\n      setRoomCode(null);\r\n      setIsHost(false);\r\n      setUsers([]);\r\n      setCursorPositions(new Map());\r\n    };\r\n\r\n    // Registrar event listeners\r\n    collaborationClient.on('roomCreated', handleRoomCreated);\r\n    collaborationClient.on('roomJoined', handleRoomJoined);\r\n    collaborationClient.on('userJoined', handleUserJoined);\r\n    collaborationClient.on('userLeft', handleUserLeft);\r\n    collaborationClient.on('cursorUpdate', handleCursorUpdate);\r\n    collaborationClient.on('hostTransferred', handleHostTransferred);\r\n    collaborationClient.on('disconnected', handleDisconnected);\r\n\r\n    // Cleanup\r\n    return () => {\r\n      collaborationClient.off('roomCreated', handleRoomCreated);\r\n      collaborationClient.off('roomJoined', handleRoomJoined);\r\n      collaborationClient.off('userJoined', handleUserJoined);\r\n      collaborationClient.off('userLeft', handleUserLeft);\r\n      collaborationClient.off('cursorUpdate', handleCursorUpdate);\r\n      collaborationClient.off('hostTransferred', handleHostTransferred);\r\n      collaborationClient.off('disconnected', handleDisconnected);\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    // Estado\r\n    isConnected,\r\n    roomCode,\r\n    isHost,\r\n    users,\r\n    cursorPositions: Array.from(cursorPositions.values()),\r\n    \r\n    // Acciones\r\n    connect,\r\n    disconnect,\r\n    createRoom,\r\n    joinRoom,\r\n    leaveRoom,\r\n    syncOperation,\r\n    updateCursor,\r\n    sendChatMessage,\r\n    updateUsername,\r\n    \r\n    // Utilidades\r\n    getUserId: () => collaborationClient.getUserId(),\r\n    getServerIP: () => collaborationClient.getServerIP()\r\n  };\r\n}\r\n","import React from 'react';\r\n\r\n// Iconos SVG para el TopBar\r\nexport const ProjectsIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 13H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 17H13\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const FileManagerIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ExportScriptIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 2L12 8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ExportProjectIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M7 10L12 15L17 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 15V3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const SaveIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M17 21V13H7V21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M7 3V8H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const SceneFileIcon = ({ size = 14, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const PreviewIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const PreviewActiveIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M1 12S5 4 12 4S23 12 23 12S19 20 12 20S1 12 1 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" fill={color}/>\r\n  </svg>\r\n);\r\n\r\nexport const ThemeIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"5\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 1V3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 21V23\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M4.22 4.22L5.64 5.64\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M18.36 18.36L19.78 19.78\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M1 12H3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 12H23\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M4.22 19.78L5.64 18.36\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M18.36 5.64L19.78 4.22\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n","import React, { useState } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\nimport { ProjectExporter } from '../utils/projectExporter';\r\nimport ProjectManager from './ProjectManager';\r\nimport ThemePage from './ThemePage';\r\nimport CollaborationIndicator from './CollaborationIndicator';\r\nimport {\r\n  ProjectsIcon,\r\n  FileManagerIcon,\r\n  ExportScriptIcon,\r\n  ExportProjectIcon,\r\n  SaveIcon,\r\n  SceneFileIcon,\r\n  PreviewIcon,\r\n  PreviewActiveIcon,\r\n  ThemeIcon\r\n} from './icons/TopBarIcons';\r\n\r\n// Configuracin de botones del TopBar\r\nconst TOPBAR_BUTTONS_CONFIG = [\r\n  {\r\n    id: 'projects',\r\n    label: 'Proyectos',\r\n    icon: ProjectsIcon,\r\n    type: 'secondary',\r\n    action: 'showProjectManager'\r\n  },\r\n  {\r\n    id: 'fileManager',\r\n    label: 'Gestin de Archivos',\r\n    icon: FileManagerIcon,\r\n    type: 'secondary',\r\n    action: 'navigateToFileManager'\r\n  },\r\n  {\r\n    id: 'exportScript',\r\n    label: 'Exportar Script',\r\n    labelConditional: 'Descargar Script',\r\n    icon: ExportScriptIcon,\r\n    type: 'secondary',\r\n    action: 'exportScript'\r\n  },\r\n  {\r\n    id: 'exportProject',\r\n    label: 'Exportar Proyecto',\r\n    icon: ExportProjectIcon,\r\n    type: 'primary',\r\n    action: 'exportProject'\r\n  }\r\n];\r\n\r\n// Configuracin de indicadores\r\nconst INDICATORS_CONFIG = {\r\n  save: {\r\n    icon: SaveIcon,\r\n    label: 'Guardado automtico',\r\n    color: 'var(--color-primary)'\r\n  },\r\n  sceneFile: {\r\n    icon: SceneFileIcon,\r\n    color: 'var(--color-info)',\r\n    background: 'rgba(59, 130, 246, 0.1)',\r\n    border: 'rgba(59, 130, 246, 0.3)'\r\n  }\r\n};\r\n\r\n// Animaciones\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-5px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.02);\r\n  }\r\n`;\r\n\r\nconst TopBarContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 12px 20px;\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  border-bottom: 2px solid var(--color-border);\r\n  min-height: 60px;\r\n  position: relative;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  backdrop-filter: blur(8px);\r\n  -webkit-backdrop-filter: blur(8px);\r\n  \r\n  /* Sutil efecto de brillo */\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 1px;\r\n    background: linear-gradient(90deg, transparent, var(--color-primary), transparent);\r\n    opacity: 0.3;\r\n  }\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 56px;\r\n  min-width: 140px;\r\n  animation: ${fadeIn} 0.8s ease-out;\r\n  \r\n  .logo-text {\r\n    font-size: 24px;\r\n    font-weight: 800;\r\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n    background-clip: text;\r\n    text-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);\r\n    transition: all 0.3s ease;\r\n    letter-spacing: -0.5px;\r\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\r\n  }\r\n  \r\n  &:hover .logo-text {\r\n    transform: scale(1.05);\r\n    text-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\r\n  }\r\n`;\r\n\r\nconst ProjectInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  flex: 1;\r\n  justify-content: center;\r\n  max-width: 600px;\r\n  animation: ${fadeIn} 0.8s ease-out 0.2s both;\r\n`;\r\n\r\nconst ProjectVersion = styled.span`\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  background: var(--color-backgroundSecondary);\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  border: 1px solid var(--color-border);\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: var(--color-border);\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst Indicator = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  border: 1px solid transparent;\r\n  \r\n  /* Estilos dinmicos basados en tipo */\r\n  ${props => {\r\n    if (props.type === 'save') {\r\n      return `\r\n        color: ${INDICATORS_CONFIG.save.color};\r\n        background: linear-gradient(135deg, rgba(37, 99, 235, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%);\r\n        border-color: rgba(37, 99, 235, 0.2);\r\n        \r\n        &:hover {\r\n          background: linear-gradient(135deg, rgba(37, 99, 235, 0.15) 0%, rgba(59, 130, 246, 0.1) 100%);\r\n          transform: translateY(-1px);\r\n        }\r\n      `;\r\n    } else if (props.type === 'sceneFile') {\r\n      return `\r\n        color: ${INDICATORS_CONFIG.sceneFile.color};\r\n        background: linear-gradient(135deg, ${INDICATORS_CONFIG.sceneFile.background} 0%, rgba(59, 130, 246, 0.05) 100%);\r\n        border-color: ${INDICATORS_CONFIG.sceneFile.border};\r\n        \r\n        &:hover {\r\n          background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.1) 100%);\r\n          transform: translateY(-1px) scale(1.02);\r\n        }\r\n      `;\r\n    }\r\n  }}\r\n`;\r\n\r\nconst ProjectName = styled.input`\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  border: 2px solid var(--color-border);\r\n  color: var(--color-textPrimary);\r\n  padding: 8px 16px;\r\n  border-radius: 12px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  min-width: 200px;\r\n  text-align: center;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1), 0 4px 16px rgba(0, 0, 0, 0.1);\r\n    transform: translateY(-2px);\r\n    background: var(--color-surface);\r\n  }\r\n  \r\n  &:hover:not(:focus) {\r\n    border-color: var(--color-borderSecondary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\r\n  }\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n  animation: ${fadeIn} 0.8s ease-out 0.4s both;\r\n`;\r\n\r\nconst LeftActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n  margin-right: 16px;\r\n  padding-right: 16px;\r\n  border-right: 1px solid var(--color-border);\r\n`;\r\n\r\nconst Button = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 8px 16px;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  min-height: 36px;\r\n  white-space: nowrap;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  border: 2px solid transparent;\r\n  position: relative;\r\n  overflow: hidden;\r\n  \r\n  /* Estilos dinmicos basados en tipo */\r\n  ${props => {\r\n    if (props.buttonType === 'primary') {\r\n      return `\r\n        background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n        color: var(--color-textInverse);\r\n        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\r\n        \r\n        &:hover {\r\n          background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n          transform: translateY(-2px) scale(1.02);\r\n          box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);\r\n        }\r\n        \r\n        &:active {\r\n          transform: translateY(-1px) scale(1.01);\r\n          box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\r\n        }\r\n      `;\r\n    } else {\r\n      return `\r\n        background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\r\n        color: var(--color-textPrimary);\r\n        border-color: var(--color-border);\r\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n\r\n  &:hover {\r\n          background: linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%);\r\n          border-color: var(--color-borderSecondary);\r\n    transform: translateY(-1px);\r\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n        }\r\n      `;\r\n    }\r\n  }}\r\n\r\n  /* Efecto shimmer sutil */\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: left 0.5s;\r\n  }\r\n  \r\n  &:hover::before {\r\n    left: 100%;\r\n  }\r\n\r\n  &:disabled {\r\n    background: var(--color-backgroundTertiary);\r\n    border-color: var(--color-border);\r\n    color: var(--color-textTertiary);\r\n    cursor: not-allowed;\r\n    opacity: 0.6;\r\n    transform: none;\r\n    box-shadow: none;\r\n    \r\n    &::before {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PreviewToggle = styled(Button)`\r\n  ${props => props.active ? css`\r\n    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n    color: var(--color-textInverse);\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);\r\n    animation: ${pulse} 2s ease-in-out infinite;\r\n    \r\n    &:hover {\r\n      background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n      transform: translateY(-2px) scale(1.02);\r\n      box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);\r\n      animation: none;\r\n    }\r\n  ` : css`\r\n    background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\r\n    color: var(--color-textPrimary);\r\n    border-color: var(--color-border);\r\n    \r\n    &:hover {\r\n      background: linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%);\r\n      border-color: var(--color-borderSecondary);\r\n    }\r\n  `}\r\n`;\r\n\r\n// Botn de temas con la nueva apariencia del TopBar\r\nconst ThemeButton = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 8px 16px;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  min-height: 36px;\r\n  white-space: nowrap;\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  border: 2px solid transparent;\r\n  position: relative;\r\n  overflow: hidden;\r\n  background: linear-gradient(135deg, var(--color-surfaceSecondary) 0%, var(--color-backgroundElevated) 100%);\r\n  color: var(--color-textPrimary);\r\n  border-color: var(--color-border);\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  \r\n  /* Efecto shimmer sutil */\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n    transition: left 0.5s;\r\n  }\r\n  \r\n  &:hover {\r\n    background: linear-gradient(135deg, var(--color-border) 0%, var(--color-surfaceSecondary) 100%);\r\n    border-color: var(--color-borderSecondary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);\r\n    \r\n    &::before {\r\n      left: 100%;\r\n    }\r\n  }\r\n  \r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n  }\r\n`;\r\n\r\nfunction TopBar({ onNavigateToFileManager }) {\r\n  const { state, dispatch } = useVisualNovel();\r\n  const exporter = new ProjectExporter();\r\n  const [showProjectManager, setShowProjectManager] = useState(false);\r\n  const [showThemePage, setShowThemePage] = useState(false);\r\n\r\n  const handleProjectNameChange = (e) => {\r\n    dispatch({\r\n      type: 'SET_PROJECT_NAME',\r\n      payload: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleExportProject = async () => {\r\n    try {\r\n      console.log(' Iniciando exportacin del proyecto:', state.project?.name);\r\n      \r\n      const validation = exporter.validateProject(state.project);\r\n      if (!validation.isValid) {\r\n        console.error(' Errores de validacin:', validation.errors);\r\n        alert('Errores en el proyecto:\\n' + validation.errors.join('\\n'));\r\n        return;\r\n      }\r\n\r\n      if (validation.warnings.length > 0) {\r\n        console.warn(' Advertencias encontradas:', validation.warnings);\r\n        const proceed = window.confirm('Advertencias encontradas:\\n' + validation.warnings.join('\\n') + '\\n\\nContinuar con la exportacin?');\r\n        if (!proceed) return;\r\n      }\r\n\r\n      console.log(' Validacin exitosa, procediendo con exportacin...');\r\n      const fileName = await exporter.exportProject(state.project);\r\n      console.log(' Proyecto exportado exitosamente:', fileName);\r\n      alert(`Proyecto exportado exitosamente como: ${fileName}`);\r\n      \r\n    } catch (error) {\r\n      console.error(' Error detallado al exportar proyecto:', error);\r\n      console.error('Stack trace:', error.stack);\r\n      \r\n      // Mostrar error ms especfico\r\n      let errorMessage = 'Error al exportar el proyecto';\r\n      if (error.message) {\r\n        errorMessage += `: ${error.message}`;\r\n      }\r\n      if (error.name) {\r\n        errorMessage += ` (${error.name})`;\r\n      }\r\n      \r\n      alert(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleExportScript = async () => {\r\n    try {\r\n      let fileName;\r\n      // Si hay un archivo de escena seleccionado, exportar ese archivo especfico\r\n      if (state.project.currentSceneFile) {\r\n        fileName = await exporter.exportSelectedScript(state.project, state.project.currentSceneFile);\r\n      } else {\r\n        // Si no hay archivo seleccionado, exportar el script principal\r\n        fileName = await exporter.exportScript(state.project);\r\n      }\r\n      console.log('Script exportado exitosamente:', fileName);\r\n    } catch (error) {\r\n      console.error('Error al exportar script:', error);\r\n      alert('Error al exportar el script: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const togglePreview = () => {\r\n    dispatch({\r\n      type: 'SET_PREVIEW_MODE',\r\n      payload: !state.previewMode\r\n    });\r\n  };\r\n\r\n  const handleOpenThemePage = () => {\r\n    setShowThemePage(true);\r\n  };\r\n\r\n  // Obtener el archivo de escena actual\r\n  const currentSceneFile = state.project.sceneFiles?.find(file => \r\n    file.id === state.project.currentSceneFile\r\n  );\r\n\r\n  // Mapeo de acciones a handlers\r\n  const buttonActions = {\r\n    showProjectManager: () => setShowProjectManager(true),\r\n    navigateToFileManager: onNavigateToFileManager,\r\n    exportScript: handleExportScript,\r\n    exportProject: handleExportProject\r\n  };\r\n\r\n  // Funcin para renderizar botones dinmicamente\r\n  const renderButton = (buttonConfig) => {\r\n    const { id, label, labelConditional, icon, type, action } = buttonConfig;\r\n    const handler = buttonActions[action];\r\n    const IconComponent = icon;\r\n    \r\n    // Determinar el texto del botn\r\n    let buttonText = label;\r\n    if (labelConditional && id === 'exportScript' && state.project.currentSceneFile) {\r\n      buttonText = labelConditional;\r\n    }\r\n    \r\n    if (id === 'previewToggle') {\r\n      return (\r\n        <PreviewToggle\r\n          key={id}\r\n          active={state.previewMode}\r\n          onClick={togglePreview}\r\n          title={state.previewMode ? 'Vista Previa' : 'Vista Previa'}\r\n        >\r\n          {state.previewMode ? <PreviewActiveIcon size={16} color=\"currentColor\" /> : <PreviewIcon size={16} color=\"currentColor\" />} {state.previewMode ? 'Vista Previa' : 'Vista Previa'}\r\n        </PreviewToggle>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        key={id}\r\n        buttonType={type}\r\n        onClick={handler}\r\n        title={buttonText}\r\n      >\r\n        <IconComponent size={16} color=\"currentColor\" />\r\n        {buttonText}\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <TopBarContainer>\r\n      <Logo>\r\n          <span className=\"logo-text\">RynEditor</span>\r\n      </Logo>\r\n      \r\n      <ProjectInfo>\r\n        <ProjectName\r\n          value={state.project.name}\r\n          onChange={handleProjectNameChange}\r\n          placeholder=\"Nombre del proyecto\"\r\n        />\r\n          <ProjectVersion>\r\n            v{state.project.version}\r\n          </ProjectVersion>\r\n        {currentSceneFile && (\r\n            <Indicator type=\"sceneFile\">\r\n              <INDICATORS_CONFIG.sceneFile.icon size={14} color=\"currentColor\" />\r\n              {currentSceneFile.displayName}\r\n            </Indicator>\r\n          )}\r\n          <Indicator type=\"save\">\r\n            <INDICATORS_CONFIG.save.icon size={14} color=\"currentColor\" />\r\n            {INDICATORS_CONFIG.save.label}\r\n          </Indicator>\r\n      </ProjectInfo>\r\n\r\n      <ActionButtons>\r\n        <LeftActions>\r\n            <CollaborationIndicator />\r\n            <ThemeButton onClick={handleOpenThemePage}>\r\n              <ThemeIcon size={16} color=\"currentColor\" />\r\n              Temas\r\n            </ThemeButton>\r\n        </LeftActions>\r\n          \r\n          {/* Renderizar botones dinmicamente */}\r\n          {TOPBAR_BUTTONS_CONFIG.map(renderButton)}\r\n          \r\n          {/* Botn de vista previa con configuracin especial */}\r\n        <PreviewToggle \r\n          active={state.previewMode}\r\n          onClick={togglePreview}\r\n            title={state.previewMode ? 'Vista Previa' : 'Vista Previa'}\r\n        >\r\n            {state.previewMode ? <PreviewActiveIcon size={16} color=\"currentColor\" /> : <PreviewIcon size={16} color=\"currentColor\" />}\r\n            {state.previewMode ? 'Vista Previa' : 'Vista Previa'}\r\n        </PreviewToggle>\r\n      </ActionButtons>\r\n    </TopBarContainer>\r\n      \r\n      {/* ProjectManager se renderiza fuera del TopBar para que sea una pgina completa */}\r\n      {showProjectManager && (\r\n      <ProjectManager \r\n        isOpen={showProjectManager}\r\n        onClose={() => setShowProjectManager(false)}\r\n      />\r\n      )}\r\n      \r\n      {/* ThemePage se renderiza fuera del TopBar para que sea una pgina completa */}\r\n      {showThemePage && (\r\n        <ThemePage onClose={() => setShowThemePage(false)} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TopBar;\r\n","import React from 'react';\r\n\r\n// Iconos SVG para los botones flotantes\r\nexport const MenuIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M3 12H21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M3 6H21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M3 18H21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const InfoIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 16V12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 8H12.01\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const OptionsIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.2569 9.77251 19.9859C9.5799 19.7148 9.31074 19.5053 9 19.38C8.69838 19.2469 8.36381 19.2072 8.03941 19.266C7.71502 19.3248 7.41568 19.4795 7.18 19.71L7.12 19.77C6.93425 19.956 6.71368 20.1035 6.47088 20.2041C6.22808 20.3048 5.96783 20.3566 5.705 20.3566C5.44217 20.3566 5.18192 20.3048 4.93912 20.2041C4.69632 20.1035 4.47575 19.956 4.29 19.77C4.10405 19.5843 3.95653 19.3637 3.85588 19.1209C3.75523 18.8781 3.70343 18.6178 3.70343 18.355C3.70343 18.0922 3.75523 17.8319 3.85588 17.5891C3.95653 17.3463 4.10405 17.1257 4.29 16.94L4.35 16.88C4.58054 16.6443 4.73519 16.345 4.794 16.0206C4.85282 15.6962 4.81312 15.3616 4.68 15.06C4.55324 14.7642 4.34276 14.512 4.07447 14.3343C3.80618 14.1566 3.49179 14.0613 3.17 14.06H3C2.46957 14.06 1.96086 14.2707 1.58579 14.6458C1.21071 15.0209 1 15.5296 1 16.06C1 16.5904 1.21071 17.0991 1.58579 17.4742C1.96086 17.8493 2.46957 18.06 3 18.06H3.09C3.42099 18.0677 3.743 18.1749 4.014 18.3675C4.285 18.5601 4.49453 18.8293 4.62 19.14L4.68 19.2C4.81312 19.5016 4.85282 19.8362 4.794 20.1606C4.73519 20.485 4.58054 20.7843 4.35 21.02L4.29 21.08C4.10405 21.266 3.88348 21.4135 3.64068 21.5141C3.39788 21.6148 3.13763 21.6666 2.8748 21.6666C2.61197 21.6666 2.35172 21.6148 2.10892 21.5141C1.86612 21.4135 1.64555 21.266 1.4598 21.08C1.27385 20.8943 1.12633 20.6737 1.02568 20.4309C0.92503 20.1881 0.87323 19.9278 0.87323 19.665C0.87323 19.4022 0.92503 19.1419 1.02568 18.8991C1.12633 18.6563 1.27385 18.4357 1.4598 18.25L1.5198 18.19C1.75537 17.9595 1.91002 17.6602 1.96884 17.3358C2.02765 17.0114 1.98795 16.6768 1.8548 16.375V16.375Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const HelpIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9.09 9C9.3251 8.33167 9.78915 7.76811 10.4 7.40913C11.0108 7.05016 11.7289 6.91894 12.4272 7.03871C13.1255 7.15849 13.7588 7.52152 14.2151 8.06353C14.6713 8.60553 14.9211 9.29152 14.92 10C14.92 12 11.92 13 11.92 13\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 17H12.01\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const AboutIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 6V12L16 14\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Iconos para el submen\r\nexport const TemplatesIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const TroubleshootingIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14.7 6.3C15.1 5.9 15.1 5.3 14.7 4.9L13.8 4C13.4 3.6 12.8 3.6 12.4 4L11.5 4.9C11.1 5.3 11.1 5.9 11.5 6.3L14.7 6.3Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M20.1 12.9L19.2 12C18.8 11.6 18.2 11.6 17.8 12L16.9 12.9C16.5 13.3 16.5 13.9 16.9 14.3L20.1 12.9Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8.3 18.7L7.4 17.8C7 17.4 6.4 17.4 6 17.8L5.1 18.7C4.7 19.1 4.7 19.7 5.1 20.1L8.3 18.7Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 12L12 8L16 12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 2V6\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 18V22\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const BeginnersGuideIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M4 19.5C4 18.1193 5.11929 17 6.5 17H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 7H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 11H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 15H12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ResourcesIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ProjectStructureIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 13H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 17H13\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const BasicCustomizationIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 1V3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 21V23\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M4.22 4.22L5.64 5.64\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M18.36 18.36L19.78 19.78\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M1 12H3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 12H23\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M4.22 19.78L5.64 18.36\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M18.36 5.64L19.78 4.22\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const Troubleshooting2Icon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 12L11 14L15 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const GlossaryIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M4 19.5C4 18.1193 5.11929 17 6.5 17H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M6.5 2H20V22H6.5C5.11929 22 4 20.8807 4 19.5V4.5C4 3.11929 5.11929 2 6.5 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 7H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 11H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 15H12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const GuideIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M3 6C3 4.34315 4.34315 3 6 3H18C19.6569 3 21 4.34315 21 6V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 13H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 17H13\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport {\r\n  MenuIcon,\r\n  InfoIcon,\r\n  OptionsIcon,\r\n  HelpIcon,\r\n  AboutIcon,\r\n  TemplatesIcon,\r\n  TroubleshootingIcon,\r\n  BeginnersGuideIcon,\r\n  ResourcesIcon,\r\n  ProjectStructureIcon,\r\n  BasicCustomizationIcon,\r\n  Troubleshooting2Icon,\r\n  GlossaryIcon,\r\n  GuideIcon\r\n} from './icons/FloatingButtonIcons';\r\n\r\n// Configuracin de botones flotantes modernos\r\nconst FLOATING_BUTTONS_CONFIG = [\r\n  {\r\n    id: 'menu',\r\n    position: 0,\r\n    color: 'neutral',\r\n    icon: MenuIcon,\r\n    tooltip: 'Herramientas y Guas',\r\n    hasSubMenu: true,\r\n    subMenuItems: [\r\n      { id: 'templates', label: 'Plantillas', icon: TemplatesIcon },\r\n      { id: 'troubleshooting', label: 'Solucin de Problemas', icon: TroubleshootingIcon },\r\n      { id: 'beginnersGuide', label: 'Gua para Principiantes', icon: BeginnersGuideIcon },\r\n      { id: 'resources', label: 'Recursos', icon: ResourcesIcon },\r\n      { id: 'projectStructure', label: 'Estructura del Proyecto', icon: ProjectStructureIcon },\r\n      { id: 'basicCustomization', label: 'Personalizacin Bsica', icon: BasicCustomizationIcon },\r\n      { id: 'troubleshooting2', label: 'Solucin Avanzada', icon: Troubleshooting2Icon },\r\n      { id: 'glossary', label: 'Glosario', icon: GlossaryIcon },\r\n      { id: 'guide', label: 'Gua Completa', icon: GuideIcon }\r\n    ]\r\n  },\r\n  {\r\n    id: 'info',\r\n    position: 1,\r\n    color: 'neutral',\r\n    icon: InfoIcon,\r\n    tooltip: 'Informacin del Editor',\r\n    hasModal: true\r\n  },\r\n  {\r\n    id: 'options',\r\n    position: 2,\r\n    color: 'neutral',\r\n    icon: OptionsIcon,\r\n    tooltip: 'Gua de Opciones',\r\n    hasModal: true\r\n  },\r\n  {\r\n    id: 'help',\r\n    position: 3,\r\n    color: 'neutral',\r\n    icon: HelpIcon,\r\n    tooltip: 'Ayuda y Funcionalidades',\r\n    hasModal: true\r\n  },\r\n  {\r\n    id: 'about',\r\n    position: 4,\r\n    color: 'neutral',\r\n    icon: AboutIcon,\r\n    tooltip: 'Acerca de RynEditor',\r\n    hasModal: true\r\n  }\r\n];\r\n\r\n// Animaciones mejoradas\r\nconst float = keyframes`\r\n  0%, 100% {\r\n    transform: translateY(0px);\r\n  }\r\n  50% {\r\n    transform: translateY(-3px);\r\n  }\r\n`;\r\n\r\n\r\nconst slideIn = keyframes`\r\n  from {\r\n    transform: translateX(100px) scale(0.8);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateX(0) scale(1);\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst modalSlideIn = keyframes`\r\n  from {\r\n    transform: translate(-50%, -50%) scale(0.7);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translate(-50%, -50%) scale(1);\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\n// Contenedor principal\r\nconst FloatingButtonsContainer = styled.div`\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  gap: 16px;\r\n  z-index: 1000;\r\n  pointer-events: none; /* Permite que los botones individuales manejen los eventos */\r\n`;\r\n\r\n// Wrapper para controlar animaciones\r\nconst ButtonWrapper = styled.div`\r\n  position: relative;\r\n  pointer-events: auto;\r\n  \r\n  /* Animacin flotante sutil solo despus de la entrada */\r\n  &:not(:hover) {\r\n    animation: ${float} 6s ease-in-out ${props => props.delay + 1.2}s infinite;\r\n  }\r\n  \r\n  /* Detener animacin flotante en hover para evitar conflictos */\r\n  &:hover {\r\n    animation: none;\r\n  }\r\n`;\r\n\r\n// Botn flotante moderno y minimalista\r\nconst FloatingButton = styled.button`\r\n  position: relative;\r\n  width: 52px;\r\n  height: 52px;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  border-radius: 16px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  pointer-events: auto;\r\n  \r\n  /* Fondo moderno con glassmorphism */\r\n  background: rgba(255, 255, 255, 0.05);\r\n  backdrop-filter: blur(20px);\r\n  -webkit-backdrop-filter: blur(20px);\r\n  \r\n  color: var(--color-textPrimary);\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  \r\n  /* Solo animacin de entrada - sin conflictos */\r\n  animation: ${slideIn} 0.6s ease-out ${props => props.delay}s both;\r\n\r\n  /* Hover moderno y sutil */\r\n  &:hover {\r\n    transform: translateY(-4px) scale(1.05);\r\n    background: rgba(255, 255, 255, 0.1);\r\n    border-color: rgba(255, 255, 255, 0.2);\r\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\r\n    color: var(--color-primary);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-2px) scale(1.02);\r\n    background: rgba(255, 255, 255, 0.08);\r\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  /* Efecto de brillo sutil */\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 1px;\r\n    left: 1px;\r\n    right: 1px;\r\n    height: 50%;\r\n    background: linear-gradient(180deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);\r\n    border-radius: 15px 15px 0 0;\r\n    pointer-events: none;\r\n  }\r\n\r\n  /* Indicador de estado activo */\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: -2px;\r\n    right: -2px;\r\n    width: 8px;\r\n    height: 8px;\r\n    background: var(--color-primary);\r\n    border-radius: 50%;\r\n    opacity: 0;\r\n    transition: opacity 0.3s ease;\r\n  }\r\n\r\n  &:hover::after {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\n// Tooltip moderno y minimalista\r\nconst Tooltip = styled.div`\r\n  position: absolute;\r\n  bottom: 70px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: rgba(0, 0, 0, 0.8);\r\n  backdrop-filter: blur(12px);\r\n  -webkit-backdrop-filter: blur(12px);\r\n  color: white;\r\n  padding: 6px 10px;\r\n  border-radius: 8px;\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  transition: all 0.2s ease;\r\n  pointer-events: none;\r\n  z-index: 1001;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  /* Flecha del tooltip */\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    border: 4px solid transparent;\r\n    border-top-color: rgba(0, 0, 0, 0.8);\r\n  }\r\n\r\n  ${ButtonWrapper}:hover & {\r\n    opacity: 1;\r\n    visibility: visible;\r\n    transform: translateX(-50%) translateY(-2px);\r\n  }\r\n`;\r\n\r\n// Modal overlay mejorado\r\nconst ModalOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(135deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.8) 100%);\r\n  backdrop-filter: blur(8px);\r\n  -webkit-backdrop-filter: blur(8px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 2000;\r\n  opacity: ${props => props.isOpen ? 1 : 0};\r\n  visibility: ${props => props.isOpen ? 'visible' : 'hidden'};\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n`;\r\n\r\n// Modal content mejorado\r\nconst ModalContent = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) scale(${props => props.isOpen ? 1 : 0.8});\r\n  background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-backgroundElevated) 100%);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  max-width: 90vw;\r\n  max-height: 85vh;\r\n  width: ${props => props.width || '600px'};\r\n  overflow-y: auto;\r\n  border: 1px solid var(--color-border);\r\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\r\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  animation: ${props => props.isOpen ? modalSlideIn : 'none'} 0.4s ease-out;\r\n  \r\n  /* Scrollbar personalizado */\r\n  &::-webkit-scrollbar {\r\n    width: 8px;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-track {\r\n    background: transparent;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: var(--color-border);\r\n    border-radius: 4px;\r\n    transition: background-color 0.3s ease;\r\n  }\r\n  \r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\n// Header del modal\r\nconst ModalHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n  padding-bottom: 16px;\r\n  border-bottom: 2px solid var(--color-border);\r\n`;\r\n\r\nconst ModalTitle = styled.h2`\r\n  margin: 0;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: var(--color-textPrimary);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  color: var(--color-textSecondary);\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: var(--color-backgroundSecondary);\r\n    color: var(--color-textPrimary);\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.95);\r\n  }\r\n`;\r\n\r\n// Estilos para el submen moderno\r\nconst SubMenuContainer = styled.div`\r\n  position: absolute;\r\n  bottom: 70px;\r\n  right: 0;\r\n  z-index: 1002;\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 8px;\r\n  padding: 12px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  backdrop-filter: blur(20px);\r\n  -webkit-backdrop-filter: blur(20px);\r\n  border-radius: 12px;\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\r\n  opacity: ${props => props.isOpen ? 1 : 0};\r\n  visibility: ${props => props.isOpen ? 'visible' : 'hidden'};\r\n  transform: ${props => props.isOpen ? 'translateY(0) scale(1)' : 'translateY(10px) scale(0.9)'};\r\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  pointer-events: ${props => props.isOpen ? 'auto' : 'none'};\r\n  min-width: 300px;\r\n`;\r\n\r\nconst SubMenuButton = styled.button`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 10px 6px;\r\n  background: rgba(255, 255, 255, 0.03);\r\n  border: 1px solid rgba(255, 255, 255, 0.05);\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  color: var(--color-textPrimary);\r\n  font-size: 10px;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  line-height: 1.2;\r\n  min-height: 60px;\r\n\r\n  &:hover {\r\n    background: rgba(255, 255, 255, 0.08);\r\n    border-color: rgba(255, 255, 255, 0.1);\r\n    color: var(--color-primary);\r\n    transform: translateY(-1px) scale(1.02);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0) scale(1);\r\n    background: rgba(255, 255, 255, 0.05);\r\n  }\r\n`;\r\n\r\nconst SubMenuIcon = styled.span`\r\n  font-size: 16px;\r\n  display: block;\r\n  opacity: 0.8;\r\n  transition: opacity 0.2s ease;\r\n  \r\n  ${SubMenuButton}:hover & {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst SubMenuLabel = styled.span`\r\n  font-size: 9px;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  max-width: 100%;\r\n  word-wrap: break-word;\r\n  line-height: 1.1;\r\n  opacity: 0.7;\r\n  transition: opacity 0.2s ease;\r\n  \r\n  ${SubMenuButton}:hover & {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nfunction FloatingButtonsManager({ \r\n  onMenuClick,\r\n  onInfoClick, \r\n  onOptionsClick, \r\n  onHelpClick, \r\n  onAboutClick,\r\n  // Handlers para el submen\r\n  onNavigateToTemplates,\r\n  onNavigateToTroubleshooting,\r\n  onNavigateToBeginnersGuide,\r\n  onNavigateToResources,\r\n  onNavigateToProjectStructure,\r\n  onNavigateToBasicCustomization,\r\n  onNavigateToTroubleshooting2,\r\n  onNavigateToGlossary,\r\n  onNavigateToGuide,\r\n  children \r\n}) {\r\n  const [activeModal, setActiveModal] = useState(null);\r\n  const [showSubMenu, setShowSubMenu] = useState(false);\r\n\r\n  // Manejar escape key\r\n  useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        if (activeModal) {\r\n          setActiveModal(null);\r\n        } else if (showSubMenu) {\r\n          setShowSubMenu(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    if (activeModal) {\r\n      document.addEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n\r\n    if (showSubMenu || activeModal) {\r\n      document.addEventListener('keydown', handleEscape);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [activeModal, showSubMenu]);\r\n\r\n  const handleButtonClick = (buttonId) => {\r\n    const handlers = {\r\n      menu: () => {\r\n        setShowSubMenu(!showSubMenu);\r\n        onMenuClick?.();\r\n      },\r\n      info: () => {\r\n        setActiveModal('info');\r\n        setShowSubMenu(false);\r\n        onInfoClick?.();\r\n      },\r\n      options: () => {\r\n        setActiveModal('options');\r\n        setShowSubMenu(false);\r\n        onOptionsClick?.();\r\n      },\r\n      help: () => {\r\n        setActiveModal('help');\r\n        setShowSubMenu(false);\r\n        onHelpClick?.();\r\n      },\r\n      about: () => {\r\n        setActiveModal('about');\r\n        setShowSubMenu(false);\r\n        onAboutClick?.();\r\n      }\r\n    };\r\n\r\n    handlers[buttonId]?.();\r\n  };\r\n\r\n  const handleSubMenuClick = (itemId) => {\r\n    setShowSubMenu(false);\r\n    \r\n    const subMenuHandlers = {\r\n      templates: onNavigateToTemplates,\r\n      troubleshooting: onNavigateToTroubleshooting,\r\n      beginnersGuide: onNavigateToBeginnersGuide,\r\n      resources: onNavigateToResources,\r\n      projectStructure: onNavigateToProjectStructure,\r\n      basicCustomization: onNavigateToBasicCustomization,\r\n      troubleshooting2: onNavigateToTroubleshooting2,\r\n      glossary: onNavigateToGlossary,\r\n      guide: onNavigateToGuide\r\n    };\r\n\r\n    subMenuHandlers[itemId]?.();\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setActiveModal(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FloatingButtonsContainer>\r\n        {FLOATING_BUTTONS_CONFIG.map((button, index) => {\r\n          const IconComponent = button.icon;\r\n          return (\r\n          <ButtonWrapper key={button.id} delay={index * 0.1}>\r\n            <FloatingButton\r\n              colorType={button.color}\r\n              delay={index * 0.1}\r\n              onClick={() => handleButtonClick(button.id)}\r\n              title={button.tooltip}\r\n            >\r\n                <IconComponent size={20} color=\"currentColor\" />\r\n              <Tooltip>{button.tooltip}</Tooltip>\r\n            </FloatingButton>\r\n            \r\n            {/* Submen para el botn de herramientas */}\r\n            {button.hasSubMenu && button.subMenuItems && (\r\n              <SubMenuContainer isOpen={showSubMenu && button.id === 'menu'}>\r\n                  {button.subMenuItems.map((item) => {\r\n                    const SubMenuIconComponent = item.icon;\r\n                    return (\r\n                  <SubMenuButton\r\n                    key={item.id}\r\n                    onClick={() => handleSubMenuClick(item.id)}\r\n                    title={item.label}\r\n                  >\r\n                        <SubMenuIcon>\r\n                          <SubMenuIconComponent size={16} color=\"currentColor\" />\r\n                        </SubMenuIcon>\r\n                    <SubMenuLabel>{item.label}</SubMenuLabel>\r\n                  </SubMenuButton>\r\n                    );\r\n                  })}\r\n              </SubMenuContainer>\r\n            )}\r\n          </ButtonWrapper>\r\n          );\r\n        })}\r\n      </FloatingButtonsContainer>\r\n\r\n      {/* Modal universal */}\r\n      <ModalOverlay \r\n        isOpen={!!activeModal} \r\n        onClick={closeModal}\r\n      >\r\n        <ModalContent \r\n          isOpen={!!activeModal}\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <ModalHeader>\r\n            <ModalTitle>\r\n              {activeModal === 'info' && <><InfoIcon size={24} color=\"currentColor\" /> Informacin del Editor</>}\r\n              {activeModal === 'options' && <><OptionsIcon size={24} color=\"currentColor\" /> Gua de Opciones</>}\r\n              {activeModal === 'help' && <><HelpIcon size={24} color=\"currentColor\" /> Ayuda y Funcionalidades</>}\r\n              {activeModal === 'about' && <><AboutIcon size={24} color=\"currentColor\" /> Acerca de RynEditor</>}\r\n            </ModalTitle>\r\n            <CloseButton onClick={closeModal}></CloseButton>\r\n          </ModalHeader>\r\n          \r\n          {children && children[activeModal]}\r\n        </ModalContent>\r\n      </ModalOverlay>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FloatingButtonsManager;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst InfoContent = styled.div`\r\n  color: var(--color-textPrimary);\r\n  line-height: 1.6;\r\n`;\r\n\r\nconst NavigationContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 24px;\r\n  padding: 16px;\r\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst NavTitle = styled.h4`\r\n  width: 100%;\r\n  margin: 0 0 12px 0;\r\n  color: var(--color-primary);\r\n  font-weight: 600;\r\n`;\r\n\r\nconst NavButton = styled.button`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst InfoSection = styled.div`\r\n  margin-bottom: 24px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border-left: 4px solid var(--color-primary);\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  color: var(--color-primary);\r\n  margin-bottom: 12px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst BackToTopButton = styled.button`\r\n  position: sticky;\r\n  bottom: 20px;\r\n  left: 100%;\r\n  background: linear-gradient(135deg, var(--color-warning) 0%, var(--color-warningHover) 100%);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 40px;\r\n  height: 40px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  transition: all 0.3s ease;\r\n  z-index: 2001;\r\n  opacity: ${props => props.visible ? 1 : 0};\r\n  visibility: ${props => props.visible ? 'visible' : 'hidden'};\r\n  transform: ${props => props.visible ? 'scale(1)' : 'scale(0.8)'};\r\n  margin-top: 20px;\r\n\r\n  &:hover {\r\n    transform: ${props => props.visible ? 'scale(1.1)' : 'scale(0.8)'};\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nfunction InfoModalContent() {\r\n  const [showBackToTop, setShowBackToTop] = useState(false);\r\n\r\n  const scrollToSection = (sectionId) => {\r\n    const element = document.getElementById(sectionId);\r\n    if (element) {\r\n      element.scrollIntoView({ \r\n        behavior: 'smooth',\r\n        block: 'start'\r\n      });\r\n    }\r\n  };\r\n\r\n  const scrollToTop = () => {\r\n    const modalContent = document.querySelector('.modal-content');\r\n    if (modalContent) {\r\n      modalContent.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleScroll = (e) => {\r\n      const target = e.target;\r\n      if (target.classList.contains('modal-content')) {\r\n        setShowBackToTop(target.scrollTop > 300);\r\n      }\r\n    };\r\n\r\n    const modalContent = document.querySelector('.modal-content');\r\n    if (modalContent) {\r\n      modalContent.addEventListener('scroll', handleScroll);\r\n      return () => modalContent.removeEventListener('scroll', handleScroll);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <InfoContent>\r\n      <NavigationContainer>\r\n        <NavTitle> Navegacin Rpida:</NavTitle>\r\n        <NavButton onClick={() => scrollToSection('info-overview')}>Vista General</NavButton>\r\n        <NavButton onClick={() => scrollToSection('info-interface')}>Interfaz</NavButton>\r\n        <NavButton onClick={() => scrollToSection('info-projects')}>Proyectos</NavButton>\r\n        <NavButton onClick={() => scrollToSection('info-characters')}>Personajes</NavButton>\r\n        <NavButton onClick={() => scrollToSection('info-scenes')}>Escenas</NavButton>\r\n        <NavButton onClick={() => scrollToSection('info-export')}>Exportar</NavButton>\r\n        <NavButton onClick={() => scrollToSection('info-tips')}>Consejos</NavButton>\r\n      </NavigationContainer>\r\n\r\n      <InfoSection id=\"info-overview\">\r\n        <SectionTitle> Vista General del Editor</SectionTitle>\r\n        <p>\r\n          <strong>RynEditor</strong> es un editor visual completo para crear novelas visuales \r\n          compatibles con Ren'Py. Te permite crear historias interactivas sin necesidad \r\n          de programar directamente.\r\n        </p>\r\n        <ul>\r\n          <li><strong>Interfaz Intuitiva:</strong> Diseo moderno y fcil de usar</li>\r\n          <li><strong>Vista Previa en Tiempo Real:</strong> Ve cmo se ve tu novela mientras la creas</li>\r\n          <li><strong>Compatibilidad Ren'Py:</strong> Exporta proyectos listos para usar</li>\r\n          <li><strong>Gestin de Recursos:</strong> Organiza imgenes, audio y ms</li>\r\n        </ul>\r\n      </InfoSection>\r\n\r\n      <InfoSection id=\"info-interface\">\r\n        <SectionTitle> Interfaz del Editor</SectionTitle>\r\n        <h4>Componentes Principales:</h4>\r\n        <ul>\r\n          <li><strong>Sidebar Izquierdo:</strong> Herramientas principales (Proyecto, Personajes, Escenas, Script, Configuracin)</li>\r\n          <li><strong>Editor Central:</strong> rea de trabajo donde creas tu contenido</li>\r\n          <li><strong>Panel de Vista Previa:</strong> Muestra cmo se ver tu novela</li>\r\n          <li><strong>Barra Superior:</strong> Acciones rpidas y navegacin</li>\r\n          <li><strong>Botones Flotantes:</strong> Acceso rpido a ayuda y guas</li>\r\n        </ul>\r\n        \r\n        <h4>Navegacin:</h4>\r\n        <ul>\r\n          <li>Usa el <strong>sidebar</strong> para acceder a las diferentes herramientas</li>\r\n          <li>Los <strong>tooltips</strong> te ayudan a entender cada funcin</li>\r\n          <li>El <strong>scroll</strong> funciona con rueda del mouse en todos los paneles</li>\r\n        </ul>\r\n      </InfoSection>\r\n\r\n      <InfoSection id=\"info-projects\">\r\n        <SectionTitle> Gestin de Proyectos</SectionTitle>\r\n        <h4>Crear un Nuevo Proyecto:</h4>\r\n        <ol>\r\n          <li>Ve al panel <strong>\" Proyecto\"</strong> en el sidebar</li>\r\n          <li>Haz clic en <strong>\"Nuevo Proyecto\"</strong></li>\r\n          <li>Completa la informacin bsica (nombre, descripcin, autor)</li>\r\n          <li>Tu proyecto est listo para comenzar!</li>\r\n        </ol>\r\n        \r\n        <h4>Configuracin del Proyecto:</h4>\r\n        <ul>\r\n          <li><strong>Informacin Bsica:</strong> Ttulo, descripcin, versin</li>\r\n          <li><strong>Configuracin Visual:</strong> Resolucin, colores, fuentes</li>\r\n          <li><strong>Metadatos:</strong> Autor, etiquetas, categoras</li>\r\n        </ul>\r\n      </InfoSection>\r\n\r\n      <InfoSection id=\"info-characters\">\r\n        <SectionTitle> Sistema de Personajes</SectionTitle>\r\n        <h4>Crear Personajes:</h4>\r\n        <ul>\r\n          <li><strong>Nombre:</strong> Identificador nico para el personaje</li>\r\n          <li><strong>Color:</strong> Color distintivo para los dilogos</li>\r\n          <li><strong>Sprites:</strong> Imgenes del personaje en diferentes poses</li>\r\n          <li><strong>Expresiones:</strong> Diferentes emociones (feliz, triste, enojado, etc.)</li>\r\n        </ul>\r\n        \r\n        <h4>Buenas Prcticas:</h4>\r\n        <ul>\r\n          <li>Usa nombres descriptivos y nicos</li>\r\n          <li>Mantn consistencia en los colores</li>\r\n          <li>Organiza sprites por emociones</li>\r\n          <li>Usa formatos PNG para transparencia</li>\r\n        </ul>\r\n      </InfoSection>\r\n\r\n      <InfoSection id=\"info-scenes\">\r\n        <SectionTitle> Creacin de Escenas</SectionTitle>\r\n        <h4>Elementos de una Escena:</h4>\r\n        <ul>\r\n          <li><strong>Fondo:</strong> Imagen de ambiente donde ocurre la accin</li>\r\n          <li><strong>Personajes:</strong> Sprites que aparecen en la escena</li>\r\n          <li><strong>Dilogos:</strong> Conversaciones entre personajes</li>\r\n          <li><strong>Narracin:</strong> Texto descriptivo del narrador</li>\r\n          <li><strong>Decisiones:</strong> Opciones que el jugador puede elegir</li>\r\n        </ul>\r\n        \r\n        <h4>Flujo de Trabajo:</h4>\r\n        <ol>\r\n          <li>Selecciona o crea un fondo para la escena</li>\r\n          <li>Aade personajes y posicinalos</li>\r\n          <li>Escribe dilogos y narracin</li>\r\n          <li>Agrega decisiones si es necesario</li>\r\n          <li>Previsualiza el resultado</li>\r\n        </ol>\r\n      </InfoSection>\r\n\r\n      <InfoSection id=\"info-export\">\r\n        <SectionTitle> Exportar tu Proyecto</SectionTitle>\r\n        <h4>Opciones de Exportacin:</h4>\r\n        <ul>\r\n          <li><strong>Script Ren'Py:</strong> Archivo .rpy listo para usar</li>\r\n          <li><strong>Proyecto Completo:</strong> Carpeta con todos los archivos</li>\r\n          <li><strong>Recursos:</strong> Solo imgenes y audio organizados</li>\r\n        </ul>\r\n        \r\n        <h4>Proceso de Exportacin:</h4>\r\n        <ol>\r\n          <li>Ve a <strong>\" Configuracin\"</strong> en el sidebar</li>\r\n          <li>Revisa la configuracin de exportacin</li>\r\n          <li>Haz clic en <strong>\"Exportar Proyecto\"</strong></li>\r\n          <li>Selecciona la ubicacin de destino</li>\r\n          <li>Tu proyecto est listo para Ren'Py!</li>\r\n        </ol>\r\n      </InfoSection>\r\n\r\n      <InfoSection id=\"info-tips\">\r\n        <SectionTitle> Consejos y Trucos</SectionTitle>\r\n        <h4>Productividad:</h4>\r\n        <ul>\r\n          <li>Usa <strong>plantillas</strong> para acelerar la creacin</li>\r\n          <li>Organiza tus recursos en <strong>carpetas</strong> desde el inicio</li>\r\n          <li>Guarda frecuentemente - el editor tiene <strong>autoguardado</strong></li>\r\n          <li>Usa la <strong>vista previa</strong> constantemente para verificar el resultado</li>\r\n        </ul>\r\n        \r\n        <h4>Recursos:</h4>\r\n        <ul>\r\n          <li>Mantn un <strong>estilo artstico consistente</strong></li>\r\n          <li>Usa <strong>resoluciones estndar</strong> (1920x1080 recomendado)</li>\r\n          <li>Comprime imgenes para <strong>reducir el tamao</strong> del proyecto</li>\r\n          <li>Nombra archivos de forma <strong>descriptiva</strong></li>\r\n        </ul>\r\n        \r\n        <h4>Escritura:</h4>\r\n        <ul>\r\n          <li>Planifica la <strong>estructura</strong> de tu historia antes de empezar</li>\r\n          <li>Usa <strong>labels</strong> para organizar captulos y secciones</li>\r\n          <li>Prueba diferentes <strong>rutas de decisin</strong></li>\r\n          <li>Mantn los dilogos <strong>naturales y concisos</strong></li>\r\n        </ul>\r\n      </InfoSection>\r\n\r\n      <BackToTopButton\r\n        visible={showBackToTop}\r\n        onClick={scrollToTop}\r\n        title=\"Volver arriba\"\r\n      >\r\n        \r\n      </BackToTopButton>\r\n    </InfoContent>\r\n  );\r\n}\r\n\r\nexport default InfoModalContent;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst OptionsContent = styled.div`\r\n  color: var(--color-textPrimary);\r\n  line-height: 1.6;\r\n`;\r\n\r\nconst NavigationContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 24px;\r\n  padding: 16px;\r\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst NavTitle = styled.h4`\r\n  width: 100%;\r\n  margin: 0 0 12px 0;\r\n  color: var(--color-error);\r\n  font-weight: 600;\r\n`;\r\n\r\nconst NavButton = styled.button`\r\n  background: linear-gradient(135deg, var(--color-error) 0%, var(--color-errorHover) 100%);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst OptionsSection = styled.div`\r\n  margin-bottom: 24px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border-left: 4px solid var(--color-error);\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  color: var(--color-error);\r\n  margin-bottom: 12px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nfunction OptionsModalContent() {\r\n  const scrollToSection = (sectionId) => {\r\n    const element = document.getElementById(sectionId);\r\n    if (element) {\r\n      element.scrollIntoView({ \r\n        behavior: 'smooth',\r\n        block: 'start'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <OptionsContent>\r\n      <NavigationContainer>\r\n        <NavTitle> Navegacin Rpida:</NavTitle>\r\n        <NavButton onClick={() => scrollToSection('options-projects')}>Proyectos</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-save')}>Guardado</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-files')}>Archivos</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-script')}>Exportar Script</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-export')}>Exportar Proyecto</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-preview')}>Vista Previa</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-variables')}>Variables</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-conditions')}>Condiciones</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-config')}>Configuracin</NavButton>\r\n        <NavButton onClick={() => scrollToSection('options-tips')}>Consejos</NavButton>\r\n      </NavigationContainer>\r\n\r\n      <OptionsSection id=\"options-projects\">\r\n        <SectionTitle> Gestin de Proyectos</SectionTitle>\r\n        <h4>Configuracin Bsica:</h4>\r\n        <ul>\r\n          <li><strong>Nombre del Proyecto:</strong> Identificador nico de tu novela visual</li>\r\n          <li><strong>Descripcin:</strong> Breve resumen de la historia</li>\r\n          <li><strong>Versin:</strong> Control de versiones de tu proyecto</li>\r\n          <li><strong>Autor:</strong> Tu nombre o seudnimo</li>\r\n        </ul>\r\n        \r\n        <h4>Configuracin Avanzada:</h4>\r\n        <ul>\r\n          <li><strong>Resolucin:</strong> Tamao de pantalla (recomendado: 1920x1080)</li>\r\n          <li><strong>Idioma:</strong> Idioma principal del proyecto</li>\r\n          <li><strong>Etiquetas:</strong> Categoras para organizar tu proyecto</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-save\">\r\n        <SectionTitle> Sistema de Guardado</SectionTitle>\r\n        <h4>Autoguardado:</h4>\r\n        <ul>\r\n          <li><strong>Frecuencia:</strong> El proyecto se guarda automticamente cada 30 segundos</li>\r\n          <li><strong>Respaldo:</strong> Se mantienen mltiples versiones de respaldo</li>\r\n          <li><strong>Indicador:</strong> cono en la esquina muestra el estado del guardado</li>\r\n        </ul>\r\n        \r\n        <h4>Guardado Manual:</h4>\r\n        <ul>\r\n          <li><strong>Ctrl+S:</strong> Guarda inmediatamente los cambios</li>\r\n          <li><strong>Exportar:</strong> Guarda una copia independiente del proyecto</li>\r\n          <li><strong>Versiones:</strong> Puedes crear puntos de guardado especficos</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-files\">\r\n        <SectionTitle> Gestin de Archivos</SectionTitle>\r\n        <h4>Tipos de Archivo Soportados:</h4>\r\n        <ul>\r\n          <li><strong>Imgenes:</strong> PNG, JPG, JPEG, GIF, WEBP</li>\r\n          <li><strong>Audio:</strong> MP3, WAV, OGG</li>\r\n          <li><strong>Fuentes:</strong> TTF, OTF</li>\r\n          <li><strong>Scripts:</strong> RenPy (.rpy)</li>\r\n        </ul>\r\n        \r\n        <h4>Organizacin:</h4>\r\n        <ul>\r\n          <li><strong>Carpetas:</strong> Organiza recursos por categoras</li>\r\n          <li><strong>Nombres:</strong> Usa nombres descriptivos y consistentes</li>\r\n          <li><strong>Tamaos:</strong> Optimiza archivos para mejor rendimiento</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-script\">\r\n        <SectionTitle> Exportar Script</SectionTitle>\r\n        <h4>Formato RenPy:</h4>\r\n        <ul>\r\n          <li><strong>Archivo .rpy:</strong> Script principal compatible con Ren'Py</li>\r\n          <li><strong>Estructura:</strong> Organizado en labels y escenas</li>\r\n          <li><strong>Comentarios:</strong> Incluye comentarios para facilitar la edicin</li>\r\n        </ul>\r\n        \r\n        <h4>Opciones de Exportacin:</h4>\r\n        <ul>\r\n          <li><strong>Solo Script:</strong> nicamente el archivo .rpy</li>\r\n          <li><strong>Con Recursos:</strong> Script + imgenes y audio</li>\r\n          <li><strong>Proyecto Completo:</strong> Estructura completa de Ren'Py</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-export\">\r\n        <SectionTitle> Exportar Proyecto Completo</SectionTitle>\r\n        <h4>Estructura del Proyecto:</h4>\r\n        <ul>\r\n          <li><strong>game/:</strong> Carpeta principal con scripts y recursos</li>\r\n          <li><strong>images/:</strong> Todas las imgenes organizadas</li>\r\n          <li><strong>audio/:</strong> Archivos de sonido y msica</li>\r\n          <li><strong>gui/:</strong> Elementos de interfaz de usuario</li>\r\n        </ul>\r\n        \r\n        <h4>Configuracin de Exportacin:</h4>\r\n        <ul>\r\n          <li><strong>Destino:</strong> Selecciona dnde guardar el proyecto</li>\r\n          <li><strong>Compresin:</strong> Optimiza archivos para distribucin</li>\r\n          <li><strong>Metadatos:</strong> Incluye informacin del proyecto</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-preview\">\r\n        <SectionTitle> Vista Previa</SectionTitle>\r\n        <h4>Configuracin de Vista Previa:</h4>\r\n        <ul>\r\n          <li><strong>Tiempo Real:</strong> Actualizacin automtica mientras editas</li>\r\n          <li><strong>Resolucin:</strong> Ajusta el tamao de la vista previa</li>\r\n          <li><strong>Modo Pantalla Completa:</strong> Ver en tamao real</li>\r\n        </ul>\r\n        \r\n        <h4>Controles:</h4>\r\n        <ul>\r\n          <li><strong>Play/Pause:</strong> Controla la reproduccin de la escena</li>\r\n          <li><strong>Navegacin:</strong> Avanza o retrocede entre dilogos</li>\r\n          <li><strong>Velocidad:</strong> Ajusta la velocidad de texto</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-variables\">\r\n        <SectionTitle> Sistema de Variables</SectionTitle>\r\n        <h4>Tipos de Variables:</h4>\r\n        <ul>\r\n          <li><strong>Booleanas:</strong> Verdadero/Falso (True/False)</li>\r\n          <li><strong>Numricas:</strong> Enteros y decimales</li>\r\n          <li><strong>Texto:</strong> Cadenas de caracteres</li>\r\n          <li><strong>Listas:</strong> Colecciones de valores</li>\r\n        </ul>\r\n        \r\n        <h4>Uso de Variables:</h4>\r\n        <ul>\r\n          <li><strong>Decisiones:</strong> Controla qu opciones estn disponibles</li>\r\n          <li><strong>Rutas:</strong> Determina el flujo de la historia</li>\r\n          <li><strong>Estadsticas:</strong> Puntos, relaciones, inventario</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-conditions\">\r\n        <SectionTitle> Sistema de Condiciones</SectionTitle>\r\n        <h4>Tipos de Condiciones:</h4>\r\n        <ul>\r\n          <li><strong>Simples:</strong> if variable == valor</li>\r\n          <li><strong>Compuestas:</strong> Mltiples condiciones con AND/OR</li>\r\n          <li><strong>Rangos:</strong> variable &gt; X y variable &lt; Y</li>\r\n        </ul>\r\n        \r\n        <h4>Aplicaciones:</h4>\r\n        <ul>\r\n          <li><strong>Dilogos Condicionales:</strong> Texto que aparece segn el estado</li>\r\n          <li><strong>Opciones Dinmicas:</strong> Decisiones que cambian</li>\r\n          <li><strong>Finales Mltiples:</strong> Diferentes conclusiones</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-config\">\r\n        <SectionTitle> Configuracin Avanzada</SectionTitle>\r\n        <h4>Interfaz:</h4>\r\n        <ul>\r\n          <li><strong>Tema:</strong> Claro u oscuro</li>\r\n          <li><strong>Idioma:</strong> Idioma de la interfaz</li>\r\n          <li><strong>Atajos:</strong> Personaliza combinaciones de teclas</li>\r\n        </ul>\r\n        \r\n        <h4>Rendimiento:</h4>\r\n        <ul>\r\n          <li><strong>Autoguardado:</strong> Frecuencia de guardado automtico</li>\r\n          <li><strong>Vista Previa:</strong> Calidad y frecuencia de actualizacin</li>\r\n          <li><strong>Cach:</strong> Gestin de archivos temporales</li>\r\n        </ul>\r\n      </OptionsSection>\r\n\r\n      <OptionsSection id=\"options-tips\">\r\n        <SectionTitle> Consejos de Configuracin</SectionTitle>\r\n        <h4>Mejores Prcticas:</h4>\r\n        <ul>\r\n          <li><strong>Configuracin Inicial:</strong> Dedica tiempo a configurar bien tu proyecto</li>\r\n          <li><strong>Respaldos:</strong> Exporta regularmente copias de seguridad</li>\r\n          <li><strong>Organizacin:</strong> Mantn una estructura de carpetas clara</li>\r\n          <li><strong>Pruebas:</strong> Verifica regularmente la vista previa</li>\r\n        </ul>\r\n        \r\n        <h4>Optimizacin:</h4>\r\n        <ul>\r\n          <li><strong>Recursos:</strong> Comprime imgenes grandes</li>\r\n          <li><strong>Audio:</strong> Usa formatos eficientes como OGG</li>\r\n          <li><strong>Variables:</strong> No crees variables innecesarias</li>\r\n          <li><strong>Script:</strong> Comenta tu cdigo para futuras referencias</li>\r\n        </ul>\r\n      </OptionsSection>\r\n    </OptionsContent>\r\n  );\r\n}\r\n\r\nexport default OptionsModalContent;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst HelpContent = styled.div`\r\n  color: var(--color-textPrimary);\r\n  line-height: 1.6;\r\n`;\r\n\r\nconst NavigationContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 24px;\r\n  padding: 16px;\r\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst NavTitle = styled.h4`\r\n  width: 100%;\r\n  margin: 0 0 12px 0;\r\n  color: var(--color-info);\r\n  font-weight: 600;\r\n`;\r\n\r\nconst NavButton = styled.button`\r\n  background: linear-gradient(135deg, var(--color-info) 0%, var(--color-infoHover) 100%);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 12px rgba(13, 202, 240, 0.3);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst HelpSection = styled.div`\r\n  margin-bottom: 24px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border-left: 4px solid var(--color-info);\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  color: var(--color-info);\r\n  margin-bottom: 12px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst CodeBlock = styled.code`\r\n  background-color: var(--color-backgroundSecondary);\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 14px;\r\n  color: var(--color-primary);\r\n`;\r\n\r\nfunction HelpModalContent() {\r\n  const scrollToSection = (sectionId) => {\r\n    const element = document.getElementById(sectionId);\r\n    if (element) {\r\n      element.scrollIntoView({ \r\n        behavior: 'smooth',\r\n        block: 'start'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <HelpContent>\r\n      <NavigationContainer>\r\n        <NavTitle> Navegacin Rpida:</NavTitle>\r\n        <NavButton onClick={() => scrollToSection('help-sprites')}>Sprites</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-backgrounds')}>Fondos</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-dialogue')}>Dilogos</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-narration')}>Narrador</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-choices')}>Decisiones</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-labels')}>Labels</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-jumps')}>Jumps</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-variables')}>Variables</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-conditions')}>Condiciones</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-advanced')}>Avanzado</NavButton>\r\n        <NavButton onClick={() => scrollToSection('help-tips')}>Consejos</NavButton>\r\n      </NavigationContainer>\r\n\r\n      <HelpSection id=\"help-sprites\">\r\n        <SectionTitle> Sprites de Personajes</SectionTitle>\r\n        <h4>Qu son los Sprites?</h4>\r\n        <p>\r\n          Los sprites son las imgenes de los personajes que aparecen en las escenas. \r\n          Pueden mostrar diferentes poses, expresiones y emociones.\r\n        </p>\r\n        \r\n        <h4>Cmo usar Sprites:</h4>\r\n        <ol>\r\n          <li>Ve a <strong>\" Personajes\"</strong> en el sidebar</li>\r\n          <li>Selecciona o crea un personaje</li>\r\n          <li>Sube imgenes para diferentes expresiones</li>\r\n          <li>Usa los sprites en las escenas seleccionndolos del men</li>\r\n        </ol>\r\n        \r\n        <h4>Formatos Recomendados:</h4>\r\n        <ul>\r\n          <li><strong>Formato:</strong> PNG (para transparencia)</li>\r\n          <li><strong>Resolucin:</strong> 1920x1080 o proporcional</li>\r\n          <li><strong>Tamao:</strong> Mximo 10MB por archivo</li>\r\n        </ul>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-backgrounds\">\r\n        <SectionTitle> Fondos de Escena</SectionTitle>\r\n        <h4>Configurar Fondos:</h4>\r\n        <p>\r\n          Los fondos establecen el ambiente y ubicacin de cada escena. \r\n          Pueden ser interiores, exteriores, o ambientes fantsticos.\r\n        </p>\r\n        \r\n        <h4>Proceso:</h4>\r\n        <ol>\r\n          <li>Ve a <strong>\" Escenas\"</strong> en el sidebar</li>\r\n          <li>Crea una nueva escena o edita una existente</li>\r\n          <li>Haz clic en <strong>\"Cambiar Fondo\"</strong></li>\r\n          <li>Selecciona una imagen de tu biblioteca o sube una nueva</li>\r\n        </ol>\r\n        \r\n        <h4>Consejos:</h4>\r\n        <ul>\r\n          <li>Usa resolucin <strong>1920x1080</strong> para mejor calidad</li>\r\n          <li>Mantn un <strong>estilo artstico consistente</strong></li>\r\n          <li>Considera la <strong>iluminacin</strong> para el ambiente</li>\r\n        </ul>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-dialogue\">\r\n        <SectionTitle> Sistema de Dilogos</SectionTitle>\r\n        <h4>Crear Dilogos:</h4>\r\n        <p>\r\n          Los dilogos son las conversaciones entre personajes. Cada personaje \r\n          tiene su color distintivo y estilo de texto.\r\n        </p>\r\n        \r\n        <h4>Estructura de un Dilogo:</h4>\r\n        <ul>\r\n          <li><strong>Personaje:</strong> Quin habla</li>\r\n          <li><strong>Texto:</strong> Lo que dice</li>\r\n          <li><strong>Expresin:</strong> Emocin del personaje (opcional)</li>\r\n          <li><strong>Posicin:</strong> Dnde aparece en pantalla</li>\r\n        </ul>\r\n        \r\n        <h4>Ejemplo de Cdigo Generado:</h4>\r\n        <CodeBlock>maria \"Hola! Cmo ests hoy?\"</CodeBlock>\r\n        <br />\r\n        <CodeBlock>show maria happy at center</CodeBlock>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-narration\">\r\n        <SectionTitle> Narracin</SectionTitle>\r\n        <h4>Texto del Narrador:</h4>\r\n        <p>\r\n          La narracin describe acciones, pensamientos, o informacin que no es \r\n          dilogo directo entre personajes.\r\n        </p>\r\n        \r\n        <h4>Usos de la Narracin:</h4>\r\n        <ul>\r\n          <li><strong>Descripciones:</strong> Ambiente, acciones, emociones</li>\r\n          <li><strong>Pensamientos:</strong> Monlogo interno del protagonista</li>\r\n          <li><strong>Transiciones:</strong> Cambios de tiempo o lugar</li>\r\n          <li><strong>Informacin:</strong> Datos importantes para la historia</li>\r\n        </ul>\r\n        \r\n        <h4>Ejemplo:</h4>\r\n        <CodeBlock>\"El sol se ocultaba tras las montaas mientras Mara caminaba por el sendero.\"</CodeBlock>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-choices\">\r\n        <SectionTitle> Sistema de Decisiones</SectionTitle>\r\n        <h4>Crear Decisiones:</h4>\r\n        <p>\r\n          Las decisiones permiten al jugador elegir diferentes caminos en la historia, \r\n          creando mltiples rutas y finales.\r\n        </p>\r\n        \r\n        <h4>Configuracin:</h4>\r\n        <ol>\r\n          <li>En el editor, selecciona <strong>\"Agregar Decisin\"</strong></li>\r\n          <li>Escribe el texto de cada opcin</li>\r\n          <li>Define a dnde lleva cada opcin (label de destino)</li>\r\n          <li>Opcionalmente, aade condiciones para mostrar opciones</li>\r\n        </ol>\r\n        \r\n        <h4>Ejemplo de Cdigo:</h4>\r\n        <CodeBlock>\r\n          menu:<br />\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\"Ir al parque\":<br />\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jump parque<br />\r\n          &nbsp;&nbsp;&nbsp;&nbsp;\"Quedarse en casa\":<br />\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jump casa\r\n        </CodeBlock>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-labels\">\r\n        <SectionTitle> Sistema de Labels</SectionTitle>\r\n        <h4>Qu son los Labels?</h4>\r\n        <p>\r\n          Los labels son puntos de referencia en tu historia. Funcionan como \r\n          captulos o secciones que puedes referenciar desde otras partes.\r\n        </p>\r\n        \r\n        <h4>Usos Principales:</h4>\r\n        <ul>\r\n          <li><strong>Organizacin:</strong> Dividir la historia en captulos</li>\r\n          <li><strong>Navegacin:</strong> Puntos de destino para decisiones</li>\r\n          <li><strong>Rutas:</strong> Diferentes caminos de la historia</li>\r\n          <li><strong>Finales:</strong> Mltiples conclusiones</li>\r\n        </ul>\r\n        \r\n        <h4>Ejemplo:</h4>\r\n        <CodeBlock>label capitulo_1:</CodeBlock>\r\n        <CodeBlock>label final_bueno:</CodeBlock>\r\n        <CodeBlock>label ruta_maria:</CodeBlock>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-jumps\">\r\n        <SectionTitle> Sistema de Jumps</SectionTitle>\r\n        <h4>Navegacin con Jumps:</h4>\r\n        <p>\r\n          Los jumps te permiten saltar de una parte de la historia a otra, \r\n          conectando diferentes secciones y creando flujo narrativo.\r\n        </p>\r\n        \r\n        <h4>Tipos de Jump:</h4>\r\n        <ul>\r\n          <li><strong>Jump Simple:</strong> Va directamente a un label</li>\r\n          <li><strong>Call:</strong> Va a un label y puede regresar</li>\r\n          <li><strong>Jump Condicional:</strong> Salta solo si se cumple una condicin</li>\r\n        </ul>\r\n        \r\n        <h4>Ejemplos:</h4>\r\n        <CodeBlock>jump siguiente_escena</CodeBlock>\r\n        <CodeBlock>call flashback</CodeBlock>\r\n        <CodeBlock>if amor > 10: jump final_romantico</CodeBlock>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-variables\">\r\n        <SectionTitle> Sistema de Variables</SectionTitle>\r\n        <h4>Gestin de Variables:</h4>\r\n        <p>\r\n          Las variables almacenan informacin que cambia durante la historia, \r\n          como puntos de relacin, inventario, o estados del juego.\r\n        </p>\r\n        \r\n        <h4>Tipos de Variables:</h4>\r\n        <ul>\r\n          <li><strong>Nmeros:</strong> <CodeBlock>$ puntos = 10</CodeBlock></li>\r\n          <li><strong>Texto:</strong> <CodeBlock>$ nombre = \"Mara\"</CodeBlock></li>\r\n          <li><strong>Booleanas:</strong> <CodeBlock>$ tiene_llave = True</CodeBlock></li>\r\n        </ul>\r\n        \r\n        <h4>Operaciones:</h4>\r\n        <ul>\r\n          <li><strong>Asignar:</strong> <CodeBlock>$ vida = 100</CodeBlock></li>\r\n          <li><strong>Sumar:</strong> <CodeBlock>$ puntos += 5</CodeBlock></li>\r\n          <li><strong>Comparar:</strong> <CodeBlock>if puntos > 50:</CodeBlock></li>\r\n        </ul>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-conditions\">\r\n        <SectionTitle> Sistema de Condiciones</SectionTitle>\r\n        <h4>Lgica Condicional:</h4>\r\n        <p>\r\n          Las condiciones permiten que tu historia reaccione al estado del juego, \r\n          mostrando diferentes contenidos segn las decisiones del jugador.\r\n        </p>\r\n        \r\n        <h4>Operadores:</h4>\r\n        <ul>\r\n          <li><strong>Igual:</strong> <CodeBlock>if variable == 5:</CodeBlock></li>\r\n          <li><strong>Mayor:</strong> <CodeBlock>if puntos > 10:</CodeBlock></li>\r\n          <li><strong>Y lgico:</strong> <CodeBlock>if amor > 5 and confianza > 3:</CodeBlock></li>\r\n          <li><strong>O lgico:</strong> <CodeBlock>if ruta == \"A\" or ruta == \"B\":</CodeBlock></li>\r\n        </ul>\r\n        \r\n        <h4>Aplicaciones:</h4>\r\n        <ul>\r\n          <li><strong>Dilogos nicos</strong> basados en decisiones anteriores</li>\r\n          <li><strong>Opciones de men</strong> que aparecen condicionalmente</li>\r\n          <li><strong>Finales diferentes</strong> segn las acciones del jugador</li>\r\n        </ul>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-advanced\">\r\n        <SectionTitle> Funciones Avanzadas</SectionTitle>\r\n        <h4>Efectos y Transiciones:</h4>\r\n        <ul>\r\n          <li><strong>Fade:</strong> Desvanecimiento entre escenas</li>\r\n          <li><strong>Dissolve:</strong> Transicin suave entre imgenes</li>\r\n          <li><strong>Wipe:</strong> Transicin de barrido</li>\r\n        </ul>\r\n        \r\n        <h4>Animaciones:</h4>\r\n        <ul>\r\n          <li><strong>Show/Hide:</strong> Mostrar y ocultar personajes</li>\r\n          <li><strong>Transform:</strong> Mover, escalar, rotar sprites</li>\r\n          <li><strong>ATL:</strong> Animaciones personalizadas</li>\r\n        </ul>\r\n        \r\n        <h4>Audio:</h4>\r\n        <ul>\r\n          <li><strong>Msica de Fondo:</strong> <CodeBlock>play music \"cancion.ogg\"</CodeBlock></li>\r\n          <li><strong>Efectos de Sonido:</strong> <CodeBlock>play sound \"efecto.wav\"</CodeBlock></li>\r\n          <li><strong>Voces:</strong> <CodeBlock>voice \"maria_01.ogg\"</CodeBlock></li>\r\n        </ul>\r\n      </HelpSection>\r\n\r\n      <HelpSection id=\"help-tips\">\r\n        <SectionTitle> Consejos y Mejores Prcticas</SectionTitle>\r\n        <h4>Organizacin:</h4>\r\n        <ul>\r\n          <li>Usa <strong>nombres descriptivos</strong> para labels y variables</li>\r\n          <li>Organiza tu historia en <strong>captulos claros</strong></li>\r\n          <li>Comenta tu cdigo para <strong>futuras referencias</strong></li>\r\n        </ul>\r\n        \r\n        <h4>Narrativa:</h4>\r\n        <ul>\r\n          <li>Mantn los dilogos <strong>naturales y concisos</strong></li>\r\n          <li>Usa la narracin para <strong>establecer ambiente</strong></li>\r\n          <li>Planifica las <strong>rutas de decisin</strong> antes de escribir</li>\r\n        </ul>\r\n        \r\n        <h4>Tcnico:</h4>\r\n        <ul>\r\n          <li>Prueba <strong>todas las rutas</strong> de tu historia</li>\r\n          <li>Usa la <strong>vista previa</strong> frecuentemente</li>\r\n          <li>Mantn <strong>respaldos</strong> de tu proyecto</li>\r\n          <li>Optimiza <strong>imgenes y audio</strong> para mejor rendimiento</li>\r\n        </ul>\r\n      </HelpSection>\r\n    </HelpContent>\r\n  );\r\n}\r\n\r\nexport default HelpModalContent;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst AboutContent = styled.div`\r\n  color: var(--color-textPrimary);\r\n  line-height: 1.6;\r\n  text-align: center;\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n  font-weight: 800;\r\n`;\r\n\r\nconst Version = styled.div`\r\n  font-size: 18px;\r\n  color: var(--color-textSecondary);\r\n  margin-bottom: 24px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Description = styled.div`\r\n  font-size: 16px;\r\n  margin-bottom: 32px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border-left: 4px solid var(--color-primary);\r\n  text-align: left;\r\n`;\r\n\r\nconst FeatureGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: 16px;\r\n  margin-bottom: 32px;\r\n`;\r\n\r\nconst FeatureCard = styled.div`\r\n  padding: 16px;\r\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border: 1px solid var(--color-border);\r\n  text-align: left;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\r\n  }\r\n`;\r\n\r\nconst FeatureIcon = styled.div`\r\n  font-size: 24px;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst FeatureTitle = styled.h4`\r\n  margin: 0 0 8px 0;\r\n  color: var(--color-primary);\r\n  font-weight: 600;\r\n`;\r\n\r\nconst FeatureDescription = styled.p`\r\n  margin: 0;\r\n  font-size: 14px;\r\n  color: var(--color-textSecondary);\r\n`;\r\n\r\nconst TechStack = styled.div`\r\n  margin-bottom: 32px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--color-backgroundElevated) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst TechTitle = styled.h3`\r\n  margin: 0 0 16px 0;\r\n  color: var(--color-primary);\r\n  font-weight: 600;\r\n`;\r\n\r\nconst TechList = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  justify-content: center;\r\n`;\r\n\r\nconst TechBadge = styled.span`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: var(--color-textInverse);\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Credits = styled.div`\r\n  margin-top: 32px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--color-backgroundSecondary) 0%, var(--color-surface) 100%);\r\n  border-radius: 12px;\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst CreditsTitle = styled.h3`\r\n  margin: 0 0 16px 0;\r\n  color: var(--color-primary);\r\n  font-weight: 600;\r\n`;\r\n\r\nfunction AboutModalContent() {\r\n  const features = [\r\n    {\r\n      icon: '',\r\n      title: 'Interfaz Intuitiva',\r\n      description: 'Diseo moderno y fcil de usar para crear novelas visuales sin programacin.'\r\n    },\r\n    {\r\n      icon: '',\r\n      title: 'Vista Previa en Tiempo Real',\r\n      description: 'Ve cmo se ve tu novela mientras la creas, con actualizaciones instantneas.'\r\n    },\r\n    {\r\n      icon: '',\r\n      title: 'Compatible con Ren\\'Py',\r\n      description: 'Exporta proyectos listos para usar en Ren\\'Py, el motor ms popular.'\r\n    },\r\n    {\r\n      icon: '',\r\n      title: 'Gestin de Recursos',\r\n      description: 'Organiza imgenes, audio y archivos de manera eficiente y estructurada.'\r\n    },\r\n    {\r\n      icon: '',\r\n      title: 'Sistema de Personajes',\r\n      description: 'Crea y gestiona personajes con mltiples expresiones y poses.'\r\n    },\r\n    {\r\n      icon: '',\r\n      title: 'Decisiones Interactivas',\r\n      description: 'Implementa decisiones que afectan el curso de la historia fcilmente.'\r\n    }\r\n  ];\r\n\r\n  const technologies = [\r\n    'React 18', 'Styled Components', 'IndexedDB', 'HTML5', 'CSS3', \r\n    'JavaScript ES6+', 'Webpack', 'Node.js', 'NPM'\r\n  ];\r\n\r\n  return (\r\n    <AboutContent>\r\n      <Logo>RynEditor</Logo>\r\n      <Version>Versin 1.0.0</Version>\r\n      \r\n      <Description>\r\n        <strong>RynEditor</strong> es un editor visual moderno y completo para crear novelas visuales \r\n        compatibles con Ren'Py. Diseado para escritores, desarrolladores indie y creadores de contenido \r\n        que quieren dar vida a sus historias de manera intuitiva y profesional.\r\n      </Description>\r\n\r\n      <FeatureGrid>\r\n        {features.map((feature, index) => (\r\n          <FeatureCard key={index}>\r\n            <FeatureIcon>{feature.icon}</FeatureIcon>\r\n            <FeatureTitle>{feature.title}</FeatureTitle>\r\n            <FeatureDescription>{feature.description}</FeatureDescription>\r\n          </FeatureCard>\r\n        ))}\r\n      </FeatureGrid>\r\n\r\n      <TechStack>\r\n        <TechTitle> Tecnologas Utilizadas</TechTitle>\r\n        <TechList>\r\n          {technologies.map((tech, index) => (\r\n            <TechBadge key={index}>{tech}</TechBadge>\r\n          ))}\r\n        </TechList>\r\n      </TechStack>\r\n\r\n      <Credits>\r\n        <CreditsTitle> Desarrollo y Crditos</CreditsTitle>\r\n        <p>\r\n          <strong>RynEditor</strong> es un proyecto de cdigo abierto desarrollado con pasin \r\n          para la comunidad de creadores de novelas visuales.\r\n        </p>\r\n        \r\n        <h4 style={{ color: 'var(--color-primary)', marginTop: '20px', marginBottom: '12px' }}>\r\n           Caractersticas Especiales:\r\n        </h4>\r\n        <ul style={{ textAlign: 'left', marginBottom: '20px' }}>\r\n          <li><strong>Autoguardado:</strong> Tu trabajo se guarda automticamente cada 30 segundos</li>\r\n          <li><strong>Exportacin Completa:</strong> Genera proyectos Ren'Py listos para distribuir</li>\r\n          <li><strong>Interfaz Responsiva:</strong> Se adapta a diferentes tamaos de pantalla</li>\r\n          <li><strong>Temas Personalizables:</strong> Modo claro y oscuro disponibles</li>\r\n          <li><strong>Gestin de Estado:</strong> Manejo inteligente de datos y preferencias</li>\r\n        </ul>\r\n        \r\n        <h4 style={{ color: 'var(--color-primary)', marginTop: '20px', marginBottom: '12px' }}>\r\n           Objetivo del Proyecto:\r\n        </h4>\r\n        <p style={{ textAlign: 'left' }}>\r\n          Democratizar la creacin de novelas visuales, permitiendo que cualquier persona \r\n          con una historia que contar pueda crear experiencias interactivas profesionales \r\n          sin necesidad de conocimientos tcnicos avanzados.\r\n        </p>\r\n        \r\n        <div style={{ marginTop: '24px', padding: '16px', backgroundColor: 'var(--color-backgroundElevated)', borderRadius: '8px' }}>\r\n          <p style={{ margin: 0, fontSize: '14px', color: 'var(--color-textSecondary)' }}>\r\n             <strong>Agradecimientos especiales</strong> a la comunidad de Ren'Py y a todos los \r\n            creadores de novelas visuales que inspiran este proyecto.\r\n          </p>\r\n        </div>\r\n      </Credits>\r\n    </AboutContent>\r\n  );\r\n}\r\n\r\nexport default AboutModalContent;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\n\r\nconst TemplatesContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst TemplatesHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst TemplatesTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 28px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst TemplatesContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst CategoryTabs = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 30px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CategoryTab = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.active ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  padding: 14px 22px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-primary)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst TemplatesGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\r\n  gap: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst TemplateCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-8px);\r\n    box-shadow: 0 12px 32px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst TemplateHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst TemplateTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst TemplateBadge = styled.span`\r\n  background-color: var(--color-success);\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst TemplateDescription = styled.p`\r\n  color: var(--color-textSecondary);\r\n  margin: 0 0 15px 0;\r\n  line-height: 1.6;\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CodePreview = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin: 20px 0;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: var(--color-primary);\r\n  overflow-x: auto;\r\n  position: relative;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst CodeLabel = styled.div`\r\n  position: absolute;\r\n  top: -12px;\r\n  left: 20px;\r\n  background-color: var(--color-surfaceSecondary);\r\n  color: var(--color-textTertiary);\r\n  padding: 4px 10px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  border-radius: 6px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid var(--color-border);\r\n`;\r\n\r\nconst TemplateActions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background-color: ${props => props.primary ? 'var(--color-primary)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.primary ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.primary ? 'var(--color-primaryHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.primary ? 'var(--color-primaryHover)' : 'var(--color-primary)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 3px 8px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst TutorialSection = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 30px;\r\n  margin-bottom: 30px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 16px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 20px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst TutorialTitle = styled.h2`\r\n  color: var(--color-warning);\r\n  margin: 0 0 20px 0;\r\n  font-size: 22px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst TutorialContent = styled.div`\r\n  color: var(--color-textPrimary);\r\n  line-height: 1.6;\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n\r\n  h4 {\r\n    color: var(--color-primary);\r\n    margin: 20px 0 10px 0;\r\n    font-weight: 700;\r\n    font-size: 16px;\r\n    transition: color 0.3s ease;\r\n    text-shadow: 0 1px 2px var(--color-shadow);\r\n  }\r\n\r\n  ul {\r\n    margin: 10px 0;\r\n    padding-left: 20px;\r\n  }\r\n\r\n  li {\r\n    margin: 8px 0;\r\n    color: var(--color-textSecondary);\r\n    font-weight: 500;\r\n    transition: color 0.3s ease;\r\n  }\r\n`;\r\n\r\nconst ImportModal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-shadow);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 4000;\r\n  opacity: ${props => props.isOpen ? 1 : 0};\r\n  visibility: ${props => props.isOpen ? 'visible' : 'hidden'};\r\n  transition: all 0.3s ease;\r\n`;\r\n\r\nconst ImportModalContent = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 16px;\r\n  padding: 35px;\r\n  max-width: 600px;\r\n  width: 90%;\r\n  border: 2px solid var(--color-primary);\r\n  box-shadow: 0 20px 40px var(--color-shadow);\r\n  transform: ${props => props.isOpen ? 'scale(1)' : 'scale(0.8)'};\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    border-color: var(--color-primaryHover);\r\n    box-shadow: 0 25px 50px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ImportModalTitle = styled.h2`\r\n  color: var(--color-primary);\r\n  margin: 0 0 20px 0;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst ImportModalText = styled.p`\r\n  color: var(--color-textSecondary);\r\n  margin: 0 0 20px 0;\r\n  line-height: 1.6;\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ImportModalActions = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nfunction TemplatesPage({ onClose }) {\r\n  const { dispatch } = useVisualNovel();\r\n  const [activeCategory, setActiveCategory] = useState('basic');\r\n  const [importModal, setImportModal] = useState({ isOpen: false, template: null });\r\n\r\n  const templates = {\r\n    basic: [\r\n      {\r\n        id: 'simple-dialogue',\r\n        title: 'Dilogo Simple',\r\n        icon: '',\r\n        description: 'Plantilla bsica para un dilogo entre dos personajes',\r\n        code: `# Dilogo simple\r\nlabel start:\r\n    scene bg room\r\n    show character1 happy\r\n    \r\n    character1 \"Hola! Cmo ests?\"\r\n    \r\n    show character2 smile\r\n    character2 \"Hola! Muy bien, gracias.\"\r\n    \r\n    character1 \"Me alegra escuchar eso.\"\r\n    \r\n    return`,\r\n        renpyExplanation: 'Esta plantilla muestra los elementos bsicos: scene (fondo), show (personaje), y dilogos con comillas.'\r\n      },\r\n      {\r\n        id: 'character-introduction',\r\n        title: 'Introduccin de Personaje',\r\n        icon: '',\r\n        description: 'Presentar un nuevo personaje en la historia',\r\n        code: `# Introduccin de personaje\r\nlabel meet_new_character:\r\n    scene bg school\r\n    \r\n    \"Un nuevo estudiante entra al saln de clases.\"\r\n    \r\n    show new_character neutral at center\r\n    with dissolve\r\n    \r\n    new_character \"Hola, soy [name]. Puedo sentarme aqu?\"\r\n    \r\n    show main_character surprised\r\n    main_character \"Por supuesto! Soy [player_name].\"\r\n    \r\n    show new_character happy\r\n    new_character \"Mucho gusto!\"`,\r\n        renpyExplanation: 'Usa \"with dissolve\" para transiciones suaves y posicionamiento con \"at center\".'\r\n      },\r\n      {\r\n        id: 'scene-change',\r\n        title: 'Cambio de Escena',\r\n        icon: '',\r\n        description: 'Transicin entre diferentes ubicaciones',\r\n        code: `# Cambio de escena\r\nlabel change_scene:\r\n    scene bg park\r\n    with fade\r\n    \r\n    \"Nos dirigimos al parque.\"\r\n    \r\n    show character1 happy at left\r\n    show character2 smile at right\r\n    \r\n    character1 \"Qu hermoso da!\"\r\n    character2 \"S, perfecto para caminar.\"\r\n    \r\n    scene bg sunset\r\n    with dissolve\r\n    \r\n    \"El sol comienza a ponerse.\"`,\r\n        renpyExplanation: '\"with fade\" y \"with dissolve\" crean transiciones visuales entre escenas.'\r\n      },\r\n      {\r\n        id: 'character-emotions',\r\n        title: 'Cambio de Emociones',\r\n        icon: '',\r\n        description: 'Cambiar las emociones de un personaje durante el dilogo',\r\n        code: `# Cambio de emociones\r\nlabel character_emotions:\r\n    scene bg classroom\r\n    show main_character neutral\r\n    \r\n    main_character \"Hola, cmo ests?\"\r\n    \r\n    show main_character happy\r\n    main_character \"Me alegra verte!\"\r\n    \r\n    show main_character sad\r\n    main_character \"Pero tengo que contarte algo triste...\"\r\n    \r\n    show main_character surprised\r\n    main_character \"En serio?! No puedo creerlo!\"\r\n    \r\n    show main_character angry\r\n    main_character \"Esto es inaceptable!\"`,\r\n        renpyExplanation: 'Usa \"show character emotion\" para cambiar las expresiones faciales de los personajes.'\r\n      },\r\n      {\r\n        id: 'multiple-characters',\r\n        title: 'Mltiples Personajes',\r\n        icon: '',\r\n        description: 'Mostrar varios personajes en pantalla simultneamente',\r\n        code: `# Mltiples personajes\r\nlabel multiple_characters:\r\n    scene bg park\r\n    \r\n    \"Un grupo de amigos se rene en el parque.\"\r\n    \r\n    show character1 happy at left\r\n    show character2 smile at center\r\n    show character3 neutral at right\r\n    \r\n    character1 \"Qu hermoso da!\"\r\n    character2 \"S, perfecto para un picnic.\"\r\n    character3 \"Aunque hace un poco de calor...\"\r\n    \r\n    hide character3\r\n    show character4 excited at right\r\n    \r\n    character4 \"Hola a todos! Qu se me perdi?\"`,\r\n        renpyExplanation: 'Usa \"at left/center/right\" para posicionar personajes y \"hide\" para ocultarlos.'\r\n      }\r\n    ],\r\n    choices: [\r\n      {\r\n        id: 'simple-choice',\r\n        title: 'Decisin Simple',\r\n        icon: '',\r\n        description: 'Plantilla para una decisin con dos opciones',\r\n        code: `# Decisin simple\r\nlabel make_choice:\r\n    scene bg crossroads\r\n    \r\n    \"Te encuentras en una encrucijada.\"\r\n    \r\n    menu:\r\n        \"Qu camino eliges?\"\r\n        \r\n        \"Ir a la izquierda\":\r\n            jump left_path\r\n            \r\n        \"Ir a la derecha\":\r\n            jump right_path\r\n\r\nlabel left_path:\r\n    \"Decides ir por el camino izquierdo.\"\r\n    scene bg forest\r\n    \"Llegas a un bosque misterioso.\"\r\n    return\r\n\r\nlabel right_path:\r\n    \"Decides ir por el camino derecho.\"\r\n    scene bg city\r\n    \"Llegas a una ciudad bulliciosa.\"\r\n    return`,\r\n        renpyExplanation: 'Las decisiones usan \"menu:\" seguido de opciones con \"jump\" para navegar.'\r\n      },\r\n      {\r\n        id: 'multiple-choice',\r\n        title: 'Decisin Mltiple',\r\n        icon: '',\r\n        description: 'Decisin con tres o ms opciones',\r\n        code: `# Decisin mltiple\r\nlabel complex_choice:\r\n    scene bg school_cafeteria\r\n    \r\n    \"Es hora del almuerzo. Qu decides hacer?\"\r\n    \r\n    menu:\r\n        \"Qu haces?\"\r\n        \r\n        \"Comer solo\":\r\n            jump eat_alone\r\n            \r\n        \"Buscar a tus amigos\":\r\n            jump find_friends\r\n            \r\n        \"Ir a la biblioteca\":\r\n            jump go_library\r\n            \r\n        \"Salir de la escuela\":\r\n            jump leave_school\r\n\r\nlabel eat_alone:\r\n    \"Decides comer solo en una mesa.\"\r\n    # Contina la historia...\r\n    return`,\r\n        renpyExplanation: 'Puedes tener tantas opciones como necesites en un men.'\r\n      },\r\n      {\r\n        id: 'choice-with-consequences',\r\n        title: 'Decisin con Consecuencias',\r\n        icon: '',\r\n        description: 'Decisin que afecta variables y tiene consecuencias posteriores',\r\n        code: `# Decisin con consecuencias\r\nlabel choice_with_consequences:\r\n    scene bg school_hallway\r\n    \r\n    \"Te encuentras con un compaero que parece triste.\"\r\n    \r\n    menu:\r\n        \"Qu haces?\"\r\n        \r\n        \"Preguntarle qu le pasa\":\r\n            $ friendship_points += 2\r\n            $ kindness_points += 1\r\n            jump comfort_friend\r\n            \r\n        \"Ignorarlo y seguir caminando\":\r\n            $ friendship_points -= 1\r\n            $ kindness_points -= 2\r\n            jump ignore_friend\r\n            \r\n        \"Hacer una broma para animarlo\":\r\n            $ humor_points += 1\r\n            jump try_humor\r\n\r\nlabel comfort_friend:\r\n    friend \"Gracias por preocuparte por m...\"\r\n    friend \"Realmente lo aprecio.\"\r\n    \"Tu amistad se fortalece.\"\r\n    return\r\n\r\nlabel ignore_friend:\r\n    \"Pasas de largo sin decir nada.\"\r\n    \"Sientes que tal vez deberas haber hecho algo diferente.\"\r\n    return\r\n\r\nlabel try_humor:\r\n    friend \"Jaja, gracias por intentar animarme.\"\r\n    \"Aunque no funcion completamente, tu esfuerzo fue apreciado.\"\r\n    return`,\r\n        renpyExplanation: 'Las decisiones pueden modificar variables que afectan el desarrollo de la historia.'\r\n      },\r\n      {\r\n        id: 'conditional-choice',\r\n        title: 'Decisin Condicional',\r\n        icon: '',\r\n        description: 'Men que cambia segn el estado del juego',\r\n        code: `# Decisin condicional\r\nlabel conditional_choice:\r\n    scene bg library\r\n    \r\n    if friendship_points >= 5:\r\n        \"Tu amigo te ve y se acerca sonriendo.\"\r\n        friend \"Hola! Quieres que estudiemos juntos?\"\r\n        \r\n        menu:\r\n            \"Qu respondes?\"\r\n            \r\n            \"Por supuesto!\":\r\n                jump study_together\r\n                \r\n            \"Tal vez otro da\":\r\n                jump decline_politely\r\n                \r\n    elif friendship_points >= 2:\r\n        \"Tu amigo te saluda de lejos.\"\r\n        friend \"Hola...\"\r\n        \r\n        menu:\r\n            \"Qu haces?\"\r\n            \r\n            \"Acercarte y saludar\":\r\n                $ friendship_points += 1\r\n                jump approach_friend\r\n                \r\n            \"Responder desde lejos\":\r\n                jump distant_greeting\r\n                \r\n    else:\r\n        \"Tu amigo parece evitar el contacto visual contigo.\"\r\n        \"Tal vez deberas intentar mejorar la relacin primero.\"\r\n        return`,\r\n        renpyExplanation: 'Los mens pueden cambiar completamente basndose en variables y condiciones previas.'\r\n      }\r\n    ],\r\n    advanced: [\r\n      {\r\n        id: 'variables-usage',\r\n        title: 'Uso de Variables',\r\n        icon: '',\r\n        description: 'Implementar variables para recordar decisiones',\r\n        code: `# Uso de variables\r\ndefault friendship_points = 0\r\ndefault player_name = \"\"\r\n\r\nlabel start:\r\n    $ player_name = renpy.input(\"Cul es tu nombre?\")\r\n    \r\n    scene bg school\r\n    show friend neutral\r\n    \r\n    friend \"Hola, [player_name]!\"\r\n    \r\n    menu:\r\n        \"Cmo respondes?\"\r\n        \r\n        \"Hola! Cmo ests?\":\r\n            $ friendship_points += 2\r\n            friend \"Muy bien! Me alegra verte.\"\r\n            \r\n        \"Hola...\":\r\n            $ friendship_points += 1\r\n            friend \"Oh, hola.\"\r\n            \r\n        \"No respondas\":\r\n            $ friendship_points -= 1\r\n            friend \"Hmm... todo bien?\"\r\n    \r\n    if friendship_points >= 3:\r\n        \"Tu amistad se fortalece.\"\r\n    elif friendship_points >= 0:\r\n        \"Mantienes una relacin neutral.\"\r\n    else:\r\n        \"Tu amistad se deteriora.\"`,\r\n        renpyExplanation: '\"default\" define variables, \"$\" las modifica, y \"if/elif/else\" las evala.'\r\n      },\r\n      {\r\n        id: 'conditional-dialogue',\r\n        title: 'Dilogo Condicional',\r\n        icon: '',\r\n        description: 'Dilogos que cambian segn el estado del juego',\r\n        code: `# Dilogo condicional\r\nlabel conditional_dialogue:\r\n    scene bg classroom\r\n    \r\n    if friendship_points >= 5:\r\n        show character very_happy\r\n        character \"[player_name]! Qu alegra verte!\"\r\n        character \"Quieres que almorcemos juntos?\"\r\n        \r\n    elif friendship_points >= 2:\r\n        show character happy\r\n        character \"Hola, [player_name]. Cmo ests?\"\r\n        \r\n    elif friendship_points >= 0:\r\n        show character neutral\r\n        character \"Hola.\"\r\n        \r\n    else:\r\n        show character sad\r\n        character \"...\"\r\n        \"Parece que no quiere hablar contigo.\"`,\r\n        renpyExplanation: 'Los dilogos pueden cambiar completamente basndose en variables y condiciones.'\r\n      },\r\n      {\r\n        id: 'character-relationships',\r\n        title: 'Sistema de Relaciones',\r\n        icon: '',\r\n        description: 'Sistema completo de relaciones entre personajes',\r\n        code: `# Sistema de relaciones\r\ndefault relationship_points = {\r\n    \"friend1\": 0,\r\n    \"friend2\": 0,\r\n    \"romantic_interest\": 0\r\n}\r\n\r\nlabel relationship_system:\r\n    scene bg school_cafeteria\r\n    \r\n    \"Es hora del almuerzo y ves a tus amigos.\"\r\n    \r\n    # Verificar relaciones\r\n    if relationship_points[\"friend1\"] >= 10:\r\n        show friend1 very_happy\r\n        friend1 \"Mi mejor amigo! Ven aqu!\"\r\n        \r\n    elif relationship_points[\"friend1\"] >= 5:\r\n        show friend1 happy\r\n        friend1 \"Hola! Cmo ests?\"\r\n        \r\n    elif relationship_points[\"friend1\"] >= 0:\r\n        show friend1 neutral\r\n        friend1 \"Oh, hola.\"\r\n        \r\n    else:\r\n        show friend1 sad\r\n        friend1 \"...\"\r\n        \"Parece que hay tensin entre ustedes.\"\r\n    \r\n    # Men basado en relaciones\r\n    if relationship_points[\"friend1\"] >= 5:\r\n        menu:\r\n            \"Qu quieres hacer?\"\r\n            \r\n            \"Almorzar juntos\":\r\n                $ relationship_points[\"friend1\"] += 1\r\n                jump lunch_together\r\n                \r\n            \"Invitar a ms amigos\":\r\n                jump invite_others\r\n                \r\n            \"Hablar en privado\":\r\n                jump private_talk\r\n    else:\r\n        menu:\r\n            \"Qu intentas hacer?\"\r\n            \r\n            \"Acercarte cuidadosamente\":\r\n                $ relationship_points[\"friend1\"] += 1\r\n                jump careful_approach\r\n                \r\n            \"Dar espacio\":\r\n                jump give_space\r\n                \r\n            \"Intentar disculparte\":\r\n                $ relationship_points[\"friend1\"] += 2\r\n                jump try_apologize`,\r\n        renpyExplanation: 'Los diccionarios permiten manejar mltiples relaciones y estados complejos.'\r\n      },\r\n      {\r\n        id: 'inventory-system',\r\n        title: 'Sistema de Inventario',\r\n        icon: '',\r\n        description: 'Sistema bsico de inventario con objetos',\r\n        code: `# Sistema de inventario\r\ndefault inventory = []\r\ndefault money = 100\r\n\r\nlabel inventory_system:\r\n    scene bg store\r\n    \r\n    \"Entras a una tienda local.\"\r\n    clerk \"Bienvenido! Qu puedo hacer por ti?\"\r\n    \r\n    menu:\r\n        \"Qu quieres hacer?\"\r\n        \r\n        \"Ver inventario\" if len(inventory) > 0:\r\n            jump show_inventory\r\n            \r\n        \"Comprar algo\":\r\n            jump buy_items\r\n            \r\n        \"Vender objetos\" if len(inventory) > 0:\r\n            jump sell_items\r\n            \r\n        \"Salir de la tienda\":\r\n            jump leave_store\r\n\r\nlabel show_inventory:\r\n    \"Tus objetos actuales:\"\r\n    if len(inventory) > 0:\r\n        $ i = 0\r\n        while i < len(inventory):\r\n            \"- [inventory[i]]\"\r\n            $ i += 1\r\n    else:\r\n        \"No tienes objetos en tu inventario.\"\r\n    \"Dinero disponible: $[money]\"\r\n    return\r\n\r\nlabel buy_items:\r\n    menu:\r\n        \"Qu quieres comprar?\"\r\n        \r\n        \"Libro ($20)\" if money >= 20:\r\n            $ money -= 20\r\n            $ inventory.append(\"Libro\")\r\n            \"Compraste un libro.\"\r\n            \r\n        \"Comida ($10)\" if money >= 10:\r\n            $ money -= 10\r\n            $ inventory.append(\"Comida\")\r\n            \"Compraste comida.\"\r\n            \r\n        \"Regresar\":\r\n            jump inventory_system`,\r\n        renpyExplanation: 'Las listas y bucles while permiten manejar inventarios dinmicos y mostrar objetos de forma compatible con Ren\\'Py.'\r\n      }\r\n    ],\r\n    examples: [\r\n      {\r\n        id: 'complete-scene',\r\n        title: 'Escena Completa',\r\n        icon: '',\r\n        description: 'Ejemplo de una escena completa con todos los elementos',\r\n        code: `# Escena completa\r\nlabel complete_example:\r\n    # Configuracin inicial\r\n    scene bg library\r\n    with fade\r\n    \r\n    \"La biblioteca est tranquila esta tarde.\"\r\n    \r\n    # Entrada del personaje\r\n    show librarian smile at center\r\n    with dissolve\r\n    \r\n    librarian \"Bienvenido a la biblioteca. En qu puedo ayudarte?\"\r\n    \r\n    # Decisin del jugador\r\n    menu:\r\n        \"Qu haces?\"\r\n        \r\n        \"Buscar un libro\":\r\n            jump search_book\r\n            \r\n        \"Preguntar por informacin\":\r\n            jump ask_info\r\n            \r\n        \"Irse\":\r\n            jump leave_library\r\n\r\nlabel search_book:\r\n    librarian \"Qu tipo de libro buscas?\"\r\n    \r\n    menu:\r\n        \"Qu gnero prefieres?\"\r\n        \r\n        \"Fantasa\":\r\n            $ book_genre = \"fantasy\"\r\n            \r\n        \"Misterio\":\r\n            $ book_genre = \"mystery\"\r\n            \r\n        \"Romance\":\r\n            $ book_genre = \"romance\"\r\n    \r\n    librarian \"Perfecto, te ayudo a encontrar un buen libro de [book_genre].\"\r\n    return\r\n\r\nlabel ask_info:\r\n    librarian \"Qu informacin necesitas?\"\r\n    # Contina la conversacin...\r\n    return\r\n\r\nlabel leave_library:\r\n    librarian \"Que tengas un buen da.\"\r\n    scene black\r\n    with fade\r\n    return`,\r\n        renpyExplanation: 'Esta plantilla combina todos los elementos: escenas, personajes, decisiones y variables.'\r\n      }\r\n    ],\r\n    specialized: [\r\n      {\r\n        id: 'minigame-template',\r\n        title: 'Minijuego Simple',\r\n        icon: '',\r\n        description: 'Plantilla para crear minijuegos bsicos',\r\n        code: `# Minijuego simple - Adivinanza\r\nlabel minigame_guessing:\r\n    scene bg classroom\r\n    \r\n    teacher \"Vamos a jugar un juego de adivinanzas.\"\r\n    teacher \"Tengo un nmero del 1 al 10 en mente. Puedes adivinarlo?\"\r\n    \r\n    $ secret_number = renpy.random.randint(1, 10)\r\n    $ attempts = 0\r\n    $ max_attempts = 3\r\n    \r\n    while attempts < max_attempts:\r\n        $ guess_text = renpy.input(\"Cul crees que es el nmero? (1-10)\")\r\n        $ guess = int(guess_text) if guess_text.isdigit() else 0\r\n        $ attempts += 1\r\n        \r\n        if guess == secret_number:\r\n            teacher \"Correcto! Felicitaciones!\"\r\n            $ score += 10\r\n            return\r\n            \r\n        elif attempts < max_attempts:\r\n            if guess < secret_number:\r\n                teacher \"Ms alto...\"\r\n            else:\r\n                teacher \"Ms bajo...\"\r\n    \r\n    teacher \"Se acabaron los intentos. El nmero era [secret_number].\"\r\n    return`,\r\n        renpyExplanation: 'Los bucles while y renpy.input() permiten crear mecnicas de juego interactivas como minijuegos.'\r\n      },\r\n      {\r\n        id: 'save-load-system',\r\n        title: 'Sistema de Guardado',\r\n        icon: '',\r\n        description: 'Implementar sistema de guardado y carga',\r\n        code: `# Sistema de guardado\r\nlabel save_load_system:\r\n    scene bg main_menu\r\n    \r\n    \"Qu quieres hacer?\"\r\n    \r\n    menu:\r\n        \"Qu opcin eliges?\"\r\n        \r\n        \"Nueva Partida\":\r\n            $ friendship_points = 0\r\n            $ money = 100\r\n            $ inventory = []\r\n            jump start_game\r\n            \r\n        \"Cargar Partida\":\r\n            jump load_game_menu\r\n            \r\n        \"Guardar Partida\":\r\n            jump save_game_menu\r\n            \r\n        \"Configuracin\":\r\n            jump settings_menu\r\n\r\nlabel save_game_menu:\r\n    menu:\r\n        \"En qu slot quieres guardar?\"\r\n        \r\n        \"Slot 1\":\r\n            $ renpy.save(\"save1\")\r\n            \"Juego guardado en el slot 1.\"\r\n            \r\n        \"Slot 2\":\r\n            $ renpy.save(\"save2\")\r\n            \"Juego guardado en el slot 2.\"\r\n            \r\n        \"Slot 3\":\r\n            $ renpy.save(\"save3\")\r\n            \"Juego guardado en el slot 3.\"\r\n            \r\n        \"Cancelar\":\r\n            return\r\n\r\nlabel load_game_menu:\r\n    menu:\r\n        \"Qu partida quieres cargar?\"\r\n        \r\n        \"Slot 1\" if renpy.can_load(\"save1\"):\r\n            $ renpy.load(\"save1\")\r\n            \r\n        \"Slot 2\" if renpy.can_load(\"save2\"):\r\n            $ renpy.load(\"save2\")\r\n            \r\n        \"Slot 3\" if renpy.can_load(\"save3\"):\r\n            $ renpy.load(\"save3\")\r\n            \r\n        \"Cancelar\":\r\n            return`,\r\n        renpyExplanation: 'Ren\\'Py tiene funciones integradas para manejar guardados automticamente.'\r\n      },\r\n      {\r\n        id: 'time-system',\r\n        title: 'Sistema de Tiempo',\r\n        icon: '',\r\n        description: 'Sistema bsico de das y horarios',\r\n        code: `# Sistema de tiempo\r\ndefault current_day = 1\r\ndefault current_time = \"morning\"\r\ndefault day_names = [\"Lunes\", \"Martes\", \"Mircoles\", \"Jueves\", \"Viernes\", \"Sbado\", \"Domingo\"]\r\n\r\nlabel time_system:\r\n    scene bg school\r\n    \r\n    \"Es [day_names[current_day % 7 - 1]], [current_time].\"\r\n    \r\n    if current_time == \"morning\":\r\n        \"Las clases estn por comenzar.\"\r\n        jump morning_scene\r\n        \r\n    elif current_time == \"afternoon\":\r\n        \"Es hora del almuerzo.\"\r\n        jump afternoon_scene\r\n        \r\n    elif current_time == \"evening\":\r\n        \"Las clases han terminado.\"\r\n        jump evening_scene\r\n\r\nlabel advance_time:\r\n    if current_time == \"morning\":\r\n        $ current_time = \"afternoon\"\r\n    elif current_time == \"afternoon\":\r\n        $ current_time = \"evening\"\r\n    elif current_time == \"evening\":\r\n        $ current_time = \"morning\"\r\n        $ current_day += 1\r\n    \r\n    \"El tiempo avanza...\"\r\n    jump time_system`,\r\n        renpyExplanation: 'Los sistemas de tiempo permiten crear historias con estructura temporal y rutinas diarias.'\r\n      },\r\n      {\r\n        id: 'achievement-system',\r\n        title: 'Sistema de Logros',\r\n        icon: '',\r\n        description: 'Sistema de logros y recompensas',\r\n        code: `# Sistema de logros\r\ndefault achievements = {\r\n    \"first_friend\": False,\r\n    \"social_butterfly\": False,\r\n    \"good_student\": False,\r\n    \"romance_master\": False\r\n}\r\n\r\nlabel achievement_system:\r\n    scene bg school\r\n    \r\n    # Verificar logros\r\n    if friendship_points >= 5 and not achievements[\"first_friend\"]:\r\n        $ achievements[\"first_friend\"] = True\r\n        $ renpy.notify(\"Logro desbloqueado: Primer Amigo!\")\r\n        \r\n    if friendship_points >= 20 and not achievements[\"social_butterfly\"]:\r\n        $ achievements[\"social_butterfly\"] = True\r\n        $ renpy.notify(\"Logro desbloqueado: Mariposa Social!\")\r\n        \r\n    if relationship_points.get(\"romantic_interest\", 0) >= 15 and not achievements[\"romance_master\"]:\r\n        $ achievements[\"romance_master\"] = True\r\n        $ renpy.notify(\"Logro desbloqueado: Maestro del Romance!\")\r\n    \r\n    # Mostrar logros obtenidos\r\n    if achievements[\"first_friend\"]:\r\n        \"Has hecho tu primer amigo!\"\r\n    if achievements[\"social_butterfly\"]:\r\n        \"Eres muy popular!\"\r\n    if achievements[\"romance_master\"]:\r\n        \"Eres un experto en romance!\"\r\n    \r\n    return\r\n\r\nlabel show_achievements:\r\n    \"Logros obtenidos:\"\r\n    \r\n    if achievements[\"first_friend\"]:\r\n        \" Primer Amigo\"\r\n    else:\r\n        \" Primer Amigo\"\r\n        \r\n    if achievements[\"social_butterfly\"]:\r\n        \" Mariposa Social\"\r\n    else:\r\n        \" Mariposa Social\"\r\n        \r\n    if achievements[\"good_student\"]:\r\n        \" Buen Estudiante\"\r\n    else:\r\n        \" Buen Estudiante\"\r\n        \r\n    if achievements[\"romance_master\"]:\r\n        \" Maestro del Romance\"\r\n    else:\r\n        \" Maestro del Romance\"\r\n    \r\n    return`,\r\n        renpyExplanation: 'Los sistemas de logros con renpy.notify() motivan a los jugadores y aaden metas adicionales a la historia.'\r\n      }\r\n    ]\r\n  };\r\n\r\n  const handleImportTemplate = (template) => {\r\n    setImportModal({ isOpen: true, template });\r\n  };\r\n\r\n  const confirmImport = () => {\r\n    // Aqu se implementara la lgica para importar la plantilla\r\n    alert(`Plantilla \"${importModal.template.title}\" importada exitosamente.\\n\\nEsta funcionalidad estar disponible en futuras versiones.`);\r\n    setImportModal({ isOpen: false, template: null });\r\n  };\r\n\r\n  const cancelImport = () => {\r\n    setImportModal({ isOpen: false, template: null });\r\n  };\r\n\r\n  const getCurrentTemplates = () => {\r\n    return templates[activeCategory] || [];\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TemplatesContainer>\r\n        <TemplatesHeader>\r\n          <TemplatesTitle>\r\n             Plantillas y Tutoriales de Ren'Py\r\n          </TemplatesTitle>\r\n          <CloseButton onClick={onClose}>\r\n             Cerrar\r\n          </CloseButton>\r\n        </TemplatesHeader>\r\n\r\n        <TemplatesContent>\r\n          <CategoryTabs>\r\n            <CategoryTab \r\n              active={activeCategory === 'basic'} \r\n              onClick={() => setActiveCategory('basic')}\r\n            >\r\n               Bsico\r\n            </CategoryTab>\r\n            <CategoryTab \r\n              active={activeCategory === 'choices'} \r\n              onClick={() => setActiveCategory('choices')}\r\n            >\r\n               Decisiones\r\n            </CategoryTab>\r\n            <CategoryTab \r\n              active={activeCategory === 'advanced'} \r\n              onClick={() => setActiveCategory('advanced')}\r\n            >\r\n               Avanzado\r\n            </CategoryTab>\r\n            <CategoryTab \r\n              active={activeCategory === 'examples'} \r\n              onClick={() => setActiveCategory('examples')}\r\n            >\r\n               Ejemplos\r\n            </CategoryTab>\r\n            <CategoryTab \r\n              active={activeCategory === 'specialized'} \r\n              onClick={() => setActiveCategory('specialized')}\r\n            >\r\n               Especializadas\r\n            </CategoryTab>\r\n          </CategoryTabs>\r\n\r\n          {activeCategory === 'basic' && (\r\n            <TutorialSection>\r\n              <TutorialTitle> Conceptos Bsicos de Ren'Py</TutorialTitle>\r\n              <TutorialContent>\r\n                <h4>Elementos Fundamentales:</h4>\r\n                <ul>\r\n                  <li><strong>label:</strong> Puntos de destino en tu historia</li>\r\n                  <li><strong>scene:</strong> Cambia el fondo de la pantalla</li>\r\n                  <li><strong>show:</strong> Muestra un personaje o imagen</li>\r\n                  <li><strong>hide:</strong> Oculta un personaje o imagen</li>\r\n                  <li><strong>Dilogos:</strong> Texto entre comillas para que hablen los personajes</li>\r\n                </ul>\r\n                \r\n                <h4>Comandos de Transicin:</h4>\r\n                <ul>\r\n                  <li><strong>with fade:</strong> Transicin de desvanecimiento</li>\r\n                  <li><strong>with dissolve:</strong> Transicin suave</li>\r\n                  <li><strong>with pixellate:</strong> Efecto pixelado</li>\r\n                </ul>\r\n              </TutorialContent>\r\n            </TutorialSection>\r\n          )}\r\n\r\n          {activeCategory === 'choices' && (\r\n            <TutorialSection>\r\n              <TutorialTitle> Sistema de Decisiones</TutorialTitle>\r\n              <TutorialContent>\r\n                <h4>Creando Decisiones:</h4>\r\n                <ul>\r\n                  <li><strong>menu:</strong> Inicia un men de opciones</li>\r\n                  <li><strong>jump:</strong> Salta a un label especfico</li>\r\n                  <li><strong>return:</strong> Termina el label actual</li>\r\n                </ul>\r\n                \r\n                <h4>Estructura de Decisiones:</h4>\r\n                <ul>\r\n                  <li>Pregunta del men</li>\r\n                  <li>Opciones con texto y destino</li>\r\n                  <li>Labels de destino para cada opcin</li>\r\n                </ul>\r\n              </TutorialContent>\r\n            </TutorialSection>\r\n          )}\r\n\r\n          {activeCategory === 'advanced' && (\r\n            <TutorialSection>\r\n              <TutorialTitle> Funciones Avanzadas</TutorialTitle>\r\n              <TutorialContent>\r\n                <h4>Variables:</h4>\r\n                <ul>\r\n                  <li><strong>default:</strong> Define variables con valor inicial</li>\r\n                  <li><strong>$:</strong> Modifica variables durante el juego</li>\r\n                  <li><strong>if/elif/else:</strong> Condiciones basadas en variables</li>\r\n                </ul>\r\n                \r\n                <h4>Flujo de Control:</h4>\r\n                <ul>\r\n                  <li>Condiciones para cambiar el dilogo</li>\r\n                  <li>Variables para recordar decisiones</li>\r\n                  <li>Mltiples rutas en la historia</li>\r\n                </ul>\r\n              </TutorialContent>\r\n            </TutorialSection>\r\n          )}\r\n\r\n          {activeCategory === 'specialized' && (\r\n            <TutorialSection>\r\n              <TutorialTitle> Plantillas Especializadas</TutorialTitle>\r\n              <TutorialContent>\r\n                <h4>Sistemas Avanzados:</h4>\r\n                <ul>\r\n                  <li><strong>Minijuegos:</strong> Mecnicas de juego interactivas</li>\r\n                  <li><strong>Guardado/Carga:</strong> Sistema de persistencia de datos</li>\r\n                  <li><strong>Tiempo:</strong> Estructura temporal y rutinas</li>\r\n                  <li><strong>Logros:</strong> Sistema de recompensas y metas</li>\r\n                </ul>\r\n                \r\n                <h4>Conceptos Avanzados:</h4>\r\n                <ul>\r\n                  <li><strong>Bucles while:</strong> Para mecnicas repetitivas compatibles con Ren'Py</li>\r\n                  <li><strong>Diccionarios:</strong> Para datos complejos y sistemas de relaciones</li>\r\n                  <li><strong>Listas:</strong> Para inventarios dinmicos con bucles while</li>\r\n                  <li><strong>Funciones Ren'Py:</strong> renpy.input(), renpy.notify(), renpy.save(), renpy.load()</li>\r\n                </ul>\r\n              </TutorialContent>\r\n            </TutorialSection>\r\n          )}\r\n\r\n          <TemplatesGrid>\r\n            {getCurrentTemplates().map((template) => (\r\n              <TemplateCard key={template.id}>\r\n                <TemplateHeader>\r\n                  <TemplateTitle>\r\n                    {template.icon} {template.title}\r\n                  </TemplateTitle>\r\n                  <TemplateBadge>Plantilla</TemplateBadge>\r\n                </TemplateHeader>\r\n                \r\n                <TemplateDescription>\r\n                  {template.description}\r\n                </TemplateDescription>\r\n\r\n                <CodePreview>\r\n                  <CodeLabel>Cdigo Ren'Py</CodeLabel>\r\n                  <pre>{template.code}</pre>\r\n                </CodePreview>\r\n\r\n                {template.renpyExplanation && (\r\n                  <div style={{ \r\n                    backgroundColor: 'var(--color-surfaceSecondary)', \r\n                    padding: '12px', \r\n                    borderRadius: '6px', \r\n                    marginTop: '15px',\r\n                    color: 'var(--color-warning)',\r\n                    fontSize: '13px',\r\n                    lineHeight: '1.4'\r\n                  }}>\r\n                    <strong> Explicacin:</strong> {template.renpyExplanation}\r\n                  </div>\r\n                )}\r\n\r\n                <TemplateActions>\r\n                  <ActionButton \r\n                    primary \r\n                    onClick={() => handleImportTemplate(template)}\r\n                  >\r\n                     Importar\r\n                  </ActionButton>\r\n                  <ActionButton>\r\n                     Ver Detalles\r\n                  </ActionButton>\r\n                </TemplateActions>\r\n              </TemplateCard>\r\n            ))}\r\n          </TemplatesGrid>\r\n        </TemplatesContent>\r\n      </TemplatesContainer>\r\n\r\n      <ImportModal isOpen={importModal.isOpen}>\r\n        <ImportModalContent isOpen={importModal.isOpen}>\r\n          <ImportModalTitle>\r\n             Importar Plantilla\r\n          </ImportModalTitle>\r\n          <ImportModalText>\r\n            Ests seguro de que quieres importar la plantilla <strong>\"{importModal.template?.title}\"</strong>?\r\n            <br/><br/>\r\n            Esta accin agregar el cdigo de la plantilla a tu proyecto actual. Puedes modificarlo despus segn tus necesidades.\r\n          </ImportModalText>\r\n          <ImportModalActions>\r\n            <ActionButton onClick={cancelImport}>\r\n               Cancelar\r\n            </ActionButton>\r\n            <ActionButton primary onClick={confirmImport}>\r\n               Importar\r\n            </ActionButton>\r\n          </ImportModalActions>\r\n        </ImportModalContent>\r\n      </ImportModal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TemplatesPage;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst TroubleshootingContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst TroubleshootingHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst TroubleshootingTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 32px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    transform: scale(1.05);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst TroubleshootingContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  margin-bottom: 30px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst SearchTitle = styled.h2`\r\n  color: var(--color-success);\r\n  margin: 0 0 20px 0;\r\n  font-size: 22px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 3px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-success);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 3px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-weight: 400;\r\n  }\r\n`;\r\n\r\nconst CategoryTabs = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 30px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CategoryTab = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-success)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.active ? 'var(--color-success)' : 'var(--color-border)'};\r\n  padding: 14px 22px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-primary)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ProblemGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst ProblemCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-success);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-8px);\r\n    box-shadow: 0 12px 32px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ProblemHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst ProblemTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 20px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst SeverityIndicator = styled.span`\r\n  background-color: ${props => {\r\n    switch(props.severity) {\r\n      case 'critical': return 'var(--color-error)';\r\n      case 'warning': return 'var(--color-warning)';\r\n      case 'info': return 'var(--color-info)';\r\n      case 'success': return 'var(--color-success)';\r\n      default: return 'var(--color-borderSecondary)';\r\n    }\r\n  }};\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ProblemDescription = styled.p`\r\n  color: var(--color-textPrimary);\r\n  margin: 0 0 18px 0;\r\n  line-height: 1.7;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst SolutionBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-success);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-successHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-success), var(--color-successHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst SolutionTitle = styled.div`\r\n  color: var(--color-success);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst SolutionText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst CodeExample = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 3px solid var(--color-primary);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin: 18px 0;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--color-primary);\r\n  overflow-x: auto;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-primaryHover);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 3px;\r\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\r\n    border-radius: 10px 10px 0 0;\r\n  }\r\n`;\r\n\r\nconst WarningBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-warning);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-warningHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst WarningTitle = styled.div`\r\n  color: var(--color-warning);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst ErrorBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-error);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-errorHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst ErrorTitle = styled.div`\r\n  color: var(--color-error);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst ErrorText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst InfoBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-info);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-infoHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-info), var(--color-infoHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst InfoTitle = styled.div`\r\n  color: var(--color-info);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst InfoText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nfunction TroubleshootingPage({ onClose }) {\r\n  const [activeCategory, setActiveCategory] = useState('common');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const troubleshootingData = {\r\n    common: [\r\n      {\r\n        id: 'script-errors',\r\n        title: 'Errores de Script',\r\n        icon: '',\r\n        severity: 'critical',\r\n        description: 'Errores comunes en la sintaxis del script que impiden que el juego funcione correctamente.',\r\n        solution: 'Verifica la sintaxis de Ren\\'Py, asegrate de que todos los bloques estn correctamente cerrados y que las variables estn definidas.',\r\n        codeExample: `# Error comn: falta de indentacin\r\nlabel start:\r\n    \"Hola mundo\"\r\n    menu:\r\n        \"Opcin 1\":\r\n            jump option1\r\n        \"Opcin 2\":\r\n            jump option2\r\n\r\n# Solucin: indentacin correcta\r\nlabel start:\r\n    \"Hola mundo\"\r\n    menu:\r\n        \"Opcin 1\":\r\n            jump option1\r\n        \"Opcin 2\":\r\n            jump option2`,\r\n        warning: 'Usa siempre la indentacin correcta en Ren\\'Py. Los bloques deben estar alineados correctamente.'\r\n      },\r\n      {\r\n        id: 'image-not-found',\r\n        title: 'Imagen No Encontrada',\r\n        icon: '',\r\n        severity: 'warning',\r\n        description: 'El juego no puede encontrar las imgenes especificadas en el script.',\r\n        solution: 'Verifica que las imgenes estn en la carpeta correcta (images/) y que los nombres coincidan exactamente.',\r\n        codeExample: `# Error: imagen no encontrada\r\nshow character happy\r\n\r\n# Solucin: verificar ruta y nombre\r\nshow eileen happy\r\n# O usar ruta completa\r\nshow \"images/characters/eileen_happy.png\"`,\r\n        info: 'Ren\\'Py busca imgenes en la carpeta images/ por defecto. Los nombres deben coincidir exactamente.'\r\n      },\r\n      {\r\n        id: 'audio-issues',\r\n        title: 'Problemas de Audio',\r\n        icon: '',\r\n        severity: 'warning',\r\n        description: 'La msica o efectos de sonido no se reproducen correctamente.',\r\n        solution: 'Verifica que los archivos de audio estn en formatos compatibles (OGG, MP3) y en la carpeta correcta.',\r\n        codeExample: `# Configuracin correcta de audio\r\nplay music \"audio/bgm/main_theme.ogg\"\r\nplay sound \"audio/sfx/click.ogg\"\r\nplay voice \"audio/voice/character_001.ogg\"`,\r\n        info: 'Ren\\'Py soporta formatos OGG, MP3 y WAV. OGG es recomendado para mejor compatibilidad.'\r\n      }\r\n    ],\r\n    syntax: [\r\n      {\r\n        id: 'indentation-errors',\r\n        title: 'Errores de Indentacin',\r\n        icon: '',\r\n        severity: 'critical',\r\n        description: 'Errores de indentacin que causan fallos en la compilacin del script.',\r\n        solution: 'Usa espacios consistentes para la indentacin. Ren\\'Py es sensible a la indentacin.',\r\n        codeExample: `# Error: indentacin inconsistente\r\nlabel start:\r\n    \"Texto\"\r\n  menu:\r\n    \"Opcin 1\":\r\n        jump option1\r\n\r\n# Solucin: indentacin consistente\r\nlabel start:\r\n    \"Texto\"\r\n    menu:\r\n        \"Opcin 1\":\r\n            jump option1`,\r\n        warning: 'Nunca mezcles espacios y tabs. Usa solo espacios para la indentacin.'\r\n      },\r\n      {\r\n        id: 'variable-errors',\r\n        title: 'Errores de Variables',\r\n        icon: '',\r\n        severity: 'warning',\r\n        description: 'Variables no definidas o usadas incorrectamente en el script.',\r\n        solution: 'Define todas las variables antes de usarlas con la declaracin default o define.',\r\n        codeExample: `# Error: variable no definida\r\nif player_name == \"Juan\":\r\n    \"Hola Juan\"\r\n\r\n# Solucin: definir variable\r\ndefault player_name = \"Juan\"\r\nif player_name == \"Juan\":\r\n    \"Hola Juan\"`,\r\n        info: 'Usa default para variables que pueden cambiar durante el juego, define para constantes.'\r\n      },\r\n      {\r\n        id: 'label-errors',\r\n        title: 'Errores de Labels',\r\n        icon: '',\r\n        severity: 'critical',\r\n        description: 'Labels no definidos o referencias incorrectas a labels.',\r\n        solution: 'Asegrate de que todos los labels estn definidos y que las referencias sean correctas.',\r\n        codeExample: `# Error: label no definido\r\njump non_existent_label\r\n\r\n# Solucin: definir label\r\nlabel non_existent_label:\r\n    \"Este label existe\"\r\n    return`,\r\n        warning: 'Los nombres de labels deben ser nicos y no pueden contener espacios.'\r\n      }\r\n    ],\r\n    performance: [\r\n      {\r\n        id: 'slow-loading',\r\n        title: 'Carga Lenta',\r\n        icon: '',\r\n        severity: 'warning',\r\n        description: 'El juego tarda mucho en cargar o tiene problemas de rendimiento.',\r\n        solution: 'Optimiza las imgenes, reduce el tamao de archivos y usa formatos eficientes.',\r\n        codeExample: `# Optimizacin de imgenes\r\n# Usa formatos eficientes\r\nimage bg room = \"images/bg_room.webp\"\r\n# O comprime imgenes\r\nimage bg room = \"images/bg_room.jpg\"`,\r\n        info: 'WebP y JPEG son formatos eficientes para imgenes. PNG solo cuando necesites transparencia.'\r\n      },\r\n      {\r\n        id: 'memory-issues',\r\n        title: 'Problemas de Memoria',\r\n        icon: '',\r\n        severity: 'warning',\r\n        description: 'El juego consume mucha memoria RAM o se cierra inesperadamente.',\r\n        solution: 'Libera memoria limpiando imgenes no usadas y optimizando el cdigo.',\r\n        codeExample: `# Liberar memoria\r\nhide eileen\r\nhide bg room\r\n# O usar scene para limpiar todo\r\nscene black`,\r\n        info: 'Usa hide para ocultar elementos especficos, scene para limpiar toda la pantalla.'\r\n      },\r\n      {\r\n        id: 'audio-performance',\r\n        title: 'Problemas de Audio',\r\n        icon: '',\r\n        severity: 'info',\r\n        description: 'El audio se corta o tiene problemas de reproduccin.',\r\n        solution: 'Verifica la configuracin de audio y los formatos de archivo.',\r\n        codeExample: `# Configuracin de audio\r\ndefine config.has_sound = True\r\ndefine config.has_music = True\r\ndefine config.has_voice = True`,\r\n        info: 'Asegrate de que los archivos de audio no sean demasiado grandes.'\r\n      }\r\n    ],\r\n    deployment: [\r\n      {\r\n        id: 'build-errors',\r\n        title: 'Errores de Compilacin',\r\n        icon: '',\r\n        severity: 'critical',\r\n        description: 'El juego no se compila correctamente para distribucin.',\r\n        solution: 'Verifica que todos los archivos estn en su lugar y que no haya errores de sintaxis.',\r\n        codeExample: `# Verificar archivos necesarios\r\n# options.rpy - configuracin del juego\r\n# script.rpy - script principal\r\n# gui.rpy - configuracin de GUI\r\n# screens.rpy - pantallas del juego`,\r\n        warning: 'Siempre verifica el script con \"Check Script (Lint)\" antes de compilar.'\r\n      },\r\n      {\r\n        id: 'platform-issues',\r\n        title: 'Problemas de Plataforma',\r\n        icon: '',\r\n        severity: 'warning',\r\n        description: 'El juego no funciona en ciertas plataformas o sistemas operativos.',\r\n        solution: 'Prueba el juego en diferentes plataformas y verifica la compatibilidad.',\r\n        codeExample: `# Configuracin para mltiples plataformas\r\ndefine config.screen_width = 1920\r\ndefine config.screen_height = 1080\r\ndefine config.window = \"auto\"`,\r\n        info: 'Usa config.window = \"auto\" para que el juego se adapte a diferentes tamaos de pantalla.'\r\n      },\r\n      {\r\n        id: 'distribution-issues',\r\n        title: 'Problemas de Distribucin',\r\n        icon: '',\r\n        severity: 'warning',\r\n        description: 'Problemas al crear archivos de distribucin del juego.',\r\n        solution: 'Verifica que todos los archivos estn incluidos y que la configuracin sea correcta.',\r\n        codeExample: `# Configuracin de distribucin\r\ndefine config.name = _(\"Mi Juego\")\r\ndefine config.version = \"1.0\"\r\ndefine config.build.classify_renpy = False`,\r\n        info: 'Usa \"Build Distributions\" en el launcher para crear archivos de distribucin.'\r\n      }\r\n    ]\r\n  };\r\n\r\n  const getCurrentProblems = () => {\r\n    let currentProblems = troubleshootingData[activeCategory] || [];\r\n    \r\n    if (searchTerm) {\r\n      currentProblems = currentProblems.filter(problem =>\r\n        problem.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        problem.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        problem.solution.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    return currentProblems;\r\n  };\r\n\r\n  const getSeverityText = (severity) => {\r\n    switch(severity) {\r\n      case 'critical': return 'Crtico';\r\n      case 'warning': return 'Advertencia';\r\n      case 'info': return 'Informacin';\r\n      case 'success': return 'xito';\r\n      default: return 'Otro';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TroubleshootingContainer>\r\n      <TroubleshootingHeader>\r\n        <TroubleshootingTitle>\r\n           Solucin de Problemas\r\n        </TroubleshootingTitle>\r\n        <CloseButton onClick={onClose}>\r\n           Cerrar\r\n        </CloseButton>\r\n      </TroubleshootingHeader>\r\n\r\n      <TroubleshootingContent>\r\n        <SearchBox>\r\n          <SearchTitle>\r\n             Buscar Problemas\r\n          </SearchTitle>\r\n          <SearchInput\r\n            type=\"text\"\r\n            placeholder=\"Busca problemas especficos o errores...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </SearchBox>\r\n\r\n        <CategoryTabs>\r\n          <CategoryTab \r\n            active={activeCategory === 'common'} \r\n            onClick={() => setActiveCategory('common')}\r\n          >\r\n             Comunes\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'syntax'} \r\n            onClick={() => setActiveCategory('syntax')}\r\n          >\r\n             Sintaxis\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'performance'} \r\n            onClick={() => setActiveCategory('performance')}\r\n          >\r\n             Rendimiento\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'deployment'} \r\n            onClick={() => setActiveCategory('deployment')}\r\n          >\r\n             Distribucin\r\n          </CategoryTab>\r\n        </CategoryTabs>\r\n\r\n        <ProblemGrid>\r\n          {getCurrentProblems().map((problem) => (\r\n            <ProblemCard key={problem.id}>\r\n              <ProblemHeader>\r\n                <ProblemTitle>\r\n                  {problem.icon} {problem.title}\r\n                </ProblemTitle>\r\n                <SeverityIndicator severity={problem.severity}>\r\n                  {getSeverityText(problem.severity)}\r\n                </SeverityIndicator>\r\n              </ProblemHeader>\r\n              \r\n              <ProblemDescription>\r\n                {problem.description}\r\n              </ProblemDescription>\r\n\r\n              <SolutionBox>\r\n                <SolutionTitle>\r\n                   Solucin\r\n                </SolutionTitle>\r\n                <SolutionText>\r\n                  {problem.solution}\r\n                </SolutionText>\r\n              </SolutionBox>\r\n\r\n              {problem.codeExample && (\r\n                <CodeExample>\r\n                  {problem.codeExample}\r\n                </CodeExample>\r\n              )}\r\n\r\n              {problem.warning && (\r\n                <WarningBox>\r\n                  <WarningTitle>\r\n                     Advertencia\r\n                  </WarningTitle>\r\n                  <WarningText>\r\n                    {problem.warning}\r\n                  </WarningText>\r\n                </WarningBox>\r\n              )}\r\n\r\n              {problem.info && (\r\n                <InfoBox>\r\n                  <InfoTitle>\r\n                     Informacin\r\n                  </InfoTitle>\r\n                  <InfoText>\r\n                    {problem.info}\r\n                  </InfoText>\r\n                </InfoBox>\r\n              )}\r\n            </ProblemCard>\r\n          ))}\r\n        </ProblemGrid>\r\n\r\n        {getCurrentProblems().length === 0 && searchTerm && (\r\n          <div style={{ \r\n            textAlign: 'center', \r\n            color: 'var(--color-textTertiary)', \r\n            fontSize: '18px',\r\n            fontWeight: '600',\r\n            marginTop: '50px',\r\n            textShadow: '0 1px 2px var(--color-shadow)'\r\n          }}>\r\n            No se encontraron problemas que coincidan con \"{searchTerm}\"\r\n          </div>\r\n        )}\r\n\r\n        <ErrorBox>\r\n          <ErrorTitle>\r\n             Problemas Crticos\r\n          </ErrorTitle>\r\n          <ErrorText>\r\n            Los problemas marcados como \"Crticos\" pueden impedir que el juego funcione. \r\n            Resulvelos antes de continuar con el desarrollo.\r\n          </ErrorText>\r\n        </ErrorBox>\r\n\r\n        <WarningBox>\r\n          <WarningTitle>\r\n             Problemas de Advertencia\r\n          </WarningTitle>\r\n          <WarningText>\r\n            Los problemas de advertencia pueden causar comportamientos inesperados. \r\n            Es recomendable solucionarlos para una mejor experiencia de usuario.\r\n          </WarningText>\r\n        </WarningBox>\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Recursos Adicionales\r\n          </InfoTitle>\r\n          <InfoText>\r\n            Para ms informacin sobre solucin de problemas, consulta:\r\n            <br /> <a href=\"https://www.renpy.org/doc/html/\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)', fontWeight: '600', textShadow: '0 1px 2px var(--color-shadow)'}}>Documentacin Oficial de Ren'Py</a>\r\n            <br /> <a href=\"https://www.renpy.org/doc/html/quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)', fontWeight: '600', textShadow: '0 1px 2px var(--color-shadow)'}}>Gua de Inicio Rpido</a>\r\n            <br /> <a href=\"https://lemmasoft.renai.us/forums/viewforum.php?f=51\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)', fontWeight: '600', textShadow: '0 1px 2px var(--color-shadow)'}}>Ren'Py Cookbook</a>\r\n          </InfoText>\r\n        </InfoBox>\r\n      </TroubleshootingContent>\r\n    </TroubleshootingContainer>\r\n  );\r\n}\r\n\r\nexport default TroubleshootingPage;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst GuideContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst GuideHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst GuideTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 32px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    transform: scale(1.05);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst GuideContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst ProgressContainer = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  margin-bottom: 30px;\r\n  border: 2px solid var(--color-border);\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ProgressTitle = styled.h2`\r\n  color: var(--color-primary);\r\n  margin: 0 0 20px 0;\r\n  font-size: 22px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 3px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border-radius: 10px;\r\n  height: 24px;\r\n  overflow: hidden;\r\n  margin-bottom: 12px;\r\n  border: 2px solid var(--color-border);\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n`;\r\n\r\nconst ProgressFill = styled.div`\r\n  background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\r\n  height: 100%;\r\n  width: ${props => props.progress}%;\r\n  transition: width 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n`;\r\n\r\nconst ProgressText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst ChapterTabs = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 30px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst ChapterTab = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.active ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  padding: 14px 22px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-primary)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ChapterContent = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 12px;\r\n  padding: 30px;\r\n  border: 2px solid var(--color-border);\r\n  margin-bottom: 30px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ChapterTitle = styled.h2`\r\n  color: var(--color-primary);\r\n  margin: 0 0 25px 0;\r\n  font-size: 26px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst SectionTitle = styled.h3`\r\n  color: var(--color-error);\r\n  margin: 25px 0 18px 0;\r\n  font-size: 20px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst StepContainer = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 10px;\r\n  padding: 24px;\r\n  margin: 18px 0;\r\n  position: relative;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst StepNumber = styled.div`\r\n  position: absolute;\r\n  top: -12px;\r\n  left: 24px;\r\n  background-color: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 800;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  border: 2px solid var(--color-primaryHover);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primaryHover);\r\n    transform: scale(1.1);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst StepTitle = styled.h4`\r\n  color: var(--color-primary);\r\n  margin: 12px 0 12px 0;\r\n  font-size: 18px;\r\n  font-weight: 800;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 3px var(--color-shadow);\r\n  letter-spacing: 0.2px;\r\n`;\r\n\r\nconst StepDescription = styled.p`\r\n  color: var(--color-textPrimary);\r\n  margin: 0 0 18px 0;\r\n  line-height: 1.7;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst CodeExample = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 3px solid var(--color-primary);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin: 18px 0;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--color-primary);\r\n  overflow-x: auto;\r\n  position: relative;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primaryHover);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 3px;\r\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\r\n    border-radius: 10px 10px 0 0;\r\n  }\r\n`;\r\n\r\nconst CodeLabel = styled.div`\r\n  position: absolute;\r\n  top: -12px;\r\n  left: 20px;\r\n  background-color: var(--color-success);\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  font-size: 12px;\r\n  border-radius: 6px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid var(--color-successHover);\r\n\r\n  &:hover {\r\n    background-color: var(--color-successHover);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst InfoBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-info);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-infoHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-info), var(--color-infoHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst InfoTitle = styled.div`\r\n  color: var(--color-info);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst InfoText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst TipBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-warning);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-warningHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst TipTitle = styled.div`\r\n  color: var(--color-warning);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst TipText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst WarningBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-error);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-errorHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst WarningTitle = styled.div`\r\n  color: var(--color-error);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst NextButton = styled.button`\r\n  background-color: var(--color-success);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 14px 28px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  margin-top: 24px;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-successHover);\r\n    transform: scale(1.05);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.98);\r\n    box-shadow: 0 3px 8px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nfunction BeginnersGuidePage({ onClose }) {\r\n  const [currentChapter, setCurrentChapter] = useState('introduction');\r\n  const [completedSteps, setCompletedSteps] = useState(new Set());\r\n\r\n  const chapters = {\r\n    introduction: {\r\n      title: ' Introduccin a Ren\\'Py',\r\n      steps: [\r\n        {\r\n          id: 'what-is-renpy',\r\n          title: 'Qu es Ren\\'Py?',\r\n          description: 'Ren\\'Py es un motor de videojuegos especializado en novelas visuales y juegos narrativos. Permite crear historias interactivas con personajes, dilogos, decisiones y mltiples finales.',\r\n          content: (\r\n            <div>\r\n              <InfoBox>\r\n                <InfoTitle> Caractersticas Principales</InfoTitle>\r\n                <InfoText>\r\n                  <ul>\r\n                    <li><strong>Fcil de aprender:</strong> Sintaxis simple basada en Python</li>\r\n                    <li><strong>Gratuito y de cdigo abierto:</strong> No requiere licencia</li>\r\n                    <li><strong>Multiplataforma:</strong> Funciona en Windows, Mac, Linux, Android, iOS</li>\r\n                    <li><strong>Comunidad activa:</strong> Miles de desarrolladores y recursos</li>\r\n                    <li><strong>Exportacin sencilla:</strong> Un solo clic para distribuir tu juego</li>\r\n                  </ul>\r\n                </InfoText>\r\n              </InfoBox>\r\n              \r\n              <TipBox>\r\n                <TipTitle> Por qu usar este editor?</TipTitle>\r\n                <TipText>\r\n                  Este editor te ayuda a enfocarte en la creatividad y la historia, manejando la sintaxis compleja por ti. \r\n                  Puedes exportar fcilmente tu trabajo a un proyecto Ren'Py completo.\r\n                </TipText>\r\n              </TipBox>\r\n            </div>\r\n          )\r\n        },\r\n        {\r\n          id: 'first-steps',\r\n          title: 'Primeros Pasos',\r\n          description: 'Antes de empezar a crear tu historia, es importante entender los conceptos bsicos.',\r\n          content: (\r\n            <div>\r\n              <StepContainer>\r\n                <StepNumber>1</StepNumber>\r\n                <StepTitle>Descarga e Instala Ren'Py</StepTitle>\r\n                <StepDescription>\r\n                  Ve a <strong>https://www.renpy.org/</strong> y descarga la ltima versin. \r\n                  Instlala en tu computadora siguiendo las instrucciones.\r\n                </StepDescription>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>2</StepNumber>\r\n                <StepTitle>Crea un Nuevo Proyecto</StepTitle>\r\n                <StepDescription>\r\n                  Abre Ren'Py Launcher y crea un nuevo proyecto. \r\n                  Esto generar una estructura de carpetas bsica para tu juego.\r\n                </StepDescription>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>3</StepNumber>\r\n                <StepTitle>Explora la Estructura</StepTitle>\r\n                <StepDescription>\r\n                  Familiarzate con las carpetas principales:\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Estructura del Proyecto</CodeLabel>\r\n                  <pre>{`game/\r\n script.rpy          # Tu cdigo principal\r\n images/             # Todas las imgenes\r\n    characters/     # Sprites de personajes\r\n    backgrounds/    # Fondos\r\n audio/             # Msica y sonidos`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <WarningBox>\r\n                <WarningTitle> Importante</WarningTitle>\r\n                <WarningText>\r\n                  No edites los archivos que Ren'Py genera automticamente. \r\n                  Enfcate en <code>script.rpy</code> y las carpetas de recursos.\r\n                </WarningText>\r\n              </WarningBox>\r\n            </div>\r\n          )\r\n        }\r\n      ]\r\n    },\r\n    basics: {\r\n      title: ' Conceptos Bsicos',\r\n      steps: [\r\n        {\r\n          id: 'characters-dialogue',\r\n          title: 'Personajes y Dilogos',\r\n          description: 'Aprende a crear personajes y escribir dilogos efectivos.',\r\n          content: (\r\n            <div>\r\n              <StepContainer>\r\n                <StepNumber>1</StepNumber>\r\n                <StepTitle>Definir Personajes</StepTitle>\r\n                <StepDescription>\r\n                  Los personajes son las voces que hablan en tu historia. Se definen al inicio del script.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Definir Personajes</CodeLabel>\r\n                  <pre>{`# Define a los personajes al inicio del script\r\ndefine protagonista = Character(\"Tu Nombre\")\r\ndefine amiga = Character(\"Mara\")\r\ndefine narrador = Character(None, kind=nvl)`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>2</StepNumber>\r\n                <StepTitle>Escribir Dilogos</StepTitle>\r\n                <StepDescription>\r\n                  Los dilogos son las lneas que dicen los personajes. Usa comillas para encerrar el texto.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Dilogos Bsicos</CodeLabel>\r\n                  <pre>{`protagonista \"Hola! Cmo ests?\"\r\n\r\namiga \"Muy bien, gracias. Y t?\"\r\n\r\n# Texto de narracin (sin personaje)\r\n\"El sol brillaba intensamente aquella maana.\"`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <InfoBox>\r\n                <InfoTitle> Tipos de Texto</InfoTitle>\r\n                <InfoText>\r\n                  <ul>\r\n                    <li><strong>Dilogo:</strong> Lo que dice un personaje</li>\r\n                    <li><strong>Narracin:</strong> Descripcin de la escena (sin comillas si no hay personaje)</li>\r\n                    <li><strong>Pensamientos:</strong> Pueden ir en cursiva o con un personaje especial</li>\r\n                  </ul>\r\n                </InfoText>\r\n              </InfoBox>\r\n            </div>\r\n          )\r\n        },\r\n        {\r\n          id: 'images-scenes',\r\n          title: 'Imgenes y Escenas',\r\n          description: 'Cmo mostrar fondos y personajes en pantalla.',\r\n          content: (\r\n            <div>\r\n              <StepContainer>\r\n                <StepNumber>1</StepNumber>\r\n                <StepTitle>Mostrar Fondos</StepTitle>\r\n                <StepDescription>\r\n                  Los fondos establecen el lugar donde ocurre la escena.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Mostrar Fondos</CodeLabel>\r\n                  <pre>{`# Mostrar un fondo\r\nscene bg_parque\r\n\r\n# Cambiar de fondo con transicin\r\nscene bg_parque\r\nwith fade\r\n\r\n# Limpiar la pantalla\r\nscene black`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>2</StepNumber>\r\n                <StepTitle>Mostrar Personajes</StepTitle>\r\n                <StepDescription>\r\n                  Los sprites son las imgenes de los personajes. Se muestran sobre el fondo.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Mostrar Personajes</CodeLabel>\r\n                  <pre>{`# Mostrar un personaje\r\nshow amiga feliz\r\n\r\n# Mostrar en una posicin especfica\r\nshow amiga feliz at left\r\n\r\n# Ocultar un personaje\r\nhide amiga\r\n\r\n# Transiciones\r\nshow amiga feliz at center\r\nwith dissolve`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <TipBox>\r\n                <TipTitle> Posiciones de Personajes</TipTitle>\r\n                <TipText>\r\n                  <ul>\r\n                    <li><strong>left:</strong> Lado izquierdo</li>\r\n                    <li><strong>right:</strong> Lado derecho</li>\r\n                    <li><strong>center:</strong> Centro (por defecto)</li>\r\n                    <li><strong>truecenter:</strong> Centro absoluto</li>\r\n                  </ul>\r\n                </TipText>\r\n              </TipBox>\r\n\r\n              <WarningBox>\r\n                <WarningTitle> Convenciones de Nombres</WarningTitle>\r\n                <WarningText>\r\n                  Usa guiones bajos (_) en lugar de espacios en los nombres de archivos.\r\n                  Por ejemplo: <code>amiga_feliz.png</code> en lugar de <code>amiga feliz.png</code>\r\n                </WarningText>\r\n              </WarningBox>\r\n            </div>\r\n          )\r\n        },\r\n        {\r\n          id: 'choices-menus',\r\n          title: 'Decisiones y Mens',\r\n          description: 'Crea ramas en tu historia con decisiones del jugador.',\r\n          content: (\r\n            <div>\r\n              <StepContainer>\r\n                <StepNumber>1</StepNumber>\r\n                <StepTitle>Crear Mens de Decisin</StepTitle>\r\n                <StepDescription>\r\n                  Los mens permiten al jugador elegir entre diferentes opciones.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Men Bsico</CodeLabel>\r\n                  <pre>{`menu:\r\n    \"Qu quieres hacer?\"\r\n    \r\n    \"Hablar con ella\":\r\n        jump hablar_con_ella\r\n        \r\n    \"Irse a casa\":\r\n        jump irse_casa\r\n        \r\n    \"Quedarse observando\":\r\n        jump observar`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>2</StepNumber>\r\n                <StepTitle>Crear Labels</StepTitle>\r\n                <StepDescription>\r\n                  Los labels son puntos de destino para las decisiones. Cada opcin debe llevar a un label.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Labels de Destino</CodeLabel>\r\n                  <pre>{`label hablar_con_ella:\r\n    amiga \"Hola! Me alegra verte.\"\r\n    protagonista \"Yo tambin me alegro.\"\r\n    return\r\n\r\nlabel irse_casa:\r\n    \"Decides irte a casa sin hablar con nadie.\"\r\n    return\r\n\r\nlabel observar:\r\n    \"Te quedas observando desde la distancia.\"\r\n    return`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <InfoBox>\r\n                <InfoTitle> Mejores Prcticas</InfoTitle>\r\n                <InfoText>\r\n                  <ul>\r\n                    <li><strong>Nombres descriptivos:</strong> Usa nombres claros para labels</li>\r\n                    <li><strong>Opciones equilibradas:</strong> No hagas una opcin claramente mejor</li>\r\n                    <li><strong>Consecuencias:</strong> Las decisiones deben tener impacto en la historia</li>\r\n                    <li><strong>Flujo lgico:</strong> Asegrate de que todas las rutas tengan sentido</li>\r\n                  </ul>\r\n                </InfoText>\r\n              </InfoBox>\r\n            </div>\r\n          )\r\n        }\r\n      ]\r\n    },\r\n    variables: {\r\n      title: ' Variables y Lgica',\r\n      steps: [\r\n        {\r\n          id: 'variables-basics',\r\n          title: 'Variables Bsicas',\r\n          description: 'Almacena informacin y toma decisiones basadas en datos.',\r\n          content: (\r\n            <div>\r\n              <StepContainer>\r\n                <StepNumber>1</StepNumber>\r\n                <StepTitle>Definir Variables</StepTitle>\r\n                <StepDescription>\r\n                  Las variables almacenan informacin que puede cambiar durante el juego.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Variables Bsicas</CodeLabel>\r\n                  <pre>{`# Definir variables al inicio del script\r\ndefault puntos_amistad = 0\r\ndefault nombre_jugador = \"\"\r\ndefault ha_visitado_parque = False\r\n\r\n# Variables numricas\r\ndefault dinero = 100\r\ndefault salud = 100\r\n\r\n# Variables de texto\r\ndefault lugar_actual = \"casa\"`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>2</StepNumber>\r\n                <StepTitle>Modificar Variables</StepTitle>\r\n                <StepDescription>\r\n                  Cambia los valores de las variables usando el smbolo $ para cdigo Python.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Modificar Variables</CodeLabel>\r\n                  <pre>{`# Sumar puntos\r\n$ puntos_amistad += 5\r\n\r\n# Restar dinero\r\n$ dinero -= 20\r\n\r\n# Cambiar estado\r\n$ ha_visitado_parque = True\r\n\r\n# Concatenar texto\r\n$ nombre_jugador = \"Alex\"`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>3</StepNumber>\r\n                <StepTitle>Condiciones con Variables</StepTitle>\r\n                <StepDescription>\r\n                  Usa las variables para crear ramas condicionales en tu historia.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Condiciones</CodeLabel>\r\n                  <pre>{`# Verificar valores\r\nif puntos_amistad >= 10:\r\n    amiga \"Somos muy buenos amigos!\"\r\nelif puntos_amistad >= 5:\r\n    amiga \"Nos estamos conociendo bien.\"\r\nelse:\r\n    amiga \"Apenas nos conocemos.\"\r\n\r\n# Mltiples condiciones\r\nif dinero >= 50 and salud > 20:\r\n    \"Puedes comprar algo y an tienes energa.\"\r\nelse:\r\n    \"Necesitas ms dinero o descansar.\"`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <TipBox>\r\n                <TipTitle> Tipos de Variables</TipTitle>\r\n                <TipText>\r\n                  <ul>\r\n                    <li><strong>default:</strong> Valor inicial, se reinicia al cargar guardado</li>\r\n                    <li><strong>define:</strong> Constante que nunca cambia</li>\r\n                    <li><strong>$:</strong> Cdigo Python para operaciones complejas</li>\r\n                  </ul>\r\n                </TipText>\r\n              </TipBox>\r\n            </div>\r\n          )\r\n        },\r\n        {\r\n          id: 'advanced-logic',\r\n          title: 'Lgica Avanzada',\r\n          description: 'Crea sistemas ms complejos con listas y diccionarios.',\r\n          content: (\r\n            <div>\r\n              <StepContainer>\r\n                <StepNumber>1</StepNumber>\r\n                <StepTitle>Listas (Arrays)</StepTitle>\r\n                <StepDescription>\r\n                  Las listas almacenan mltiples valores del mismo tipo.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Listas</CodeLabel>\r\n                  <pre>{`# Definir listas\r\ndefault inventario = []\r\ndefault amigos = [\"Mara\", \"Carlos\", \"Ana\"]\r\n\r\n# Agregar elementos\r\n$ inventario.append(\"llave\")\r\n$ inventario.append(\"mapa\")\r\n\r\n# Verificar si contiene algo\r\nif \"llave\" in inventario:\r\n    \"Tienes una llave en tu inventario.\"\r\n\r\n# Mostrar todos los elementos\r\n\"Tus amigos son: [', '.join(amigos)]\"`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>2</StepNumber>\r\n                <StepTitle>Diccionarios</StepTitle>\r\n                <StepDescription>\r\n                  Los diccionarios almacenan pares clave-valor para datos complejos.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Diccionarios</CodeLabel>\r\n                  <pre>{`# Definir diccionario\r\ndefault relaciones = {\r\n    \"maria\": 5,\r\n    \"carlos\": 3,\r\n    \"ana\": 8\r\n}\r\n\r\n# Modificar valores\r\n$ relaciones[\"maria\"] += 2\r\n$ relaciones[\"nuevo_amigo\"] = 1\r\n\r\n# Verificar relaciones\r\nif relaciones[\"ana\"] > 7:\r\n    \"Ana te considera un muy buen amigo.\"`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <InfoBox>\r\n                <InfoTitle> Casos de Uso</InfoTitle>\r\n                <InfoText>\r\n                  <ul>\r\n                    <li><strong>Inventarios:</strong> Listas para objetos que puede llevar el jugador</li>\r\n                    <li><strong>Sistemas de reputacin:</strong> Diccionarios para puntuaciones por personaje</li>\r\n                    <li><strong>Progreso del juego:</strong> Variables que desbloquean contenido</li>\r\n                    <li><strong>Estados de personajes:</strong> Diccionarios para informacin compleja</li>\r\n                  </ul>\r\n                </InfoText>\r\n              </InfoBox>\r\n            </div>\r\n          )\r\n        }\r\n      ]\r\n    },\r\n    polish: {\r\n      title: ' Pulir tu Juego',\r\n      steps: [\r\n        {\r\n          id: 'transitions-effects',\r\n          title: 'Transiciones y Efectos',\r\n          description: 'Aade efectos visuales para mejorar la experiencia.',\r\n          content: (\r\n            <div>\r\n              <StepContainer>\r\n                <StepNumber>1</StepNumber>\r\n                <StepTitle>Transiciones Bsicas</StepTitle>\r\n                <StepDescription>\r\n                  Las transiciones hacen que los cambios de escena sean ms suaves.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Transiciones</CodeLabel>\r\n                  <pre>{`# Transiciones de escena\r\nscene bg_parque\r\nwith fade          # Desvanecimiento\r\n\r\nscene bg_casa\r\nwith dissolve      # Disolucin\r\n\r\nscene bg_ciudad\r\nwith pixellate     # Efecto pixelado\r\n\r\n# Transiciones de personajes\r\nshow amiga feliz at center\r\nwith move          # Movimiento suave\r\n\r\nhide amiga\r\nwith fade          # Desvanecer al ocultar`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>2</StepNumber>\r\n                <StepTitle>Efectos de Audio</StepTitle>\r\n                <StepDescription>\r\n                  La msica y los efectos de sonido mejoran la inmersin.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Audio</CodeLabel>\r\n                  <pre>{`# Reproducir msica\r\nplay music \"tema_principal.ogg\"\r\n\r\n# Parar msica\r\nstop music\r\n\r\n# Efectos de sonido\r\nplay sound \"click.ogg\"\r\nplay sound \"pasos.ogg\"\r\n\r\n# Audio de fondo (se repite)\r\nplay music \"ambiente_parque.ogg\" loop`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <TipBox>\r\n                <TipTitle> Formatos Recomendados</TipTitle>\r\n                <TipText>\r\n                  <ul>\r\n                    <li><strong>Imgenes:</strong> PNG para sprites, JPG para fondos</li>\r\n                    <li><strong>Audio:</strong> OGG para msica, WAV para efectos cortos</li>\r\n                    <li><strong>Resolucin:</strong> 1920x1080 para fondos, 800x600 para sprites</li>\r\n                  </ul>\r\n                </TipText>\r\n              </TipBox>\r\n            </div>\r\n          )\r\n        },\r\n        {\r\n          id: 'testing-debugging',\r\n          title: 'Pruebas y Depuracin',\r\n          description: 'Cmo encontrar y corregir errores en tu juego.',\r\n          content: (\r\n            <div>\r\n              <StepContainer>\r\n                <StepNumber>1</StepNumber>\r\n                <StepTitle>Probar tu Juego</StepTitle>\r\n                <StepDescription>\r\n                  Siempre prueba cada parte de tu historia antes de continuar.\r\n                </StepDescription>\r\n                <CodeExample>\r\n                  <CodeLabel> Pruebas</CodeLabel>\r\n                  <pre>{`# Usa el men de depuracin de Ren'Py\r\n# Presiona Shift+D para acceder a herramientas de desarrollador\r\n\r\n# Verifica que todas las rutas funcionen\r\n# Prueba cada decisin\r\n# Verifica que las variables cambien correctamente\r\n# Asegrate de que las imgenes se muestren`}</pre>\r\n                </CodeExample>\r\n              </StepContainer>\r\n\r\n              <StepContainer>\r\n                <StepNumber>2</StepNumber>\r\n                <StepTitle>Errores Comunes</StepTitle>\r\n                <StepDescription>\r\n                  Los errores ms frecuentes y cmo evitarlos.\r\n                </StepDescription>\r\n              </StepContainer>\r\n\r\n              <InfoBox>\r\n                <InfoTitle> Errores Comunes</InfoTitle>\r\n                <InfoText>\r\n                  <ul>\r\n                    <li><strong>Imgenes no encontradas:</strong> Verifica nombres y ubicaciones</li>\r\n                    <li><strong>Labels faltantes:</strong> Asegrate de que todos los labels existan</li>\r\n                    <li><strong>Variables no definidas:</strong> Define todas las variables con default</li>\r\n                    <li><strong>Comillas faltantes:</strong> Todos los dilogos deben tener comillas</li>\r\n                    <li><strong>Indentacin incorrecta:</strong> Usa 4 espacios consistentemente</li>\r\n                  </ul>\r\n                </InfoText>\r\n              </InfoBox>\r\n\r\n              <WarningBox>\r\n                <WarningTitle> Consejo de Desarrollo</WarningTitle>\r\n                <WarningText>\r\n                  Guarda tu trabajo frecuentemente y haz copias de seguridad. \r\n                  Ren'Py tiene un sistema de guardado automtico, pero siempre es bueno tener respaldos.\r\n                </WarningText>\r\n              </WarningBox>\r\n            </div>\r\n          )\r\n        }\r\n      ]\r\n    }\r\n  };\r\n\r\n  const getCurrentChapter = () => {\r\n    return chapters[currentChapter] || chapters.introduction;\r\n  };\r\n\r\n  const getProgress = () => {\r\n    const totalSteps = Object.values(chapters).reduce((acc, chapter) => acc + chapter.steps.length, 0);\r\n    const completedCount = completedSteps.size;\r\n    return Math.round((completedCount / totalSteps) * 100);\r\n  };\r\n\r\n  const markStepCompleted = (stepId) => {\r\n    setCompletedSteps(prev => new Set([...prev, stepId]));\r\n  };\r\n\r\n  const isStepCompleted = (stepId) => {\r\n    return completedSteps.has(stepId);\r\n  };\r\n\r\n  return (\r\n    <GuideContainer>\r\n      <GuideHeader>\r\n        <GuideTitle>\r\n           Gua para Principiantes\r\n        </GuideTitle>\r\n        <CloseButton onClick={onClose}>\r\n           Cerrar\r\n        </CloseButton>\r\n      </GuideHeader>\r\n\r\n      <GuideContent>\r\n        <ProgressContainer>\r\n          <ProgressTitle>\r\n             Tu Progreso\r\n          </ProgressTitle>\r\n          <ProgressBar>\r\n            <ProgressFill progress={getProgress()} />\r\n          </ProgressBar>\r\n          <ProgressText>\r\n            {completedSteps.size} de {Object.values(chapters).reduce((acc, chapter) => acc + chapter.steps.length, 0)} pasos completados ({getProgress()}%)\r\n          </ProgressText>\r\n        </ProgressContainer>\r\n\r\n        <ChapterTabs>\r\n          <ChapterTab \r\n            active={currentChapter === 'introduction'} \r\n            onClick={() => setCurrentChapter('introduction')}\r\n          >\r\n             Introduccin\r\n          </ChapterTab>\r\n          <ChapterTab \r\n            active={currentChapter === 'basics'} \r\n            onClick={() => setCurrentChapter('basics')}\r\n          >\r\n             Conceptos Bsicos\r\n          </ChapterTab>\r\n          <ChapterTab \r\n            active={currentChapter === 'variables'} \r\n            onClick={() => setCurrentChapter('variables')}\r\n          >\r\n             Variables y Lgica\r\n          </ChapterTab>\r\n          <ChapterTab \r\n            active={currentChapter === 'polish'} \r\n            onClick={() => setCurrentChapter('polish')}\r\n          >\r\n             Pulir tu Juego\r\n          </ChapterTab>\r\n        </ChapterTabs>\r\n\r\n        <ChapterContent>\r\n          <ChapterTitle>\r\n            {getCurrentChapter().title}\r\n          </ChapterTitle>\r\n\r\n          {getCurrentChapter().steps.map((step, index) => (\r\n            <div key={step.id}>\r\n              <StepContainer>\r\n                <StepNumber>{index + 1}</StepNumber>\r\n                <StepTitle>\r\n                  {step.title}\r\n                  {isStepCompleted(step.id) && ' '}\r\n                </StepTitle>\r\n                <StepDescription>\r\n                  {step.description}\r\n                </StepDescription>\r\n                {step.content}\r\n                {!isStepCompleted(step.id) && (\r\n                  <NextButton onClick={() => markStepCompleted(step.id)}>\r\n                     Marcar como Completado\r\n                  </NextButton>\r\n                )}\r\n              </StepContainer>\r\n            </div>\r\n          ))}\r\n        </ChapterContent>\r\n      </GuideContent>\r\n    </GuideContainer>\r\n  );\r\n}\r\n\r\nexport default BeginnersGuidePage;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ResourcesContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst ResourcesHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst ResourcesTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 28px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst ResourcesContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  margin-bottom: 30px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst SearchTitle = styled.h2`\r\n  color: var(--color-success);\r\n  margin: 0 0 15px 0;\r\n  font-size: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-success);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 3px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-weight: 400;\r\n  }\r\n`;\r\n\r\nconst CategoryTabs = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 30px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CategoryTab = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-success)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.active ? 'var(--color-success)' : 'var(--color-border)'};\r\n  padding: 14px 22px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-primary)'};\r\n    color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textInverse)'};\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ResourceGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst ResourceCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-success);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-8px);\r\n    box-shadow: 0 12px 32px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ResourceHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst ResourceTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst ResourceType = styled.span`\r\n  background-color: ${props => {\r\n    switch(props.type) {\r\n      case 'official': return 'var(--color-info)';\r\n      case 'community': return 'var(--color-success)';\r\n      case 'tutorial': return 'var(--color-warning)';\r\n      case 'tool': return 'var(--color-primary)';\r\n      case 'asset': return 'var(--color-error)';\r\n      case 'game': return 'var(--color-border)';\r\n      default: return 'var(--color-borderSecondary)';\r\n    }\r\n  }};\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ResourceDescription = styled.p`\r\n  color: var(--color-textSecondary);\r\n  margin: 0 0 15px 0;\r\n  line-height: 1.6;\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ResourceLink = styled.a`\r\n  background-color: var(--color-success);\r\n  color: var(--color-textInverse);\r\n  text-decoration: none;\r\n  padding: 12px 20px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  display: inline-block;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  border: 2px solid var(--color-success);\r\n\r\n  &:hover {\r\n    background-color: var(--color-successHover);\r\n    border-color: var(--color-successHover);\r\n    transform: translateY(-2px) scale(1.02);\r\n    box-shadow: 0 6px 20px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0) scale(0.98);\r\n    box-shadow: 0 3px 8px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst ResourceTags = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin: 15px 0;\r\n`;\r\n\r\nconst Tag = styled.span`\r\n  background-color: var(--color-border);\r\n  color: var(--color-textInverse);\r\n  padding: 6px 10px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 6px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst InfoBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-success);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin: 20px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 16px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-successHover);\r\n    box-shadow: 0 6px 20px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst InfoTitle = styled.div`\r\n  color: var(--color-success);\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst InfoText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 15px;\r\n  line-height: 1.6;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst TipBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-warning);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin: 20px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 16px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-warningHover);\r\n    box-shadow: 0 6px 20px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst TipTitle = styled.div`\r\n  color: var(--color-warning);\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst TipText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 15px;\r\n  line-height: 1.6;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst WarningBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-error);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin: 20px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 16px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-errorHover);\r\n    box-shadow: 0 6px 20px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst WarningTitle = styled.div`\r\n  color: var(--color-error);\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 15px;\r\n  line-height: 1.6;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst QuickAccessGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 15px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst QuickAccessCard = styled.a`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  text-decoration: none;\r\n  color: var(--color-textPrimary);\r\n  text-align: center;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-success);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-5px);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst QuickAccessIcon = styled.div`\r\n  font-size: 32px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst QuickAccessTitle = styled.div`\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  color: var(--color-success);\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst GameBanner = styled.div`\r\n  width: 100%;\r\n  height: 120px;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border-radius: 12px;\r\n  margin: 15px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 2px solid var(--color-border);\r\n  overflow: hidden;\r\n  position: relative;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n\r\n  .placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-size: 14px;\r\n    text-align: center;\r\n    transition: color 0.3s ease;\r\n  }\r\n`;\r\n\r\nconst GameInfo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin: 10px 0;\r\n`;\r\n\r\nconst GameTitle = styled.h4`\r\n  margin: 0;\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst GameDeveloper = styled.div`\r\n  color: var(--color-textTertiary);\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst GamePrice = styled.div`\r\n  color: var(--color-success);\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst GameTags = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 6px;\r\n  margin: 10px 0;\r\n`;\r\n\r\nconst GameTag = styled.span`\r\n  background-color: var(--color-border);\r\n  color: var(--color-textInverse);\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 6px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nfunction ResourcesPage({ onClose }) {\r\n  const [activeCategory, setActiveCategory] = useState('official');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const resources = {\r\n    official: [\r\n      {\r\n        id: 'renpy-website',\r\n        title: 'Sitio Web Oficial de Ren\\'Py',\r\n        icon: '',\r\n        type: 'official',\r\n        description: 'El sitio web principal de Ren\\'Py con descargas, documentacin y noticias oficiales.',\r\n        link: 'https://www.renpy.org/',\r\n        tags: ['oficial', 'descarga', 'documentacin']\r\n      },\r\n      {\r\n        id: 'renpy-docs',\r\n        title: 'Documentacin Oficial',\r\n        icon: '',\r\n        type: 'official',\r\n        description: 'Documentacin completa de Ren\\'Py con ejemplos, tutoriales y referencia de la API.',\r\n        link: 'https://www.renpy.org/doc/html/',\r\n        tags: ['documentacin', 'tutorial', 'referencia']\r\n      },\r\n      {\r\n        id: 'renpy-forum',\r\n        title: 'Foro Oficial de Ren\\'Py',\r\n        icon: '',\r\n        type: 'official',\r\n        description: 'Foro oficial donde puedes hacer preguntas, compartir proyectos y obtener ayuda.',\r\n        link: 'https://lemmasoft.renai.us/forums/',\r\n        tags: ['foro', 'ayuda', 'comunidad']\r\n      },\r\n      {\r\n        id: 'renpy-github',\r\n        title: 'Repositorio GitHub',\r\n        icon: '',\r\n        type: 'official',\r\n        description: 'Cdigo fuente de Ren\\'Py, reportes de bugs y contribuciones al proyecto.',\r\n        link: 'https://github.com/renpy/renpy',\r\n        tags: ['cdigo', 'bugs', 'contribuir']\r\n      }\r\n    ],\r\n    community: [\r\n      {\r\n        id: 'itch-renpy',\r\n        title: 'Itch.io - Ren\\'Py Games',\r\n        icon: '',\r\n        type: 'community',\r\n        description: 'Descubre miles de novelas visuales creadas con Ren\\'Py en Itch.io.',\r\n        link: 'https://itch.io/games/tag-renpy',\r\n        tags: ['juegos', 'inspiracin', 'comunidad']\r\n      },\r\n      {\r\n        id: 'reddit-renpy',\r\n        title: 'r/RenPy (Reddit)',\r\n        icon: '',\r\n        type: 'community',\r\n        description: 'Subreddit activo con consejos, recursos y proyectos de la comunidad.',\r\n        link: 'https://www.reddit.com/r/RenPy/',\r\n        tags: ['reddit', 'consejos', 'proyectos']\r\n      },\r\n      {\r\n        id: 'discord-renpy',\r\n        title: 'Discord de Ren\\'Py',\r\n        icon: '',\r\n        type: 'community',\r\n        description: 'Chat en tiempo real con la comunidad de desarrolladores de Ren\\'Py.',\r\n        link: 'https://discord.gg/renpy',\r\n        tags: ['chat', 'tiempo real', 'ayuda']\r\n      },\r\n      {\r\n        id: 'renpy-cookbook',\r\n        title: 'Ren\\'Py Cookbook',\r\n        icon: '',\r\n        type: 'community',\r\n        description: 'Coleccin de recetas y soluciones para problemas comunes en Ren\\'Py.',\r\n        link: 'https://renpy-cookbook.itch.io/',\r\n        tags: ['recetas', 'soluciones', 'ejemplos']\r\n      }\r\n    ],\r\n    tutorials: [\r\n      {\r\n        id: 'renpy-tutorial-series',\r\n        title: 'Serie de Tutoriales de Ren\\'Py',\r\n        icon: '',\r\n        type: 'tutorial',\r\n        description: 'Tutoriales paso a paso para aprender Ren\\'Py desde cero hasta nivel avanzado.',\r\n        link: 'https://www.renpy.org/doc/html/tutorial.html',\r\n        tags: ['tutorial', 'principiante', 'avanzado']\r\n      },\r\n      {\r\n        id: 'youtube-renpy',\r\n        title: 'Tutoriales en YouTube',\r\n        icon: '',\r\n        type: 'tutorial',\r\n        description: 'Busca \"Ren\\'Py tutorial\" en YouTube para encontrar videos explicativos.',\r\n        link: 'https://www.youtube.com/results?search_query=renpy+tutorial',\r\n        tags: ['video', 'visual', 'explicacin']\r\n      },\r\n      {\r\n        id: 'renpy-school',\r\n        title: 'Ren\\'Py School (Blog)',\r\n        icon: '',\r\n        type: 'tutorial',\r\n        description: 'Blog con lecciones detalladas sobre desarrollo de novelas visuales.',\r\n        link: 'https://renpyschool.blogspot.com/',\r\n        tags: ['blog', 'lecciones', 'detallado']\r\n      }\r\n    ],\r\n    tools: [\r\n      {\r\n        id: 'renpy-launcher',\r\n        title: 'Ren\\'Py Launcher',\r\n        icon: '',\r\n        type: 'tool',\r\n        description: 'Herramienta incluida con Ren\\'Py para gestionar proyectos y distribuir juegos.',\r\n        link: 'https://www.renpy.org/doc/html/launcher.html',\r\n        tags: ['launcher', 'proyectos', 'distribucin']\r\n      },\r\n      {\r\n        id: 'renpy-sdk',\r\n        title: 'Ren\\'Py SDK',\r\n        icon: '',\r\n        type: 'tool',\r\n        description: 'Kit de desarrollo completo con todas las herramientas necesarias.',\r\n        link: 'https://www.renpy.org/download.html',\r\n        tags: ['sdk', 'desarrollo', 'herramientas']\r\n      },\r\n      {\r\n        id: 'atom-renpy',\r\n        title: 'Paquete Atom para Ren\\'Py',\r\n        icon: '',\r\n        type: 'tool',\r\n        description: 'Soporte de sintaxis y autocompletado para Ren\\'Py en el editor Atom.',\r\n        link: 'https://atom.io/packages/language-renpy',\r\n        tags: ['editor', 'sintaxis', 'autocompletado']\r\n      },\r\n      {\r\n        id: 'vscode-renpy',\r\n        title: 'Extensin VS Code para Ren\\'Py',\r\n        icon: '',\r\n        type: 'tool',\r\n        description: 'Soporte completo para Ren\\'Py en Visual Studio Code.',\r\n        link: 'https://marketplace.visualstudio.com/items?itemName=LuqueDaniel.languague-renpy',\r\n        tags: ['vscode', 'extensin', 'soporte']\r\n      }\r\n    ],\r\n    assets: [\r\n      {\r\n        id: 'freesound',\r\n        title: 'Freesound',\r\n        icon: '',\r\n        type: 'asset',\r\n        description: 'Biblioteca gratuita de efectos de sonido y msica con licencia Creative Commons.',\r\n        link: 'https://freesound.org/',\r\n        tags: ['audio', 'gratuito', 'efectos']\r\n      },\r\n      {\r\n        id: 'opengameart',\r\n        title: 'OpenGameArt',\r\n        icon: '',\r\n        type: 'asset',\r\n        description: 'Recursos grficos gratuitos para juegos, incluyendo sprites y fondos.',\r\n        link: 'https://opengameart.org/',\r\n        tags: ['grficos', 'gratuito', 'sprites']\r\n      },\r\n      {\r\n        id: 'kenney-assets',\r\n        title: 'Kenney Assets',\r\n        icon: '',\r\n        type: 'asset',\r\n        description: 'Paquetes de assets gratuitos de alta calidad para juegos.',\r\n        link: 'https://kenney.nl/assets',\r\n        tags: ['assets', 'gratuito', 'calidad']\r\n      },\r\n       {\r\n         id: 'itch-assets',\r\n         title: 'Itch.io - Game Assets',\r\n         icon: '',\r\n         type: 'asset',\r\n         description: 'Miles de assets de pago y gratuitos para novelas visuales.',\r\n         link: 'https://itch.io/game-assets/tag-visual-novel',\r\n         tags: ['assets', 'pago', 'gratuito']\r\n       }\r\n     ],\r\n      games: [\r\n        {\r\n          id: 'doki-doki-literature-club',\r\n          title: 'Doki Doki Literature Club!',\r\n          icon: '',\r\n          type: 'game',\r\n          description: 'Una novela visual psicolgica que desafa las expectativas del gnero.',\r\n          link: 'https://ddlc.moe/',\r\n          banner: 'https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/698780/capsule_616x353.jpg?t=1681943582',\r\n          developer: 'Team Salvato',\r\n          price: 'Gratuito',\r\n          tags: ['psicolgico', 'horror', 'gratuito', 'popular']\r\n        },\r\n        {\r\n          id: 'katawa-shoujo',\r\n          title: 'Katawa Shoujo',\r\n          icon: '',\r\n          type: 'game',\r\n          description: 'Una novela visual romntica que trata temas de discapacidad con sensibilidad.',\r\n          link: 'https://www.katawa-shoujo.com/',\r\n          banner: 'https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/3068300/capsule_616x353.jpg?t=1744712256',\r\n          developer: 'Four Leaf Studios',\r\n          price: 'Gratuito',\r\n          tags: ['romance', 'drama', 'gratuito', 'clsico']\r\n        },\r\n        {\r\n          id: 'long-live-the-queen',\r\n          title: 'Long Live The Queen',\r\n          icon: '',\r\n          type: 'game',\r\n          description: 'Una novela visual de estrategia donde debes preparar a una princesa para gobernar.',\r\n          link: 'https://www.hanakogames.com/LLQ.shtml',\r\n          banner: 'https://assets.nintendo.com/image/upload/q_auto/f_auto/ncom/software/switch/70010000054492/a2ffbdcd5b37db8700b07837104b1690f16bb05ba8c9dbba22b1b149b4950d1f',\r\n          developer: 'Hanako Games',\r\n          price: 'Pago',\r\n          tags: ['estrategia', 'fantasa', 'mltiples finales']\r\n        },\r\n        {\r\n          id: 'analogue-a-hate-story',\r\n          title: 'Analogue: A Hate Story',\r\n          icon: '',\r\n          type: 'game',\r\n          description: 'Una novela visual de ciencia ficcin sobre una nave espacial abandonada.',\r\n          link: 'https://loveconquersallgam.es/analogue/',\r\n          banner: 'https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/209370/header.jpg?t=1567630753',\r\n          developer: 'Love Conquers All Games',\r\n          price: 'Pago',\r\n          tags: ['ciencia ficcin', 'misterio', 'investigacin']\r\n        },\r\n        {\r\n          id: 'hate-plus',\r\n          title: 'Hate Plus',\r\n          icon: '',\r\n          type: 'game',\r\n          description: 'Secuela de Analogue que profundiza en la historia de la nave espacial.',\r\n          link: 'https://loveconquersallgam.es/hate-plus/',\r\n          banner: 'https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/239700/capsule_616x353.jpg?t=1726321087',\r\n          developer: 'Love Conquers All Games',\r\n          price: 'Pago',\r\n          tags: ['ciencia ficcin', 'secuela', 'drama']\r\n        },\r\n        {\r\n          id: 'butterfly-soup',\r\n          title: 'Butterfly Soup',\r\n          icon: '',\r\n          type: 'game',\r\n          description: 'Una novela visual sobre adolescentes queer jugando bisbol.',\r\n          link: 'https://brianna-lei.itch.io/butterfly-soup',\r\n          banner: 'https://upload.wikimedia.org/wikipedia/en/8/87/Butterfly_Soup_title_card.png',\r\n          developer: 'Brianna Lei',\r\n          price: 'Gratuito',\r\n          tags: ['LGBTQ+', 'comedia', 'deportes', 'gratuito']\r\n        },\r\n        {\r\n          id: 'the-house-in-fata-morgana',\r\n          title: 'The House in Fata Morgana',\r\n          icon: '',\r\n          type: 'game',\r\n          description: 'Una novela visual gtica que cuenta una historia a travs de diferentes pocas.',\r\n          link: 'https://store.steampowered.com/app/303310/The_House_in_Fata_Morgana/',\r\n          banner: 'https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/303310/capsule_616x353.jpg?t=1725518929',\r\n          developer: 'Novectacle',\r\n          price: 'Pago',\r\n          tags: ['gtico', 'horror', 'drama', 'mltiples pocas']\r\n        },\r\n        {\r\n          id: 'va-11-hall-a',\r\n          title: 'VA-11 HALL-A',\r\n          icon: '',\r\n          type: 'game',\r\n          description: 'Una novela visual cyberpunk sobre una bartender en un futuro distpico.',\r\n          link: 'https://store.steampowered.com/app/447530/VA11_HallA_Cyberpunk_Bartender_Action/',\r\n          banner: 'https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/447530/capsule_616x353.jpg?t=1730740610',\r\n          developer: 'Sukeban Games',\r\n          price: 'Pago',\r\n          tags: ['cyberpunk', 'simulacin', 'futuro', 'bartender']\r\n        }\r\n      ]\r\n   };\r\n\r\n  const quickAccess = [\r\n    {\r\n      title: 'Descargar Ren\\'Py',\r\n      icon: '',\r\n      link: 'https://www.renpy.org/latest.html'\r\n    },\r\n    {\r\n      title: 'Documentacin',\r\n      icon: '',\r\n      link: 'https://www.renpy.org/doc/html/'\r\n    },\r\n    {\r\n      title: 'Foro Oficial',\r\n      icon: '',\r\n      link: 'https://lemmasoft.renai.us/forums/'\r\n    },\r\n    {\r\n      title: 'Juegos de Ejemplo',\r\n      icon: '',\r\n      link: 'https://itch.io/games/tag-renpy'\r\n    }\r\n  ];\r\n\r\n  const getCurrentResources = () => {\r\n    let currentResources = resources[activeCategory] || [];\r\n    \r\n    if (searchTerm) {\r\n      currentResources = currentResources.filter(resource =>\r\n        resource.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        resource.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        resource.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\r\n      );\r\n    }\r\n    \r\n    return currentResources;\r\n  };\r\n\r\n   const getTypeText = (type) => {\r\n     switch(type) {\r\n       case 'official': return 'Oficial';\r\n       case 'community': return 'Comunidad';\r\n       case 'tutorial': return 'Tutorial';\r\n       case 'tool': return 'Herramienta';\r\n       case 'asset': return 'Recurso';\r\n       case 'game': return 'Juego';\r\n       default: return 'Otro';\r\n     }\r\n   };\r\n\r\n  return (\r\n    <ResourcesContainer>\r\n      <ResourcesHeader>\r\n        <ResourcesTitle>\r\n           Recursos y Enlaces\r\n        </ResourcesTitle>\r\n        <CloseButton onClick={onClose}>\r\n           Cerrar\r\n        </CloseButton>\r\n      </ResourcesHeader>\r\n\r\n      <ResourcesContent>\r\n        <SearchBox>\r\n          <SearchTitle>\r\n             Buscar Recursos\r\n          </SearchTitle>\r\n          <SearchInput\r\n            type=\"text\"\r\n            placeholder=\"Busca recursos especficos...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </SearchBox>\r\n\r\n        <QuickAccessGrid>\r\n          {quickAccess.map((item, index) => (\r\n            <QuickAccessCard key={index} href={item.link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n              <QuickAccessIcon>{item.icon}</QuickAccessIcon>\r\n              <QuickAccessTitle>{item.title}</QuickAccessTitle>\r\n            </QuickAccessCard>\r\n          ))}\r\n        </QuickAccessGrid>\r\n\r\n         <CategoryTabs>\r\n           <CategoryTab \r\n             active={activeCategory === 'official'} \r\n             onClick={() => setActiveCategory('official')}\r\n           >\r\n              Oficiales\r\n           </CategoryTab>\r\n           <CategoryTab \r\n             active={activeCategory === 'community'} \r\n             onClick={() => setActiveCategory('community')}\r\n           >\r\n              Comunidad\r\n           </CategoryTab>\r\n           <CategoryTab \r\n             active={activeCategory === 'tutorials'} \r\n             onClick={() => setActiveCategory('tutorials')}\r\n           >\r\n              Tutoriales\r\n           </CategoryTab>\r\n           <CategoryTab \r\n             active={activeCategory === 'tools'} \r\n             onClick={() => setActiveCategory('tools')}\r\n           >\r\n              Herramientas\r\n           </CategoryTab>\r\n           <CategoryTab \r\n             active={activeCategory === 'assets'} \r\n             onClick={() => setActiveCategory('assets')}\r\n           >\r\n              Recursos\r\n           </CategoryTab>\r\n           <CategoryTab \r\n             active={activeCategory === 'games'} \r\n             onClick={() => setActiveCategory('games')}\r\n           >\r\n              Juegos\r\n           </CategoryTab>\r\n         </CategoryTabs>\r\n\r\n         <ResourceGrid>\r\n           {getCurrentResources().map((resource) => (\r\n             <ResourceCard key={resource.id}>\r\n               <ResourceHeader>\r\n                 <ResourceTitle>\r\n                   {resource.icon} {resource.title}\r\n                 </ResourceTitle>\r\n                 <ResourceType type={resource.type}>\r\n                   {getTypeText(resource.type)}\r\n                 </ResourceType>\r\n               </ResourceHeader>\r\n               \r\n               {resource.type === 'game' && (\r\n                 <GameBanner>\r\n                   {resource.banner ? (\r\n                     <img \r\n                       src={resource.banner} \r\n                       alt={`Banner de ${resource.title}`}\r\n                       onError={(e) => {\r\n                         e.target.style.display = 'none';\r\n                         e.target.nextSibling.style.display = 'flex';\r\n                       }}\r\n                     />\r\n                   ) : null}\r\n                   <div className=\"placeholder\" style={{display: resource.banner ? 'none' : 'flex'}}>\r\n                     <div style={{textAlign: 'center'}}>\r\n                       <div style={{fontSize: '32px', marginBottom: '8px'}}>{resource.icon}</div>\r\n                       <div style={{fontSize: '14px', fontWeight: 'bold', color: 'var(--color-textPrimary)'}}>{resource.title}</div>\r\n                       <div style={{fontSize: '12px', color: 'var(--color-textTertiary)', marginTop: '4px'}}>Novela Visual</div>\r\n                     </div>\r\n                   </div>\r\n                 </GameBanner>\r\n               )}\r\n\r\n               <ResourceDescription>\r\n                 {resource.description}\r\n               </ResourceDescription>\r\n\r\n               {resource.type === 'game' && (\r\n                 <GameInfo>\r\n                   <GameDeveloper>Desarrollado por: {resource.developer}</GameDeveloper>\r\n                   <GamePrice>{resource.price}</GamePrice>\r\n                 </GameInfo>\r\n               )}\r\n\r\n               <ResourceTags>\r\n                 {resource.tags.map((tag, index) => (\r\n                   <Tag key={index}>{tag}</Tag>\r\n                 ))}\r\n               </ResourceTags>\r\n\r\n               <ResourceLink \r\n                 href={resource.link} \r\n                 target=\"_blank\" \r\n                 rel=\"noopener noreferrer\"\r\n               >\r\n                  {resource.type === 'game' ? 'Jugar/Comprar' : 'Visitar Enlace'}\r\n               </ResourceLink>\r\n             </ResourceCard>\r\n           ))}\r\n         </ResourceGrid>\r\n\r\n        {getCurrentResources().length === 0 && searchTerm && (\r\n          <div style={{ \r\n            textAlign: 'center', \r\n            color: 'var(--color-textTertiary)', \r\n            fontSize: '18px',\r\n            marginTop: '50px'\r\n          }}>\r\n            No se encontraron recursos que coincidan con \"{searchTerm}\"\r\n          </div>\r\n        )}\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Consejo\r\n          </InfoTitle>\r\n          <InfoText>\r\n            Estos recursos estn organizados por categoras para facilitar tu bsqueda. \r\n            Usa la barra de bsqueda para encontrar recursos especficos por palabras clave.\r\n          </InfoText>\r\n        </InfoBox>\r\n\r\n        <TipBox>\r\n          <TipTitle>\r\n             Tip de Desarrollo\r\n          </TipTitle>\r\n          <TipText>\r\n            Recomendamos empezar con los recursos oficiales y luego explorar la comunidad \r\n            para obtener inspiracin y ayuda adicional.\r\n          </TipText>\r\n        </TipBox>\r\n\r\n        <WarningBox>\r\n          <WarningTitle>\r\n             Importante\r\n          </WarningTitle>\r\n          <WarningText>\r\n            Siempre verifica las licencias de los recursos que uses en tu proyecto. \r\n            Algunos pueden requerir atribucin o tener restricciones de uso comercial.\r\n          </WarningText>\r\n        </WarningBox>\r\n      </ResourcesContent>\r\n    </ResourcesContainer>\r\n  );\r\n}\r\n\r\nexport default ResourcesPage;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ProjectStructureContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst ProjectStructureHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst ProjectStructureTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 32px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    transform: scale(1.05);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst ProjectStructureContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  margin-bottom: 30px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst SearchTitle = styled.h2`\r\n  color: var(--color-success);\r\n  margin: 0 0 20px 0;\r\n  font-size: 22px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 3px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-success);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 3px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-weight: 400;\r\n  }\r\n`;\r\n\r\nconst CategoryTabs = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 30px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CategoryTab = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-success)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.active ? 'var(--color-success)' : 'var(--color-border)'};\r\n  padding: 14px 22px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-primary)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst StructureGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst StructureCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-success);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-8px);\r\n    box-shadow: 0 12px 32px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst StructureHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst StructureTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 20px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst StructureType = styled.span`\r\n  background-color: ${props => {\r\n    switch(props.type) {\r\n      case 'folder': return 'var(--color-info)';\r\n      case 'file': return 'var(--color-success)';\r\n      case 'config': return 'var(--color-warning)';\r\n      case 'script': return 'var(--color-primary)';\r\n      case 'asset': return 'var(--color-border)';\r\n      default: return 'var(--color-borderSecondary)';\r\n    }\r\n  }};\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst StructureDescription = styled.p`\r\n  color: var(--color-textPrimary);\r\n  margin: 0 0 18px 0;\r\n  line-height: 1.7;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst StructureTags = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin: 15px 0;\r\n`;\r\n\r\nconst Tag = styled.span`\r\n  background-color: var(--color-border);\r\n  color: var(--color-textInverse);\r\n  padding: 6px 10px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 6px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst CodeExample = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 3px solid var(--color-primary);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin: 18px 0;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--color-primary);\r\n  overflow-x: auto;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-primaryHover);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 3px;\r\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\r\n    border-radius: 10px 10px 0 0;\r\n  }\r\n`;\r\n\r\nconst InfoBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-success);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-successHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-success), var(--color-successHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst InfoTitle = styled.div`\r\n  color: var(--color-success);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst InfoText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst TipBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-warning);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-warningHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst TipTitle = styled.div`\r\n  color: var(--color-warning);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst TipText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst WarningBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-error);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-errorHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst WarningTitle = styled.div`\r\n  color: var(--color-error);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nfunction ProjectStructurePage({ onClose }) {\r\n  const [activeCategory, setActiveCategory] = useState('folders');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const structureData = {\r\n    folders: [\r\n      {\r\n        id: 'game-folder',\r\n        title: 'game/',\r\n        icon: '',\r\n        type: 'folder',\r\n        description: 'Carpeta principal que contiene todos los archivos del juego. Es el corazn de tu proyecto Ren\\'Py.',\r\n        tags: ['principal', 'obligatorio', 'archivos del juego']\r\n      },\r\n      {\r\n        id: 'images-folder',\r\n        title: 'images/',\r\n        icon: '',\r\n        type: 'folder',\r\n        description: 'Carpeta para almacenar todas las imgenes del juego: sprites, fondos, GUI, etc.',\r\n        tags: ['imgenes', 'sprites', 'fondos', 'GUI']\r\n      },\r\n      {\r\n        id: 'audio-folder',\r\n        title: 'audio/',\r\n        icon: '',\r\n        type: 'folder',\r\n        description: 'Carpeta para archivos de audio: msica de fondo, efectos de sonido y voces.',\r\n        tags: ['audio', 'msica', 'efectos', 'voces']\r\n      },\r\n      {\r\n        id: 'gui-folder',\r\n        title: 'gui/',\r\n        icon: '',\r\n        type: 'folder',\r\n        description: 'Carpeta para elementos de la interfaz grfica personalizada.',\r\n        tags: ['interfaz', 'GUI', 'botones', 'personalizacin']\r\n      }\r\n    ],\r\n    files: [\r\n      {\r\n        id: 'script-rpy',\r\n        title: 'script.rpy',\r\n        icon: '',\r\n        type: 'file',\r\n        description: 'Archivo principal del script que contiene la historia y dilogos del juego.',\r\n        tags: ['script', 'historia', 'dilogos', 'principal']\r\n      },\r\n      {\r\n        id: 'options-rpy',\r\n        title: 'options.rpy',\r\n        icon: '',\r\n        type: 'config',\r\n        description: 'Archivo de configuracin que define las opciones del juego como resolucin, ttulo, etc.',\r\n        tags: ['configuracin', 'opciones', 'resolucin', 'ttulo']\r\n      },\r\n      {\r\n        id: 'gui-rpy',\r\n        title: 'gui.rpy',\r\n        icon: '',\r\n        type: 'config',\r\n        description: 'Archivo que define los estilos y apariencia de la interfaz grfica.',\r\n        tags: ['GUI', 'estilos', 'interfaz', 'apariencia']\r\n      },\r\n      {\r\n        id: 'screens-rpy',\r\n        title: 'screens.rpy',\r\n        icon: '',\r\n        type: 'script',\r\n        description: 'Define las pantallas del juego como mens, configuracin, etc.',\r\n        tags: ['pantallas', 'mens', 'configuracin', 'screens']\r\n      }\r\n    ]\r\n  };\r\n\r\n  const getCurrentStructure = () => {\r\n    let currentStructure = structureData[activeCategory] || [];\r\n    \r\n    if (searchTerm) {\r\n      currentStructure = currentStructure.filter(item =>\r\n        item.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\r\n      );\r\n    }\r\n    \r\n    return currentStructure;\r\n  };\r\n\r\n  const getTypeText = (type) => {\r\n    switch(type) {\r\n      case 'folder': return 'Carpeta';\r\n      case 'file': return 'Archivo';\r\n      case 'config': return 'Config';\r\n      case 'script': return 'Script';\r\n      case 'asset': return 'Asset';\r\n      default: return 'Otro';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ProjectStructureContainer>\r\n      <ProjectStructureHeader>\r\n        <ProjectStructureTitle>\r\n           Estructura de Proyectos\r\n        </ProjectStructureTitle>\r\n        <CloseButton onClick={onClose}>\r\n           Cerrar\r\n        </CloseButton>\r\n      </ProjectStructureHeader>\r\n\r\n      <ProjectStructureContent>\r\n        <SearchBox>\r\n          <SearchTitle>\r\n             Buscar en Estructura\r\n          </SearchTitle>\r\n          <SearchInput\r\n            type=\"text\"\r\n            placeholder=\"Busca carpetas, archivos o conceptos especficos...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </SearchBox>\r\n\r\n        <CategoryTabs>\r\n          <CategoryTab \r\n            active={activeCategory === 'folders'} \r\n            onClick={() => setActiveCategory('folders')}\r\n          >\r\n             Carpetas\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'files'} \r\n            onClick={() => setActiveCategory('files')}\r\n          >\r\n             Archivos\r\n          </CategoryTab>\r\n        </CategoryTabs>\r\n\r\n        <StructureGrid>\r\n          {getCurrentStructure().map((item) => (\r\n            <StructureCard key={item.id}>\r\n              <StructureHeader>\r\n                <StructureTitle>\r\n                  {item.icon} {item.title}\r\n                </StructureTitle>\r\n                <StructureType type={item.type}>\r\n                  {getTypeText(item.type)}\r\n                </StructureType>\r\n              </StructureHeader>\r\n              \r\n              <StructureDescription>\r\n                {item.description}\r\n              </StructureDescription>\r\n\r\n              <StructureTags>\r\n                {item.tags.map((tag, index) => (\r\n                  <Tag key={index}>{tag}</Tag>\r\n                ))}\r\n              </StructureTags>\r\n            </StructureCard>\r\n          ))}\r\n        </StructureGrid>\r\n\r\n        {getCurrentStructure().length === 0 && searchTerm && (\r\n          <div style={{ \r\n            textAlign: 'center', \r\n            color: 'var(--color-textTertiary)', \r\n            fontSize: '18px',\r\n            marginTop: '50px',\r\n            fontWeight: '600',\r\n            textShadow: '0 1px 2px var(--color-shadow)'\r\n          }}>\r\n            No se encontraron elementos que coincidan con \"{searchTerm}\"\r\n          </div>\r\n        )}\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Informacin Importante\r\n          </InfoTitle>\r\n          <InfoText>\r\n            La estructura de carpetas es fundamental para el funcionamiento de Ren'Py. \r\n            Cada carpeta y archivo tiene un propsito especfico segn la documentacin oficial.\r\n          </InfoText>\r\n        </InfoBox>\r\n\r\n        <TipBox>\r\n          <TipTitle>\r\n             Consejo de Organizacin\r\n          </TipTitle>\r\n          <TipText>\r\n            Mantn una estructura organizada desde el inicio del proyecto. \r\n            Usa nombres descriptivos para tus archivos y organiza las imgenes por categoras.\r\n          </TipText>\r\n        </TipBox>\r\n\r\n        <WarningBox>\r\n          <WarningTitle>\r\n             Importante\r\n          </WarningTitle>\r\n          <WarningText>\r\n            No modifiques la estructura bsica de carpetas de Ren'Py sin conocer las consecuencias. \r\n            Algunos archivos son obligatorios para el funcionamiento del motor.\r\n          </WarningText>\r\n        </WarningBox>\r\n      </ProjectStructureContent>\r\n    </ProjectStructureContainer>\r\n  );\r\n}\r\n\r\nexport default ProjectStructurePage;\r\n\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst BasicCustomizationContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst BasicCustomizationHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst BasicCustomizationTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 32px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    transform: scale(1.05);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst BasicCustomizationContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  margin-bottom: 30px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst SearchTitle = styled.h2`\r\n  color: var(--color-success);\r\n  margin: 0 0 20px 0;\r\n  font-size: 22px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 3px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-success);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 3px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-weight: 400;\r\n  }\r\n`;\r\n\r\nconst CategoryTabs = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 30px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CategoryTab = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-success)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.active ? 'var(--color-success)' : 'var(--color-border)'};\r\n  padding: 14px 22px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-primary)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst CustomizationGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst CustomizationCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-success);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-8px);\r\n    box-shadow: 0 12px 32px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst CustomizationHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst CustomizationTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 20px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst CustomizationType = styled.span`\r\n  background-color: ${props => {\r\n    switch(props.type) {\r\n      case 'gui': return 'var(--color-info)';\r\n      case 'config': return 'var(--color-success)';\r\n      case 'style': return 'var(--color-warning)';\r\n      case 'screen': return 'var(--color-primary)';\r\n      case 'image': return 'var(--color-border)';\r\n      default: return 'var(--color-borderSecondary)';\r\n    }\r\n  }};\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst CustomizationDescription = styled.p`\r\n  color: var(--color-textPrimary);\r\n  margin: 0 0 18px 0;\r\n  line-height: 1.7;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst CustomizationTags = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin: 15px 0;\r\n`;\r\n\r\nconst Tag = styled.span`\r\n  background-color: var(--color-border);\r\n  color: var(--color-textInverse);\r\n  padding: 6px 10px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 6px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst CodeExample = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 3px solid var(--color-primary);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin: 18px 0;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--color-primary);\r\n  overflow-x: auto;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-primaryHover);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 3px;\r\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\r\n    border-radius: 10px 10px 0 0;\r\n  }\r\n`;\r\n\r\nconst InfoBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-success);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-successHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-success), var(--color-successHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst InfoTitle = styled.div`\r\n  color: var(--color-success);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst InfoText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst TipBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-warning);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-warningHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst TipTitle = styled.div`\r\n  color: var(--color-warning);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst TipText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst WarningBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-error);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-errorHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst WarningTitle = styled.div`\r\n  color: var(--color-error);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nfunction BasicCustomizationPage({ onClose }) {\r\n  const [activeCategory, setActiveCategory] = useState('gui');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const customizationData = {\r\n    gui: [\r\n      {\r\n        id: 'gui-colors',\r\n        title: 'Colores y Tamaos',\r\n        icon: '',\r\n        type: 'gui',\r\n        description: 'Personalizacin bsica de colores, tamaos y apariencia general de la interfaz.',\r\n        tags: ['colores', 'tamao', 'interfaz', 'bsico'],\r\n        codeExample: `# En options.rpy\r\ndefine config.screen_width = 1920\r\ndefine config.screen_height = 1080\r\ndefine gui.accent_color = '#ff6b6b'\r\ndefine gui.idle_color = '#888888'`\r\n      },\r\n      {\r\n        id: 'gui-fonts',\r\n        title: 'Fuentes y Texto',\r\n        icon: '',\r\n        type: 'gui',\r\n        description: 'Configuracin de fuentes, tamaos de texto y estilos tipogrficos.',\r\n        tags: ['fuentes', 'texto', 'tipografa', 'estilos'],\r\n        codeExample: `# En gui.rpy\r\ndefine gui.text_font = \"DejaVuSans.ttf\"\r\ndefine gui.name_text_size = 45\r\ndefine gui.text_size = 33\r\ndefine gui.history_text_size = 30`\r\n      },\r\n      {\r\n        id: 'gui-buttons',\r\n        title: 'Botones y Controles',\r\n        icon: '',\r\n        type: 'gui',\r\n        description: 'Personalizacin de botones, mens y elementos de control.',\r\n        tags: ['botones', 'mens', 'controles', 'interfaz'],\r\n        codeExample: `# En gui.rpy\r\ndefine gui.button_text_size = 33\r\ndefine gui.button_width = 420\r\ndefine gui.button_height = None\r\ndefine gui.button_borders = Borders(6, 6, 6, 6)`\r\n      }\r\n    ],\r\n    config: [\r\n      {\r\n        id: 'config-basic',\r\n        title: 'Configuracin Bsica',\r\n        icon: '',\r\n        type: 'config',\r\n        description: 'Configuracin fundamental del juego como ttulo, resolucin y opciones bsicas.',\r\n        tags: ['configuracin', 'ttulo', 'resolucin', 'bsico'],\r\n        codeExample: `# En options.rpy\r\ndefine config.name = _(\"Mi Juego\")\r\ndefine config.version = \"1.0\"\r\ndefine config.screen_width = 1920\r\ndefine config.screen_height = 1080\r\ndefine config.window = \"auto\"`\r\n      },\r\n      {\r\n        id: 'config-audio',\r\n        title: 'Configuracin de Audio',\r\n        icon: '',\r\n        type: 'config',\r\n        description: 'Configuracin de canales de audio, volmenes y efectos de sonido.',\r\n        tags: ['audio', 'volumen', 'canales', 'sonido'],\r\n        codeExample: `# En options.rpy\r\ndefine config.has_sound = True\r\ndefine config.has_music = True\r\ndefine config.has_voice = True\r\ndefine config.voice_tag = \"voice\"`\r\n      },\r\n      {\r\n        id: 'config-save',\r\n        title: 'Sistema de Guardado',\r\n        icon: '',\r\n        type: 'config',\r\n        description: 'Configuracin del sistema de guardado y carga de partidas.',\r\n        tags: ['guardado', 'carga', 'partidas', 'sistema'],\r\n        codeExample: `# En options.rpy\r\ndefine config.auto_voice = \"voice\"\r\ndefine config.has_quicksave = True\r\ndefine config.has_autosave = True\r\ndefine config.autosave_frequency = 250`\r\n      }\r\n    ],\r\n    styles: [\r\n      {\r\n        id: 'style-basic',\r\n        title: 'Estilos Bsicos',\r\n        icon: '',\r\n        type: 'style',\r\n        description: 'Definicin de estilos bsicos para texto, botones y elementos de interfaz.',\r\n        tags: ['estilos', 'bsicos', 'interfaz', 'diseo'],\r\n        codeExample: `# En screens.rpy\r\nstyle default:\r\n    font \"DejaVuSans.ttf\"\r\n    size 33\r\n    color \"#fff\"\r\n    outlines [(2, \"#000\", 0, 0)]`\r\n      },\r\n      {\r\n        id: 'style-buttons',\r\n        title: 'Estilos de Botones',\r\n        icon: '',\r\n        type: 'style',\r\n        description: 'Personalizacin de estilos para diferentes tipos de botones.',\r\n        tags: ['botones', 'estilos', 'interfaz', 'personalizacin'],\r\n        codeExample: `# En screens.rpy\r\nstyle button:\r\n    background Frame(\"gui/button/idle.png\", Borders(6, 6, 6, 6))\r\n    hover_background Frame(\"gui/button/hover.png\", Borders(6, 6, 6, 6))\r\n    padding (25, 25, 25, 25)`\r\n      },\r\n      {\r\n        id: 'style-text',\r\n        title: 'Estilos de Texto',\r\n        icon: '',\r\n        type: 'style',\r\n        description: 'Configuracin de estilos para diferentes tipos de texto en el juego.',\r\n        tags: ['texto', 'estilos', 'tipografa', 'formato'],\r\n        codeExample: `# En screens.rpy\r\nstyle say_label:\r\n    font \"DejaVuSans-Bold.ttf\"\r\n    size 45\r\n    color \"#fff\"\r\n    outlines [(2, \"#000\", 0, 0)]`\r\n      }\r\n    ],\r\n    images: [\r\n      {\r\n        id: 'image-backgrounds',\r\n        title: 'Fondos y Escenarios',\r\n        icon: '',\r\n        type: 'image',\r\n        description: 'Configuracin y uso de imgenes de fondo y escenarios.',\r\n        tags: ['fondos', 'escenarios', 'imgenes', 'visual'],\r\n        codeExample: `# En script.rpy\r\nscene bg room\r\nshow bg room at center\r\nwith fade`\r\n      },\r\n      {\r\n        id: 'image-characters',\r\n        title: 'Sprites de Personajes',\r\n        icon: '',\r\n        type: 'image',\r\n        description: 'Configuracin y uso de sprites de personajes.',\r\n        tags: ['personajes', 'sprites', 'imgenes', 'visual'],\r\n        codeExample: `# En script.rpy\r\nshow eileen happy at center\r\nshow eileen concerned at right\r\nhide eileen`\r\n      },\r\n      {\r\n        id: 'image-gui',\r\n        title: 'Elementos de GUI',\r\n        icon: '',\r\n        type: 'image',\r\n        description: 'Imgenes para elementos de interfaz como botones y marcos.',\r\n        tags: ['GUI', 'interfaz', 'botones', 'elementos'],\r\n        codeExample: `# En gui.rpy\r\ndefine gui.main_menu_background = \"gui/main_menu.png\"\r\ndefine gui.game_menu_background = \"gui/game_menu.png\"`\r\n      }\r\n    ]\r\n  };\r\n\r\n  const getCurrentCustomization = () => {\r\n    let currentCustomization = customizationData[activeCategory] || [];\r\n    \r\n    if (searchTerm) {\r\n      currentCustomization = currentCustomization.filter(item =>\r\n        item.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\r\n      );\r\n    }\r\n    \r\n    return currentCustomization;\r\n  };\r\n\r\n  const getTypeText = (type) => {\r\n    switch(type) {\r\n      case 'gui': return 'GUI';\r\n      case 'config': return 'Config';\r\n      case 'style': return 'Estilo';\r\n      case 'image': return 'Imagen';\r\n      default: return 'Otro';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <BasicCustomizationContainer>\r\n      <BasicCustomizationHeader>\r\n        <BasicCustomizationTitle>\r\n           Personalizacin Bsica\r\n        </BasicCustomizationTitle>\r\n        <CloseButton onClick={onClose}>\r\n           Cerrar\r\n        </CloseButton>\r\n      </BasicCustomizationHeader>\r\n\r\n      <BasicCustomizationContent>\r\n        <SearchBox>\r\n          <SearchTitle>\r\n             Buscar en Personalizacin\r\n          </SearchTitle>\r\n          <SearchInput\r\n            type=\"text\"\r\n            placeholder=\"Busca configuraciones, estilos o elementos especficos...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </SearchBox>\r\n\r\n        <CategoryTabs>\r\n          <CategoryTab \r\n            active={activeCategory === 'gui'} \r\n            onClick={() => setActiveCategory('gui')}\r\n          >\r\n             GUI\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'config'} \r\n            onClick={() => setActiveCategory('config')}\r\n          >\r\n             Configuracin\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'styles'} \r\n            onClick={() => setActiveCategory('styles')}\r\n          >\r\n             Estilos\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'images'} \r\n            onClick={() => setActiveCategory('images')}\r\n          >\r\n             Imgenes\r\n          </CategoryTab>\r\n        </CategoryTabs>\r\n\r\n        <CustomizationGrid>\r\n          {getCurrentCustomization().map((item) => (\r\n            <CustomizationCard key={item.id}>\r\n              <CustomizationHeader>\r\n                <CustomizationTitle>\r\n                  {item.icon} {item.title}\r\n                </CustomizationTitle>\r\n                <CustomizationType type={item.type}>\r\n                  {getTypeText(item.type)}\r\n                </CustomizationType>\r\n              </CustomizationHeader>\r\n              \r\n              <CustomizationDescription>\r\n                {item.description}\r\n              </CustomizationDescription>\r\n\r\n              {item.codeExample && (\r\n                <CodeExample>\r\n                  {item.codeExample}\r\n                </CodeExample>\r\n              )}\r\n\r\n              <CustomizationTags>\r\n                {item.tags.map((tag, index) => (\r\n                  <Tag key={index}>{tag}</Tag>\r\n                ))}\r\n              </CustomizationTags>\r\n            </CustomizationCard>\r\n          ))}\r\n        </CustomizationGrid>\r\n\r\n        {getCurrentCustomization().length === 0 && searchTerm && (\r\n          <div style={{ \r\n            textAlign: 'center', \r\n            color: 'var(--color-textTertiary)', \r\n            fontSize: '18px',\r\n            fontWeight: '600',\r\n            marginTop: '50px',\r\n            textShadow: '0 1px 2px var(--color-shadow)'\r\n          }}>\r\n            No se encontraron elementos que coincidan con \"{searchTerm}\"\r\n          </div>\r\n        )}\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Informacin Importante\r\n          </InfoTitle>\r\n          <InfoText>\r\n            La personalizacin bsica de Ren'Py se realiza principalmente en los archivos options.rpy, gui.rpy y screens.rpy. \r\n            Estos archivos controlan la apariencia y comportamiento fundamental del juego segn la documentacin oficial.\r\n          </InfoText>\r\n        </InfoBox>\r\n\r\n        <TipBox>\r\n          <TipTitle>\r\n             Consejo de Personalizacin\r\n          </TipTitle>\r\n          <TipText>\r\n            Comienza con la personalizacin bsica antes de avanzar a modificaciones ms complejas. \r\n            Los archivos gui.rpy y options.rpy son ideales para empezar a personalizar tu juego.\r\n          </TipText>\r\n        </TipBox>\r\n\r\n        <WarningBox>\r\n          <WarningTitle>\r\n             Importante\r\n          </WarningTitle>\r\n          <WarningText>\r\n            Siempre haz una copia de seguridad de tus archivos antes de modificarlos. \r\n            Algunos cambios pueden afectar la funcionalidad del juego si no se implementan correctamente.\r\n          </WarningText>\r\n        </WarningBox>\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Recursos Adicionales\r\n          </InfoTitle>\r\n          <InfoText>\r\n            Para ms informacin detallada sobre personalizacin, consulta la documentacin oficial de Ren'Py:\r\n            <br /> <a href=\"https://www.renpy.org/doc/html/gui.html\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)', fontWeight: '600', textShadow: '0 1px 2px var(--color-shadow)'}}>GUI Customization Guide</a>\r\n            <br /> <a href=\"https://www.renpy.org/doc/html/quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)', fontWeight: '600', textShadow: '0 1px 2px var(--color-shadow)'}}>Quickstart Guide</a>\r\n            <br /> <a href=\"https://lemmasoft.renai.us/forums/viewforum.php?f=51\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)', fontWeight: '600', textShadow: '0 1px 2px var(--color-shadow)'}}>Ren'Py Cookbook</a>\r\n          </InfoText>\r\n        </InfoBox>\r\n      </BasicCustomizationContent>\r\n    </BasicCustomizationContainer>\r\n  );\r\n}\r\n\r\nexport default BasicCustomizationPage;\r\n\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst GlossaryContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst GlossaryHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst GlossaryTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 32px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst GlossaryContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  margin-bottom: 30px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst SearchTitle = styled.h2`\r\n  color: var(--color-success);\r\n  margin: 0 0 20px 0;\r\n  font-size: 22px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 3px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-success);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 3px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-weight: 400;\r\n  }\r\n`;\r\n\r\nconst CategoryTabs = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 30px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CategoryTab = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-success)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.active ? 'var(--color-success)' : 'var(--color-border)'};\r\n  padding: 14px 22px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.active ? 'var(--color-successHover)' : 'var(--color-primary)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst GlossaryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst TermCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-success);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-8px);\r\n    box-shadow: 0 12px 32px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst TermHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst TermTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-success);\r\n  font-size: 20px;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst TermCategory = styled.span`\r\n  background-color: ${props => {\r\n    switch(props.category) {\r\n      case 'language': return 'var(--color-info)';\r\n      case 'gui': return 'var(--color-success)';\r\n      case 'config': return 'var(--color-warning)';\r\n      case 'script': return 'var(--color-primary)';\r\n      case 'display': return 'var(--color-error)';\r\n      case 'audio': return 'var(--color-border)';\r\n      case 'python': return 'var(--color-borderSecondary)';\r\n      default: return 'var(--color-borderSecondary)';\r\n    }\r\n  }};\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst TermDefinition = styled.p`\r\n  color: var(--color-textPrimary);\r\n  margin: 0 0 18px 0;\r\n  line-height: 1.7;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst CodeExample = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 3px solid var(--color-primary);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin: 18px 0;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--color-primary);\r\n  overflow-x: auto;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-primaryHover);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 3px;\r\n    background: linear-gradient(90deg, var(--color-primary), var(--color-primaryHover));\r\n    border-radius: 10px 10px 0 0;\r\n  }\r\n`;\r\n\r\nconst InfoBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-success);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-successHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-success), var(--color-successHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst InfoTitle = styled.div`\r\n  color: var(--color-success);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst InfoText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst TipBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-warning);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-warningHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-warning), var(--color-warningHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst TipTitle = styled.div`\r\n  color: var(--color-warning);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst TipText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst WarningBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 3px solid var(--color-error);\r\n  border-radius: 14px;\r\n  padding: 24px;\r\n  margin: 24px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 6px 20px var(--color-shadow);\r\n  position: relative;\r\n\r\n  &:hover {\r\n    border-color: var(--color-errorHover);\r\n    box-shadow: 0 8px 24px var(--color-shadowHover);\r\n    transform: translateY(-3px);\r\n  }\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 4px;\r\n    background: linear-gradient(90deg, var(--color-error), var(--color-errorHover));\r\n    border-radius: 14px 14px 0 0;\r\n  }\r\n`;\r\n\r\nconst WarningTitle = styled.div`\r\n  color: var(--color-error);\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 2px 4px var(--color-shadow);\r\n  letter-spacing: 0.3px;\r\n`;\r\n\r\nconst WarningText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  line-height: 1.7;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nfunction GlossaryPage({ onClose }) {\r\n  const [activeCategory, setActiveCategory] = useState('language');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const glossaryData = {\r\n    language: [\r\n      {\r\n        id: 'label',\r\n        title: 'Label',\r\n        icon: '',\r\n        category: 'language',\r\n        definition: 'Un label es una etiqueta que marca un punto especfico en el script de Ren\\'Py. Los labels permiten saltar a diferentes partes del cdigo usando jump o call.',\r\n        example: `# Definir un label\r\nlabel start:\r\n    \"Hola mundo!\"\r\n    jump ending\r\n\r\n# Llamar un label\r\ncall start\r\n\r\n# Saltar a un label\r\njump start`,\r\n        tip: 'Los labels son fundamentales para la navegacin en Ren\\'Py. Cada juego debe tener un label \"start\" como punto de entrada.',\r\n        info: 'Los nombres de labels deben ser nicos y no pueden contener espacios.'\r\n      },\r\n      {\r\n        id: 'menu',\r\n        title: 'Menu',\r\n        icon: '',\r\n        category: 'language',\r\n        definition: 'Un menu permite al jugador elegir entre diferentes opciones. Es la base de las decisiones interactivas en Ren\\'Py.',\r\n        example: `menu:\r\n    \"Qu quieres hacer?\"\r\n    \r\n    \"Ir a la izquierda\":\r\n        jump left_path\r\n    \r\n    \"Ir a la derecha\":\r\n        jump right_path\r\n    \r\n    \"Quedarse aqu\":\r\n        jump stay_here`,\r\n        tip: 'Los menus deben estar correctamente indentados. Cada opcin lleva a un label diferente.',\r\n        info: 'Los menus pueden anidarse y contener texto adicional.'\r\n      },\r\n      {\r\n        id: 'variable',\r\n        title: 'Variable',\r\n        icon: '',\r\n        category: 'language',\r\n        definition: 'Las variables almacenan datos que pueden cambiar durante el juego. Se usan para guardar el progreso del jugador y tomar decisiones.',\r\n        example: `# Definir variables\r\ndefault player_name = \"Jugador\"\r\ndefault score = 0\r\ndefault has_key = False\r\n\r\n# Usar variables\r\nif score > 100:\r\n    \"Excelente puntuacin!\"\r\nelif has_key:\r\n    \"Tienes la llave mgica.\"`,\r\n        tip: 'Usa \"default\" para variables que pueden cambiar, \"define\" para constantes.',\r\n        info: 'Las variables pueden ser nmeros, texto, booleanos o listas.'\r\n      },\r\n      {\r\n        id: 'character',\r\n        title: 'Character',\r\n        icon: '',\r\n        category: 'language',\r\n        definition: 'Un character define cmo se muestra el dilogo de un personaje. Controla el nombre, color, voz y otros aspectos del personaje.',\r\n        example: `# Definir personajes\r\ndefine eileen = Character(\"Eileen\", color=\"#c8ffc8\")\r\ndefine narrator = Character(None, kind=nvl)\r\n\r\n# Usar personajes\r\neileen \"Hola! Cmo ests?\"\r\nnarrator \"El narrador habla sin nombre visible.\"`,\r\n        tip: 'Los personajes pueden tener diferentes colores, fuentes y comportamientos.',\r\n        info: 'Character(None) crea un narrador sin nombre visible.'\r\n      }\r\n    ],\r\n    gui: [\r\n      {\r\n        id: 'screen',\r\n        title: 'Screen',\r\n        icon: '',\r\n        category: 'gui',\r\n        definition: 'Una screen es una interfaz personalizable que define cmo se ve y comporta una pantalla del juego. Se usa para mens, configuraciones y elementos de UI.',\r\n        example: `screen main_menu():\r\n    tag menu\r\n    \r\n    add gui.main_menu_background\r\n    \r\n    textbutton \"Nueva Partida\" action Start()\r\n    textbutton \"Cargar\" action ShowMenu(\"load\")\r\n    textbutton \"Configuracin\" action ShowMenu(\"preferences\")\r\n    textbutton \"Salir\" action Quit(confirm=True)`,\r\n        tip: 'Las screens se definen en screens.rpy y se pueden mostrar con Show() o ShowMenu().',\r\n        info: 'Cada screen debe tener un tag nico para evitar conflictos.'\r\n      },\r\n      {\r\n        id: 'style',\r\n        title: 'Style',\r\n        icon: '',\r\n        category: 'gui',\r\n        definition: 'Un style define la apariencia visual de los elementos de la interfaz. Controla colores, fuentes, tamaos y otros aspectos visuales.',\r\n        example: `style button:\r\n    background Frame(\"gui/button/idle.png\", Borders(6, 6, 6, 6))\r\n    hover_background Frame(\"gui/button/hover.png\", Borders(6, 6, 6, 6))\r\n    padding (25, 25, 25, 25)\r\n    text_size 33`,\r\n        tip: 'Los styles se pueden heredar y modificar para crear variaciones.',\r\n        info: 'Ren\\'Py tiene muchos styles predefinidos que puedes personalizar.'\r\n      },\r\n      {\r\n        id: 'transform',\r\n        title: 'Transform',\r\n        icon: '',\r\n        category: 'gui',\r\n        definition: 'Un transform define cmo se mueve, escala o cambia un elemento visual. Se usa para animaciones y efectos visuales.',\r\n        example: `# Definir transform\r\ntransform fadein:\r\n    alpha 0.0\r\n    linear 1.0 alpha 1.0\r\n\r\n# Usar transform\r\nshow eileen happy at fadein\r\nshow bg room at zoom(1.2)`,\r\n        tip: 'Los transforms pueden combinarse para crear efectos complejos.',\r\n        info: 'Ren\\'Py incluye transforms predefinidos como fade, dissolve y move.'\r\n      }\r\n    ],\r\n    config: [\r\n      {\r\n        id: 'options-rpy',\r\n        title: 'options.rpy',\r\n        icon: '',\r\n        category: 'config',\r\n        definition: 'El archivo options.rpy contiene la configuracin principal del juego. Define el ttulo, resolucin, opciones de audio y otras configuraciones bsicas.',\r\n        example: `## Informacin bsica del juego\r\ndefine config.name = _(\"Mi Juego\")\r\ndefine config.version = \"1.0\"\r\n\r\n## Resolucin\r\ndefine config.screen_width = 1920\r\ndefine config.screen_height = 1080\r\n\r\n## Audio\r\ndefine config.has_sound = True\r\ndefine config.has_music = True\r\ndefine config.has_voice = True`,\r\n        tip: 'Modifica options.rpy para personalizar la configuracin bsica de tu juego.',\r\n        info: 'Este archivo se crea automticamente al crear un nuevo proyecto.'\r\n      },\r\n      {\r\n        id: 'gui-rpy',\r\n        title: 'gui.rpy',\r\n        icon: '',\r\n        category: 'config',\r\n        definition: 'El archivo gui.rpy define las variables de la interfaz grfica. Controla colores, tamaos, fuentes y otros aspectos visuales del juego.',\r\n        example: `## Colores\r\ndefine gui.accent_color = '#ff6b6b'\r\ndefine gui.idle_color = '#888888'\r\ndefine gui.hover_color = '#ffffff'\r\n\r\n## Fuentes\r\ndefine gui.text_font = \"DejaVuSans.ttf\"\r\ndefine gui.name_text_size = 45\r\ndefine gui.text_size = 33`,\r\n        tip: 'Modifica gui.rpy para cambiar la apariencia visual de tu juego.',\r\n        info: 'Los cambios en gui.rpy afectan toda la interfaz del juego.'\r\n      },\r\n      {\r\n        id: 'screens-rpy',\r\n        title: 'screens.rpy',\r\n        icon: '',\r\n        category: 'config',\r\n        definition: 'El archivo screens.rpy define las pantallas del juego. Contiene los mens principales, configuracin y otras interfaces personalizadas.',\r\n        example: `screen main_menu():\r\n    tag menu\r\n    \r\n    add gui.main_menu_background\r\n    \r\n    textbutton \"Nueva Partida\" action Start()\r\n    textbutton \"Cargar\" action ShowMenu(\"load\")`,\r\n        tip: 'Modifica screens.rpy para personalizar los mens y pantallas del juego.',\r\n        info: 'Este archivo contiene las definiciones de todas las pantallas del juego.'\r\n      }\r\n    ],\r\n    script: [\r\n      {\r\n        id: 'script-rpy',\r\n        title: 'script.rpy',\r\n        icon: '',\r\n        category: 'script',\r\n        definition: 'El archivo script.rpy es donde se escribe la historia principal del juego. Contiene dilogos, narracin y la lgica del juego.',\r\n        example: `# El juego comienza aqu\r\nlabel start:\r\n    scene bg room\r\n    show eileen happy\r\n    \r\n    eileen \"Hola! Bienvenido a mi juego.\"\r\n    \r\n    menu:\r\n        \"Qu quieres hacer?\"\r\n        \r\n        \"Hablar con Eileen\":\r\n            jump talk_eileen\r\n        \r\n        \"Explorar la habitacin\":\r\n            jump explore_room`,\r\n        tip: 'Puedes dividir tu historia en mltiples archivos .rpy para mejor organizacin.',\r\n        info: 'Este es el archivo principal donde se desarrolla la historia del juego.'\r\n      },\r\n      {\r\n        id: 'jump',\r\n        title: 'Jump',\r\n        icon: '',\r\n        category: 'script',\r\n        definition: 'Jump permite saltar a un label especfico sin posibilidad de regresar. Es til para cambiar de escena o continuar la historia.',\r\n        example: `label start:\r\n    \"Esta es la escena inicial\"\r\n    jump next_scene\r\n\r\nlabel next_scene:\r\n    \"Ahora estamos en la siguiente escena\"\r\n    return`,\r\n        tip: 'Jump no permite regresar. Usa call si necesitas volver al punto original.',\r\n        info: 'Jump es ideal para el flujo principal de la historia.'\r\n      },\r\n      {\r\n        id: 'call',\r\n        title: 'Call',\r\n        icon: '',\r\n        category: 'script',\r\n        definition: 'Call permite llamar a un label y regresar al punto original cuando termine. Es til para subrutinas y escenas reutilizables.',\r\n        example: `label start:\r\n    \"Llamando a una subrutina\"\r\n    call show_inventory\r\n    \"Regresamos aqu despus de la subrutina\"\r\n\r\nlabel show_inventory:\r\n    \"Mostrando inventario...\"\r\n    return`,\r\n        tip: 'Call permite regresar al punto original usando return.',\r\n        info: 'Call es ideal para funciones que se usan mltiples veces.'\r\n      }\r\n    ],\r\n    display: [\r\n      {\r\n        id: 'show',\r\n        title: 'Show',\r\n        icon: '',\r\n        category: 'display',\r\n        definition: 'Show muestra una imagen en la pantalla. Se usa para mostrar personajes, fondos y otros elementos visuales.',\r\n        example: `# Mostrar personaje\r\nshow eileen happy at center\r\n\r\n# Mostrar fondo\r\nshow bg room\r\n\r\n# Mostrar con transicin\r\nshow eileen sad at center with fade`,\r\n        tip: 'Usa \"at\" para posicionar elementos y \"with\" para transiciones.',\r\n        info: 'Show reemplaza elementos del mismo tipo si ya estn visibles.'\r\n      },\r\n      {\r\n        id: 'scene',\r\n        title: 'Scene',\r\n        icon: '',\r\n        category: 'display',\r\n        definition: 'Scene limpia la pantalla y muestra una nueva imagen. Se usa para cambiar completamente la escena visual.',\r\n        example: `# Limpiar pantalla y mostrar nuevo fondo\r\nscene bg forest\r\n\r\n# Mostrar escena con transicin\r\nscene bg room with dissolve\r\n\r\n# Limpiar todo\r\nscene black`,\r\n        tip: 'Scene es ideal para cambios dramticos de escena.',\r\n        info: 'Scene oculta todos los elementos visibles antes de mostrar la nueva imagen.'\r\n      },\r\n      {\r\n        id: 'hide',\r\n        title: 'Hide',\r\n        icon: '',\r\n        category: 'display',\r\n        definition: 'Hide oculta una imagen especfica de la pantalla. Se usa para quitar personajes o elementos sin limpiar toda la pantalla.',\r\n        example: `# Ocultar personaje\r\nhide eileen\r\n\r\n# Ocultar con transicin\r\nhide eileen with fade\r\n\r\n# Ocultar mltiples elementos\r\nhide eileen\r\nhide bg room`,\r\n        tip: 'Hide es til para quitar elementos especficos sin afectar otros.',\r\n        info: 'Hide solo afecta al elemento especificado, no a toda la pantalla.'\r\n      }\r\n    ],\r\n    audio: [\r\n      {\r\n        id: 'play-music',\r\n        title: 'Play Music',\r\n        icon: '',\r\n        category: 'audio',\r\n        definition: 'Play music reproduce msica de fondo. La msica se reproduce en loop y se puede cambiar o detener en cualquier momento.',\r\n        example: `# Reproducir msica\r\nplay music \"audio/bgm/main_theme.ogg\"\r\n\r\n# Reproducir con transicin\r\nplay music \"audio/bgm/battle_theme.ogg\" fadeout 1.0 fadein 1.0\r\n\r\n# Detener msica\r\nstop music`,\r\n        tip: 'La msica se reproduce en loop automticamente.',\r\n        info: 'Ren\\'Py soporta formatos OGG, MP3 y WAV para msica.'\r\n      },\r\n      {\r\n        id: 'play-sound',\r\n        title: 'Play Sound',\r\n        icon: '',\r\n        category: 'audio',\r\n        definition: 'Play sound reproduce efectos de sonido. Los sonidos se reproducen una vez y pueden superponerse entre s.',\r\n        example: `# Reproducir efecto de sonido\r\nplay sound \"audio/sfx/click.ogg\"\r\n\r\n# Reproducir mltiples sonidos\r\nplay sound \"audio/sfx/click.ogg\"\r\nplay sound \"audio/sfx/notification.ogg\"`,\r\n        tip: 'Los efectos de sonido se pueden reproducir simultneamente.',\r\n        info: 'Los sonidos son ideales para efectos, notificaciones y feedback del usuario.'\r\n      },\r\n      {\r\n        id: 'play-voice',\r\n        title: 'Play Voice',\r\n        icon: '',\r\n        category: 'audio',\r\n        definition: 'Play voice reproduce archivos de voz para los dilogos. Se sincroniza automticamente con el texto que se muestra.',\r\n        example: `# Reproducir voz\r\nplay voice \"audio/voice/eileen_001.ogg\"\r\neileen \"Hola, cmo ests?\"\r\n\r\n# Reproducir voz con texto\r\neileen \"Esta es mi voz\" voice \"audio/voice/eileen_002.ogg\"`,\r\n        tip: 'La voz se reproduce automticamente cuando se muestra el dilogo.',\r\n        info: 'Los archivos de voz se organizan tpicamente por personaje y nmero de lnea.'\r\n      }\r\n    ],\r\n    python: [\r\n      {\r\n        id: 'python-block',\r\n        title: 'Python Block',\r\n        icon: '',\r\n        category: 'python',\r\n        definition: 'Un bloque de Python permite ejecutar cdigo Python dentro del script de Ren\\'Py. Se usa para lgica compleja y clculos.',\r\n        example: `# Bloque de Python\r\npython:\r\n    player_score = 100\r\n    enemy_score = 80\r\n    \r\n    if player_score > enemy_score:\r\n        winner = \"Jugador\"\r\n    else:\r\n        winner = \"Enemigo\"\r\n\r\n\"El ganador es [winner]!\"`,\r\n        tip: 'Los bloques de Python deben estar correctamente indentados.',\r\n        info: 'Python se integra perfectamente con Ren\\'Py para lgica compleja.'\r\n      },\r\n      {\r\n        id: 'renpy-function',\r\n        title: 'Ren\\'Py Functions',\r\n        icon: '',\r\n        category: 'python',\r\n        definition: 'Las funciones de Ren\\'Py permiten acceder a funcionalidades especficas del motor desde Python. Incluyen input, notify, save, load, etc.',\r\n        example: `# Usar funciones de Ren'Py\r\n$ player_name = renpy.input(\"Cul es tu nombre?\", default=\"Jugador\")\r\n$ renpy.notify(\"Bienvenido, \" + player_name + \"!\")\r\n\r\n# Guardar y cargar\r\n$ renpy.save(\"save_1\")\r\n$ renpy.load(\"save_1\")`,\r\n        tip: 'Las funciones de Ren\\'Py tienen el prefijo \"renpy.\" en Python.',\r\n        info: 'Estas funciones conectan Python con las funcionalidades de Ren\\'Py.'\r\n      },\r\n      {\r\n        id: 'conditional',\r\n        title: 'Conditional',\r\n        icon: '',\r\n        category: 'python',\r\n        definition: 'Las declaraciones condicionales permiten ejecutar cdigo diferente basado en condiciones. Se usan para crear ramas en la historia.',\r\n        example: `# Condicional simple\r\nif score > 100:\r\n    \"Excelente puntuacin!\"\r\nelif score > 50:\r\n    \"Buena puntuacin\"\r\nelse:\r\n    \"Puedes mejorar\"\r\n\r\n# Condicional con variables\r\nif has_key and door_unlocked:\r\n    \"Puedes pasar\"\r\nelse:\r\n    \"La puerta est cerrada\"`,\r\n        tip: 'Las condicionales permiten crear historias no lineales.',\r\n        info: 'Puedes usar operadores como and, or, not para condiciones complejas.'\r\n      }\r\n    ]\r\n  };\r\n\r\n  const getCurrentTerms = () => {\r\n    let currentTerms = glossaryData[activeCategory] || [];\r\n    \r\n    if (searchTerm) {\r\n      currentTerms = currentTerms.filter(term =>\r\n        term.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        term.definition.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        term.example.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    return currentTerms;\r\n  };\r\n\r\n  const getCategoryText = (category) => {\r\n    switch(category) {\r\n      case 'language': return 'Lenguaje';\r\n      case 'gui': return 'GUI';\r\n      case 'config': return 'Config';\r\n      case 'script': return 'Script';\r\n      case 'display': return 'Display';\r\n      case 'audio': return 'Audio';\r\n      case 'python': return 'Python';\r\n      default: return 'Otro';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GlossaryContainer>\r\n      <GlossaryHeader>\r\n        <GlossaryTitle>\r\n           Glosario de Trminos Tcnicos\r\n        </GlossaryTitle>\r\n        <CloseButton onClick={onClose}>\r\n           Cerrar\r\n        </CloseButton>\r\n      </GlossaryHeader>\r\n\r\n      <GlossaryContent>\r\n        <SearchBox>\r\n          <SearchTitle>\r\n             Buscar Trminos\r\n          </SearchTitle>\r\n          <SearchInput\r\n            type=\"text\"\r\n            placeholder=\"Busca trminos tcnicos especficos...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </SearchBox>\r\n\r\n        <CategoryTabs>\r\n          <CategoryTab \r\n            active={activeCategory === 'language'} \r\n            onClick={() => setActiveCategory('language')}\r\n          >\r\n             Lenguaje\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'gui'} \r\n            onClick={() => setActiveCategory('gui')}\r\n          >\r\n             GUI\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'config'} \r\n            onClick={() => setActiveCategory('config')}\r\n          >\r\n             Config\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'script'} \r\n            onClick={() => setActiveCategory('script')}\r\n          >\r\n             Script\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'display'} \r\n            onClick={() => setActiveCategory('display')}\r\n          >\r\n             Display\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'audio'} \r\n            onClick={() => setActiveCategory('audio')}\r\n          >\r\n             Audio\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'python'} \r\n            onClick={() => setActiveCategory('python')}\r\n          >\r\n             Python\r\n          </CategoryTab>\r\n        </CategoryTabs>\r\n\r\n        <GlossaryGrid>\r\n          {getCurrentTerms().map((term) => (\r\n            <TermCard key={term.id}>\r\n              <TermHeader>\r\n                <TermTitle>\r\n                  {term.icon} {term.title}\r\n                </TermTitle>\r\n                <TermCategory category={term.category}>\r\n                  {getCategoryText(term.category)}\r\n                </TermCategory>\r\n              </TermHeader>\r\n              \r\n              <TermDefinition>\r\n                {term.definition}\r\n              </TermDefinition>\r\n\r\n              <CodeExample>\r\n                {term.example}\r\n              </CodeExample>\r\n\r\n              {term.tip && (\r\n                <TipBox>\r\n                  <TipTitle>\r\n                     Consejo\r\n                  </TipTitle>\r\n                  <TipText>\r\n                    {term.tip}\r\n                  </TipText>\r\n                </TipBox>\r\n              )}\r\n\r\n              {term.info && (\r\n                <InfoBox>\r\n                  <InfoTitle>\r\n                     Informacin\r\n                  </InfoTitle>\r\n                  <InfoText>\r\n                    {term.info}\r\n                  </InfoText>\r\n                </InfoBox>\r\n              )}\r\n            </TermCard>\r\n          ))}\r\n        </GlossaryGrid>\r\n\r\n        {getCurrentTerms().length === 0 && searchTerm && (\r\n          <div style={{ \r\n            textAlign: 'center', \r\n            color: 'var(--color-textTertiary)', \r\n            fontSize: '18px',\r\n            marginTop: '50px'\r\n          }}>\r\n            No se encontraron trminos que coincidan con \"{searchTerm}\"\r\n          </div>\r\n        )}\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Informacin Importante\r\n          </InfoTitle>\r\n          <InfoText>\r\n            Este glosario contiene los trminos tcnicos ms importantes de Ren'Py basados en la documentacin oficial. \r\n            Cada trmino incluye definiciones, ejemplos de cdigo y consejos prcticos.\r\n          </InfoText>\r\n        </InfoBox>\r\n\r\n        <TipBox>\r\n          <TipTitle>\r\n             Cmo Usar Este Glosario\r\n          </TipTitle>\r\n          <TipText>\r\n            Usa la bsqueda para encontrar trminos especficos, o navega por categoras para explorar conceptos relacionados. \r\n            Los ejemplos de cdigo son funcionales y puedes copiarlos directamente en tu proyecto.\r\n          </TipText>\r\n        </TipBox>\r\n\r\n        <WarningBox>\r\n          <WarningTitle>\r\n             Importante\r\n          </WarningTitle>\r\n          <WarningText>\r\n            Los trminos tcnicos pueden tener diferentes usos segn el contexto. \r\n            Siempre consulta la documentacin oficial para casos especficos y actualizaciones.\r\n          </WarningText>\r\n        </WarningBox>\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Recursos Adicionales\r\n          </InfoTitle>\r\n          <InfoText>\r\n            Para ms informacin detallada sobre estos trminos, consulta:\r\n            <br /> <a href=\"https://www.renpy.org/doc/html/\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)'}}>Documentacin Oficial de Ren'Py</a>\r\n            <br /> <a href=\"https://www.renpy.org/doc/html/quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)'}}>Gua de Inicio Rpido</a>\r\n            <br /> <a href=\"https://lemmasoft.renai.us/forums/viewforum.php?f=51\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)'}}>Ren'Py Cookbook</a>\r\n          </InfoText>\r\n        </InfoBox>\r\n      </GlossaryContent>\r\n    </GlossaryContainer>\r\n  );\r\n}\r\n\r\nexport default GlossaryPage;\r\n\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst GuideContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: var(--color-background);\r\n  z-index: 3000;\r\n  overflow-y: auto;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst GuideHeader = styled.div`\r\n  background-color: var(--color-surface);\r\n  padding: 20px;\r\n  border-bottom: 2px solid var(--color-border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 3001;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst GuideTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 28px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 12px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: var(--color-errorHover);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst GuideContent = styled.div`\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  margin-bottom: 30px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst SearchTitle = styled.h2`\r\n  color: var(--color-primary);\r\n  margin: 0 0 15px 0;\r\n  font-size: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  color: var(--color-textPrimary);\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 3px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n    font-weight: 400;\r\n  }\r\n`;\r\n\r\nconst CategoryTabs = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 30px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CategoryTab = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'var(--color-surfaceSecondary)'};\r\n  color: ${props => props.active ? 'var(--color-textInverse)' : 'var(--color-textPrimary)'};\r\n  border: 2px solid ${props => props.active ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  padding: 14px 22px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-primary)'};\r\n    color: var(--color-textInverse);\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst GuideGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst GuideCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 12px;\r\n  padding: 24px;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    background-color: var(--color-surfaceElevated);\r\n    transform: translateY(-8px);\r\n    box-shadow: 0 12px 32px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst GuideCardHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst GuideCardTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst GuideCategory = styled.span`\r\n  background-color: ${props => {\r\n    switch(props.category) {\r\n      case 'getting-started': return 'var(--color-success)';\r\n      case 'language': return 'var(--color-info)';\r\n      case 'customization': return 'var(--color-warning)';\r\n      case 'advanced': return 'var(--color-primary)';\r\n      case 'tools': return 'var(--color-error)';\r\n      case 'community': return 'var(--color-border)';\r\n      default: return 'var(--color-borderSecondary)';\r\n    }\r\n  }};\r\n  color: var(--color-textInverse);\r\n  padding: 6px 12px;\r\n  border-radius: 6px;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n  border: 1px solid rgba(255, 255, 255, 0.1);\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst GuideDescription = styled.p`\r\n  color: var(--color-textSecondary);\r\n  margin: 0 0 15px 0;\r\n  line-height: 1.6;\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CodeExample = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border: 2px solid var(--color-border);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin: 15px 0;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: var(--color-primary);\r\n  overflow-x: auto;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 6px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 4px 12px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst InfoBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-primary);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin: 20px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 16px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-primaryHover);\r\n    box-shadow: 0 6px 20px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst InfoTitle = styled.div`\r\n  color: var(--color-primary);\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst InfoText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 15px;\r\n  line-height: 1.6;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst TipBox = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border: 2px solid var(--color-warning);\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin: 20px 0;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 4px 16px var(--color-shadow);\r\n\r\n  &:hover {\r\n    border-color: var(--color-warningHover);\r\n    box-shadow: 0 6px 20px var(--color-shadowHover);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst TipTitle = styled.div`\r\n  color: var(--color-warning);\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: color 0.3s ease;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst TipText = styled.div`\r\n  color: var(--color-textPrimary);\r\n  font-size: 15px;\r\n  line-height: 1.6;\r\n  font-weight: 500;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst LinkButton = styled.a`\r\n  display: inline-block;\r\n  background-color: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  text-decoration: none;\r\n  padding: 12px 20px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  transition: all 0.3s ease;\r\n  margin: 5px 5px 5px 0;\r\n  box-shadow: 0 3px 8px var(--color-shadow);\r\n  border: 2px solid var(--color-primary);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primaryHover);\r\n    border-color: var(--color-primaryHover);\r\n    transform: translateY(-2px) scale(1.02);\r\n    text-decoration: none;\r\n    color: var(--color-textInverse);\r\n    box-shadow: 0 6px 16px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0) scale(0.98);\r\n    box-shadow: 0 3px 8px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nfunction GuidePage({ onClose }) {\r\n  const [activeCategory, setActiveCategory] = useState('getting-started');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const guideData = {\r\n    'getting-started': [\r\n      {\r\n        id: 'quickstart',\r\n        title: 'Gua de Inicio Rpido',\r\n        icon: '',\r\n        category: 'getting-started',\r\n        description: 'Aprende los conceptos bsicos de Ren\\'Py en minutos. Perfecto para comenzar tu primera novela visual.',\r\n        example: `# Tu primer juego Ren'Py\r\nlabel start:\r\n    \"Hola! Este es mi primer juego.\"\r\n    \"Cmo te llamas?\"\r\n    $ name = renpy.input(\"Cul es tu nombre?\")\r\n    \"[name], bienvenido a Ren'Py!\"`,\r\n        tip: 'Comienza con el tutorial oficial de Ren\\'Py para entender los conceptos bsicos.',\r\n        links: [\r\n          { text: 'Documentacin Oficial', url: 'https://www.renpy.org/doc/html/' },\r\n          { text: 'Quickstart Guide', url: 'https://www.renpy.org/doc/html/quickstart.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'installation',\r\n        title: 'Instalacin y Configuracin',\r\n        icon: '',\r\n        category: 'getting-started',\r\n        description: 'Cmo descargar, instalar y configurar Ren\\'Py en tu sistema.',\r\n        example: `# Pasos de instalacin:\r\n# 1. Descargar Ren'Py desde renpy.org\r\n# 2. Extraer en una carpeta\r\n# 3. Ejecutar renpy.exe (Windows) o renpy.sh (Linux/Mac)\r\n# 4. Crear un nuevo proyecto`,\r\n        tip: 'Ren\\'Py es multiplataforma y funciona en Windows, Mac y Linux.',\r\n        links: [\r\n          { text: 'Descargar Ren\\'Py', url: 'https://www.renpy.org/latest.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'first-project',\r\n        title: 'Crear tu Primer Proyecto',\r\n        icon: '',\r\n        category: 'getting-started',\r\n        description: 'Gua paso a paso para crear tu primera novela visual con Ren\\'Py.',\r\n        example: `# Estructura bsica de un proyecto:\r\ngame/\r\n script.rpy      # Tu historia\r\n images/         # Imgenes del juego\r\n audio/          # Msica y sonidos\r\n gui/           # Elementos de interfaz`,\r\n        tip: 'Usa el Launcher de Ren\\'Py para crear proyectos fcilmente.',\r\n        links: [\r\n          { text: 'Tutorial Completo', url: 'https://www.renpy.org/doc/html/quickstart.html' }\r\n        ]\r\n      }\r\n    ],\r\n    'language': [\r\n      {\r\n        id: 'basic-syntax',\r\n        title: 'Sintaxis Bsica de Ren\\'Py',\r\n        icon: '',\r\n        category: 'language',\r\n        description: 'Aprende los elementos fundamentales del lenguaje de Ren\\'Py.',\r\n        example: `# Dilogos\r\ncharacter \"Hola, cmo ests?\"\r\n\r\n# Narracin\r\n\"Esta es una lnea de narracin.\"\r\n\r\n# Etiquetas\r\nlabel start:\r\n    \"El juego comienza aqu\"\r\n\r\n# Saltos\r\njump another_scene`,\r\n        tip: 'Ren\\'Py usa indentacin para estructurar el cdigo, similar a Python.',\r\n        links: [\r\n          { text: 'Language Basics', url: 'https://www.renpy.org/doc/html/language_basics.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'characters',\r\n        title: 'Sistema de Personajes',\r\n        icon: '',\r\n        category: 'language',\r\n        description: 'Cmo crear y usar personajes en tus dilogos.',\r\n        example: `# Definir personajes\r\ndefine eileen = Character(\"Eileen\", color=\"#c8ffc8\")\r\ndefine narrator = Character(None)\r\n\r\n# Usar personajes\r\neileen \"Hola! Soy Eileen.\"\r\nnarrator \"El narrador habla sin nombre visible.\"`,\r\n        tip: 'Los personajes pueden tener colores, voces y comportamientos personalizados.',\r\n        links: [\r\n          { text: 'Dialogue and Narration', url: 'https://www.renpy.org/doc/html/dialogue.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'menus',\r\n        title: 'Mens y Decisiones',\r\n        icon: '',\r\n        category: 'language',\r\n        description: 'Crear mens interactivos y decisiones que afecten la historia.',\r\n        example: `menu:\r\n    \"Qu quieres hacer?\"\r\n    \r\n    \"Ir a la izquierda\":\r\n        jump left_path\r\n    \r\n    \"Ir a la derecha\":\r\n        jump right_path\r\n    \r\n    \"Quedarse aqu\":\r\n        \"Decidiste quedarte.\"`,\r\n        tip: 'Los mens deben estar correctamente indentados para funcionar.',\r\n        links: [\r\n          { text: 'In-Game Menus', url: 'https://www.renpy.org/doc/html/menus.html' }\r\n        ]\r\n      }\r\n    ],\r\n    'customization': [\r\n      {\r\n        id: 'gui-customization',\r\n        title: 'Personalizacin de GUI',\r\n        icon: '',\r\n        category: 'customization',\r\n        description: 'Cmo personalizar la apariencia de tu juego.',\r\n        example: `# En gui.rpy\r\ndefine gui.accent_color = '#ff6b6b'\r\ndefine gui.text_font = \"DejaVuSans.ttf\"\r\ndefine gui.text_size = 33\r\n\r\n# En screens.rpy\r\nscreen main_menu():\r\n    add gui.main_menu_background`,\r\n        tip: 'La personalizacin de GUI se hace principalmente en gui.rpy y screens.rpy.',\r\n        links: [\r\n          { text: 'GUI Customization Guide', url: 'https://www.renpy.org/doc/html/gui.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'images',\r\n        title: 'Manejo de Imgenes',\r\n        icon: '',\r\n        category: 'customization',\r\n        description: 'Cmo mostrar y manipular imgenes en tu juego.',\r\n        example: `# Mostrar imgenes\r\nshow eileen happy at center\r\nscene bg room\r\nhide eileen\r\n\r\n# Con transiciones\r\nshow eileen sad at center with fade\r\nscene bg forest with dissolve`,\r\n        tip: 'Las imgenes deben estar en la carpeta images/ para ser reconocidas.',\r\n        links: [\r\n          { text: 'Displaying Images', url: 'https://www.renpy.org/doc/html/displaying_images.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'audio',\r\n        title: 'Audio y Msica',\r\n        icon: '',\r\n        category: 'customization',\r\n        description: 'Cmo agregar msica y efectos de sonido a tu juego.',\r\n        example: `# Reproducir msica\r\nplay music \"audio/bgm/main_theme.ogg\"\r\n\r\n# Reproducir efectos\r\nplay sound \"audio/sfx/click.ogg\"\r\n\r\n# Reproducir voz\r\nplay voice \"audio/voice/eileen_001.ogg\"`,\r\n        tip: 'Ren\\'Py soporta formatos OGG, MP3 y WAV para audio.',\r\n        links: [\r\n          { text: 'Audio Documentation', url: 'https://www.renpy.org/doc/html/audio.html' }\r\n        ]\r\n      }\r\n    ],\r\n    'advanced': [\r\n      {\r\n        id: 'python',\r\n        title: 'Python en Ren\\'Py',\r\n        icon: '',\r\n        category: 'advanced',\r\n        description: 'Usar cdigo Python para lgica compleja en tu juego.',\r\n        example: `# Bloque de Python\r\npython:\r\n    player_score = 100\r\n    enemy_score = 80\r\n    \r\n    if player_score > enemy_score:\r\n        winner = \"Jugador\"\r\n    else:\r\n        winner = \"Enemigo\"\r\n\r\n\"El ganador es [winner]!\"`,\r\n        tip: 'Python se integra perfectamente con Ren\\'Py para lgica compleja.',\r\n        links: [\r\n          { text: 'Python Statements', url: 'https://www.renpy.org/doc/html/python.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'screens',\r\n        title: 'Screens y Screen Language',\r\n        icon: '',\r\n        category: 'advanced',\r\n        description: 'Crear interfaces personalizadas usando Screen Language.',\r\n        example: `screen inventory():\r\n    tag menu\r\n    \r\n    vbox:\r\n        text \"Inventario\" size 40\r\n        \r\n        for item in inventory:\r\n            textbutton item action Return(item)`,\r\n        tip: 'Screen Language permite crear interfaces complejas sin programar.',\r\n        links: [\r\n          { text: 'Screens and Screen Language', url: 'https://www.renpy.org/doc/html/screens.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'transforms',\r\n        title: 'Transforms y Transiciones',\r\n        icon: '',\r\n        category: 'advanced',\r\n        description: 'Crear efectos visuales y animaciones avanzadas.',\r\n        example: `# Definir transform\r\ntransform fadein:\r\n    alpha 0.0\r\n    linear 1.0 alpha 1.0\r\n\r\n# Usar transform\r\nshow eileen happy at fadein\r\n\r\n# Transiciones personalizadas\r\nscene bg room with pixellate`,\r\n        tip: 'Los transforms permiten crear animaciones complejas y efectos visuales.',\r\n        links: [\r\n          { text: 'Transforms', url: 'https://www.renpy.org/doc/html/transforms.html' },\r\n          { text: 'Transitions', url: 'https://www.renpy.org/doc/html/transitions.html' }\r\n        ]\r\n      }\r\n    ],\r\n    'tools': [\r\n      {\r\n        id: 'launcher',\r\n        title: 'Ren\\'Py Launcher',\r\n        icon: '',\r\n        category: 'tools',\r\n        description: 'Herramientas del launcher para gestionar proyectos.',\r\n        example: `# Funciones del launcher:\r\n# - Crear nuevos proyectos\r\n# - Editar proyectos existentes\r\n# - Compilar y distribuir\r\n# - Actualizar Ren'Py\r\n# - Verificar scripts`,\r\n        tip: 'El launcher es tu centro de control para todos los proyectos Ren\\'Py.',\r\n        links: [\r\n          { text: 'Launcher Documentation', url: 'https://www.renpy.org/doc/html/launcher.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'developer-tools',\r\n        title: 'Developer Tools',\r\n        icon: '',\r\n        category: 'tools',\r\n        description: 'Herramientas avanzadas para desarrolladores.',\r\n        example: `# Herramientas disponibles:\r\n# - Interactive Director\r\n# - Performance Monitor\r\n# - Memory Profiler\r\n# - Script Lint`,\r\n        tip: 'Las developer tools ayudan a depurar y optimizar tu juego.',\r\n        links: [\r\n          { text: 'Developer Tools', url: 'https://www.renpy.org/doc/html/developer_tools.html' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'building',\r\n        title: 'Building Distributions',\r\n        icon: '',\r\n        category: 'tools',\r\n        description: 'Cmo compilar y distribuir tu juego para diferentes plataformas.',\r\n        example: `# Plataformas soportadas:\r\n# - Windows (exe)\r\n# - Mac (app)\r\n# - Linux (tar.bz2)\r\n# - Android (apk)\r\n# - iOS (ipa)\r\n# - Web (HTML5)`,\r\n        tip: 'Ren\\'Py puede compilar para mltiples plataformas automticamente.',\r\n        links: [\r\n          { text: 'Building Distributions', url: 'https://www.renpy.org/doc/html/build.html' }\r\n        ]\r\n      }\r\n    ],\r\n    'community': [\r\n      {\r\n        id: 'forums',\r\n        title: 'Lemma Soft Forums',\r\n        icon: '',\r\n        category: 'community',\r\n        description: 'La comunidad oficial de Ren\\'Py donde puedes obtener ayuda y compartir tu trabajo.',\r\n        example: `# Secciones importantes:\r\n# - Ren'Py Cookbook (cdigo reutilizable)\r\n# - Works in Progress (proyectos en desarrollo)\r\n# - Completed Games (juegos terminados)\r\n# - Technical Questions (ayuda tcnica)`,\r\n        tip: 'Los foros son el mejor lugar para obtener ayuda de la comunidad.',\r\n        links: [\r\n          { text: 'Ren\\'Py Forums', url: 'https://lemmasoft.renai.us/forums/viewforum.php?f=51' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'cookbook',\r\n        title: 'Ren\\'Py Cookbook',\r\n        icon: '',\r\n        category: 'community',\r\n        description: 'Biblioteca de cdigo y ejemplos reutilizables para Ren\\'Py.',\r\n        example: `# Tipos de cdigo en el cookbook:\r\n# - Sistemas de inventario\r\n# - Minijuegos\r\n# - Efectos visuales\r\n# - Sistemas de guardado\r\n# - Personalizacin de GUI`,\r\n        tip: 'El cookbook contiene cdigo probado y documentado por la comunidad.',\r\n        links: [\r\n          { text: 'Ren\\'Py Cookbook', url: 'https://lemmasoft.renai.us/forums/viewforum.php?f=51' }\r\n        ]\r\n      },\r\n      {\r\n        id: 'resources',\r\n        title: 'Recursos de la Comunidad',\r\n        icon: '',\r\n        category: 'community',\r\n        description: 'Recursos gratuitos y herramientas creadas por la comunidad.',\r\n        example: `# Recursos disponibles:\r\n# - Sprites y fondos gratuitos\r\n# - Msica libre de derechos\r\n# - Herramientas de desarrollo\r\n# - Tutoriales y guas\r\n# - Templates de proyectos`,\r\n        tip: 'La comunidad de Ren\\'Py es muy generosa compartiendo recursos gratuitos.',\r\n        links: [\r\n          { text: 'Community Resources', url: 'https://lemmasoft.renai.us/forums/' }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  const getCurrentGuides = () => {\r\n    let currentGuides = guideData[activeCategory] || [];\r\n    \r\n    if (searchTerm) {\r\n      currentGuides = currentGuides.filter(guide =>\r\n        guide.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        guide.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        guide.example.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    return currentGuides;\r\n  };\r\n\r\n  const getCategoryText = (category) => {\r\n    switch(category) {\r\n      case 'getting-started': return 'Inicio';\r\n      case 'language': return 'Lenguaje';\r\n      case 'customization': return 'Personalizacin';\r\n      case 'advanced': return 'Avanzado';\r\n      case 'tools': return 'Herramientas';\r\n      case 'community': return 'Comunidad';\r\n      default: return 'Otro';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GuideContainer>\r\n      <GuideHeader>\r\n        <GuideTitle>\r\n           Gua Completa de Ren'Py\r\n        </GuideTitle>\r\n        <CloseButton onClick={onClose}>\r\n           Cerrar\r\n        </CloseButton>\r\n      </GuideHeader>\r\n\r\n      <GuideContent>\r\n        <SearchBox>\r\n          <SearchTitle>\r\n             Buscar en la Gua\r\n          </SearchTitle>\r\n          <SearchInput\r\n            type=\"text\"\r\n            placeholder=\"Busca temas especficos, conceptos o funciones...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </SearchBox>\r\n\r\n        <CategoryTabs>\r\n          <CategoryTab \r\n            active={activeCategory === 'getting-started'} \r\n            onClick={() => setActiveCategory('getting-started')}\r\n          >\r\n             Inicio\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'language'} \r\n            onClick={() => setActiveCategory('language')}\r\n          >\r\n             Lenguaje\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'customization'} \r\n            onClick={() => setActiveCategory('customization')}\r\n          >\r\n             Personalizacin\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'advanced'} \r\n            onClick={() => setActiveCategory('advanced')}\r\n          >\r\n             Avanzado\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'tools'} \r\n            onClick={() => setActiveCategory('tools')}\r\n          >\r\n             Herramientas\r\n          </CategoryTab>\r\n          <CategoryTab \r\n            active={activeCategory === 'community'} \r\n            onClick={() => setActiveCategory('community')}\r\n          >\r\n             Comunidad\r\n          </CategoryTab>\r\n        </CategoryTabs>\r\n\r\n        <GuideGrid>\r\n          {getCurrentGuides().map((guide) => (\r\n            <GuideCard key={guide.id}>\r\n              <GuideCardHeader>\r\n                <GuideCardTitle>\r\n                  {guide.icon} {guide.title}\r\n                </GuideCardTitle>\r\n                <GuideCategory category={guide.category}>\r\n                  {getCategoryText(guide.category)}\r\n                </GuideCategory>\r\n              </GuideCardHeader>\r\n              \r\n              <GuideDescription>\r\n                {guide.description}\r\n              </GuideDescription>\r\n\r\n              <CodeExample>\r\n                {guide.example}\r\n              </CodeExample>\r\n\r\n              {guide.tip && (\r\n                <TipBox>\r\n                  <TipTitle>\r\n                     Consejo\r\n                  </TipTitle>\r\n                  <TipText>\r\n                    {guide.tip}\r\n                  </TipText>\r\n                </TipBox>\r\n              )}\r\n\r\n              {guide.links && guide.links.length > 0 && (\r\n                <InfoBox>\r\n                  <InfoTitle>\r\n                     Enlaces tiles\r\n                  </InfoTitle>\r\n                  <InfoText>\r\n                    {guide.links.map((link, index) => (\r\n                      <LinkButton \r\n                        key={index}\r\n                        href={link.url} \r\n                        target=\"_blank\" \r\n                        rel=\"noopener noreferrer\"\r\n                      >\r\n                        {link.text}\r\n                      </LinkButton>\r\n                    ))}\r\n                  </InfoText>\r\n                </InfoBox>\r\n              )}\r\n            </GuideCard>\r\n          ))}\r\n        </GuideGrid>\r\n\r\n        {getCurrentGuides().length === 0 && searchTerm && (\r\n          <div style={{ \r\n            textAlign: 'center', \r\n            color: 'var(--color-textTertiary)', \r\n            fontSize: '18px',\r\n            marginTop: '50px'\r\n          }}>\r\n            No se encontraron guas que coincidan con \"{searchTerm}\"\r\n          </div>\r\n        )}\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Informacin Importante\r\n          </InfoTitle>\r\n          <InfoText>\r\n            Esta gua est basada en la documentacin oficial de Ren'Py y recursos de la comunidad. \r\n            Cada seccin incluye ejemplos prcticos y enlaces directos a la documentacin oficial.\r\n          </InfoText>\r\n        </InfoBox>\r\n\r\n        <TipBox>\r\n          <TipTitle>\r\n             Cmo Usar Esta Gua\r\n          </TipTitle>\r\n          <TipText>\r\n            Navega por las categoras para encontrar el tema que necesitas, o usa la bsqueda para encontrar conceptos especficos. \r\n            Todos los enlaces abren la documentacin oficial de Ren'Py en una nueva pestaa.\r\n          </TipText>\r\n        </TipBox>\r\n\r\n        <InfoBox>\r\n          <InfoTitle>\r\n             Recursos Oficiales\r\n          </InfoTitle>\r\n          <InfoText>\r\n            Para informacin ms detallada, consulta siempre:\r\n            <br /> <a href=\"https://www.renpy.org/doc/html/\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)'}}>Documentacin Oficial de Ren'Py</a>\r\n            <br /> <a href=\"https://www.renpy.org/doc/html/quickstart.html\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)'}}>Gua de Inicio Rpido</a>\r\n            <br /> <a href=\"https://lemmasoft.renai.us/forums/viewforum.php?f=51\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: 'var(--color-primary)'}}>Ren'Py Cookbook</a>\r\n          </InfoText>\r\n        </InfoBox>\r\n      </GuideContent>\r\n    </GuideContainer>\r\n  );\r\n}\r\n\r\nexport default GuidePage;\r\n","import React from 'react';\r\n\r\n// Iconos SVG para el gestor de archivos\r\n\r\n// === ICONOS DE CATEGORAS ===\r\nexport const CharactersIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M20 8.5C20 9.88071 18.8807 11 17.5 11C16.1193 11 15 9.88071 15 8.5C15 7.11929 16.1193 6 17.5 6C18.8807 6 20 7.11929 20 8.5Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M17.5 14C15.0147 14 13 16.0147 13 18.5H22C22 16.0147 19.9853 14 17.5 14Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const BackgroundsIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 15H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 21H15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const GuiIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" rx=\"1\" ry=\"1\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" rx=\"1\" ry=\"1\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" rx=\"1\" ry=\"1\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" rx=\"1\" ry=\"1\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const EffectsIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M12 2L13.09 8.26L19 9L13.09 9.74L12 16L10.91 9.74L5 9L10.91 8.26L12 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M19 15L20.09 18.26L23 19L20.09 19.74L19 23L17.91 19.74L15 19L17.91 18.26L19 15Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M5 15L6.09 18.26L9 19L6.09 19.74L5 23L3.91 19.74L1 19L3.91 18.26L5 15Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const MusicIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 18V5L21 3V16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"6\" cy=\"18\" r=\"3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"18\" cy=\"16\" r=\"3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const SoundsIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <polygon points=\"11,5 6,9 2,9 2,15 6,15 11,19\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M19.07 4.93C20.9441 6.8041 21.9999 9.3474 21.9999 12C21.9999 14.6526 20.9441 17.1959 19.07 19.07\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const VoiceIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M12 1C10.3431 1 9 2.34315 9 4V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V4C15 2.34315 13.6569 1 12 1Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M19 10V12C19 16.4183 15.4183 20 11 20H13C17.4183 20 21 16.4183 21 12V10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 20V24\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 24H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const VideosIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M23 7L16 12L23 17V7Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const GeneralIcon = ({ size = 20, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// === ICONOS DE ACCIONES ===\r\nexport const DeleteIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M3 6H5H21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 11V17\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 11V17\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const UploadIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M17 8L12 3L7 8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 3V15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const DownloadIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M7 10L12 15L17 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 15V3\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const SearchIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"11\" cy=\"11\" r=\"8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 21L16.65 16.65\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const SyncIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M23 4V10H17\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M20.49 15C19.9828 16.6513 19.0509 18.1409 17.7941 19.2941C16.5373 20.4473 15.0067 21.2143 13.3655 21.4981C11.7243 21.7818 10.0338 21.5712 8.5 20.8901C6.96616 20.209 5.65365 19.0826 4.71436 17.6424C3.77507 16.2022 3.25139 14.5151 3.20155 12.7805C3.15171 11.0459 3.57765 9.33451 4.4309 7.8409C5.28415 6.34729 6.52949 5.13769 8.02 4.36\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const SelectIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 12L11 14L15 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const CleanIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M3 6H5H21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M10 11V17\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 11V17\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M2 6H22\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const StatsIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M18 20V10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 20V4\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M6 20V14\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const BackIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M19 12H5\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 19L5 12L12 5\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// === ICONOS DE ESTADO ===\r\nexport const SuccessIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 12L11 14L15 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ErrorIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M15 9L9 15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 9L15 15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const LoadingIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" opacity=\"0.3\"/>\r\n    <path d=\"M12 2C14.2091 2 16.2091 3 17.6569 4.34315\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const WarningIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M10.29 3.86L1.82 18C1.64547 18.3024 1.5729 18.6453 1.61211 18.9873C1.65132 19.3293 1.80055 19.6507 2.04015 19.9006C2.27975 20.1505 2.5981 20.3159 2.946 20.3707C3.2939 20.4255 3.6547 20.3663 3.97 20.2L12 16.77L20.03 20.2C20.3453 20.3663 20.7061 20.4255 21.054 20.3707C21.4019 20.3159 21.7202 20.1505 21.9598 19.9006C22.1994 19.6507 22.3487 19.3293 22.3879 18.9873C22.4271 18.6453 22.3545 18.3024 22.18 18L13.71 3.86C13.5318 3.56631 13.2807 3.32312 12.9812 3.15447C12.6817 2.98582 12.3438 2.89725 12 2.89725C11.6562 2.89725 11.3183 2.98582 11.0188 3.15447C10.7193 3.32312 10.4682 3.56631 10.29 3.86Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 9V13\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 17H12.01\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// === ICONOS DE ARCHIVO ===\r\nexport const FileIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const ImageIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M21 15L16 10L5 21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const AudioIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <polygon points=\"11,5 6,9 2,9 2,15 6,15 11,19\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M19.07 4.93C20.9441 6.8041 21.9999 9.3474 21.9999 12C21.9999 14.6526 20.9441 17.1959 19.07 19.07\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 12C17.0039 13.3308 16.4774 14.6024 15.54 15.54\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\nexport const VideoFileIcon = ({ size = 16, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M23 7L16 12L23 17V7Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FileManager as FileManagerUtil } from '../../utils/fileManager';\r\nimport { AssetStorage } from '../../utils/assetStorage';\r\nimport { useVisualNovel } from '../../context/VisualNovelContext';\r\nimport { useModalContext } from '../../context/ModalContext';\r\nimport {\r\n  CharactersIcon,\r\n  BackgroundsIcon,\r\n  GuiIcon,\r\n  EffectsIcon,\r\n  MusicIcon,\r\n  SoundsIcon,\r\n  VoiceIcon,\r\n  VideosIcon,\r\n  GeneralIcon,\r\n  DeleteIcon,\r\n  UploadIcon,\r\n  DownloadIcon,\r\n  SearchIcon,\r\n  SyncIcon,\r\n  SelectIcon,\r\n  CleanIcon,\r\n  StatsIcon,\r\n  BackIcon,\r\n  SuccessIcon,\r\n  ErrorIcon,\r\n  LoadingIcon,\r\n  WarningIcon,\r\n  FileIcon,\r\n  ImageIcon,\r\n  AudioIcon,\r\n  VideoFileIcon\r\n} from '../icons/FileManagerIcons';\r\n\r\n// === ESTILOS PRINCIPALES ===\r\nconst PageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  background-color: var(--color-background);\r\n  color: var(--color-textPrimary);\r\n  overflow: hidden;\r\n  transition: background-color 0.3s ease, color 0.3s ease;\r\n`;\r\n\r\n// === BARRA SUPERIOR ===\r\nconst TopBar = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 16px 24px;\r\n  background-color: var(--color-surface);\r\n  border-bottom: 1px solid var(--color-border);\r\n  box-shadow: 0 2px 8px var(--color-shadow);\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst PageTitle = styled.h1`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst StatsBar = styled.div`\r\n  display: flex;\r\n  gap: 24px;\r\n  align-items: center;\r\n`;\r\n\r\nconst StatItem = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 8px 16px;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 8px;\r\n  border: 1px solid var(--color-border);\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst StatValue = styled.div`\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: var(--color-primary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst StatLabel = styled.div`\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  margin-top: 2px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst SearchBar = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 8px;\r\n  padding: 8px 16px;\r\n  border: 1px solid var(--color-borderSecondary);\r\n  min-width: 300px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  background: none;\r\n  border: none;\r\n  color: var(--color-textPrimary);\r\n  font-size: 14px;\r\n  width: 100%;\r\n  outline: none;\r\n  transition: color 0.3s ease;\r\n  \r\n  &::placeholder {\r\n    color: var(--color-textTertiary);\r\n  }\r\n`;\r\n\r\nconst SearchIconWrapper = styled.span`\r\n  margin-right: 8px;\r\n  color: var(--color-textTertiary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst DebugButton = styled.button`\r\n  background-color: var(--color-surfaceSecondary);\r\n  color: var(--color-textPrimary);\r\n  border: 1px solid var(--color-border);\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n  \r\n  &:hover:not(:disabled) {\r\n    background-color: var(--color-border);\r\n    border-color: var(--color-borderSecondary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n  \r\n  &.warning:hover:not(:disabled) {\r\n    background-color: var(--color-warning);\r\n    border-color: var(--color-warning);\r\n    color: white;\r\n  }\r\n  \r\n  &:active:not(:disabled) {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: var(--color-border);\r\n    border-color: var(--color-border);\r\n    cursor: not-allowed;\r\n    opacity: 0.6;\r\n    transform: none;\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\n// === LAYOUT PRINCIPAL ===\r\nconst MainLayout = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  overflow: hidden;\r\n`;\r\n\r\n// === SIDEBAR DE CATEGORAS ===\r\nconst CategorySidebar = styled.div`\r\n  width: 280px;\r\n  background-color: var(--color-background);\r\n  border-right: 1px solid var(--color-border);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst SidebarHeader = styled.div`\r\n  padding: 16px;\r\n  border-bottom: 1px solid var(--color-border);\r\n  background-color: var(--color-surfaceSecondary);\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst SidebarTitle = styled.h3`\r\n  margin: 0;\r\n  color: var(--color-primary);\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CategoryList = styled.div`\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 8px;\r\n`;\r\n\r\nconst CategoryItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  margin-bottom: 4px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'transparent'};\r\n  border: 1px solid ${props => props.active ? 'var(--color-info)' : 'transparent'};\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-border)'};\r\n  }\r\n`;\r\n\r\nconst CategoryIcon = styled.div`\r\n  font-size: 20px;\r\n  margin-right: 12px;\r\n  opacity: ${props => props.active ? 1 : 0.7};\r\n`;\r\n\r\nconst CategoryInfo = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst CategoryName = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--color-textPrimary);\r\n  margin-bottom: 2px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CategoryStats = styled.div`\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\n// === REA PRINCIPAL ===\r\nconst MainContent = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ContentHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 16px 24px;\r\n  background-color: var(--color-background);\r\n  border-bottom: 1px solid var(--color-border);\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst ContentTitle = styled.h2`\r\n  margin: 0;\r\n  color: var(--color-textPrimary);\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst ViewControls = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n`;\r\n\r\nconst ViewToggle = styled.button`\r\n  background-color: ${props => props.active ? 'var(--color-primary)' : 'var(--color-surfaceSecondary)'};\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background-color: ${props => props.active ? 'var(--color-primaryHover)' : 'var(--color-border)'};\r\n  }\r\n`;\r\n\r\nconst SortSelect = styled.select`\r\n  background-color: var(--color-surfaceSecondary);\r\n  color: var(--color-textPrimary);\r\n  border: 1px solid var(--color-border);\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst FilesGrid = styled.div`\r\n  flex: 1;\r\n  padding: 24px;\r\n  overflow-y: auto;\r\n  display: grid;\r\n  grid-template-columns: ${props => \r\n    props.viewMode === 'grid' \r\n      ? 'repeat(auto-fill, minmax(200px, 1fr))' \r\n      : '1fr'\r\n  };\r\n  gap: 16px;\r\n`;\r\n\r\nconst FileCard = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n  border: 2px solid transparent;\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 24px var(--color-shadow);\r\n    border-color: var(--color-primary);\r\n  }\r\n  \r\n  ${props => props.selected && `\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 0 0 2px var(--color-primary);\r\n  `}\r\n`;\r\n\r\nconst FilePreview = styled.div`\r\n  width: 100%;\r\n  height: ${props => props.viewMode === 'grid' ? '150px' : '80px'};\r\n  background-color: var(--color-border);\r\n  background-image: ${props => props.image ? `url(${props.image})` : 'none'};\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst FileIconWrapper = styled.div`\r\n  font-size: ${props => props.viewMode === 'grid' ? '48px' : '32px'};\r\n  color: var(--color-textTertiary);\r\n  opacity: 0.8;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst FileOverlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n  \r\n  ${FileCard}:hover & {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst FileActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background-color: ${props => props.primary ? 'var(--color-primary)' : 'var(--color-border)'};\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover:not(:disabled) {\r\n    background-color: ${props => props.primary ? 'var(--color-primaryHover)' : 'var(--color-borderSecondary)'};\r\n  }\r\n  \r\n  &.danger:hover:not(:disabled) {\r\n    background-color: var(--color-error);\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: var(--color-surfaceSecondary);\r\n    cursor: not-allowed;\r\n    opacity: 0.6;\r\n  }\r\n`;\r\n\r\nconst FileInfo = styled.div`\r\n  padding: 12px;\r\n`;\r\n\r\nconst FileName = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: var(--color-textPrimary);\r\n  margin-bottom: 4px;\r\n  word-break: break-word;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst FileDetails = styled.div`\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  margin-bottom: 8px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst FileTags = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst FileTag = styled.span`\r\n  background-color: var(--color-primary);\r\n  color: var(--color-textInverse);\r\n  padding: 2px 6px;\r\n  border-radius: 10px;\r\n  font-size: 10px;\r\n  font-weight: 500;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\n// === PANEL INFERIOR ===\r\nconst BottomPanel = styled.div`\r\n  background-color: var(--color-background);\r\n  border-top: 1px solid var(--color-border);\r\n  padding: 16px 24px;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst UploadSection = styled.div`\r\n  display: flex;\r\n  gap: 16px;\r\n  align-items: center;\r\n`;\r\n\r\nconst UploadArea = styled.div`\r\n  flex: 1;\r\n  border: 2px dashed var(--color-border);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    background-color: var(--color-primaryBackground);\r\n  }\r\n  \r\n  &.dragover {\r\n    border-color: var(--color-primary);\r\n    background-color: var(--color-primaryBackground);\r\n  }\r\n`;\r\n\r\nconst UploadText = styled.div`\r\n  color: var(--color-textSecondary);\r\n  font-size: 14px;\r\n  margin-bottom: 4px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst UploadSubtext = styled.div`\r\n  color: var(--color-textTertiary);\r\n  font-size: 12px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CategorySelector = styled.select`\r\n  background-color: var(--color-surfaceSecondary);\r\n  color: var(--color-textPrimary);\r\n  border: 1px solid var(--color-border);\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  min-width: 150px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100%;\r\n  height: 4px;\r\n  background-color: var(--color-border);\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n  margin-top: 8px;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst ProgressFill = styled.div`\r\n  height: 100%;\r\n  background-color: var(--color-primary);\r\n  width: ${props => props.progress}%;\r\n  transition: width 0.3s, background-color 0.3s ease;\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  display: none;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  color: var(--color-textTertiary);\r\n  text-align: center;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst EmptyIcon = styled.div`\r\n  font-size: 64px;\r\n  margin-bottom: 16px;\r\n  opacity: 0.5;\r\n`;\r\n\r\nconst EmptyText = styled.div`\r\n  font-size: 18px;\r\n  margin-bottom: 8px;\r\n  color: var(--color-textSecondary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst EmptySubtext = styled.div`\r\n  font-size: 14px;\r\n  color: var(--color-textTertiary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\n// === ESTILOS PARA CARPETAS DE PERSONAJES ===\r\nconst CharacterFolder = styled.div`\r\n  background-color: var(--color-surfaceSecondary);\r\n  border-radius: 12px;\r\n  margin-bottom: 16px;\r\n  overflow: hidden;\r\n  border: 2px solid var(--color-border);\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover {\r\n    border-color: var(--color-primary);\r\n    box-shadow: 0 4px 16px var(--color-shadowHover);\r\n  }\r\n`;\r\n\r\nconst CharacterFolderHeader = styled.div`\r\n  background-color: var(--color-border);\r\n  padding: 16px;\r\n  border-bottom: 1px solid var(--color-borderSecondary);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  transition: background-color 0.3s ease, border-color 0.3s ease;\r\n`;\r\n\r\nconst CharacterInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n`;\r\n\r\nconst CharacterIcon = styled.div`\r\n  font-size: 24px;\r\n  color: var(--color-primary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CharacterDetails = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst CharacterName = styled.div`\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: var(--color-textPrimary);\r\n  margin-bottom: 4px;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CharacterStats = styled.div`\r\n  font-size: 12px;\r\n  color: var(--color-textSecondary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CharacterFilesGrid = styled.div`\r\n  padding: 16px;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n  gap: 12px;\r\n`;\r\n\r\nconst CharacterFileCard = styled.div`\r\n  background-color: var(--color-backgroundSecondary);\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  transition: all 0.2s ease;\r\n  border: 1px solid var(--color-border);\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 12px var(--color-shadow);\r\n    border-color: var(--color-primary);\r\n  }\r\n`;\r\n\r\nconst CharacterFilePreview = styled.div`\r\n  width: 100%;\r\n  height: 100px;\r\n  background-color: var(--color-border);\r\n  background-image: ${props => props.image ? `url(${props.image})` : 'none'};\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nconst CharacterFileIcon = styled.div`\r\n  font-size: 32px;\r\n  color: var(--color-textTertiary);\r\n  opacity: 0.8;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CharacterFileInfo = styled.div`\r\n  padding: 8px;\r\n`;\r\n\r\nconst CharacterFileName = styled.div`\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: var(--color-textPrimary);\r\n  margin-bottom: 2px;\r\n  word-break: break-word;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CharacterFileDetails = styled.div`\r\n  font-size: 10px;\r\n  color: var(--color-textSecondary);\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst CharacterFolderActions = styled.div`\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n`;\r\n\r\nconst CharacterActionButton = styled.button`\r\n  background-color: ${props => props.danger ? 'var(--color-error)' : 'var(--color-borderSecondary)'};\r\n  color: var(--color-textInverse);\r\n  border: 1px solid ${props => props.danger ? 'var(--color-error)' : 'var(--color-borderSecondary)'};\r\n  padding: 8px 14px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n  \r\n  &:hover:not(:disabled) {\r\n    background-color: ${props => props.danger ? 'var(--color-errorHover)' : 'var(--color-border)'};\r\n    border-color: ${props => props.danger ? 'var(--color-errorHover)' : 'var(--color-border)'};\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n  \r\n  &:active:not(:disabled) {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: var(--color-border);\r\n    border-color: var(--color-border);\r\n    cursor: not-allowed;\r\n    opacity: 0.6;\r\n    transform: none;\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst CharacterFileActions = styled.div`\r\n  position: absolute;\r\n  top: 4px;\r\n  right: 4px;\r\n  display: flex;\r\n  gap: 4px;\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n  \r\n  ${CharacterFileCard}:hover & {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst CharacterFileActionButton = styled.button`\r\n  background-color: var(--color-surfaceElevated);\r\n  color: var(--color-textInverse);\r\n  border: 1px solid var(--color-border);\r\n  padding: 6px 8px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 10px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n  \r\n  &:hover:not(:disabled) {\r\n    background-color: var(--color-border);\r\n    border-color: var(--color-borderSecondary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n  \r\n  &.danger:hover:not(:disabled) {\r\n    background-color: var(--color-error);\r\n    border-color: var(--color-error);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n  \r\n  &:active:not(:disabled) {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: var(--color-border);\r\n    border-color: var(--color-border);\r\n    cursor: not-allowed;\r\n    opacity: 0.6;\r\n    transform: none;\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\nconst BackButton = styled.button`\r\n  background-color: var(--color-surfaceSecondary);\r\n  color: var(--color-textPrimary);\r\n  border: 1px solid var(--color-border);\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  box-shadow: 0 2px 4px var(--color-shadow);\r\n\r\n  &:hover {\r\n    background-color: var(--color-primary);\r\n    color: var(--color-textInverse);\r\n    border-color: var(--color-primary);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 4px 8px var(--color-shadowHover);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 2px 4px var(--color-shadow);\r\n  }\r\n`;\r\n\r\n// === COMPONENTE PRINCIPAL ===\r\nfunction FileManagerPage({ onClose }) {\r\n  const { state } = useVisualNovel();\r\n  const { showAlert, showConfirm } = useModalContext();\r\n  const [selectedCategory, setSelectedCategory] = useState('characters');\r\n  const [files, setFiles] = useState([]);\r\n  const [filesByCharacter, setFilesByCharacter] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [viewMode, setViewMode] = useState('grid');\r\n  const [sortBy, setSortBy] = useState('name');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedFiles, setSelectedFiles] = useState(new Set());\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [dragOver, setDragOver] = useState(false);\r\n  const [deletingFiles, setDeletingFiles] = useState(new Set());\r\n  const [stats, setStats] = useState({\r\n    totalFiles: 0,\r\n    totalSize: 0,\r\n    categories: {}\r\n  });\r\n  \r\n  const fileInputRef = useRef(null);\r\n  const fileManager = new FileManagerUtil();\r\n  const assetStorage = new AssetStorage();\r\n\r\n  // Funcin para obtener el nombre del personaje por ID\r\n  const getCharacterName = (characterId) => {\r\n    if (characterId === 'sin-personaje') {\r\n      return 'Sin Personaje Asignado';\r\n    }\r\n    \r\n    const character = state.project.characters.find(char => char.id === characterId);\r\n    return character ? character.name : characterId;\r\n  };\r\n\r\n  // Funcin para eliminar todos los archivos de un personaje\r\n  const handleDeleteCharacterFolder = async (characterId) => {\r\n    const characterName = getCharacterName(characterId);\r\n    \r\n    const confirmed = await showConfirm(\r\n      `Ests seguro de que quieres eliminar TODOS los sprites de ${characterName}? Esta accin no se puede deshacer.`,\r\n      'Eliminar Carpeta Completa',\r\n      ''\r\n    );\r\n    \r\n    if (confirmed) {\r\n      try {\r\n        console.log(`Eliminando carpeta completa del personaje: ${characterName}`);\r\n        \r\n        const characterFiles = filesByCharacter[characterId] || [];\r\n        \r\n        // Eliminar cada archivo del personaje\r\n        for (const file of characterFiles) {\r\n          console.log(`Eliminando archivo: ${file.name}`);\r\n          await fileManager.deleteFile(file.id);\r\n        }\r\n        \r\n        // Recargar archivos y estadsticas\r\n        await loadFiles();\r\n        await loadStats();\r\n        \r\n        console.log(`Carpeta del personaje ${characterName} eliminada exitosamente`);\r\n        await showAlert(`Todos los sprites de ${characterName} han sido eliminados`, 'Eliminacin Exitosa', <SuccessIcon size={16} color=\"currentColor\" />);\r\n      } catch (error) {\r\n        console.error('Error al eliminar carpeta del personaje:', error);\r\n        await showAlert('Error al eliminar los archivos del personaje: ' + error.message, 'Error de Eliminacin', <ErrorIcon size={16} color=\"currentColor\" />);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Funcin para eliminar un sprite individual de un personaje\r\n  const handleDeleteCharacterSprite = async (fileId) => {\r\n    const confirmed = await showConfirm(\r\n      'Ests seguro de que quieres eliminar este sprite?',\r\n      'Eliminar Sprite',\r\n      ''\r\n    );\r\n    \r\n    if (confirmed) {\r\n      try {\r\n        console.log(`Eliminando sprite: ${fileId}`);\r\n        \r\n        await fileManager.deleteFile(fileId);\r\n        \r\n        // Recargar archivos y estadsticas\r\n        await loadFiles();\r\n        await loadStats();\r\n        \r\n        console.log('Sprite eliminado exitosamente');\r\n      } catch (error) {\r\n        console.error('Error al eliminar sprite:', error);\r\n        await showAlert('Error al eliminar el sprite: ' + error.message, 'Error de Eliminacin', <ErrorIcon size={16} color=\"currentColor\" />);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Categoras disponibles\r\n  const categories = [\r\n    { id: 'characters', name: 'Personajes', icon: CharactersIcon, description: 'Sprites de personajes' },\r\n    { id: 'backgrounds', name: 'Fondos', icon: BackgroundsIcon, description: 'Imgenes de fondo' },\r\n    { id: 'gui', name: 'Interfaz', icon: GuiIcon, description: 'Elementos de UI' },\r\n    { id: 'effects', name: 'Efectos', icon: EffectsIcon, description: 'Efectos visuales' },\r\n    { id: 'music', name: 'Msica', icon: MusicIcon, description: 'Msica de fondo' },\r\n    { id: 'sounds', name: 'Sonidos', icon: SoundsIcon, description: 'Efectos de sonido' },\r\n    { id: 'voice', name: 'Voces', icon: VoiceIcon, description: 'Archivos de voz' },\r\n    { id: 'videos', name: 'Videos', icon: VideosIcon, description: 'Videos y cinemticas' },\r\n    { id: 'general', name: 'General', icon: GeneralIcon, description: 'Otros archivos' }\r\n  ];\r\n\r\n  // Cargar archivos cuando cambia la categora\r\n  useEffect(() => {\r\n    loadFiles();\r\n    loadStats();\r\n  }, [selectedCategory]);\r\n\r\n  // Cargar estadsticas globales\r\n  const loadStats = async () => {\r\n    try {\r\n      console.log('=== CARGANDO ESTADSTICAS ===');\r\n      \r\n      // Obtener estadsticas de FileManager (localStorage) - ya filtra archivos eliminados\r\n      const fileManagerStats = fileManager.getAllFiles();\r\n      console.log('Archivos en FileManager:', fileManagerStats.length);\r\n      \r\n      // Calcular estadsticas basadas en archivos no eliminados\r\n      const categoryCounts = {};\r\n      fileManagerStats.forEach(file => {\r\n        categoryCounts[file.category] = (categoryCounts[file.category] || 0) + 1;\r\n      });\r\n      \r\n      const finalStats = {\r\n        totalFiles: fileManagerStats.length,\r\n        totalSize: fileManagerStats.reduce((sum, file) => sum + (file.size || 0), 0),\r\n        totalSizeMB: (fileManagerStats.reduce((sum, file) => sum + (file.size || 0), 0) / (1024 * 1024)).toFixed(2),\r\n        categories: categoryCounts\r\n      };\r\n      \r\n      console.log('Estadsticas finales:', finalStats);\r\n      setStats(finalStats);\r\n      console.log('=== ESTADSTICAS CARGADAS ===');\r\n    } catch (error) {\r\n      console.error('Error al cargar estadsticas:', error);\r\n    }\r\n  };\r\n\r\n  // Cargar archivos de la categora seleccionada\r\n  const loadFiles = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      console.log(`=== CARGANDO ARCHIVOS PARA CATEGORA: ${selectedCategory} ===`);\r\n      \r\n      if (selectedCategory === 'characters') {\r\n        // Para personajes, cargar archivos organizados por personaje\r\n        const categoryFiles = await fileManager.getFilesByCategory(selectedCategory);\r\n        console.log(`Archivos de personajes encontrados:`, categoryFiles.length);\r\n        \r\n        // Organizar archivos por personaje\r\n        const filesByCharacter = {};\r\n        categoryFiles.forEach(file => {\r\n          const characterId = file.characterId || 'sin-personaje';\r\n          if (!filesByCharacter[characterId]) {\r\n            filesByCharacter[characterId] = [];\r\n          }\r\n          filesByCharacter[characterId].push(file);\r\n        });\r\n        \r\n        console.log('Archivos organizados por personaje:', filesByCharacter);\r\n        setFiles(categoryFiles); // Mantener la lista original para compatibilidad\r\n        setFilesByCharacter(filesByCharacter); // Nueva estructura organizada\r\n      } else {\r\n        // Para otras categoras, cargar normalmente\r\n        const categoryFiles = await fileManager.getFilesByCategory(selectedCategory);\r\n        console.log(`Archivos encontrados para ${selectedCategory}:`, categoryFiles.length);\r\n        setFiles(categoryFiles);\r\n        setFilesByCharacter({}); // Limpiar estructura de personajes\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al cargar archivos:', error);\r\n      setFiles([]);\r\n      setFilesByCharacter({});\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Filtrar archivos por bsqueda\r\n  const filteredFiles = files.filter(file =>\r\n    file.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  // Ordenar archivos\r\n  const sortedFiles = [...filteredFiles].sort((a, b) => {\r\n    switch (sortBy) {\r\n      case 'name':\r\n        return a.name.localeCompare(b.name);\r\n      case 'size':\r\n        return (b.size || 0) - (a.size || 0);\r\n      case 'date':\r\n        return new Date(b.uploadedAt || 0) - new Date(a.uploadedAt || 0);\r\n      default:\r\n        return 0;\r\n    }\r\n  });\r\n\r\n  // Manejar seleccin de archivos\r\n  const handleFileSelect = (fileId, isSelected) => {\r\n    const newSelection = new Set(selectedFiles);\r\n    if (isSelected) {\r\n      newSelection.add(fileId);\r\n    } else {\r\n      newSelection.delete(fileId);\r\n    }\r\n    setSelectedFiles(newSelection);\r\n  };\r\n\r\n  // Manejar subida de archivos\r\n  const handleFileUpload = (uploadedFiles) => {\r\n    uploadFiles(uploadedFiles);\r\n  };\r\n\r\n  const uploadFiles = async (files) => {\r\n    setIsUploading(true);\r\n    setUploadProgress(0);\r\n\r\n    const validFiles = files.filter(file => {\r\n      if (!fileManager.validateFileType(file)) {\r\n        showAlert(`El archivo ${file.name} no es un tipo vlido`, 'Tipo de Archivo Invlido', '');\r\n        return false;\r\n      }\r\n      if (!fileManager.validateFileSize(file)) {\r\n        showAlert(`El archivo ${file.name} es demasiado grande (mximo 10MB)`, 'Archivo Demasiado Grande', '');\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n\r\n    for (let i = 0; i < validFiles.length; i++) {\r\n      try {\r\n        await fileManager.uploadFile(validFiles[i], selectedCategory);\r\n        setUploadProgress(((i + 1) / validFiles.length) * 100);\r\n      } catch (error) {\r\n        console.error('Error al subir archivo:', error);\r\n        await showAlert(`Error al subir ${validFiles[i].name}`, 'Error de Subida', <ErrorIcon size={16} color=\"currentColor\" />);\r\n      }\r\n    }\r\n\r\n    setIsUploading(false);\r\n    setUploadProgress(0);\r\n    \r\n    console.log('=== ARCHIVOS SUBIDOS, RECARGANDO ===');\r\n    console.log('Archivos vlidos subidos:', validFiles.length);\r\n    \r\n    // Pequeo delay para asegurar sincronizacin\r\n    await new Promise(resolve => setTimeout(resolve, 100));\r\n    \r\n    await loadFiles();\r\n    await loadStats();\r\n    \r\n    console.log('=== RECARGA COMPLETADA ===');\r\n  };\r\n\r\n  // Manejar drag & drop\r\n  const handleDrop = (event) => {\r\n    event.preventDefault();\r\n    setDragOver(false);\r\n    const files = Array.from(event.dataTransfer.files);\r\n    uploadFiles(files);\r\n  };\r\n\r\n  const handleDragOver = (event) => {\r\n    event.preventDefault();\r\n    setDragOver(true);\r\n  };\r\n\r\n  const handleDragLeave = (event) => {\r\n    event.preventDefault();\r\n    setDragOver(false);\r\n  };\r\n\r\n  // Eliminar archivo\r\n  const handleDeleteFile = async (fileId) => {\r\n    const confirmed = await showConfirm(\r\n      'Ests seguro de que quieres eliminar este archivo?',\r\n      'Eliminar Archivo',\r\n      ''\r\n    );\r\n    \r\n    if (confirmed) {\r\n      try {\r\n        // Agregar a la lista de archivos siendo eliminados\r\n        setDeletingFiles(prev => new Set(prev).add(fileId));\r\n        \r\n        console.log(`Eliminando archivo ${fileId}...`);\r\n        const success = await fileManager.deleteFile(fileId);\r\n        \r\n        if (success) {\r\n          console.log('Archivo eliminado exitosamente');\r\n          // Recargar archivos y estadsticas\r\n          await loadFiles();\r\n          await loadStats();\r\n          \r\n          // Remover de la seleccin si estaba seleccionado\r\n          const newSelection = new Set(selectedFiles);\r\n          newSelection.delete(fileId);\r\n          setSelectedFiles(newSelection);\r\n        } else {\r\n          await showAlert('Error al eliminar el archivo', 'Error de Eliminacin', <ErrorIcon size={16} color=\"currentColor\" />);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al eliminar archivo:', error);\r\n        await showAlert('Error al eliminar el archivo: ' + error.message, 'Error de Eliminacin', <ErrorIcon size={16} color=\"currentColor\" />);\r\n      } finally {\r\n        // Remover de la lista de archivos siendo eliminados\r\n        setDeletingFiles(prev => {\r\n          const newSet = new Set(prev);\r\n          newSet.delete(fileId);\r\n          return newSet;\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  // Obtener icono del archivo\r\n  const getFileIcon = (file) => {\r\n    if (file.url && file.url.startsWith('data:image/')) {\r\n      return null; // Mostrar imagen\r\n    }\r\n    \r\n    if (file.category === 'music' || file.category === 'sounds' || file.category === 'voice') {\r\n      return AudioIcon;\r\n    }\r\n    \r\n    if (file.category === 'videos') {\r\n      return VideoFileIcon;\r\n    }\r\n    \r\n    if (file.category === 'characters' || file.category === 'backgrounds' || file.category === 'gui' || file.category === 'effects') {\r\n      return ImageIcon;\r\n    }\r\n    \r\n    return FileIcon;\r\n  };\r\n\r\n  // Formatear tamao de archivo\r\n  const formatFileSize = (bytes) => {\r\n    if (!bytes) return '0 B';\r\n    const k = 1024;\r\n    const sizes = ['B', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n  };\r\n\r\n  // Limpiar archivos fantasma\r\n  const handleCleanupGhostFiles = async () => {\r\n    const confirmed = await showConfirm(\r\n      'Ests seguro de que quieres limpiar archivos fantasma? Esto eliminar archivos que aparecen como eliminados pero siguen en localStorage.',\r\n      'Limpiar Archivos Fantasma',\r\n      ''\r\n    );\r\n    \r\n    if (confirmed) {\r\n      try {\r\n        console.log('Iniciando limpieza de archivos fantasma...');\r\n        const cleanedCount = await fileManager.cleanupGhostFiles();\r\n        \r\n        if (cleanedCount > 0) {\r\n          await showAlert(`Se eliminaron ${cleanedCount} archivos fantasma`, 'Limpieza Exitosa', <SuccessIcon size={16} color=\"currentColor\" />);\r\n          await loadFiles();\r\n          await loadStats();\r\n        } else {\r\n          await showAlert('No se encontraron archivos fantasma', 'Sin Archivos Fantasma', '');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al limpiar archivos fantasma:', error);\r\n        await showAlert('Error al limpiar archivos fantasma', 'Error de Limpieza', <ErrorIcon size={16} color=\"currentColor\" />);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Mostrar estado del sistema\r\n  const handleShowSystemStatus = () => {\r\n    const status = fileManager.getSystemStatus();\r\n    const message = `\r\nEstado del Sistema de Archivos:\r\n Sincronizacin en progreso: ${status.syncInProgress ? 'S' : 'No'}\r\n ltima sincronizacin: ${status.lastSyncTime || 'Nunca'}\r\n Archivos en memoria: ${status.totalFiles}\r\n Archivos marcados como eliminados: ${status.deletedFilesCount}\r\n IndexedDB disponible: ${status.indexedDBAvailable ? 'S' : 'No'}\r\n Quota localStorage: ${status.localStorageQuota.currentSizeMB}MB (${status.localStorageQuota.available ? 'Disponible' : 'No disponible'})\r\n    `;\r\n    \r\n    console.log('Estado del sistema:', status);\r\n    showAlert(message, 'Estado del Sistema', <StatsIcon size={16} color=\"currentColor\" />);\r\n  };\r\n\r\n  // Forzar sincronizacin\r\n  const handleForceSync = async () => {\r\n    try {\r\n      console.log('Forzando sincronizacin...');\r\n      await fileManager.forceSync();\r\n      await showAlert('Sincronizacin completada', 'Sincronizacin Exitosa', <SuccessIcon size={16} color=\"currentColor\" />);\r\n      await loadFiles();\r\n      await loadStats();\r\n    } catch (error) {\r\n      console.error('Error en sincronizacin forzada:', error);\r\n      await showAlert('Error en sincronizacin forzada', 'Error de Sincronizacin', <ErrorIcon size={16} color=\"currentColor\" />);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PageContainer>\r\n      {/* BARRA SUPERIOR */}\r\n      <TopBar>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\r\n          <BackButton onClick={onClose}>\r\n            <BackIcon size={16} color=\"currentColor\" style={{ marginRight: '4px' }} />\r\n            Volver al Editor\r\n          </BackButton>\r\n          <PageTitle>\r\n            <GeneralIcon size={24} color=\"currentColor\" style={{ marginRight: '8px' }} />\r\n            Gestin de Archivos\r\n          </PageTitle>\r\n        </div>\r\n        \r\n        <StatsBar>\r\n          <StatItem>\r\n            <StatValue>{stats.totalFiles}</StatValue>\r\n            <StatLabel>Total Archivos</StatLabel>\r\n          </StatItem>\r\n          <StatItem>\r\n            <StatValue>{stats.totalSizeMB}MB</StatValue>\r\n            <StatLabel>Tamao Total</StatLabel>\r\n          </StatItem>\r\n          <StatItem>\r\n            <StatValue>{stats.categories?.length || 0}</StatValue>\r\n            <StatLabel>Categoras</StatLabel>\r\n          </StatItem>\r\n          \r\n          {/* Botones de Debug */}\r\n          <DebugButton onClick={handleShowSystemStatus} title=\"Mostrar estado del sistema\">\r\n             Estado\r\n          </DebugButton>\r\n          <DebugButton onClick={handleForceSync} title=\"Forzar sincronizacin manual\">\r\n            <SyncIcon size={16} color=\"currentColor\" style={{ marginRight: '4px' }} />\r\n            Sync\r\n          </DebugButton>\r\n          <DebugButton className=\"warning\" onClick={handleCleanupGhostFiles} title=\"Limpiar archivos fantasma\">\r\n             Limpiar\r\n          </DebugButton>\r\n        </StatsBar>\r\n\r\n        <SearchBar>\r\n          <SearchIconWrapper>\r\n            <SearchIcon size={16} color=\"currentColor\" />\r\n          </SearchIconWrapper>\r\n          <SearchInput\r\n            type=\"text\"\r\n            placeholder=\"Buscar archivos...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n        </SearchBar>\r\n      </TopBar>\r\n\r\n      {/* LAYOUT PRINCIPAL */}\r\n      <MainLayout>\r\n        {/* SIDEBAR DE CATEGORAS */}\r\n        <CategorySidebar>\r\n          <SidebarHeader>\r\n            <SidebarTitle>Categoras</SidebarTitle>\r\n          </SidebarHeader>\r\n          \r\n          <CategoryList>\r\n            {categories.map(category => (\r\n              <CategoryItem\r\n                key={category.id}\r\n                active={selectedCategory === category.id}\r\n                onClick={() => setSelectedCategory(category.id)}\r\n              >\r\n                <CategoryIcon active={selectedCategory === category.id}>\r\n                  {React.createElement(category.icon, { size: 20, color: \"currentColor\" })}\r\n                </CategoryIcon>\r\n                <CategoryInfo>\r\n                  <CategoryName>{category.name}</CategoryName>\r\n                  <CategoryStats>\r\n                    {stats.categories?.[category.id] || 0} archivos\r\n                  </CategoryStats>\r\n                </CategoryInfo>\r\n              </CategoryItem>\r\n            ))}\r\n          </CategoryList>\r\n        </CategorySidebar>\r\n\r\n        {/* REA PRINCIPAL */}\r\n        <MainContent>\r\n          <ContentHeader>\r\n            <ContentTitle>\r\n              {categories.find(c => c.id === selectedCategory)?.name} \r\n              ({sortedFiles.length} archivos)\r\n            </ContentTitle>\r\n            \r\n            <ViewControls>\r\n              <ViewToggle\r\n                active={viewMode === 'grid'}\r\n                onClick={() => setViewMode('grid')}\r\n              >\r\n                 Grid\r\n              </ViewToggle>\r\n              <ViewToggle\r\n                active={viewMode === 'list'}\r\n                onClick={() => setViewMode('list')}\r\n              >\r\n                 Lista\r\n              </ViewToggle>\r\n              <SortSelect\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value)}\r\n              >\r\n                <option value=\"name\">Ordenar por nombre</option>\r\n                <option value=\"size\">Ordenar por tamao</option>\r\n                <option value=\"date\">Ordenar por fecha</option>\r\n              </SortSelect>\r\n            </ViewControls>\r\n          </ContentHeader>\r\n\r\n          {/* GRID DE ARCHIVOS */}\r\n          <FilesGrid viewMode={viewMode}>\r\n            {isLoading ? (\r\n              <EmptyState>\r\n                <EmptyIcon></EmptyIcon>\r\n                <EmptyText>Cargando archivos...</EmptyText>\r\n              </EmptyState>\r\n            ) : selectedCategory === 'characters' && Object.keys(filesByCharacter).length > 0 ? (\r\n              // Vista especial para personajes organizados por carpeta\r\n              Object.entries(filesByCharacter).map(([characterId, characterFiles]) => (\r\n                <CharacterFolder key={characterId}>\r\n                  <CharacterFolderHeader>\r\n                    <CharacterInfo>\r\n                      <CharacterIcon></CharacterIcon>\r\n                      <CharacterDetails>\r\n                        <CharacterName>\r\n                          {getCharacterName(characterId)}\r\n                        </CharacterName>\r\n                        <CharacterStats>\r\n                          {characterFiles.length} sprite{characterFiles.length !== 1 ? 's' : ''}\r\n                        </CharacterStats>\r\n                      </CharacterDetails>\r\n                    </CharacterInfo>\r\n                    \r\n                    <CharacterFolderActions>\r\n                      <CharacterActionButton\r\n                        danger\r\n                        onClick={() => handleDeleteCharacterFolder(characterId)}\r\n                      >\r\n                        <DeleteIcon size={16} color=\"currentColor\" style={{ marginRight: '4px' }} />\r\n                        Eliminar Todo\r\n                      </CharacterActionButton>\r\n                    </CharacterFolderActions>\r\n                  </CharacterFolderHeader>\r\n                  \r\n                  <CharacterFilesGrid>\r\n                    {characterFiles.map(file => (\r\n                      <CharacterFileCard\r\n                        key={file.id}\r\n                        onClick={() => handleFileSelect(file.id, !selectedFiles.has(file.id))}\r\n                      >\r\n                        <CharacterFilePreview\r\n                          image={file.url && file.url.startsWith('data:image/') ? file.url : null}\r\n                        >\r\n                          {!file.url || !file.url.startsWith('data:image/') && (\r\n                            <CharacterFileIcon></CharacterFileIcon>\r\n                          )}\r\n                          \r\n                          <CharacterFileActions>\r\n                            <CharacterFileActionButton\r\n                              className=\"danger\"\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleDeleteCharacterSprite(file.id);\r\n                              }}\r\n                            >\r\n                              <DeleteIcon size={14} color=\"currentColor\" />\r\n                            </CharacterFileActionButton>\r\n                          </CharacterFileActions>\r\n                        </CharacterFilePreview>\r\n                        \r\n                        <CharacterFileInfo>\r\n                          <CharacterFileName>{file.name}</CharacterFileName>\r\n                          <CharacterFileDetails>\r\n                            {formatFileSize(file.size)}\r\n                          </CharacterFileDetails>\r\n                        </CharacterFileInfo>\r\n                      </CharacterFileCard>\r\n                    ))}\r\n                  </CharacterFilesGrid>\r\n                </CharacterFolder>\r\n              ))\r\n            ) : sortedFiles.length === 0 ? (\r\n              <EmptyState>\r\n                <EmptyIcon>\r\n                  {categories.find(c => c.id === selectedCategory)?.icon}\r\n                </EmptyIcon>\r\n                <EmptyText>No hay archivos en esta categora</EmptyText>\r\n                <EmptySubtext>\r\n                  {categories.find(c => c.id === selectedCategory)?.description}\r\n                </EmptySubtext>\r\n              </EmptyState>\r\n            ) : (\r\n              // Vista normal para otras categoras\r\n              sortedFiles.map(file => (\r\n                <FileCard\r\n                  key={file.id}\r\n                  selected={selectedFiles.has(file.id)}\r\n                  onClick={() => handleFileSelect(file.id, !selectedFiles.has(file.id))}\r\n                >\r\n                  <FilePreview\r\n                    viewMode={viewMode}\r\n                    image={file.url && file.url.startsWith('data:image/') ? file.url : null}\r\n                  >\r\n                    {!file.url || !file.url.startsWith('data:image/') && (\r\n                      <FileIconWrapper viewMode={viewMode}>\r\n                        {React.createElement(getFileIcon(file), { size: 48, color: \"currentColor\" })}\r\n                      </FileIconWrapper>\r\n                    )}\r\n                    \r\n                    <FileOverlay>\r\n                      <FileActions>\r\n                        <ActionButton primary>\r\n                          <SelectIcon size={16} color=\"currentColor\" style={{ marginRight: '4px' }} />\r\n                          Seleccionar\r\n                        </ActionButton>\r\n                        <ActionButton \r\n                          className=\"danger\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleDeleteFile(file.id);\r\n                          }}\r\n                          disabled={deletingFiles.has(file.id)}\r\n                        >\r\n                          {deletingFiles.has(file.id) ? (\r\n                            <>\r\n                              <LoadingIcon size={16} color=\"currentColor\" style={{ marginRight: '4px' }} />\r\n                              Eliminando...\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <DeleteIcon size={16} color=\"currentColor\" style={{ marginRight: '4px' }} />\r\n                              Eliminar\r\n                            </>\r\n                          )}\r\n                        </ActionButton>\r\n                      </FileActions>\r\n                    </FileOverlay>\r\n                  </FilePreview>\r\n                  \r\n                  <FileInfo>\r\n                    <FileName>{file.name}</FileName>\r\n                    <FileDetails>\r\n                      {formatFileSize(file.size)}  {new Date(file.uploadedAt).toLocaleDateString()}\r\n                    </FileDetails>\r\n                    <FileTags>\r\n                      <FileTag>{file.category}</FileTag>\r\n                      {file.size && file.size > 1024 * 1024 && (\r\n                        <FileTag>Grande</FileTag>\r\n                      )}\r\n                    </FileTags>\r\n                  </FileInfo>\r\n                </FileCard>\r\n              ))\r\n            )}\r\n          </FilesGrid>\r\n        </MainContent>\r\n      </MainLayout>\r\n\r\n      {/* PANEL INFERIOR */}\r\n      <BottomPanel>\r\n        <UploadSection>\r\n          <UploadArea\r\n            className={dragOver ? 'dragover' : ''}\r\n            onDrop={handleDrop}\r\n            onDragOver={handleDragOver}\r\n            onDragLeave={handleDragLeave}\r\n            onClick={() => fileInputRef.current?.click()}\r\n          >\r\n            <UploadText>\r\n              Arrastra archivos aqu o haz clic para seleccionar\r\n            </UploadText>\r\n            <UploadSubtext>\r\n              Imgenes: JPG, PNG, GIF, WebP | Audio: OGG, MP3, WAV | Videos: WebM, OGV, AVI, MP4 (mximo 10MB)\r\n            </UploadSubtext>\r\n            {isUploading && (\r\n              <ProgressBar>\r\n                <ProgressFill progress={uploadProgress} />\r\n              </ProgressBar>\r\n            )}\r\n          </UploadArea>\r\n          \r\n          <CategorySelector\r\n            value={selectedCategory}\r\n            onChange={(e) => setSelectedCategory(e.target.value)}\r\n          >\r\n            {categories.map(category => (\r\n              <option key={category.id} value={category.id}>\r\n                {category.name}\r\n              </option>\r\n            ))}\r\n          </CategorySelector>\r\n        </UploadSection>\r\n\r\n        <FileInput\r\n          ref={fileInputRef}\r\n          type=\"file\"\r\n          multiple\r\n          accept=\"image/*,audio/*,video/*\"\r\n          onChange={(e) => uploadFiles(Array.from(e.target.files))}\r\n        />\r\n      </BottomPanel>\r\n    </PageContainer>\r\n  );\r\n}\r\n\r\nexport default FileManagerPage;\r\n","import React from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\n\r\n// Animaciones\r\nconst pulse = keyframes`\r\n  0% { opacity: 1; }\r\n  50% { opacity: 0.5; }\r\n  100% { opacity: 1; }\r\n`;\r\n\r\nconst slideIn = keyframes`\r\n  from { transform: translateX(100%); opacity: 0; }\r\n  to { transform: translateX(0); opacity: 1; }\r\n`;\r\n\r\nconst slideOut = keyframes`\r\n  from { transform: translateX(0); opacity: 1; }\r\n  to { transform: translateX(100%); opacity: 0; }\r\n`;\r\n\r\n// Componentes estilizados\r\nconst IndicatorContainer = styled.div`\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 16px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  backdrop-filter: blur(10px);\r\n  animation: ${slideIn} 0.3s ease-out;\r\n  \r\n  ${props => props.hidden && css`\r\n    animation: ${slideOut} 0.3s ease-in forwards;\r\n  `}\r\n`;\r\n\r\nconst SavedIndicator = styled(IndicatorContainer)`\r\n  background: var(--color-success);\r\n  color: var(--color-textInverse);\r\n  border: 2px solid var(--color-successHover);\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  font-weight: 600;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst SavingIndicator = styled(IndicatorContainer)`\r\n  background: var(--color-warning);\r\n  color: var(--color-textInverse);\r\n  border: 2px solid var(--color-warningHover);\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  font-weight: 600;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n  animation: ${pulse} 1.5s infinite;\r\n`;\r\n\r\nconst ErrorIndicator = styled(IndicatorContainer)`\r\n  background: var(--color-error);\r\n  color: var(--color-textInverse);\r\n  border: 2px solid var(--color-errorHover);\r\n  box-shadow: 0 4px 12px var(--color-shadow);\r\n  font-weight: 600;\r\n  text-shadow: 0 1px 2px var(--color-shadow);\r\n`;\r\n\r\nconst StatusIcon = styled.span`\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst StatusText = styled.span`\r\n  white-space: nowrap;\r\n`;\r\n\r\nconst LastSavedText = styled.span`\r\n  font-size: 10px;\r\n  opacity: 0.8;\r\n  margin-left: 4px;\r\n`;\r\n\r\nfunction AutoSaveIndicator() {\r\n  const { saveStatus, storage } = useVisualNovel();\r\n  const [showIndicator, setShowIndicator] = React.useState(false);\r\n  const [lastSaved, setLastSaved] = React.useState(null);\r\n\r\n  // Mostrar indicador cuando cambie el estado\r\n  React.useEffect(() => {\r\n    if (saveStatus !== 'saved') {\r\n      setShowIndicator(true);\r\n    } else {\r\n      // Mostrar brevemente el estado \"guardado\" antes de ocultar\r\n      setShowIndicator(true);\r\n      const timer = setTimeout(() => {\r\n        setShowIndicator(false);\r\n      }, 2000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [saveStatus]);\r\n\r\n  // Obtener informacin del ltimo guardado\r\n  React.useEffect(() => {\r\n    const updateLastSaved = () => {\r\n      const saveInfo = storage.getLastSaveInfo();\r\n      if (saveInfo) {\r\n        setLastSaved(new Date(saveInfo.lastSaved));\r\n      }\r\n    };\r\n\r\n    updateLastSaved();\r\n    const interval = setInterval(updateLastSaved, 30000); // Actualizar cada 30 segundos\r\n    return () => clearInterval(interval);\r\n  }, [storage]);\r\n\r\n  // Formatear tiempo transcurrido\r\n  const formatTimeAgo = (date) => {\r\n    if (!date) return '';\r\n    \r\n    const now = new Date();\r\n    const diff = now - date;\r\n    const minutes = Math.floor(diff / 60000);\r\n    const hours = Math.floor(diff / 3600000);\r\n    \r\n    if (minutes < 1) return 'ahora';\r\n    if (minutes < 60) return `${minutes}m`;\r\n    if (hours < 24) return `${hours}h`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  if (!showIndicator) return null;\r\n\r\n  const renderIndicator = () => {\r\n    switch (saveStatus) {\r\n      case 'saving':\r\n        return (\r\n          <SavingIndicator>\r\n            <StatusIcon></StatusIcon>\r\n            <StatusText>Guardando...</StatusText>\r\n          </SavingIndicator>\r\n        );\r\n      \r\n      case 'error':\r\n        return (\r\n          <ErrorIndicator>\r\n            <StatusIcon></StatusIcon>\r\n            <StatusText>Error al guardar</StatusText>\r\n          </ErrorIndicator>\r\n        );\r\n      \r\n      case 'saved':\r\n      default:\r\n        return (\r\n          <SavedIndicator>\r\n            <StatusIcon></StatusIcon>\r\n            <StatusText>\r\n              Guardado\r\n              {lastSaved && (\r\n                <LastSavedText>({formatTimeAgo(lastSaved)})</LastSavedText>\r\n              )}\r\n            </StatusText>\r\n          </SavedIndicator>\r\n        );\r\n    }\r\n  };\r\n\r\n  return renderIndicator();\r\n}\r\n\r\nexport default AutoSaveIndicator;\r\n","import React from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { useVisualNovel } from '../context/VisualNovelContext';\r\n\r\n// Animaciones\r\nconst spin = keyframes`\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n`;\r\n\r\nconst fadeIn = keyframes`\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0%, 100% { opacity: 1; }\r\n  50% { opacity: 0.5; }\r\n`;\r\n\r\n// Componentes estilizados\r\nconst LoadingOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(26, 26, 26, 0.95);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n  animation: ${fadeIn} 0.3s ease-out;\r\n`;\r\n\r\nconst LoadingContent = styled.div`\r\n  text-align: center;\r\n  color: white;\r\n  max-width: 400px;\r\n  padding: 20px;\r\n`;\r\n\r\nconst LoadingSpinner = styled.div`\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 3px solid rgba(74, 158, 255, 0.3);\r\n  border-top: 3px solid var(--color-primary);\r\n  border-radius: 50%;\r\n  animation: ${spin} 1s linear infinite;\r\n  margin: 0 auto 20px;\r\n`;\r\n\r\nconst LoadingTitle = styled.h2`\r\n  font-size: 24px;\r\n  margin: 0 0 10px 0;\r\n  color: var(--color-primary);\r\n  font-weight: 600;\r\n  transition: color 0.3s ease;\r\n`;\r\n\r\nconst LoadingSubtitle = styled.p`\r\n  font-size: 16px;\r\n  margin: 0 0 20px 0;\r\n  color: #cccccc;\r\n  line-height: 1.4;\r\n`;\r\n\r\nconst LoadingSteps = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst LoadingStep = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 14px;\r\n  color: ${props => props.completed ? '#4caf50' : '#888888'};\r\n  \r\n  ${props => props.active && css`\r\n    color: #4a9eff;\r\n    animation: ${pulse} 1.5s infinite;\r\n  `}\r\n`;\r\n\r\nconst StepIcon = styled.span`\r\n  font-size: 16px;\r\n  width: 20px;\r\n  text-align: center;\r\n`;\r\n\r\nconst LoadingProgress = styled.div`\r\n  width: 100%;\r\n  height: 4px;\r\n  background: rgba(74, 158, 255, 0.2);\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #4a9eff, #66c1e0);\r\n  border-radius: 2px;\r\n  width: ${props => props.progress || 0}%;\r\n  transition: width 0.3s ease-out;\r\n`;\r\n\r\nconst LoadingStats = styled.div`\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background: rgba(255, 255, 255, 0.05);\r\n  border-radius: 8px;\r\n  border: 1px solid rgba(74, 158, 255, 0.2);\r\n`;\r\n\r\nconst StatItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 5px 0;\r\n  font-size: 12px;\r\n  color: #aaaaaa;\r\n`;\r\n\r\nconst StatLabel = styled.span``;\r\nconst StatValue = styled.span`\r\n  color: #4a9eff;\r\n  font-weight: 500;\r\n`;\r\n\r\nfunction LoadingScreen() {\r\n  const { isLoading, storage } = useVisualNovel();\r\n  const [currentStep, setCurrentStep] = React.useState(0);\r\n  const [progress, setProgress] = React.useState(0);\r\n  const [stats, setStats] = React.useState(null);\r\n\r\n  // Simular progreso de carga\r\n  React.useEffect(() => {\r\n    if (!isLoading) return;\r\n\r\n    const steps = [\r\n      { text: 'Cargando estado guardado...', duration: 800 },\r\n      { text: 'Restaurando proyecto...', duration: 600 },\r\n      { text: 'Cargando personajes...', duration: 400 },\r\n      { text: 'Restaurando escenas...', duration: 500 },\r\n      { text: 'Finalizando...', duration: 300 }\r\n    ];\r\n\r\n    let currentStepIndex = 0;\r\n    let totalProgress = 0;\r\n\r\n    const updateProgress = () => {\r\n      if (currentStepIndex < steps.length) {\r\n        setCurrentStep(currentStepIndex);\r\n        \r\n        // Actualizar progreso gradualmente\r\n        const stepProgress = (currentStepIndex + 1) * 20;\r\n        setProgress(stepProgress);\r\n        \r\n        // Obtener estadsticas del proyecto si est disponible\r\n        if (currentStepIndex === 1) {\r\n          const saveInfo = storage.getLastSaveInfo();\r\n          if (saveInfo) {\r\n            setStats({\r\n              projectName: saveInfo.projectName,\r\n              lastSaved: new Date(saveInfo.lastSaved).toLocaleString('es-ES')\r\n            });\r\n          }\r\n        }\r\n        \r\n        currentStepIndex++;\r\n        \r\n        if (currentStepIndex < steps.length) {\r\n          setTimeout(updateProgress, steps[currentStepIndex - 1].duration);\r\n        } else {\r\n          // Completar al 100%\r\n          setProgress(100);\r\n          setTimeout(() => {\r\n            setCurrentStep(steps.length);\r\n          }, 300);\r\n        }\r\n      }\r\n    };\r\n\r\n    updateProgress();\r\n  }, [isLoading, storage]);\r\n\r\n  if (!isLoading) return null;\r\n\r\n  const steps = [\r\n    { text: 'Cargando estado guardado...', icon: '' },\r\n    { text: 'Restaurando proyecto...', icon: '' },\r\n    { text: 'Cargando personajes...', icon: '' },\r\n    { text: 'Restaurando escenas...', icon: '' },\r\n    { text: 'Finalizando...', icon: '' }\r\n  ];\r\n\r\n  return (\r\n    <LoadingOverlay>\r\n      <LoadingContent>\r\n        <LoadingSpinner />\r\n        \r\n        <LoadingTitle>Recuperando tu trabajo</LoadingTitle>\r\n        <LoadingSubtitle>\r\n          No te preocupes, hemos guardado automticamente todo tu progreso\r\n        </LoadingSubtitle>\r\n        \r\n        <LoadingProgress>\r\n          <ProgressBar progress={progress} />\r\n        </LoadingProgress>\r\n        \r\n        <LoadingSteps>\r\n          {steps.map((step, index) => (\r\n            <LoadingStep\r\n              key={index}\r\n              completed={index < currentStep}\r\n              active={index === currentStep}\r\n            >\r\n              <StepIcon>\r\n                {index < currentStep ? '' : step.icon}\r\n              </StepIcon>\r\n              {step.text}\r\n            </LoadingStep>\r\n          ))}\r\n        </LoadingSteps>\r\n        \r\n        {stats && (\r\n          <LoadingStats>\r\n            <StatItem>\r\n              <StatLabel>Proyecto:</StatLabel>\r\n              <StatValue>{stats.projectName}</StatValue>\r\n            </StatItem>\r\n            <StatItem>\r\n              <StatLabel>ltimo guardado:</StatLabel>\r\n              <StatValue>{stats.lastSaved}</StatValue>\r\n            </StatItem>\r\n          </LoadingStats>\r\n        )}\r\n      </LoadingContent>\r\n    </LoadingOverlay>\r\n  );\r\n}\r\n\r\nexport default LoadingScreen;\r\n","import React from 'react';\r\n\r\n// Icono de editor/programacin\r\nexport const EditorIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M6 7H18\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M6 11H14\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M6 15H12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M16 11L18 13L22 9\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de proyecto/carpeta\r\nexport const ProjectIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M22 19C22 19.5304 21.7893 20.0391 21.4142 20.4142C21.0391 20.7893 20.5304 21 20 21H4C3.46957 21 2.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H9L11 5H20C20.5304 5 21.0391 5.21071 21.4142 5.58579C21.7893 5.96086 22 6.46957 22 7V19Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M8 9H16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M8 13H14\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M8 17H12\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de tema/paleta\r\nexport const ThemeIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\"/>\r\n    <path d=\"M12 2C12 2 16 8 16 12C16 16 13.3137 18 12 18C10.6863 18 8 16 8 12C8 8 12 2 12 2Z\" stroke={color} strokeWidth=\"2\"/>\r\n    <path d=\"M12 2V6\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M12 18V22\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M4.93 4.93L7.76 7.76\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M16.24 16.24L19.07 19.07\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de script/cdigo\r\nexport const ScriptIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M14 2V8H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M16 13H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M16 17H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n    <path d=\"M10 9H8\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de vista previa/monitor\r\nexport const PreviewIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\" stroke={color} strokeWidth=\"2\"/>\r\n    <line x1=\"8\" y1=\"21\" x2=\"16\" y2=\"21\" stroke={color} strokeWidth=\"2\"/>\r\n    <line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"21\" stroke={color} strokeWidth=\"2\"/>\r\n    <circle cx=\"12\" cy=\"10\" r=\"2\" stroke={color} strokeWidth=\"2\"/>\r\n    <path d=\"M8 8L16 12L8 16V8Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de xito/completado\r\nexport const SuccessIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\"/>\r\n    <path d=\"M9 12L11 14L15 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de cohete/lanzamiento\r\nexport const RocketIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M4.5 16.5C4.5 16.5 8.5 12.5 12 9C15.5 5.5 19.5 1.5 19.5 1.5C19.5 1.5 15.5 5.5 12 9C8.5 12.5 4.5 16.5 4.5 16.5Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 15L15 18L18 15\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <circle cx=\"12\" cy=\"12\" r=\"2\" stroke={color} strokeWidth=\"2\"/>\r\n    <path d=\"M8 20L12 16L16 20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de reloj/espera\r\nexport const ClockIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke={color} strokeWidth=\"2\"/>\r\n    <polyline points=\"12,6 12,12 16,14\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de luz bombilla/consejo\r\nexport const LightbulbIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M9 21C9 21.5523 9.44772 22 10 22H14C14.5523 22 15 21.5523 15 21V20H9V21Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 2C8.68629 2 6 4.68629 6 8C6 10.5 7.5 12.5 9.5 13.5V15H14.5V13.5C16.5 12.5 18 10.5 18 8C18 4.68629 15.3137 2 12 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 18V16\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de flecha hacia la derecha\r\nexport const ArrowRightIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M5 12H19\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M12 5L19 12L12 19\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de play/reproducir\r\nexport const PlayIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <polygon points=\"5,3 19,12 5,21\" fill={color}/>\r\n  </svg>\r\n);\r\n\r\n// Icono de pausa\r\nexport const PauseIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" fill={color}/>\r\n    <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" fill={color}/>\r\n  </svg>\r\n);\r\n\r\n// Icono de engranaje/configuracin\r\nexport const SettingsIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke={color} strokeWidth=\"2\"/>\r\n    <path d=\"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.2569 9.77251 19.9889C9.5799 19.7208 9.31074 19.5186 9 19.41C8.69838 19.2769 8.36381 19.2372 8.03941 19.296C7.71502 19.3548 7.41568 19.5095 7.18 19.74L7.12 19.8C6.93425 19.986 6.71368 20.1335 6.47088 20.2341C6.22808 20.3348 5.96783 20.3866 5.705 20.3866C5.44217 20.3866 5.18192 20.3348 4.93912 20.2341C4.69632 20.1335 4.47575 19.986 4.29 19.8C4.10405 19.6143 3.95653 19.3937 3.85588 19.1509C3.75523 18.9081 3.70343 18.6478 3.70343 18.385C3.70343 18.1222 3.75523 17.8619 3.85588 17.6191C3.95653 17.3763 4.10405 17.1557 4.29 16.97L4.35 16.91C4.58054 16.6743 4.73519 16.375 4.794 16.0506C4.85282 15.7262 4.81312 15.3916 4.68 15.09C4.55324 14.7942 4.34276 14.542 4.07447 14.3643C3.80618 14.1866 3.49179 14.0913 3.17 14.09H3C2.46957 14.09 1.96086 13.8793 1.58579 13.5042C1.21071 13.1291 1 12.6204 1 12.09C1 11.5596 1.21071 11.0509 1.58579 10.6758C1.96086 10.3007 2.46957 10.09 3 10.09H3.09C3.42099 10.0823 3.742 9.97512 4.01005 9.78251C4.27809 9.5899 4.48032 9.32074 4.59 9.01C4.72312 8.70838 4.76282 8.37381 4.704 8.04941C4.64519 7.72502 4.49054 7.42568 4.26 7.19L4.2 7.13C4.01405 6.94425 3.86653 6.72368 3.76588 6.48088C3.66523 6.23808 3.61343 5.97783 3.61343 5.715C3.61343 5.45217 3.66523 5.19192 3.76588 4.94912C3.86653 4.70632 4.01405 4.48575 4.2 4.3C4.38575 4.11405 4.60632 3.96653 4.84912 3.86588C5.09192 3.76523 5.35217 3.71343 5.615 3.71343C5.87783 3.71343 6.13808 3.76523 6.38088 3.86588C6.62368 3.96653 6.84425 4.11405 7.03 4.3L7.09 4.36C7.32568 4.59054 7.62502 4.74519 7.94941 4.804C8.27381 4.86282 8.60838 4.82312 8.91 4.69H9C9.29577 4.56324 9.54802 4.35276 9.72569 4.08447C9.90337 3.81618 9.99872 3.50179 10 3.18V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de libro/gua\r\nexport const BookIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M4 19.5C4 18.837 4.26339 18.2011 4.73223 17.7322C5.20107 17.2634 5.83696 17 6.5 17H20\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M6.5 2H20V22H6.5C5.83696 22 5.20107 21.7366 4.73223 21.2678C4.26339 20.7989 4 20.163 4 19.5V4.5C4 3.83696 4.26339 3.20107 4.73223 2.73223C5.20107 2.26339 5.83696 2 6.5 2Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de estrella/favorito\r\nexport const StarIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <polygon points=\"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de corazn/like\r\nexport const HeartIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M20.84 4.61C20.3292 4.099 19.7228 3.69364 19.0554 3.41708C18.3879 3.14052 17.6725 2.99817 16.95 2.99817C16.2275 2.99817 15.5121 3.14052 14.8446 3.41708C14.1772 3.69364 13.5708 4.099 13.06 4.61L12 5.67L10.94 4.61C9.9083 3.5783 8.50903 2.9987 7.05 2.9987C5.59096 2.9987 4.19169 3.5783 3.16 4.61C2.1283 5.6417 1.5487 7.04097 1.5487 8.5C1.5487 9.95903 2.1283 11.3583 3.16 12.39L12 21.23L20.84 12.39C21.351 11.8792 21.7563 11.2728 22.0329 10.6053C22.3095 9.93789 22.4518 9.22248 22.4518 8.5C22.4518 7.77752 22.3095 7.0621 22.0329 6.39467C21.7563 5.72723 21.351 5.1208 20.84 4.61Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de escudo/seguridad\r\nexport const ShieldIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n    <path d=\"M9 12L11 14L15 10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Icono de zap/energa\r\nexport const ZapIcon = ({ size = 24, color = 'currentColor' }) => (\r\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <polygon points=\"13,2 3,14 12,14 11,22 21,10 12,10\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport {\r\n  EditorIcon,\r\n  ProjectIcon,\r\n  ThemeIcon,\r\n  ScriptIcon,\r\n  PreviewIcon,\r\n  SuccessIcon,\r\n  RocketIcon,\r\n  ClockIcon,\r\n  LightbulbIcon,\r\n  ArrowRightIcon,\r\n  SettingsIcon,\r\n  BookIcon,\r\n  StarIcon,\r\n  HeartIcon,\r\n  ShieldIcon,\r\n  ZapIcon\r\n} from './icons/IntroIcons';\r\n\r\n// Animaciones\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst slideIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-30px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n`;\r\n\r\nconst pulse = keyframes`\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst buttonReady = keyframes`\r\n  0% {\r\n    transform: scale(1);\r\n    box-shadow: 0 8px 24px rgba(74, 158, 255, 0.3);\r\n  }\r\n  50% {\r\n    transform: scale(1.05);\r\n    box-shadow: 0 12px 32px rgba(74, 158, 255, 0.5);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n    box-shadow: 0 8px 24px rgba(74, 158, 255, 0.3);\r\n  }\r\n`;\r\n\r\nconst progressFill = keyframes`\r\n  from {\r\n    width: 0%;\r\n  }\r\n  to {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\n// Estilos\r\nconst IntroContainer = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: linear-gradient(135deg, var(--color-background) 0%, var(--color-backgroundSecondary) 100%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 10000;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst BackgroundPattern = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-image: \r\n    radial-gradient(circle at 20% 80%, rgba(74, 158, 255, 0.1) 0%, transparent 50%),\r\n    radial-gradient(circle at 80% 20%, rgba(74, 158, 255, 0.1) 0%, transparent 50%),\r\n    radial-gradient(circle at 40% 40%, rgba(74, 158, 255, 0.05) 0%, transparent 50%);\r\n  animation: ${fadeIn} 2s ease-out;\r\n`;\r\n\r\nconst ContentContainer = styled.div`\r\n  position: relative;\r\n  z-index: 2;\r\n  text-align: center;\r\n  max-width: 800px;\r\n  padding: 40px;\r\n  animation: ${fadeIn} 1s ease-out 0.5s both;\r\n`;\r\n\r\nconst LogoContainer = styled.div`\r\n  margin-bottom: 40px;\r\n  animation: ${pulse} 2s ease-in-out infinite;\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  height: 120px;\r\n  width: auto;\r\n  object-fit: contain;\r\n  filter: drop-shadow(0 8px 32px rgba(74, 158, 255, 0.3));\r\n`;\r\n\r\nconst WelcomeTitle = styled.h1`\r\n  font-size: 3rem;\r\n  font-weight: 700;\r\n  color: var(--color-primary);\r\n  margin: 0 0 16px 0;\r\n  text-shadow: 0 4px 16px rgba(74, 158, 255, 0.3);\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n`;\r\n\r\nconst WelcomeSubtitle = styled.p`\r\n  font-size: 1.25rem;\r\n  color: var(--color-textSecondary);\r\n  margin: 0 0 40px 0;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst ProgressContainer = styled.div`\r\n  width: 100%;\r\n  max-width: 500px;\r\n  margin: 0 auto 40px auto;\r\n`;\r\n\r\nconst ProgressLabel = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n  font-size: 14px;\r\n  color: var(--color-textSecondary);\r\n`;\r\n\r\nconst ProgressBar = styled.div`\r\n  width: 100%;\r\n  height: 8px;\r\n  background-color: var(--color-border);\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  position: relative;\r\n`;\r\n\r\nconst ProgressFill = styled.div`\r\n  height: 100%;\r\n  background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  border-radius: 4px;\r\n  width: ${props => props.progress}%;\r\n  transition: width 0.3s ease;\r\n  position: relative;\r\n  \r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);\r\n    animation: ${progressFill} 2s ease-in-out infinite;\r\n  }\r\n`;\r\n\r\nconst TipsContainer = styled.div`\r\n  background-color: var(--color-surface);\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n  margin: 20px 0;\r\n  box-shadow: 0 8px 32px var(--color-shadow);\r\n  animation: ${slideIn} 0.8s ease-out 1s both;\r\n`;\r\n\r\nconst TipsTitle = styled.h3`\r\n  color: var(--color-primary);\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  margin: 0 0 16px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  \r\n  svg {\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n\r\nconst TipText = styled.p`\r\n  color: var(--color-textPrimary);\r\n  font-size: 1rem;\r\n  line-height: 1.6;\r\n  margin: 0;\r\n  font-style: italic;\r\n  \r\n  div {\r\n    svg {\r\n      opacity: 0.8;\r\n      transition: opacity 0.3s ease;\r\n    }\r\n    \r\n    &:hover svg {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nconst LoadingSteps = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst LoadingStep = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 14px;\r\n  color: ${props => props.completed ? 'var(--color-success)' : 'var(--color-textTertiary)'};\r\n  transition: all 0.3s ease;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  \r\n  &:hover {\r\n    background-color: var(--color-surface);\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst StepIcon = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 24px;\r\n  height: 24px;\r\n  transition: all 0.3s ease;\r\n  \r\n  svg {\r\n    transition: all 0.3s ease;\r\n    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));\r\n  }\r\n`;\r\n\r\nconst VersionInfo = styled.div`\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  font-size: 12px;\r\n  color: var(--color-textTertiary);\r\n  opacity: 0.7;\r\n`;\r\n\r\nconst EnterButton = styled.button`\r\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryHover) 100%);\r\n  color: var(--color-textInverse);\r\n  border: none;\r\n  border-radius: 12px;\r\n  padding: 16px 32px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  box-shadow: 0 8px 24px rgba(74, 158, 255, 0.3);\r\n  transition: all 0.3s ease;\r\n  margin: 20px auto 0 auto;\r\n  animation: ${fadeIn} 1s ease-out 2s both;\r\n  \r\n  ${props => props.isReady && css`\r\n    animation: ${buttonReady} 2s ease-in-out infinite;\r\n  `}\r\n\r\n  &:hover {\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 12px 32px rgba(74, 158, 255, 0.4);\r\n    background: linear-gradient(135deg, var(--color-primaryHover) 0%, var(--color-primary) 100%);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 8px 24px rgba(74, 158, 255, 0.3);\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n    background: linear-gradient(135deg, var(--color-textTertiary) 0%, var(--color-border) 100%);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n    \r\n    &:hover {\r\n      transform: none;\r\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n      background: linear-gradient(135deg, var(--color-textTertiary) 0%, var(--color-border) 100%);\r\n    }\r\n  }\r\n`;\r\n\r\nconst ButtonIcon = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 20px;\r\n  height: 20px;\r\n  \r\n  svg {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\n\r\n// Consejos y tips para crear novelas visuales\r\nconst TIPS = [\r\n  {\r\n    icon: <BookIcon />,\r\n    text: \"Comienza con una historia simple y desarrolla los personajes gradualmente\"\r\n  },\r\n  {\r\n    icon: <HeartIcon />,\r\n    text: \"Crea personajes memorables con personalidades nicas y motivaciones claras\"\r\n  },\r\n  {\r\n    icon: <StarIcon />,\r\n    text: \"Usa fondos y msica para establecer el ambiente y la atmsfera\"\r\n  },\r\n  {\r\n    icon: <EditorIcon />,\r\n    text: \"Escribe dilogos naturales que reflejen la personalidad de cada personaje\"\r\n  },\r\n  {\r\n    icon: <PreviewIcon />,\r\n    text: \"Planifica tus escenas con anticipacin para mantener el ritmo narrativo\"\r\n  },\r\n  {\r\n    icon: <ZapIcon />,\r\n    text: \"La msica de fondo puede cambiar completamente la experiencia del jugador\"\r\n  },\r\n  {\r\n    icon: <ThemeIcon />,\r\n    text: \"Los colores de los personajes ayudan a distinguirlos visualmente\"\r\n  },\r\n  {\r\n    icon: <ShieldIcon />,\r\n    text: \"Las elecciones del jugador deben tener consecuencias significativas\"\r\n  },\r\n  {\r\n    icon: <HeartIcon />,\r\n    text: \"Vara las expresiones de los personajes para mostrar emociones\"\r\n  },\r\n  {\r\n    icon: <PreviewIcon />,\r\n    text: \"Usa transiciones suaves entre escenas para mantener la inmersin\"\r\n  },\r\n  {\r\n    icon: <EditorIcon />,\r\n    text: \"Revisa y edita tu historia varias veces para pulir los detalles\"\r\n  },\r\n  {\r\n    icon: <StarIcon />,\r\n    text: \"Experimenta con diferentes estilos visuales para encontrar tu voz nica\"\r\n  }\r\n];\r\n\r\nconst LOADING_STEPS = [\r\n  { \r\n    icon: <SettingsIcon />, \r\n    text: \"Inicializando editor\", \r\n    completed: false,\r\n    color: 'var(--color-primary)'\r\n  },\r\n  { \r\n    icon: <ProjectIcon />, \r\n    text: \"Cargando proyectos\", \r\n    completed: false,\r\n    color: 'var(--color-primary)'\r\n  },\r\n  { \r\n    icon: <ThemeIcon />, \r\n    text: \"Preparando temas\", \r\n    completed: false,\r\n    color: 'var(--color-primary)'\r\n  },\r\n  { \r\n    icon: <ScriptIcon />, \r\n    text: \"Configurando scripts\", \r\n    completed: false,\r\n    color: 'var(--color-primary)'\r\n  },\r\n  { \r\n    icon: <PreviewIcon />, \r\n    text: \"Cargando vista previa\", \r\n    completed: false,\r\n    color: 'var(--color-primary)'\r\n  },\r\n  { \r\n    icon: <SuccessIcon />, \r\n    text: \"Listo para crear\", \r\n    completed: false,\r\n    color: 'var(--color-success)'\r\n  }\r\n];\r\n\r\nfunction IntroScreen({ onComplete }) {\r\n  const [progress, setProgress] = useState(0);\r\n  const [currentTip, setCurrentTip] = useState(0);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [isComplete, setIsComplete] = useState(false);\r\n  const [canEnter, setCanEnter] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Simular carga con progreso (13 segundos total)\r\n    const progressInterval = setInterval(() => {\r\n      setProgress(prev => {\r\n        if (prev >= 100) {\r\n          clearInterval(progressInterval);\r\n          setIsComplete(true);\r\n          setCanEnter(true); // Solo habilitar cuando la carga termine\r\n          return 100;\r\n        }\r\n        // Incremento calculado para completar en 13 segundos\r\n        return prev + (100 / (13000 / 250)); // 13 segundos = 13000ms, intervalo 250ms\r\n      });\r\n    }, 250); // Intervalo ms suave\r\n\r\n    // Cambiar tips cada 2 segundos\r\n    const tipInterval = setInterval(() => {\r\n      setCurrentTip(prev => (prev + 1) % TIPS.length);\r\n    }, 2000);\r\n\r\n    // Actualizar pasos de carga (distribuidos en 13 segundos)\r\n    const stepInterval = setInterval(() => {\r\n      setCurrentStep(prev => {\r\n        const newStep = Math.min(prev + 1, LOADING_STEPS.length - 1);\r\n        if (newStep === LOADING_STEPS.length - 1) {\r\n          clearInterval(stepInterval);\r\n        }\r\n        return newStep;\r\n      });\r\n    }, 2166); // 13 segundos / 6 pasos = ~2.16 segundos por paso\r\n\r\n    return () => {\r\n      clearInterval(progressInterval);\r\n      clearInterval(tipInterval);\r\n      clearInterval(stepInterval);\r\n    };\r\n  }, [onComplete]);\r\n\r\n  return (\r\n    <IntroContainer>\r\n      <BackgroundPattern />\r\n      \r\n      <ContentContainer>\r\n        <LogoContainer>\r\n          <Logo src=\"/logo.png\" alt=\"RynEditor\" />\r\n        </LogoContainer>\r\n        \r\n        <WelcomeTitle>Bienvenido a RynEditor!</WelcomeTitle>\r\n        <WelcomeSubtitle>\r\n          Tu editor profesional de novelas visuales compatible con Ren'Py\r\n        </WelcomeSubtitle>\r\n        \r\n        <ProgressContainer>\r\n          <ProgressLabel>\r\n            <span>Inicializando aplicacin...</span>\r\n            <span>{Math.round(progress)}%</span>\r\n          </ProgressLabel>\r\n          <ProgressBar>\r\n            <ProgressFill progress={progress} />\r\n          </ProgressBar>\r\n        </ProgressContainer>\r\n        \r\n        <LoadingSteps>\r\n          {LOADING_STEPS.map((step, index) => (\r\n            <LoadingStep \r\n              key={index} \r\n              completed={index <= currentStep}\r\n            >\r\n              <StepIcon>\r\n                {React.cloneElement(step.icon, {\r\n                  color: index <= currentStep ? step.color : 'var(--color-textTertiary)',\r\n                  size: 16\r\n                })}\r\n              </StepIcon>\r\n              <span>{step.text}</span>\r\n            </LoadingStep>\r\n          ))}\r\n        </LoadingSteps>\r\n        \r\n        <TipsContainer>\r\n          <TipsTitle>\r\n            <LightbulbIcon color=\"var(--color-primary)\" size={20} />\r\n            Consejo para crear novelas visuales\r\n          </TipsTitle>\r\n          <TipText>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n              {TIPS[currentTip].icon}\r\n              <span>{TIPS[currentTip].text}</span>\r\n            </div>\r\n          </TipText>\r\n        </TipsContainer>\r\n\r\n        <EnterButton \r\n          onClick={onComplete}\r\n          disabled={!canEnter}\r\n          isReady={isComplete}\r\n        >\r\n          <ButtonIcon>\r\n            {isComplete ? (\r\n              <RocketIcon color=\"var(--color-textInverse)\" size={20} />\r\n            ) : (\r\n              <ClockIcon color=\"var(--color-textInverse)\" size={20} />\r\n            )}\r\n          </ButtonIcon>\r\n          <span>{isComplete ? 'Entrar al Editor!' : `Cargando... ${Math.round(progress)}%`}</span>\r\n          {isComplete && (\r\n            <ArrowRightIcon color=\"var(--color-textInverse)\" size={16} />\r\n          )}\r\n        </EnterButton>\r\n      </ContentContainer>\r\n      \r\n      <VersionInfo>\r\n        RynEditor v1.0.1 - Editor de Novelas Visuales\r\n      </VersionInfo>\r\n    </IntroContainer>\r\n  );\r\n}\r\n\r\nexport default IntroScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport { VisualNovelProvider } from './context/VisualNovelContext';\r\nimport { ModalProvider } from './context/ModalContext';\r\nimport { NotificationProvider } from './context/NotificationContext';\r\nimport { initializeTheme } from './utils/themeManager';\r\nimport Sidebar from './components/Sidebar';\r\nimport MainEditor from './components/MainEditor';\r\nimport PreviewPanel from './components/PreviewPanel';\r\nimport TopBar from './components/TopBar';\r\nimport FloatingButtonsManager from './components/FloatingButtonsManager';\r\nimport InfoModalContent from './components/modals/InfoModalContent';\r\nimport OptionsModalContent from './components/modals/OptionsModalContent';\r\nimport HelpModalContent from './components/modals/HelpModalContent';\r\nimport AboutModalContent from './components/modals/AboutModalContent';\r\nimport TemplatesPage from './components/TemplatesPage';\r\nimport TroubleshootingPage from './components/TroubleshootingPage';\r\nimport BeginnersGuidePage from './components/BeginnersGuidePage';\r\nimport ResourcesPage from './components/ResourcesPage';\r\nimport ProjectStructurePage from './components/ProjectStructurePage';\r\nimport BasicCustomizationPage from './components/BasicCustomizationPage';\r\nimport TroubleshootingPage2 from './components/TroubleshootingPage';\r\nimport GlossaryPage from './components/GlossaryPage';\r\nimport GuidePage from './components/GuidePage';\r\nimport { FileManagerPage } from './components/pages';\r\nimport AutoSaveIndicator from './components/AutoSaveIndicator';\r\nimport LoadingScreen from './components/LoadingScreen';\r\nimport IntroScreen from './components/IntroScreen';\r\n\r\nconst AppContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  background-color: var(--color-background);\r\n  color: var(--color-textPrimary);\r\n  transition: background-color 0.3s ease, color 0.3s ease;\r\n`;\r\n\r\nconst MainContent = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  overflow: hidden;\r\n  margin-left: 60px; /* Espacio base para el sidebar */\r\n  transition: margin-left 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n  \r\n  /* Ajustar margen segn el estado del sidebar */\r\n  @media (min-width: 768px) {\r\n    margin-left: 60px;\r\n  }\r\n`;\r\n\r\nconst EditorContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  background-color: var(--color-backgroundSecondary);\r\n  transition: background-color 0.3s ease;\r\n`;\r\n\r\nfunction App() {\r\n  const [showIntro, setShowIntro] = useState(true);\r\n  \r\n  // Debug: Log del estado\r\n  console.log('App render - showIntro:', showIntro);\r\n  const [showTemplatesPage, setShowTemplatesPage] = useState(false);\r\n  const [showTroubleshootingPage, setShowTroubleshootingPage] = useState(false);\r\n  const [showBeginnersGuidePage, setShowBeginnersGuidePage] = useState(false);\r\n  const [showResourcesPage, setShowResourcesPage] = useState(false);\r\n  const [showProjectStructurePage, setShowProjectStructurePage] = useState(false);\r\n\r\n  // Inicializar tema al cargar la aplicacin\r\n  useEffect(() => {\r\n    initializeTheme();\r\n  }, []);\r\n  const [showBasicCustomizationPage, setShowBasicCustomizationPage] = useState(false);\r\n  const [showTroubleshootingPage2, setShowTroubleshootingPage2] = useState(false);\r\n  const [showGlossaryPage, setShowGlossaryPage] = useState(false);\r\n  const [showGuidePage, setShowGuidePage] = useState(false);\r\n  const [showFileManagerPage, setShowFileManagerPage] = useState(false);\r\n\r\n  const handleNavigateToTemplates = () => {\r\n    setShowTemplatesPage(true);\r\n  };\r\n\r\n  const handleCloseTemplates = () => {\r\n    setShowTemplatesPage(false);\r\n  };\r\n\r\n  const handleNavigateToTroubleshooting = () => {\r\n    setShowTroubleshootingPage(true);\r\n  };\r\n\r\n  const handleCloseTroubleshooting = () => {\r\n    setShowTroubleshootingPage(false);\r\n  };\r\n\r\n  const handleNavigateToBeginnersGuide = () => {\r\n    setShowBeginnersGuidePage(true);\r\n  };\r\n\r\n  const handleCloseBeginnersGuide = () => {\r\n    setShowBeginnersGuidePage(false);\r\n  };\r\n\r\n  const handleNavigateToResources = () => {\r\n    setShowResourcesPage(true);\r\n  };\r\n\r\n  const handleCloseResources = () => {\r\n    setShowResourcesPage(false);\r\n  };\r\n\r\n  const handleNavigateToProjectStructure = () => {\r\n    setShowProjectStructurePage(true);\r\n  };\r\n\r\n  const handleCloseProjectStructure = () => {\r\n    setShowProjectStructurePage(false);\r\n  };\r\n\r\n  const handleNavigateToBasicCustomization = () => {\r\n    setShowBasicCustomizationPage(true);\r\n  };\r\n\r\n  const handleCloseBasicCustomization = () => {\r\n    setShowBasicCustomizationPage(false);\r\n  };\r\n\r\n  const handleNavigateToTroubleshooting2 = () => {\r\n    setShowTroubleshootingPage2(true);\r\n  };\r\n\r\n  const handleCloseTroubleshooting2 = () => {\r\n    setShowTroubleshootingPage2(false);\r\n  };\r\n\r\n  const handleNavigateToGlossary = () => {\r\n    setShowGlossaryPage(true);\r\n  };\r\n\r\n  const handleCloseGlossary = () => {\r\n    setShowGlossaryPage(false);\r\n  };\r\n\r\n  const handleNavigateToGuide = () => {\r\n    setShowGuidePage(true);\r\n  };\r\n\r\n  const handleCloseGuide = () => {\r\n    setShowGuidePage(false);\r\n  };\r\n\r\n  const handleNavigateToFileManager = () => {\r\n    setShowFileManagerPage(true);\r\n  };\r\n\r\n  const handleCloseFileManager = () => {\r\n    setShowFileManagerPage(false);\r\n  };\r\n\r\n  const handleIntroComplete = () => {\r\n    console.log('handleIntroComplete called - setting showIntro to false');\r\n    setShowIntro(false);\r\n  };\r\n\r\n  return (\r\n    <VisualNovelProvider>\r\n      <ModalProvider>\r\n        <NotificationProvider>\r\n          <DndProvider backend={HTML5Backend}>\r\n          <AppContainer>\r\n          {/* Pantalla de introduccin */}\r\n          {showIntro && <IntroScreen onComplete={handleIntroComplete} />}\r\n          \r\n          {!showIntro && showTemplatesPage ? (\r\n            <TemplatesPage onClose={handleCloseTemplates} />\r\n          ) : showTroubleshootingPage ? (\r\n            <TroubleshootingPage onClose={handleCloseTroubleshooting} />\r\n          ) : showBeginnersGuidePage ? (\r\n            <BeginnersGuidePage onClose={handleCloseBeginnersGuide} />\r\n          ) : showResourcesPage ? (\r\n            <ResourcesPage onClose={handleCloseResources} />\r\n          ) : showProjectStructurePage ? (\r\n            <ProjectStructurePage onClose={handleCloseProjectStructure} />\r\n          ) : showBasicCustomizationPage ? (\r\n            <BasicCustomizationPage onClose={handleCloseBasicCustomization} />\r\n          ) : showTroubleshootingPage2 ? (\r\n            <TroubleshootingPage2 onClose={handleCloseTroubleshooting2} />\r\n          ) : showGlossaryPage ? (\r\n            <GlossaryPage onClose={handleCloseGlossary} />\r\n          ) : showGuidePage ? (\r\n            <GuidePage onClose={handleCloseGuide} />\r\n          ) : !showIntro && showFileManagerPage ? (\r\n            <FileManagerPage onClose={handleCloseFileManager} />\r\n          ) : !showIntro ? (\r\n            <>\r\n              <TopBar onNavigateToFileManager={handleNavigateToFileManager} />\r\n              <Sidebar />\r\n              <MainContent>\r\n                <EditorContainer>\r\n                  <MainEditor />\r\n                  <PreviewPanel />\r\n                </EditorContainer>\r\n              </MainContent>\r\n              <FloatingButtonsManager\r\n                onMenuClick={() => console.log('Menu clicked')}\r\n                onInfoClick={() => console.log('Info modal opened')}\r\n                onOptionsClick={() => console.log('Options modal opened')}\r\n                onHelpClick={() => console.log('Help modal opened')}\r\n                onAboutClick={() => console.log('About modal opened')}\r\n                // Handlers del submen\r\n                onNavigateToTemplates={handleNavigateToTemplates}\r\n                onNavigateToTroubleshooting={handleNavigateToTroubleshooting}\r\n                onNavigateToBeginnersGuide={handleNavigateToBeginnersGuide}\r\n                onNavigateToResources={handleNavigateToResources}\r\n                onNavigateToProjectStructure={handleNavigateToProjectStructure}\r\n                onNavigateToBasicCustomization={handleNavigateToBasicCustomization}\r\n                onNavigateToTroubleshooting2={handleNavigateToTroubleshooting2}\r\n                onNavigateToGlossary={handleNavigateToGlossary}\r\n                onNavigateToGuide={handleNavigateToGuide}\r\n              >\r\n                {{\r\n                  info: <InfoModalContent />,\r\n                  options: <OptionsModalContent />,\r\n                  help: <HelpModalContent />,\r\n                  about: <AboutModalContent />\r\n                }}\r\n              </FloatingButtonsManager>\r\n              \r\n              {/* Indicador de guardado automtico */}\r\n              <AutoSaveIndicator />\r\n            </>\r\n          ) : null}\r\n        </AppContainer>\r\n        </DndProvider>\r\n        </NotificationProvider>\r\n      </ModalProvider>\r\n    </VisualNovelProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport './themes.css';\r\nimport App from './App';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"names":["module","exports","f","require","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","Fragment","jsx","jsxs","s","o","u","r","Error","code","i","length","t","encode","getTypeOf","charCodeAt","push","charAt","join","decode","substr","replace","uint8array","Uint8Array","Array","indexOf","this","compressedSize","uncompressedSize","crc32","compression","compressedContent","getContentWorker","Promise","resolve","pipe","uncompressWorker","on","streamInfo","data_length","getCompressedWorker","withStreamInfo","createWorkerFrom","compressWorker","STORE","magic","DEFLATE","base64","binary","dir","createFolders","date","compressionOptions","comment","unixPermissions","dosPermissions","lie","Uint16Array","Uint32Array","_pako","_pakoAction","_pakoOptions","meta","inherits","processChunk","_createPako","transformTo","data","flush","cleanUp","raw","level","onData","pako","A","String","fromCharCode","file","O","utf8encode","I","name","_","v","y","w","x","S","z","C","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCFullYear","getUTCMonth","getUTCDate","B","E","fileRecord","R","LOCAL_FILE_HEADER","dirRecord","CENTRAL_FILE_HEADER","bytesWritten","zipComment","zipPlatform","encodeFileName","streamFiles","accumulate","contentBuffer","dirRecords","currentSourceOffset","entriesCount","currentFile","_sources","percent","openedSource","closedSource","DATA_DESCRIPTOR","shift","CENTRAL_DIRECTORY_END","prepareNextSource","previous","isPaused","pause","resume","registerPrevious","end","error","generatedError","lock","generateWorker","platform","forEach","options","_compressWorker","arguments","files","create","root","clone","loadAsync","support","defaults","version","external","decompressed","extend","checkCRC32","optimizedBinaryString","decodeFileName","utf8decode","isNode","isStream","reject","prepareContent","then","load","all","fileNameStr","fileCommentStr","unsafeOriginalName","_upstreamEnded","_bindStream","_stream","Readable","_helper","emit","_read","Buffer","newBufferFrom","from","allocBuffer","alloc","fill","isBuffer","Date","toUpperCase","parseInt","slice","substring","lastIndexOf","toString","filter","test","folder","remove","generate","generateInternalStream","mimeType","toLowerCase","checkSupport","generateAsync","generateNodeStream","toNodejsStream","stream","byteAt","zero","lastIndexOfSignature","readAndCheckSignature","readData","checkOffset","index","checkIndex","setIndex","skip","readInt","readString","readDate","UTC","subarray","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","destType","propName","dataIsReady","max","_tickScheduled","_tickAndRepeat","delay","isFinished","_tick","Math","min","extraStreamInfo","isLocked","_listeners","mergeStreamInfo","nodestream","_internalType","_outputType","_mimeType","newBlob","concat","apply","set","_worker","objectMode","array","string","arraybuffer","ArrayBuffer","nodebuffer","blob","Blob","size","self","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","leftOver","applyFromCharCode","Utf8DecodeWorker","Utf8EncodeWorker","stringifyByChunk","stringifyByChar","applyCanBeUsed","floor","buffer","byteLength","split","pop","MAX_VALUE_16BITS","MAX_VALUE_32BITS","pretty","setImmediate","FileReader","onload","target","result","onerror","readAsArrayBuffer","setimmediate","loadOptions","checkSignature","reader","isSignature","readBlockEndOfCentral","diskNumber","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirRecords","centralDirSize","centralDirOffset","zipCommentLength","readBlockZip64EndOfCentral","zip64EndOfCentralSize","zip64ExtensibleData","id","value","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","relativeOffsetEndOfZip64CentralDir","disksCount","readLocalFiles","localHeaderOffset","readLocalPart","handleUTF8","processAttributes","readCentralDir","zip64","readCentralPart","readEndOfCentral","abs","prepareReader","isEncrypted","bitFlag","useUTF8","fileNameLength","fileName","compressionMethod","versionMadeBy","extraFieldsLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","readExtraFields","parseZIP64ExtraField","fileComment","extraFields","findExtraFieldUnicodePath","findExtraFieldUnicodeComment","_data","_dataBinary","internalStream","_decompressWorker","async","nodeStream","MutationObserver","WebKitMutationObserver","document","createTextNode","observe","characterData","MessageChannel","createElement","onreadystatechange","parentNode","removeChild","documentElement","appendChild","setTimeout","port1","onmessage","port2","postMessage","global","window","TypeError","state","queue","outcome","promise","onFulfilled","callFulfilled","otherCallFulfilled","onRejected","callRejected","otherCallRejected","status","finally","constructor","catch","race","immediate","assign","method","chunkSize","windowBits","memLevel","strategy","to","gzip","err","msg","ended","chunks","strm","avail_out","deflateInit2","header","deflateSetHeader","dictionary","string2buf","deflateSetDictionary","_dict_set","input","next_in","avail_in","output","Buf8","next_out","deflate","onEnd","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","deflateRaw","inflateInit2","Z_OK","inflateGetHeader","Z_FINISH","Z_NO_FLUSH","binstring2buf","inflate","Z_NEED_DICT","inflateSetDictionary","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","Inflate","inflateRaw","ungzip","Int32Array","setTyped","Buf16","Buf32","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","T","D","F","pending","pending_buf","pending_out","total_out","N","_tr_flush_block","block_start","strstart","U","P","L","max_chain_length","prev_length","nice_match","w_size","w_mask","prev","good_match","lookahead","match_start","j","window_size","hash_size","head","wrap","adler","total_in","insert","ins_h","hash_shift","hash_mask","Z","match_length","_tr_tally","max_lazy_match","last_lit","W","prev_match","match_available","M","good_length","max_lazy","nice_length","max_chain","func","H","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","depth","l_buf","lit_bufsize","d_buf","opt_len","static_len","matches","bi_buf","bi_valid","G","data_type","_tr_init","K","Y","deflateInit","deflateReset","deflateResetKeep","text","hcrc","extra","time","os","_tr_align","_tr_stored_block","deflateInfo","xflags","extra_len","done","dmax","wsize","whave","wnext","hold","bits","lencode","distcode","lenbits","distbits","mode","sane","last","havedict","flags","check","total","wbits","offset","ncode","nlen","ndist","have","next","lens","work","lendyn","distdyn","back","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","inflateInfo","static_tree","extra_bits","extra_base","elems","max_length","has_stree","dyn_tree","max_code","stat_desc","X","V","J","getPrototypeOf","process","nextTick","importScripts","random","addEventListener","attachEvent","Function","callback","args","clearImmediate","source","iterator","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","context","refs","updater","isReactComponent","setState","forceUpdate","isPureReactComponent","isArray","children","Q","escape","keys","_status","_result","default","transition","ReactCurrentDispatcher","ReactCurrentBatchConfig","Children","map","count","toArray","only","Component","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","_context","createFactory","bind","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","startTransition","unstable_act","useCallback","useContext","useDebugValue","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","Memo","defineProperty","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","sortIndex","performance","now","unstable_now","clearTimeout","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_forceFrameRate","console","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","unstable_shouldYield","unstable_wrapCallback","objA","objB","compareContext","ret","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","createRoot","hydrateRoot","autoBom","warn","XMLHttpRequest","open","responseType","response","send","dispatchEvent","MouseEvent","createEvent","initMouseEvent","userAgent","saveAs","HTMLAnchorElement","URL","webkitURL","download","rel","href","origin","location","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","title","body","innerText","HTMLElement","safari","onloadend","readAsDataURL","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_VIEW_TRANSITION_TYPE","REACT_CLIENT_REFERENCE","typeOf","object","getModuleId","RenPyGenerator","script","characters","Map","images","Set","audio","assetStorage","setAssetStorage","setProject","project","getImageDefinitionName","category","log","finalName","includes","character","find","char","sprites","some","sprite","spriteName","formatNarrationText","element","fontSize","textColor","styledText","generateScript","_this$project","clear","protagonistConfig","generateHeader","generateCharacters","generateVariablesAndFlags","variables","generateScenes","scenes","generateVideos","mainSceneFile","sceneFiles","isMain","generateMainScript","elements","generateSceneFiles","requiredLabels","analyzeJumpReferences","sceneFile","generateSceneFileHeader","fileRequiredLabels","label","sceneFileId","generateRequiredLabels","generateSceneFileElements","generateSceneFile","hasAnyManualLabel","sceneFileIds","jump","jumpTarget","labelName","requiredBy","choices","choice","requiredLabel","shouldGenerateAutoLabel","undefined","generateScriptElement","description","color","who_color","what_color","renpyPath","path","startsWith","add","safeVariables","safeFlags","variable","flag","scene","background","music","videos","movieSprites","videoPath","videoName","scriptElements","generateSceneJumps","generateProtagonistSetup","config","defaultName","promptText","indent","showSprite","position","spritePosition","positionMap","cleanSpriteName","has","isProtagonist","dialogueText","narrationText","imageName","backgroundTransition","transitionType","transitionDuration","backgroundTransitionDuration","show","characterInfo","hide","conditionText","condition","variableName","variableValue","flagName","flagValue","action","duration","spriteTransition","spriteTransitionDuration","displayType","loops","stopMusic","generateOptions","generateScriptFile","getResources","AssetStorage","dbName","dbVersion","db","metadataKey","init","request","indexedDB","onsuccess","onupgradeneeded","event","objectStoreNames","contains","fileStore","createObjectStore","keyPath","createIndex","unique","saveFile","fileData","retryCount","store","transaction","objectStore","folderPath","filePath","uploadedAt","toISOString","put","updateMetadata","getFile","get","getFilesByCategory","getAll","getAllFiles","deleteFile","delete","removeFromMetadata","clearAllFiles","localStorage","removeItem","metadata","getMetadata","lastSync","setItem","JSON","stringify","getItem","parse","getImageUrl","imagePath","getFilesByCategoryCompat","allFiles","filteredFiles","url","clearAll","getStorageStats","totalSize","reduce","sum","stats","totalFiles","totalSizeMB","toFixed","categories","aa","ca","encodeURIComponent","da","ea","fa","ha","ia","ja","ka","la","ma","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","ra","sa","ta","pa","isNaN","qa","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","stack","trim","match","Na","Oa","prepareStackTrace","Reflect","construct","Pa","tag","Qa","Ra","Sa","Ta","nodeName","Va","_valueTracker","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","ownerDocument","eb","fb","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","firstChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","setProperty","tb","menuitem","area","base","br","col","embed","hr","img","keygen","link","param","track","wbr","ub","vb","is","wb","xb","srcElement","correspondingUseElement","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","removeEventListener","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","Yb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","oc","clz32","pc","qc","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","datetime","email","month","number","password","range","search","tel","week","me","ne","oe","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","De","Ee","Fe","He","Ie","Je","Ke","node","nextSibling","Le","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","Ne","contentEditable","Oe","focusedElem","selectionRange","start","selectionStart","selectionEnd","defaultView","getSelection","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","nf","Ub","instance","listener","of","pf","qf","rf","sf","capture","passive","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","Gf","Hf","Jf","queueMicrotask","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","_stringRef","Mg","Ng","Og","Pg","Qg","Rg","implementation","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","memoizedValue","fh","gh","hh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","effects","lh","mh","eventTime","lane","payload","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","Uh","Vh","Wh","lastRenderedReducer","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","di","lastEffect","stores","ei","fi","gi","hi","ii","destroy","deps","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","readContext","useMutableSource","unstable_isNewReconciler","identifierPrefix","Ci","Di","Ei","_reactInternals","Fi","shouldComponentUpdate","Gi","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","message","digest","Ki","Li","Mi","WeakMap","Ni","Oi","Pi","Qi","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","fallback","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","tail","tailMode","xj","Dj","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","createElementNS","autoFocus","Gj","Hj","Ij","Jj","Kj","WeakSet","Lj","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","ek","isHidden","fk","gk","display","hk","ik","jk","kk","__reactInternalSnapshotBeforeUpdate","src","Vk","lk","ceil","mk","nk","ok","pk","qk","rk","sk","tk","Infinity","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","pendingChildren","al","mutableSourceEagerHydrationData","bl","cache","pendingSuspenseBoundaries","dl","el","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","splice","querySelectorAll","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","createPortal","cl","unstable_strictMode","findDOMNode","flushSync","hydrate","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","Lazy","Portal","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","leafPrototypes","getProto","obj","ns","def","definition","globalThis","prop","toStringTag","nc","_taggedTemplateLiteral","freeze","defineProperties","prefix","use","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","WebkitLineClamp","memoize","fn","arg","reactPropsRegex","isPropValid","styledComponentId","REACT_APP_SC_ATTR","SC_ATTR","Boolean","SC_DISABLE_SPEEDY","REACT_APP_SC_DISABLE_SPEEDY","groupSizes","indexOfGroup","insertRules","insertRule","clearGroup","deleteRule","getGroup","getRule","RegExp","registerName","getTag","__webpack_nonce__","childNodes","hasAttribute","sheet","styleSheets","ownerNode","cssRules","cssText","$","nodes","rules","isServer","useCSSOMInjection","gs","names","server","getAttribute","registerId","reconstructWithOptions","allocateGSInstance","hasNameForId","clearNames","clearRules","clearTag","staticRulesId","isStatic","componentId","baseHash","baseStyle","generateAndInjectStyles","hash","_e","plugins","stylisPlugins","disableCSSOMInjection","disableVendorPrefixes","getName","isCss","theme","attrs","parentComponentId","shouldForwardProp","componentStyle","foldedComponentIds","$as","as","className","withComponent","_foldedDefaultProps","withConfig","createStyles","removeStyles","renderStyles","_emitSheetCSS","getStyleTags","sealed","getStyleElement","nonce","seal","collectStyles","interleaveWithNodeStream","formatProdErrorMessage","$$observable","observable","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","isSubscribed","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","unsubscribe","invariant","format","_len","_key","argIndex","framesToPop","isObject","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","clientOffset","sourceClientOffset","ResetCoordinatesAction","createBeginDrag","manager","sourceIds","publishSource","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","isDragging","sourceId","getSource","verifyInvariants","canDragSource","getDraggableSource","verifyGetSourceClientOffsetIsFunction","item","beginDrag","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","_defineProperty","createDrop","didDrop","targetIds","getTargetIds","canDropOnTarget","reverse","getDroppableTargets","targetId","dropResult","getTarget","drop","verifyDropResultType","getDropResult","determineDropResult","_objectSpread","createEndDrag","verifyIsDragging","getSourceId","endDrag","unpinSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","getTargetType","removeNonMatchingTargetIds","getItemType","checkInvariants","hover","hoverAllTargets","createPublishDragSource","DragDropManagerImpl","receiveBackend","backend","getBackend","getActions","actions","publishDragSource","createDragDropActions","boundActions","actionCreator","isSetUp","handleRefCountChange","shouldSetUp","refCount","setup","teardown","subtract","NONE","ALL","__IS_NONE__","__IS_ALL__","DragDropMonitorImpl","subscribeToStateChange","handlerIds","prevStateId","stateId","handleChange","currentStateId","canSkipListener","dirtyIds","itemsB","areDirty","dirtyHandlerIds","subscribeToOffsetChange","previousState","dragOffset","nextState","canDrag","canDrop","isDraggingSource","isOverTarget","shallow","dragOperation","getInitialClientOffset","initialClientOffset","getInitialSourceClientOffset","initialSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","scope","BrowserMutationObserver","makeRequestCallFromTimer","handleTimer","intervalHandle","setInterval","clearInterval","makeRequestCall","toggle","RawTask","task","release","asapQueue","enqueueTask","requestFlush","flushing","pendingErrors","capacity","currentIndex","scan","newLength","registerPendingError","requestErrorThrow","taskFactory","tasks","freeTasks","t1","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","validateType","allowArray","HandlerRole","nextUniqueId","getNextHandlerId","role","SOURCE","TARGET","parseRoleFromHandlerId","handlerId","mapContainsValue","searchValue","entries","isDone","HandlerRegistryImpl","addSource","validateSourceContract","addHandler","addTarget","validateTargetContract","containsHandler","handler","dragSources","dropTargets","includePinned","isSourceId","pinnedSourceId","pinnedSource","isTargetId","types","removeSource","removeTarget","strictEquality","prevTargetIds","itemsA","insertItem","xor","didChange","isEqual","areArraysEqual","prevInnermostTargetId","innermostTargetId","initialState","offsetA","offsetB","items","createDragDropManager","backendFactory","globalContext","backendOptions","debugMode","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId","makeStoreInstance","DndContext","dragDropManager","_objectWithoutProperties","excluded","INSTANCE_SYM","DndProvider","_param","isGlobalInstance","getGlobalContext","ctx","createSingletonDndContext","getDndContextValue","_jsx","memoized","EnterLeaveCounter","enter","enteringNode","previousLength","entered","union","isNodeInDocument","leave","leavingNode","reset","NativeDragSource","initializeExposedProperties","exposeProperties","property","loadDataTransfer","newProperties","propertyFn","matchesTypes","handle","FILE","TEXT","HTML","getDataFromDataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes","html","urls","matchNativeItemType","dataTransferTypes","nativeItemType","typeConfig","isFirefox","isSafari","MonotonicInterpolant","interpolate","xs","ys","c1s","c2s","c3s","mid","low","high","xHere","diff","diffSq","indexes","sort","dys","dxs","ms","dx","dy","i1","i2","m2","mNext","dxNext","common","i3","c1","invDx","getNodeClientOffset","parentElement","getBoundingClientRect","getEventClientOffset","getDragPreviewOffset","sourceNode","dragPreview","anchorPoint","offsetPoint","isImage","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","offsetWidth","sourceWidth","offsetHeight","sourceHeight","anchorX","anchorY","dragPreviewWidth","dragPreviewHeight","devicePixelRatio","getDragPreviewSize","offsetX","offsetY","isManualOffsetY","calculateYOffset","OptionsReader","rootElement","optionsArgs","HTML5BackendImpl","profile","ref1","sourcePreviewNodes","sourcePreviewNodeOptions","sourceNodeOptions","sourceNodes","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","dragOverTargetIds","__isReactDndBackendSetUp","addEventListeners","removeEventListeners","clearCurrentDragSourceNode","asyncEndDragFrameId","cancelAnimationFrame","connectDragPreview","connectDragSource","handleDragStart","handleSelectStart","connectDropTarget","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","dropEffect","altKeyPressed","getCurrentDropEffect","isDraggingNativeItem","getCurrentSourcePreviewNodeOptions","captureDraggingState","beginDragNativeItem","currentNativeSource","createNativeDragSource","currentNativeHandle","setCurrentDragSourceNode","currentDragSourceNode","mouseMoveTimeoutTimer","endDragIfSourceWasRemovedFromDOM","lastClientOffset","hoverRafId","endDragNativeItem","cancelHover","scheduleHover","requestAnimationFrame","nativeType","setDragImage","dragPreviewOffset","setData","enterLeaveCounter","dragDrop","isContentEditable","HTML5Backend","_typeof","toPropertyKey","toPrimitive","Number","writable","ownKeys","_objectSpread2","getOwnPropertyDescriptors","ProjectStorage","storageKey","currentProjectKey","fullStateKey","autoSaveKey","saveCurrentProject","loadCurrentProject","projectData","saveProject","projectName","_project$characters","_project$sceneFiles","validateProject","projects","getAllProjects","savedAt","loadProject","_project$characters2","_project$sceneFiles2","parsedProjects","validProjects","deleteProject","projectToDelete","clearProjectAssets","currentProject","clearCurrentProjectState","projectCharacterIds","filesToDelete","characterId","getProjectNames","checkStorageSpace","testData","clearAllProjects","clearAllData","sessionStorage","clearIndexedDB","cleanupOrphanedData","cookie","toUTCString","keysToRemove","validProjectNames","orphanedFiles","characterExists","exportAllProjects","exportData","exportedAt","click","importProjects","jsonData","saveFullState","_state$selectedElemen","stateToSave","lastSaved","timestamp","currentScene","selectedElement","loadFullState","stateData","_state$project","_state$project2","_state$project2$chara","_state$project3","_state$project3$scene","validateState","loadProjectAsState","currentSceneFile","savedProject","previewMode","isPlaying","saveSessionState","sessionData","lastActiveTab","getLastActiveTab","lastScrollPosition","getLastScrollPosition","loadSessionState","session","getLastSaveInfo","_state$project4","hasUnsavedChanges","savedState","currentHash","generateStateHash","keyData","btoa","clearSavedState","_unused","setLastActiveTab","tab","_unused2","setLastScrollPosition","_localStorage$getItem","_localStorage$getItem2","_localStorage$getItem3","fullStateSize","autoSaveSize","projectSize","formatBytes","totalSizeBytes","bytes","parseFloat","pow","cleanupCorruptedData","cleanedCount","fullStateData","autoSaveData","currentProjectData","projectsData","removedCount","checkDataIntegrity","issues","corruptProjects","isValid","FileManager","uploadedFiles","syncInProgress","lastSyncTime","deletedFiles","loadFromStorage","loadDeletedFiles","initializeSync","syncStorage","success","reason","backup","createBackup","syncResult","errors","warnings","indexedFiles","localFiles","getAllLocalFiles","integrityCheck","verifyStorageIntegrity","isHealthy","indexedToLocal","indexedFile","wasDeleted","hasData","localToIndexed","localFile","existsInIndexedDB","cleanupOldDeletedFiles","saveToStorage","postSyncIntegrity","rollbackFromBackup","rollback","rollbackError","savedFiles","stored","deletedIds","saveDeletedFiles","timestamps","twentyFourHours","oldDeletedFiles","fileId","deletedTime","filesObject","jsonString","handleQuotaExceeded","essentialData","idsOnly","uploadFile","validateFile","getCategoryPath","indexedDBSuccess","indexedDBError","savedFile","validationError","isAudio","isVideo","imageUrl","expectedPath","gamePath","getImageUrlByName","getFilesByCharacter","fullPath","pathParts","charactersIndex","localSuccess","debugFiles","missingInIndexedDB","local","indexed","missingInLocal","integrity","totalIndexedDB","totalLocal","forceSync","getSystemStatus","deletedFilesCount","indexedDBAvailable","localStorageQuota","getLocalStorageQuota","testKey","currentSize","currentSizeMB","available","clearLocalStorageData","resetFileManager","cleanupGhostFiles","indexedFileIds","exportFiles","zip","JSZip","folders","base64Data","binaryData","atob","content","getValidationConfig","configs","backgrounds","allowedTypes","maxSizeMB","minDimensions","maxDimensions","requiredAspectRatio","gui","minDuration","maxDuration","sounds","voice","general","validateFileType","validateFileContent","arrayBuffer","uint8Array","validateFileSignature","validateImageContent","validateAudioContent","validateVideoContent","padStart","expectedSignatures","sig","signature","every","byte","Image","tolerance","Audio","onloadedmetadata","video","videoWidth","videoHeight","validateFileSize","formatFileSize","maxSizeBytes","validateFileName","endsWith","validateExistingFiles","validationResults","valid","invalid","mockFile","lastModified","getTime","cleanupInvalidFiles","cleanedFiles","invalidFile","deleteError","cleaned","getValidationStats","byCategory","byType","totalSizeFormatted","getFileInfo","sizeFormatted","ReferenceValidator","fileManager","validationCache","lastValidation","validateAllReferences","projectState","fileIds","fileNames","brokenReferences","elementRefs","validateElementReferences","broken","sceneFileName","elementId","characterRefs","validateCharacterReferences","characterName","validationResult","validatedAt","summary","totalBroken","totalWarnings","brokenByType","categorizeBrokenReferences","foundByName","findFileByName","reference","suggestion","fix","sound","nameWithoutExt","character_sprite","cleanupBrokenReferences","removeBroken","fixWarnings","dryRun","validation","fixed","removed","updatedState","warning","clearCache","author","enabled","showConfirmation","allowEmpty","advancedConfig","screenWidth","screenHeight","accentColor","idleColor","hoverColor","selectedColor","textFont","nameFont","interfaceFont","textSize","nameTextSize","interfaceTextSize","textboxHeight","textboxYAlign","nameXPos","nameYPos","dialogueXPos","dialogueYPos","dialogueWidth","buttonWidth","buttonHeight","choiceButtonWidth","hasSound","hasMusic","hasVoice","enterTransition","exitTransition","intraTransition","windowMode","historyLength","historyHeight","saveDirectory","thumbnailWidth","thumbnailHeight","fileSlotCols","fileSlotRows","language","buildName","googlePlayKey","itchProject","autoValidation","validationInterval","ACTIONS","visualNovelReducer","newState","updatedFile","newElements","insertIndex","newEnabled","renpyName","isPlayerControlled","VisualNovelContext","VisualNovelProvider","isLoading","setIsLoading","saveStatus","setSaveStatus","storage","referenceValidator","loadSavedState","prevStateRef","saveTimeoutRef","hasProject","prevState","_prevState$project$sc","_state$project$sceneF","_prevState$selectedEl","prevCharacters","newCharacters","prevElements","prevScene","newScene","prevSelected","newSelected","useAutoSave","validateIntegrity","cleanupResult","initialTimeout","interval","handleBeforeUnload","handleVisibilityChange","hidden","validateProjectIntegrity","syncFiles","useVisualNovel","fadeIn","keyframes","_templateObject","slideIn","_templateObject2","ModalOverlay","styled","div","_templateObject3","css","_templateObject4","ModalWindow","_templateObject5","_templateObject6","ModalHeader","_templateObject7","ModalTitle","h3","_templateObject8","ModalCloseButton","_templateObject9","ModalContent","_templateObject0","ModalActions","_templateObject1","ModalButton","_templateObject10","primary","danger","ModalInput","_templateObject11","ModalTextarea","textarea","_templateObject12","ModalContext","useModalContext","Modal","isOpen","onClose","icon","React","handleEscape","_jsxs","PromptModal","modal","inputRef","select","handleSubmit","handleKeyPress","multiline","onChange","onKeyPress","placeholder","ModalProvider","_ref3","modals","setModals","renderModals","modalContextValue","showAlert","modalId","showConfirm","showPrompt","slideInRight","slideOutRight","progressBar","NotificationContainer","Notification","isClosing","NotificationHeader","NotificationIcon","span","NotificationTitle","h4","NotificationClose","NotificationMessage","ProgressBar","_templateObject13","NotificationContext","NotificationProvider","notifications","setNotifications","addNotification","notification","newNotification","removeNotification","clearAllNotifications","showSuccess","showError","showWarning","showInfo","showServerStatus","info","THEMES","colors","primaryHover","secondary","backgroundSecondary","backgroundTertiary","surface","surfaceSecondary","surfaceElevated","border","borderSecondary","borderFocus","textPrimary","textSecondary","textTertiary","textInverse","successHover","warningHover","errorHover","infoHover","shadow","shadowHover","shadowElevated","gradientPrimary","gradientSecondary","gradientSurface","backdrop","primaryRgb","typography","fontFamily","sm","xl","normal","medium","semibold","bold","tight","relaxed","spacing","borderRadius","full","getCurrentTheme","themeId","applyTheme","subKey","subValue","_ref4","_ref5","initializeTheme","savedTheme","randomUUID","crypto","getRandomValues","rnds8","rng","byteToHex","unsafeStringify","arr","buf","native","rnds","PanelContainer","Section","SectionTitle","Button","CharacterList","CharacterItem","CharacterName","CharacterId","CharacterColor","FormGroup","Label","Input","ColorInput","ButtonGroup","SpritesSection","SpritesTitle","_templateObject14","SpritesList","_templateObject15","SpriteItem","_templateObject16","SpritePreview","_templateObject17","image","SpriteInfo","_templateObject18","SpriteName","_templateObject19","SpritePath","_templateObject20","SpriteActions","_templateObject21","SmallButton","_templateObject22","_templateObject23","_templateObject24","_templateObject25","_templateObject26","CloseButton","_templateObject27","FileGrid","_templateObject28","FileCard","_templateObject29","FilePreview","_templateObject30","FileIcon","_templateObject31","FileName","_templateObject32","EmptyState","_templateObject33","EmptyIcon","_templateObject34","EmptyText","_templateObject35","EmptySubtext","_templateObject36","DeleteButton","_templateObject37","selectedCharacter","setSelectedCharacter","showForm","setShowForm","showFileSelector","setShowFileSelector","availableFiles","setAvailableFiles","fileManagerUtil","FileManagerUtil","formData","setFormData","handleFormChange","field","validateField","handleFileSelect","uploadResult","handleUpdateSprite","spriteId","handleDeleteCharacter","deleteCharacterAssets","removeCharacterReferences","characterFiles","updatedSceneFiles","updatedElements","_element$text","handleAddCharacter","backgroundColor","padding","marginBottom","alignItems","gap","transform","cursor","margin","paddingLeft","marginTop","flexDirection","handleEditCharacter","marginLeft","right","borderColor","handleAddSprite","accept","onchange","imageFiles","fileToDelete","newName","newPath","handleRemoveSprite","uuidv4","handleSelectFromManager","gridTemplateColumns","SceneFileList","SceneFileItem","SceneFileName","SceneFileInfo","SceneFileElements","SceneFileActions","ActionButton","GuideSection","GuideTitle","GuideText","GuideList","GuideListItem","GuideCode","selectedSceneFile","setSelectedSceneFile","showSceneFileForm","setShowSceneFileForm","sceneFileFormData","setSceneFileFormData","handleDeleteSceneFile","confirmMessage","handleSceneFileFormChange","handleAddElementToScene","addElementToScene","handleAddSceneFile","handleSelectSceneFile","handleEditSceneFile","newId","newDisplayName","duplicatedFile","handleDuplicateSceneFile","handleSaveSceneFile","sceneFileData","ELEMENT_TYPES_CONFIG","CATEGORY_LABELS","core","interaction","flow","logic","media","special","getElementTypeConfig","getElementTypeLabel","getElementTypeIcon","getElementTypeColor","RENPY_TRANSITIONS","predefined","moveTransitions","easeTransitions","zoomTransitions","effectTransitions","slideTransitions","pushTransitions","irisTransitions","TRANSITION_CATEGORIES","basic","movement","move","ease","effect","slide","iris","getAllTransitions","getTransitionsGroupedByCategory","grouped","categoryId","getTransitionsByCategory","getTransitionsGroupedByElementType","categoryTransitions","ValidationError","super","SecurityError","NotificationSystem","querySelector","getElementById","Logger","ValidationEngine","sanitizeInput","validateElement","validateDialogue","validateChoice","validateJump","validateSprite","validateScene","validateLabel","validateGeneric","hasText","ErrorHandler","handleAsync","asyncFunction","FileSelector","FileSelectorContainer","ElementItem","ElementType","ElementContent","ElementCharacter","Select","TextArea","ChoiceContainer","ChoiceItem","ChoiceHeader","ChoiceNumber","RemoveChoiceButton","AddChoiceButton","ElementTypeButtons","ElementTypeButton","active","ColorInputContainer","ColorPreview","ColorLabel","FloatingFormOverlay","FloatingFormWindow","FloatingFormHeader","FloatingFormTitle","FloatingFormCloseButton","FloatingFormContent","FloatingFormActions","FloatingFormButton","_templateObject38","_getElementTypeConfig","_state$project$charac","_state$project$charac2","_availableFiles$backg","_getAllTransitions$fi","_state$project$protag2","_state$project$protag3","_state$project$charac3","_state$project$charac4","setSelectedElement","setElementType","showFloatingForm","setShowFloatingForm","filePromises","results","fileMap","loadFiles","showAsElement","targetSceneFileId","elementTypesByCategory","acc","loadAvailableFiles","handleKeyDown","handleCloseFloatingForm","handleAddElement","targetSceneId","initialChoices","sanitizedValue","handleFileUpload","hideSprite","operator","addElementToSceneWithInsertion","openSidebarEvent","CustomEvent","handleChoiceChange","choiceId","renderElementContent","_element$choices","_element$choices2","spriteInfo","showCharacter","hideCharacter","question","conditionalChoices","conditionInfo","transitionConfig","transitionName","borderLeft","maxHeight","overflowY","textAlign","filteredElements","elementContent","cleanFormData","handleEditElement","_state$project$protag","_Fragment","step","htmlFor","handleRemoveChoice","newChoice","newSprite","_formData$choices","hasCharacter","sanitizedFormData","elementData","handleCancelFloatingForm","handleDeleteElement","RynBackupManager","rynVersion","exportProjectAsRyn","fullState","filename","projectMetadata","editorVersion","projectVersion","fileCount","editorState","mediaFiles","exportMediaFiles","changeHistory","getChangeHistory","userPreferences","getUserPreferences","bgFolder","base64ToBlob","charFolder","videoFolder","audioFolder","renpyScripts","generateRenPyScripts","main","readme","generateProjectReadme","verification","checksum","generateChecksum","countFiles","calculateTotalSize","verifiedAt","finalFilename","importProjectFromRyn","rynFile","importMediaFiles","currentChecksum","restoreUserPreferences","organizedFiles","relativePath","generator","mainScript","_project$sceneFiles2$","_project$sceneFiles2$2","projectString","TextEncoder","hashBuffer","subtle","byteCharacters","byteNumbers","byteArray","preferences","_unused3","GuiGenerator","guiContent","generateGuiFile","ScreensGenerator","screensContent","generateScreensFile","ProjectExporter","guiGenerator","screensGenerator","rynBackupManager","templatePath","readTemplateFile","fetch","applyUserConfigurations","modifyOptionsFile","modifyGuiFile","modifiedContent","generateDefinitionsFile","userFiles","definitions","generateImageName","audioName","generateAudioName","includeUserAssets","gameFolder","copyTemplateFiles","templateFiles","guiFiles","exportProject","_project$protagonistC","scriptContent","definitionsContent","projectInfo","created","exported","generateReadme","toLocaleDateString","_project$sceneFiles$f","exportScript","exportSelectedScript","exportOptions","optionsContent","characterIds","addFilesToZip","urlParts","InfoContainer","InfoTitle","InfoList","InfoItem","Highlight","CodeBlock","BackupContainer","BackupTitle","h2","BackupSubtitle","BackupSection","BackupButton","ImportButton","FileInput","StatusMessage","SuccessMessage","ErrorMessage","InfoMessage","ProjectInfo","InfoRow","InfoLabel","InfoValue","ProgressFill","progress","isExporting","setIsExporting","isImporting","setIsImporting","statusMessage","setStatusMessage","exportProgress","setExportProgress","fileInputRef","backupManager","projectExporter","getProjectInfo","_state$project$sceneF2","_state$project$variab","_state$project$flags","totalElements","_file$elements","handleImportProject","_fileInputRef$current","BackupInfo","StatsRow","StatItem","StatValue","StatLabel","getProjectStats","_state$project$sceneF3","_state$project$sceneF4","_state$project$sceneF5","dialogues","_file$elements2","_file$elements3","sceneChanges","_file$elements4","projectStatus","getProjectStatus","_state$project$sceneF6","_state$project$sceneF7","_currentSceneFile$ele","toLocaleString","autoSaveStatus","autoSaveEnabled","currentElement","selectedElementIndex","currentSceneFileId","totalSceneFiles","currentSceneFileElements","BackupManager","Row","CheckboxContainer","Checkbox","InfoText","setConfig","projectConfig","handleInputChange","handleSave","alert","handleReset","confirm","collaborationClient","ws","roomCode","isHost","isConnected","users","cursorPositions","messageHandlers","reconnectAttempts","maxReconnectAttempts","reconnectDelay","connect","serverUrl","WebSocket","onopen","handleMessage","onclose","handleDisconnection","disconnect","close","createRoom","username","sendMessage","joinRoom","leaveRoom","sendSyncOperation","operation","updateCursor","sendChatMessage","updateUsername","readyState","OPEN","handleConnected","handleRoomCreated","handleRoomJoined","handleUserJoined","handleUserLeft","handleSyncOperation","handleCursorUpdate","handleChatMessage","handleUsernameUpdated","handleHostTransferred","handleRoomClosed","handleError","triggerEvent","user","userId","newUsername","oldUsername","newHost","getUserId","wasClean","off","handlers","getRoomCode","getIsHost","getIsConnected","getUsers","values","getCursorPositions","getServerIP","hostname","port","ipDetector","publicIP","localIP","isDetecting","callbacks","detectPublicIP","services","service","timeout","json","ip","query","ipAddress","notifyCallbacks","webrtcIP","detectIPWithWebRTC","RTCPeerConnection","iceServers","createDataChannel","createOffer","offer","setLocalDescription","onicecandidate","candidate","ipMatch","isPrivateIP","isLocalIP","detectLocalIP","localIPs","preferredIPs","parts","getPublicIP","getLocalIP","generateServerURL","public","detectAllIPs","ipEncoder","secretKey","generatedCodes","base64Encode","str","base64Decode","encodeConnectionInfo","connectionString","encoded","shortCode","finalCode","fullEncoded","decodeConnectionInfo","verifyChecksum","codeData","maxAge","decodedData","attemptDecode","paddedCode","error2","paddedCode2","error3","padEnd","validateCodeFormat","generateExampleCode","getCodeInfo","mainCode","cleanupExpiredCodes","InstructionsContainer","serverInfo","showInstructions","setShowInstructions","HelpContainer","HelpTitle","HelpContent","HelpStep","HelpButton","ToggleButton","onStartRealServer","showHelp","setShowHelp","clipboard","writeText","pulse","FloatingChatContainer","ChatToggleButton","hasNewMessages","NewMessageIndicator","ChatWindow","ChatHeader","ChatCloseButton","ChatMessages","Message","MessageHeader","MessageAuthor","isOwn","MessageTime","MessageContent","ChatInput","MessageInput","SendButton","messages","onSendMessage","currentUser","setIsOpen","inputValue","setInputValue","setHasNewMessages","messagesEndRef","chatMessagesRef","scrollIntoView","behavior","handleSendMessage","toLocaleTimeString","hour","minute","syncManager","isEnabled","currentUserId","pendingOperations","operationQueue","isProcessingQueue","debounceDelay","maxRetries","retryDelay","conflictResolution","initialize","handleIncomingSync","disable","operationId","generateOperationId","syncData","debounceProcessQueue","debounceTimeout","processQueue","batch","sendOperationToServer","retryFailedOperations","emitSyncEvent","syncProjectUpdate","syncCharacterAdd","syncCharacterEdit","syncCharacterDelete","syncScriptElementAdd","syncScriptElementEdit","syncScriptElementDelete","syncScriptElementMove","newIndex","syncSceneAdd","sceneData","syncSceneEdit","syncSceneDelete","sceneId","syncProtagonistConfig","configData","useCollaborationSync","previousStateRef","isInitializedRef","handleCollaborationSync","handleProjectUpdate","handleCharacterAdd","handleCharacterEdit","handleCharacterDelete","handleScriptElementAdd","handleScriptElementEdit","handleScriptElementDelete","handleScriptElementMove","handleSceneAdd","handleSceneEdit","handleSceneDelete","handleProtagonistConfig","currentChars","previousChars","pChar","prevChar","currentScript","previousScript","pElement","prevElement","prevIndex","findIndex","currentScenes","previousScenes","pScene","syncFullProject","isSyncEnabled","StatusIndicator","connected","connecting","RoomCodeDisplay","UsersList","UserItem","CopyButton","ServerInfoContainer","DetectButton","useNotification","setIsConnected","isConnecting","setIsConnecting","setRoomCode","setIsHost","setUsers","chatMessages","setChatMessages","chatInput","setChatInput","setUsername","setServerUrl","collaborationEnabled","setCollaborationEnabled","setPublicIP","setLocalIP","isDetectingIP","setIsDetectingIP","setServerInfo","connectionCode","setConnectionCode","handleConnect","handleDisconnect","handleCreateRoom","handleJoinRoom","trimmedCode","decodedInfo","decodedServerUrl","handleLeaveRoom","handleCopyRoomCode","handleSendChat","handleDetectIPs","ips","serverURL","encodedCode","handleCopyServerInfo","textToCopy","handleCopyConnectionCode","handleStartRealServer","handleToggleCollaboration","handleDisconnected","minHeight","fontStyle","CollaborationHelp","borderTop","paddingTop","flexWrap","CollaborationInstructions","FloatingChat","ProjectIcon","viewBox","xmlns","stroke","strokeLinecap","strokeLinejoin","CharactersIcon","cx","cy","ScenesIcon","rx","ry","ScriptIcon","CollaborationIcon","ToolsIcon","_ref6","DownloadsIcon","_ref7","ConfigIcon","_ref8","ConverterIcon","_ref9","ValidatorIcon","_ref0","OptimizerIcon","_ref1","BackupIcon","_ref10","AnalyticsIcon","_ref11","TemplatesIcon","_ref12","AssetsIcon","_ref13","ScriptsIcon","_ref14","ExtensionsIcon","_ref15","UpdatesIcon","_ref16","modalSlideInVertical","SidebarContainer","activePanel","expanded","MenuToggle","TabsContainer","SidebarLayout","TabsSection","ContentSection","Tab","compact","TabIcon","TabLabel","Tooltip","SidebarOverlay","visible","ScrollIndicator","ScrollHint","SubmenuContainer","SubmenuButton","SubmenuIcon","SubmenuLabel","ModalContainer","ModalMessage","ModalButtons","activeTab","setActiveTab","setExpanded","isHovering","setIsHovering","autoCollapseTimer","setAutoCollapseTimer","setActivePanel","activeSubmenu","setActiveSubmenu","showScrollHint","setShowScrollHint","isScrolling","setIsScrolling","showMirrorModal","setShowMirrorModal","sidebarRef","panelRef","handleOpenSidebarForElementCreation","scrollHintTimer","tabs","hasSubmenu","getDefaultSubmenu","tabId","scrollHeight","clientHeight","handlePanelWheel","panelElement","getSubmenus","renderToolPanel","_getSubmenus$find","renderDownloadPanel","_getSubmenus$find2","renderUpdatesPanel","boxShadow","justifyContent","handleDownloadOffline","onMouseEnter","onMouseLeave","handleMouseEnter","handleMouseLeave","timer","toggleSidebar","isCompact","IconComponent","handleTabChange","submenus","submenu","handleSubmenuChange","submenuId","renderSubmenu","renderPanel","ProjectPanel","CharacterPanel","ScenePanel","ScriptPanel","CollaborationPanel","AdvancedConfigPanel","confirmMirrorDownload","SCRIPT_EDITOR_CONFIG","scroll","sensitivity","arrowScrollAmount","pageScrollAmount","spaceScrollAmount","hints","showDelay","hideDelay","animations","fadeInDuration","slideInDuration","pulseDuration","forms","textareaMinHeight","inputPadding","maxElementsToRender","throttleDelay","EditorContainer","ScriptList","isGridMode","ScriptElement","editing","ElementHeader","ElementActions","ElementText","EditForm","FormLabel","FormInput","FormTextarea","FormSelect","FormActions","FormButton","ChoiceInput","ChoiceActions","ChoiceButton","_templateObject39","_templateObject40","BackgroundSelectorContainer","_templateObject41","BackgroundInput","_templateObject42","BackgroundActions","_templateObject43","FileSelectorButton","_templateObject44","BackgroundPreview","_templateObject45","BackgroundOption","_templateObject46","BackgroundImage","_templateObject47","BackgroundName","_templateObject48","NoBackgroundsMessage","_templateObject49","NarrationColorContainer","_templateObject50","NarrationColorInput","_templateObject51","NarrationColorPreview","_templateObject52","NarrationColorLabel","_templateObject53","BackgroundSelector","availableBackgrounds","setAvailableBackgrounds","loading","setLoading","loadBackgrounds","alt","ContextMenuOverlay","_templateObject54","ContextMenuWindow","_templateObject55","ContextMenuHeader","_templateObject56","ContextMenuTitle","_templateObject57","ContextMenuCloseButton","_templateObject58","ContextMenuText","_templateObject59","ContextMenuButtons","_templateObject60","ContextMenuButton","_templateObject61","hoverBorderColor","ContextMenuActions","_templateObject62","ContextMenuActionButton","_templateObject63","ZoomControl","_templateObject64","ZoomHeader","_templateObject65","ZoomTitle","_templateObject66","ZoomCloseButton","_templateObject67","ZoomSliderContainer","_templateObject68","ZoomSlider","_templateObject69","ZoomValue","_templateObject70","ZoomPresets","_templateObject71","ZoomPresetButton","_templateObject72","ZoomToggleButton","_templateObject73","SceneGroupContainer","_templateObject74","SceneGroupHeader","_templateObject75","SceneGroupElements","_templateObject76","editingElement","setEditingElement","editFormData","setEditFormData","showGuide","setShowGuide","contextMenuElement","setContextMenuElement","showZoomControl","setShowZoomControl","zoomLevel","setZoomLevel","setIsGridMode","setColumns","editorRef","formRef","isEditingRef","handleElementClick","handleNavigateToElement","elementIndex","navigateEvent","handleInsertElementAfter","afterElementId","afterElementIndex","handleElementDoubleClick","firstInput","handleCancelEdit","handleSaveEdit","newChoices","handleAddChoice","handleZoomChange","newZoomLevel","shouldUseGrid","newColumns","handleZoomPreset","presetLevel","toggleZoomControl","handleMoveUp","handleMoveDown","positionIcon","handleFormEvent","renderEditForm","onMouseDown","_choice$text","hideTimer","editorElement","scrollTimeout","clearScrollTimeout","setScrollTimeout","handleWheel","scrollAmount","scrollBy","handleScroll","scrollTo","renderScriptEditorGuide","currentElements","elementsGroupedByScenes","groups","currentGroup","SceneGroupComponent","group","onElementClick","onElementDoubleClick","onMoveUp","onMoveDown","onDelete","onRenderContent","onRenderEditForm","ScriptElementItem","isSelected","isEditing","TimelineContainer","TimelineHeader","TimelineTitle","TimelineStats","TimelineContent","TimelineItem","TimelineIcon","TimelineItemContent","TimelineText","TimelineMeta","TimelineTime","TimelineConnector","TimelineFilters","FilterButton","activeFilter","setActiveFilter","getElementIcon","getElementColor","getElementDescription","getElementMeta","allElements","elementStats","dialogue","narration","other","filterTypes","shimmer","PanelTitle","DecisionNode","DecisionHeader","DecisionTitle","DecisionType","DecisionQuestion","ChoicesList","ChoiceText","JumpLabel","exists","ConditionLabel","JumpDetails","JumpDestination","JumpLocation","FilterContainer","StatsContainer","StatNumber","LabelsSection","LabelsTitle","LabelsList","LabelTag","LabelLocation","selectedDecision","setSelectedDecision","setFilter","decisions","allDecisions","labels","allLabels","filteredDecisions","decision","_decision$choices","_decision$choices2","totalDecisions","decisionsWithJumps","_decision$choices3","totalJumps","_decision$choices4","orphanJumps","_decision$choices5","renderDecisionMapGuide","_decision$choices6","handleDecisionClick","choiceIndex","jumpExists","jumpLabel","labelLocation","findLabelLocation","ItemList","ItemCard","ItemInfo","ItemName","ItemDetails","ItemActions","FormContainer","EDITOR_TABS_CONFIG","ScriptEditor","TimelineView","DecisionMapPanel","VariablesPanel","editingItem","setEditingItem","handleAddItem","handleEditItem","handleDeleteItem","renderItemValue","handleSaveItem","itemData","tabGlow","EditorTabs","EditorContent","activeTabConfig","ActiveComponent","TransitionManager","currentTransition","transitionQueue","isTransitioning","applyTransition","actualDuration","executeTransition","nextTransition","classList","removeProperty","getTransitionStyles","injectStyles","MouseIcon","TouchIcon","EmptyPreviewIcon","VideoPreviewIcon","PREVIEW_CONFIG","controls","elementCount","memoryUsage","PreviewContainer","PreviewHeader","PreviewTitle","PreviewControls","ControlButton","playing","PreviewContent","GameScreen","VideoBackground","CharacterSprites","CharacterSprite","CharacterSpriteComponent","loadedSprites","setLoadedSprites","spriteUrl","setSpriteUrl","loadSprite","characterSprites","targetSprite","DialogueBox","DialogueText","NarrationText","PreviewInfo","EmptyPreview","ChoiceQuestion","ChoiceMenu","ChoiceOption","VideoPreview","VideoIcon","VideoInfo","VideoTitle","VideoFile","VideoType","VideoPlayer","VideoContainer","VideoPlayerWithUrl","onPlay","onPause","onEnded","onTimeUpdate","onLoadedMetadata","loop","autoPlay","muted","videoUrl","setVideoUrl","setIsPlaying","videoRef","abortControllerRef","abort","AbortController","signal","aborted","_abortControllerRef$c","loadVideoUrl","play","currentElementIndex","setCurrentElementIndex","currentBackground","setCurrentBackground","visibleCharacters","setVisibleCharacters","setCharacterSprites","isInteractive","setIsInteractive","selectedChoice","setSelectedChoice","videoStates","setVideoStates","currentVideo","setCurrentVideo","memoryInfo","getMemoryInfo","useMemoryMonitor","setMemoryInfo","memory","usedJSHeapSize","totalJSHeapSize","jsHeapSizeLimit","usedMB","totalMB","limitMB","updateMemoryInfo","usagePercent","transitionManager","getPreviewElements","previewElements","updateVisibleCharacters","visibleChars","realIndex","getRealElementIndex","findPreviewIndexForLabel","labelIndex","previewIndex","newBackground","getCurrentBackground","finalBackground","getCurrentElement","previewElementsLength","targetElement","scriptElement","setVideoState","newStates","stateKeys","sortedKeys","timeA","lastAccessed","limitedStates","cleanupVideoStates","cleanedStates","handleVideoPlay","hasEnded","handleVideoPause","handleVideoEnded","currentTime","handleNext","handleVideoTimeUpdate","handleVideoLoadedMetadata","playVideoAutomatically","timeoutId","videoElement","fileUrl","getFileUrl","expectedBackground","videoTimeoutId","paused","cleanupInterval","memInfo","loadedBackgrounds","setLoadedBackgrounds","_loadedSprites$charac","backgroundPaths","backgroundPromises","backgroundMap","getBackgroundImage","backgroundPath","loadedUrl","finalUrl","totalLoadedBackgrounds","renderBackground","backgroundVideo","getBackgroundVideo","control","handlePreviewClick","renderPreviewContent","_currentElement$choic","isCurrentCharacter","backdropFilter","targetPreviewIndex","handleChoiceSelect","objectFit","bottom","maxWidth","outline","boxSizing","onFocus","onBlur","onMouseOver","onMouseOut","pointerEvents","emergencyCleanup","closeBtn","gallery","TabContainer","TabContent","ProjectList","ProjectItem","ProjectName","ProjectMeta","ProjectActions","setProjectName","projectDescription","setProjectDescription","savedProjects","setSavedProjects","handleLoadProject","handleDeleteProject","textShadow","letterSpacing","projectToSave","handleSaveCurrentProject","useTheme","currentTheme","setCurrentTheme","changeTheme","getThemeInfo","getThemeColors","getCSSVariables","isLight","isDark","ThemeContainer","ThemeHeader","ThemeTitle","h1","ThemeContent","ThemeSection","ThemeGrid","ThemeCard","ThemePreview","ThemePreviewContent","PreviewLine","ThemeName","ThemeDescription","BetaLabel","AccessibilityNote","AccessibilityTitle","AccessibilityText","CurrentThemeInfo","CurrentThemeTitle","CurrentThemeText","ApplyButton","selectedTheme","setSelectedTheme","savedSelectedTheme","themes","light","beta","dark","accessibility","custom","handleThemeSelect","handleApplyTheme","IndicatorContainer","StatusDot","UserCount","TooltipContainer","setCursorPositions","syncOperation","newMap","useCollaboration","showTooltip","setShowTooltip","checkCollaborationStatus","handleStorageChange","newValue","userCount","statusText","tooltipText","PreviewIcon","PreviewActiveIcon","ThemeIcon","TOPBAR_BUTTONS_CONFIG","labelConditional","INDICATORS_CONFIG","TopBarContainer","Logo","ProjectVersion","Indicator","ActionButtons","LeftActions","buttonType","PreviewToggle","ThemeButton","onNavigateToFileManager","exporter","showProjectManager","setShowProjectManager","showThemePage","setShowThemePage","togglePreview","buttonActions","navigateToFileManager","errorMessage","CollaborationIndicator","handleOpenThemePage","buttonConfig","buttonText","ProjectManager","ThemePage","InfoIcon","OptionsIcon","HelpIcon","AboutIcon","FLOATING_BUTTONS_CONFIG","tooltip","hasSubMenu","subMenuItems","hasModal","float","modalSlideIn","FloatingButtonsContainer","ButtonWrapper","FloatingButton","SubMenuContainer","SubMenuButton","SubMenuIcon","SubMenuLabel","onMenuClick","onInfoClick","onOptionsClick","onHelpClick","onAboutClick","onNavigateToTemplates","onNavigateToTroubleshooting","onNavigateToBeginnersGuide","onNavigateToResources","onNavigateToProjectStructure","onNavigateToBasicCustomization","onNavigateToTroubleshooting2","onNavigateToGlossary","onNavigateToGuide","activeModal","setActiveModal","showSubMenu","setShowSubMenu","closeModal","colorType","buttonId","_handlers$buttonId","menu","help","about","handleButtonClick","SubMenuIconComponent","itemId","_subMenuHandlers$item","subMenuHandlers","templates","troubleshooting","beginnersGuide","resources","projectStructure","basicCustomization","troubleshooting2","glossary","guide","handleSubMenuClick","InfoContent","NavigationContainer","NavTitle","NavButton","InfoSection","BackToTopButton","showBackToTop","setShowBackToTop","scrollToSection","sectionId","block","modalContent","scrollToTop","OptionsContent","OptionsSection","HelpSection","AboutContent","Version","Description","FeatureGrid","FeatureCard","FeatureIcon","FeatureTitle","FeatureDescription","TechStack","TechTitle","TechList","TechBadge","Credits","CreditsTitle","feature","tech","TemplatesContainer","TemplatesHeader","TemplatesTitle","TemplatesContent","CategoryTabs","CategoryTab","TemplatesGrid","TemplateCard","TemplateHeader","TemplateTitle","TemplateBadge","TemplateDescription","CodePreview","CodeLabel","TemplateActions","TutorialSection","TutorialTitle","TutorialContent","ImportModal","ImportModalContent","ImportModalTitle","ImportModalText","ImportModalActions","_importModal$template","activeCategory","setActiveCategory","importModal","setImportModal","template","renpyExplanation","advanced","examples","specialized","handleImportTemplate","cancelImport","confirmImport","TroubleshootingContainer","TroubleshootingHeader","TroubleshootingTitle","TroubleshootingContent","SearchBox","SearchTitle","SearchInput","ProblemGrid","ProblemCard","ProblemHeader","ProblemTitle","SeverityIndicator","severity","ProblemDescription","SolutionBox","SolutionTitle","SolutionText","CodeExample","WarningBox","WarningTitle","WarningText","ErrorBox","ErrorTitle","ErrorText","InfoBox","searchTerm","setSearchTerm","troubleshootingData","solution","codeExample","syntax","deployment","getCurrentProblems","currentProblems","problem","getSeverityText","GuideContainer","GuideHeader","GuideContent","ProgressContainer","ProgressTitle","ProgressText","ChapterTabs","ChapterTab","ChapterContent","ChapterTitle","StepContainer","StepNumber","StepTitle","StepDescription","TipBox","TipTitle","TipText","NextButton","currentChapter","setCurrentChapter","completedSteps","setCompletedSteps","chapters","introduction","steps","basics","polish","getCurrentChapter","getProgress","totalSteps","chapter","completedCount","round","isStepCompleted","stepId","markStepCompleted","ResourcesContainer","ResourcesHeader","ResourcesTitle","ResourcesContent","ResourceGrid","ResourceCard","ResourceHeader","ResourceTitle","ResourceType","ResourceDescription","ResourceLink","ResourceTags","Tag","QuickAccessGrid","QuickAccessCard","QuickAccessIcon","QuickAccessTitle","GameBanner","GameInfo","GameDeveloper","GamePrice","official","tags","community","tutorials","tools","assets","games","banner","developer","price","getCurrentResources","currentResources","resource","getTypeText","ProjectStructureContainer","ProjectStructureHeader","ProjectStructureTitle","ProjectStructureContent","StructureGrid","StructureCard","StructureHeader","StructureTitle","StructureType","StructureDescription","StructureTags","structureData","getCurrentStructure","currentStructure","BasicCustomizationContainer","BasicCustomizationHeader","BasicCustomizationTitle","BasicCustomizationContent","CustomizationGrid","CustomizationCard","CustomizationHeader","CustomizationTitle","CustomizationType","CustomizationDescription","CustomizationTags","customizationData","styles","getCurrentCustomization","currentCustomization","GlossaryContainer","GlossaryHeader","GlossaryTitle","GlossaryContent","GlossaryGrid","TermCard","TermHeader","TermTitle","TermCategory","TermDefinition","glossaryData","example","tip","python","getCurrentTerms","currentTerms","term","getCategoryText","GuideGrid","GuideCard","GuideCardHeader","GuideCardTitle","GuideCategory","GuideDescription","LinkButton","guideData","links","getCurrentGuides","currentGuides","BackgroundsIcon","GuiIcon","EffectsIcon","MusicIcon","SoundsIcon","points","VoiceIcon","VideosIcon","GeneralIcon","DeleteIcon","SearchIcon","SyncIcon","SelectIcon","StatsIcon","BackIcon","SuccessIcon","_ref17","ErrorIcon","_ref18","LoadingIcon","_ref19","_ref21","ImageIcon","_ref22","AudioIcon","_ref23","VideoFileIcon","_ref24","PageContainer","TopBar","PageTitle","StatsBar","SearchBar","SearchIconWrapper","DebugButton","MainLayout","CategorySidebar","SidebarHeader","SidebarTitle","CategoryList","CategoryItem","CategoryIcon","CategoryInfo","CategoryName","CategoryStats","MainContent","ContentHeader","ContentTitle","ViewControls","ViewToggle","SortSelect","FilesGrid","viewMode","FileIconWrapper","FileOverlay","FileActions","FileInfo","FileDetails","FileTags","FileTag","BottomPanel","UploadSection","UploadArea","UploadText","UploadSubtext","CategorySelector","CharacterFolder","CharacterFolderHeader","CharacterInfo","CharacterIcon","CharacterDetails","CharacterStats","CharacterFilesGrid","CharacterFileCard","CharacterFilePreview","CharacterFileIcon","CharacterFileInfo","CharacterFileName","CharacterFileDetails","CharacterFolderActions","CharacterActionButton","CharacterFileActions","CharacterFileActionButton","BackButton","_stats$categories","_categories$find","_categories$find2","_categories$find3","selectedCategory","setSelectedCategory","setFiles","filesByCharacter","setFilesByCharacter","setViewMode","sortBy","setSortBy","searchQuery","setSearchQuery","selectedFiles","setSelectedFiles","isUploading","setIsUploading","uploadProgress","setUploadProgress","dragOver","setDragOver","deletingFiles","setDeletingFiles","setStats","getCharacterName","loadStats","fileManagerStats","categoryCounts","finalStats","categoryFiles","sortedFiles","localeCompare","newSelection","uploadFiles","validFiles","getFileIcon","marginRight","handleShowSystemStatus","_stats$categories2","handleDeleteCharacterFolder","handleDeleteCharacterSprite","newSet","handleDeleteFile","onDrop","onDragOver","onDragLeave","slideOut","SavedIndicator","SavingIndicator","ErrorIndicator","StatusIcon","StatusText","LastSavedText","showIndicator","setShowIndicator","setLastSaved","updateLastSaved","saveInfo","formatTimeAgo","minutes","hours","renderIndicator","spin","completed","EditorIcon","x1","y1","x2","y2","RocketIcon","ClockIcon","LightbulbIcon","ArrowRightIcon","SettingsIcon","BookIcon","StarIcon","HeartIcon","ShieldIcon","ZapIcon","buttonReady","progressFill","IntroContainer","BackgroundPattern","ContentContainer","LogoContainer","WelcomeTitle","WelcomeSubtitle","ProgressLabel","TipsContainer","TipsTitle","LoadingSteps","LoadingStep","StepIcon","VersionInfo","EnterButton","isReady","ButtonIcon","TIPS","LOADING_STEPS","onComplete","setProgress","currentTip","setCurrentTip","currentStep","setCurrentStep","isComplete","setIsComplete","canEnter","setCanEnter","progressInterval","tipInterval","stepInterval","newStep","AppContainer","showIntro","setShowIntro","showTemplatesPage","setShowTemplatesPage","showTroubleshootingPage","setShowTroubleshootingPage","showBeginnersGuidePage","setShowBeginnersGuidePage","showResourcesPage","setShowResourcesPage","showProjectStructurePage","setShowProjectStructurePage","showBasicCustomizationPage","setShowBasicCustomizationPage","showTroubleshootingPage2","setShowTroubleshootingPage2","showGlossaryPage","setShowGlossaryPage","showGuidePage","setShowGuidePage","showFileManagerPage","setShowFileManagerPage","IntroScreen","handleIntroComplete","TemplatesPage","handleCloseTemplates","TroubleshootingPage","handleCloseTroubleshooting","BeginnersGuidePage","handleCloseBeginnersGuide","ResourcesPage","handleCloseResources","ProjectStructurePage","handleCloseProjectStructure","BasicCustomizationPage","handleCloseBasicCustomization","TroubleshootingPage2","handleCloseTroubleshooting2","GlossaryPage","handleCloseGlossary","GuidePage","handleCloseGuide","FileManagerPage","handleCloseFileManager","handleNavigateToFileManager","Sidebar","MainEditor","PreviewPanel","FloatingButtonsManager","handleNavigateToTemplates","handleNavigateToTroubleshooting","handleNavigateToBeginnersGuide","handleNavigateToResources","handleNavigateToProjectStructure","handleNavigateToBasicCustomization","handleNavigateToTroubleshooting2","handleNavigateToGlossary","handleNavigateToGuide","InfoModalContent","OptionsModalContent","HelpModalContent","AboutModalContent","AutoSaveIndicator","ReactDOM","App"],"sourceRoot":""}